var uM=Object.defineProperty;var n=(t,e)=>uM(t,"name",{value:e,configurable:!0});var fM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{g as Ko,j as N,S as ua,r as K,R as C4,a as R4,T as I4,P as T4,C as Xu,b as P4,X as Wr,O as Qu,c as Ju,D as qu,d as cM,e as hM,f as dM,h as pM,i as O4,k as mM,l as j4,m as gM,L as L4,n as D4,o as B4,p as vM,V as bM,G as yM,q as F4,I as wM,s as Cn,t as xM,u as U4,v as _M,w as z4,x as MM,y as qs,z as SM,A as $4,B as H4,E as Z4,F as V4,H as G4,J as Ar,K as EM,M as AM,N as kM,Q as NM,U as CM,W as RM,Y as IM,Z as TM,_ as PM,$ as W4,a0 as K4,a1 as Y4,a2 as X4,a3 as Q4,a4 as J4,a5 as ii,a6 as OM,a7 as jM,a8 as LM,a9 as q4,aa as DM,ab as ex,ac as Nr,ad as ng,ae as Yo,af as tx,ag as rx,ah as BM,ai as FM,aj as ix,ak as nx,al as UM,am as zM,an as sx,ao as $M,ap as ls,aq as nc,ar as on,as as Ri,at as Uv,au as gs,av as HM,aw as Mn,ax as xr,ay as vr,az as ax,aA as ox,aB as lx,aC as ux,aD as ZM,aE as Zr,aF as ef,aG as VM,aH as GM,aI as WM,aJ as sg,aK as tf,aL as Xa,aM as vs,aN as Rn,aO as zv,aP as KM,aQ as ag,aR as rf,aS as so,aT as YM,aU as $v,aV as XM,aW as fx,aX as QM,aY as cx,aZ as hx,a_ as dx,a$ as px,b0 as mx,b1 as JM,b2 as og,b3 as sm,b4 as gx,b5 as qM,b6 as xu,b7 as vx,b8 as bx,b9 as eS,ba as fa,bb as ea,bc as lg,bd as Xo,be as _u,bf as tS,bg as yx,bh as rS,bi as ug,bj as ao,bk as Kr,bl as iS,bm as nS,bn as _n,bo as sc,bp as sS,bq as Qa,br as Bs,bs as aS,bt as oS,bu as lS,bv as uS,bw as fS,bx as cS,by as hS,bz as dS,bA as pS,bB as mS,bC as wx,bD as xx,bE as gS,bF as vS,bG as Hv,bH as bS,bI as yS,bJ as wS,bK as xS,bL as nf,bM as _S,bN as _x,bO as MS,bP as SS,bQ as ac,bR as Zv,bS as Vv,bT as ES,bU as fg,bV as AS,bW as kS,bX as NS,bY as CS,bZ as RS,b_ as IS,b$ as TS,c0 as PS,c1 as OS,c2 as jS,c3 as LS,c4 as oi,c5 as DS}from"./react-vendor-BZhB15Ka.js";import{r as Un}from"./main-Cxu5WF7C.js";import"./ui-vendor-B7JxFfFk.js";var bH=fM(ig=>{function Mx(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Mx(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}n(Mx,"r");function cg(){for(var t,e,r=0,i="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Mx(t))&&(i&&(i+=" "),i+=e);return i}n(cg,"clsx");const Gv=n(t=>typeof t=="boolean"?`${t}`:t===0?"0":t,"falsyToString"),Wv=cg,mn=n((t,e)=>r=>{var i;if(e?.variants==null)return Wv(t,r?.class,r?.className);const{variants:s,defaultVariants:l}=e,a=Object.keys(s).map(h=>{const d=r?.[h],c=l?.[h];if(d===null)return null;const y=Gv(d)||Gv(c);return s[h][y]}),v=r&&Object.entries(r).reduce((h,d)=>{let[c,y]=d;return y===void 0||(h[c]=y),h},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((h,d)=>{let{class:c,className:y,...b}=d;return Object.entries(b).every(w=>{let[S,C]=w;return Array.isArray(C)?C.includes({...l,...v}[S]):{...l,...v}[S]===C})?[...h,c,y]:h},[]);return Wv(t,a,g,r?.class,r?.className)},"cva"),$s="user",pl="client_chat",Ja="client_group_chat",oo=512;var iu=(t=>(t.REQUIRED="required",t.OPTIONAL="optional",t))(iu||{});const Ts={name:"required",username:"optional",system:"required","settings.voice.model":"optional",bio:"optional",topics:"optional",adjectives:"optional","style.all":"optional","style.chat":"optional","style.post":"optional"};var nu={exports:{}},BS=nu.exports,Kv;function FS(){return Kv||(Kv=1,(function(t,e){(function(r,i){t.exports=i()})(BS,(function(){var r=1e3,i=6e4,s=36e5,l="millisecond",a="second",v="minute",g="hour",h="day",d="week",c="month",y="quarter",b="year",w="date",S="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:n(function(o){var p=["th","st","nd","rd"],x=o%100;return"["+o+(p[(x-20)%10]||p[x]||p[0])+"]"},"ordinal")},P=n(function(o,p,x){var A=String(o);return!A||A.length>=p?o:""+Array(p+1-A.length).join(x)+o},"m"),O={s:P,z:n(function(o){var p=-o.utcOffset(),x=Math.abs(p),A=Math.floor(x/60),k=x%60;return(p<=0?"+":"-")+P(A,2,"0")+":"+P(k,2,"0")},"z"),m:n(function o(p,x){if(p.date()<x.date())return-o(x,p);var A=12*(x.year()-p.year())+(x.month()-p.month()),k=p.clone().add(A,c),M=x-k<0,f=p.clone().add(A+(M?-1:1),c);return+(-(A+(x-k)/(M?k-f:f-k))||0)},"t2"),a:n(function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},"a"),p:n(function(o){return{M:c,y:b,w:d,d:h,D:w,h:g,m:v,s:a,ms:l,Q:y}[o]||String(o||"").toLowerCase().replace(/s$/,"")},"p"),u:n(function(o){return o===void 0},"u")},j="en",B={};B[j]=T;var Z="$isDayjsObject",W=n(function(o){return o instanceof u||!(!o||!o[Z])},"S"),ee=n(function o(p,x,A){var k;if(!p)return j;if(typeof p=="string"){var M=p.toLowerCase();B[M]&&(k=M),x&&(B[M]=x,k=M);var f=p.split("-");if(!k&&f.length>1)return o(f[0])}else{var _=p.name;B[_]=p,k=_}return!A&&k&&(j=k),k||!A&&j},"t2"),$=n(function(o,p){if(W(o))return o.clone();var x=typeof p=="object"?p:{};return x.date=o,x.args=arguments,new u(x)},"O"),U=O;U.l=ee,U.i=W,U.w=function(o,p){return $(o,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var u=(function(){function o(x){this.$L=ee(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[Z]=!0}n(o,"M2");var p=o.prototype;return p.parse=function(x){this.$d=(function(A){var k=A.date,M=A.utc;if(k===null)return new Date(NaN);if(U.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var f=k.match(C);if(f){var _=f[2]-1||0,E=(f[7]||"0").substring(0,3);return M?new Date(Date.UTC(f[1],_,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)):new Date(f[1],_,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)}}return new Date(k)})(x),this.init()},p.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},p.$utils=function(){return U},p.isValid=function(){return this.$d.toString()!==S},p.isSame=function(x,A){var k=$(x);return this.startOf(A)<=k&&k<=this.endOf(A)},p.isAfter=function(x,A){return $(x)<this.startOf(A)},p.isBefore=function(x,A){return this.endOf(A)<$(x)},p.$g=function(x,A,k){return U.u(x)?this[A]:this.set(k,x)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(x,A){var k=this,M=!!U.u(A)||A,f=U.p(x),_=n(function(V,Y){var Me=U.w(k.$u?Date.UTC(k.$y,Y,V):new Date(k.$y,Y,V),k);return M?Me:Me.endOf(h)},"l2"),E=n(function(V,Y){return U.w(k.toDate()[V].apply(k.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(Y)),k)},"$2"),I=this.$W,L=this.$M,D=this.$D,F="set"+(this.$u?"UTC":"");switch(f){case b:return M?_(1,0):_(31,11);case c:return M?_(1,L):_(0,L+1);case d:var z=this.$locale().weekStart||0,H=(I<z?I+7:I)-z;return _(M?D-H:D+(6-H),L);case h:case w:return E(F+"Hours",0);case g:return E(F+"Minutes",1);case v:return E(F+"Seconds",2);case a:return E(F+"Milliseconds",3);default:return this.clone()}},p.endOf=function(x){return this.startOf(x,!1)},p.$set=function(x,A){var k,M=U.p(x),f="set"+(this.$u?"UTC":""),_=(k={},k[h]=f+"Date",k[w]=f+"Date",k[c]=f+"Month",k[b]=f+"FullYear",k[g]=f+"Hours",k[v]=f+"Minutes",k[a]=f+"Seconds",k[l]=f+"Milliseconds",k)[M],E=M===h?this.$D+(A-this.$W):A;if(M===c||M===b){var I=this.clone().set(w,1);I.$d[_](E),I.init(),this.$d=I.set(w,Math.min(this.$D,I.daysInMonth())).$d}else _&&this.$d[_](E);return this.init(),this},p.set=function(x,A){return this.clone().$set(x,A)},p.get=function(x){return this[U.p(x)]()},p.add=function(x,A){var k,M=this;x=Number(x);var f=U.p(A),_=n(function(L){var D=$(M);return U.w(D.date(D.date()+Math.round(L*x)),M)},"y2");if(f===c)return this.set(c,this.$M+x);if(f===b)return this.set(b,this.$y+x);if(f===h)return _(1);if(f===d)return _(7);var E=(k={},k[v]=i,k[g]=s,k[a]=r,k)[f]||1,I=this.$d.getTime()+x*E;return U.w(I,this)},p.subtract=function(x,A){return this.add(-1*x,A)},p.format=function(x){var A=this,k=this.$locale();if(!this.isValid())return k.invalidDate||S;var M=x||"YYYY-MM-DDTHH:mm:ssZ",f=U.z(this),_=this.$H,E=this.$m,I=this.$M,L=k.weekdays,D=k.months,F=k.meridiem,z=n(function(Y,Me,se,ae){return Y&&(Y[Me]||Y(A,M))||se[Me].slice(0,ae)},"h2"),H=n(function(Y){return U.s(_%12||12,Y,"0")},"d2"),V=F||function(Y,Me,se){var ae=Y<12?"AM":"PM";return se?ae.toLowerCase():ae};return M.replace(R,(function(Y,Me){return Me||(function(se){switch(se){case"YY":return String(A.$y).slice(-2);case"YYYY":return U.s(A.$y,4,"0");case"M":return I+1;case"MM":return U.s(I+1,2,"0");case"MMM":return z(k.monthsShort,I,D,3);case"MMMM":return z(D,I);case"D":return A.$D;case"DD":return U.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return z(k.weekdaysMin,A.$W,L,2);case"ddd":return z(k.weekdaysShort,A.$W,L,3);case"dddd":return L[A.$W];case"H":return String(_);case"HH":return U.s(_,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return V(_,E,!0);case"A":return V(_,E,!1);case"m":return String(E);case"mm":return U.s(E,2,"0");case"s":return String(A.$s);case"ss":return U.s(A.$s,2,"0");case"SSS":return U.s(A.$ms,3,"0");case"Z":return f}return null})(Y)||f.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(x,A,k){var M,f=this,_=U.p(A),E=$(x),I=(E.utcOffset()-this.utcOffset())*i,L=this-E,D=n(function(){return U.m(f,E)},"D2");switch(_){case b:M=D()/12;break;case c:M=D();break;case y:M=D()/3;break;case d:M=(L-I)/6048e5;break;case h:M=(L-I)/864e5;break;case g:M=L/s;break;case v:M=L/i;break;case a:M=L/r;break;default:M=L}return k?M:U.a(M)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return B[this.$L]},p.locale=function(x,A){if(!x)return this.$L;var k=this.clone(),M=ee(x,A,!0);return M&&(k.$L=M),k},p.clone=function(){return U.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},o})(),m=u.prototype;return $.prototype=m,[["$ms",l],["$s",a],["$m",v],["$H",g],["$W",h],["$M",c],["$y",b],["$D",w]].forEach((function(o){m[o[1]]=function(p){return this.$g(p,o[0],o[1])}})),$.extend=function(o,p){return o.$i||(o(p,u,$),o.$i=!0),$},$.locale=ee,$.isDayjs=W,$.unix=function(o){return $(1e3*o)},$.en=B[j],$.Ls=B,$.p={},$}))})(nu)),nu.exports}n(FS,"requireDayjs_min");var US=FS();const Sx=Ko(US);var su={exports:{}},zS=su.exports,Yv;function $S(){return Yv||(Yv=1,(function(t,e){(function(r,i){t.exports=i()})(zS,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,l){var a=s.prototype,v=a.format;l.en.formats=r,a.format=function(g){g===void 0&&(g="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,d=(function(c,y){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(b,w,S){var C=S&&S.toUpperCase();return w||y[S]||r[S]||y[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(R,T,P){return T||P.slice(1)}))}))})(g,h===void 0?{}:h);return v.call(this,d)}}}))})(su)),su.exports}n($S,"requireLocalizedFormat");var HS=$S();const ZS=Ko(HS),hg="-",VS=n(t=>{const e=WS(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:n(a=>{const v=a.split(hg);return v[0]===""&&v.length!==1&&v.shift(),Ex(v,e)||GS(a)},"getClassGroupId"),getConflictingClassGroupIds:n((a,v)=>{const g=r[a]||[];return v&&i[a]?[...g,...i[a]]:g},"getConflictingClassGroupIds")}},"createClassGroupUtils"),Ex=n((t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),s=i?Ex(t.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const l=t.join(hg);return e.validators.find(({validator:a})=>a(l))?.classGroupId},"getGroupRecursive"),Xv=/^\[(.+)\]$/,GS=n(t=>{if(Xv.test(t)){const e=Xv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},"getGroupIdForArbitraryProperty"),WS=n(t=>{const{theme:e,prefix:r}=t,i={nextPart:new Map,validators:[]};return YS(Object.entries(t.classGroups),r).forEach(([l,a])=>{am(a,i,l,e)}),i},"createClassMap"),am=n((t,e,r,i)=>{t.forEach(s=>{if(typeof s=="string"){const l=s===""?e:Qv(e,s);l.classGroupId=r;return}if(typeof s=="function"){if(KS(s)){am(s(i),e,r,i);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([l,a])=>{am(a,Qv(e,l),r,i)})})},"processClassesRecursively"),Qv=n((t,e)=>{let r=t;return e.split(hg).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},"getPart"),KS=n(t=>t.isThemeGetter,"isThemeGetter"),YS=n((t,e)=>e?t.map(([r,i])=>{const s=i.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([a,v])=>[e+a,v])):l);return[r,s]}):t,"getPrefixedClassGroupEntries"),XS=n(t=>{if(t<1)return{get:n(()=>{},"get"),set:n(()=>{},"set")};let e=0,r=new Map,i=new Map;const s=n((l,a)=>{r.set(l,a),e++,e>t&&(e=0,i=r,r=new Map)},"update");return{get(l){let a=r.get(l);if(a!==void 0)return a;if((a=i.get(l))!==void 0)return s(l,a),a},set(l,a){r.has(l)?r.set(l,a):s(l,a)}}},"createLruCache"),Ax="!",QS=n(t=>{const{separator:e,experimentalParseClassName:r}=t,i=e.length===1,s=e[0],l=e.length,a=n(v=>{const g=[];let h=0,d=0,c;for(let C=0;C<v.length;C++){let R=v[C];if(h===0){if(R===s&&(i||v.slice(C,C+l)===e)){g.push(v.slice(d,C)),d=C+l;continue}if(R==="/"){c=C;continue}}R==="["?h++:R==="]"&&h--}const y=g.length===0?v:v.substring(d),b=y.startsWith(Ax),w=b?y.substring(1):y,S=c&&c>d?c-d:void 0;return{modifiers:g,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:S}},"parseClassName");return r?v=>r({className:v,parseClassName:a}):a},"createParseClassName"),JS=n(t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(i=>{i[0]==="["?(e.push(...r.sort(),i),r=[]):r.push(i)}),e.push(...r.sort()),e},"sortModifiers"),qS=n(t=>({cache:XS(t.cacheSize),parseClassName:QS(t),...VS(t)}),"createConfigUtils"),eE=/\s+/,tE=n((t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:s}=e,l=[],a=t.trim().split(eE);let v="";for(let g=a.length-1;g>=0;g-=1){const h=a[g],{modifiers:d,hasImportantModifier:c,baseClassName:y,maybePostfixModifierPosition:b}=r(h);let w=!!b,S=i(w?y.substring(0,b):y);if(!S){if(!w){v=h+(v.length>0?" "+v:v);continue}if(S=i(y),!S){v=h+(v.length>0?" "+v:v);continue}w=!1}const C=JS(d).join(":"),R=c?C+Ax:C,T=R+S;if(l.includes(T))continue;l.push(T);const P=s(S,w);for(let O=0;O<P.length;++O){const j=P[O];l.push(R+j)}v=h+(v.length>0?" "+v:v)}return v},"mergeClassList");function rE(){let t=0,e,r,i="";for(;t<arguments.length;)(e=arguments[t++])&&(r=kx(e))&&(i&&(i+=" "),i+=r);return i}n(rE,"twJoin");const kx=n(t=>{if(typeof t=="string")return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=kx(t[i]))&&(r&&(r+=" "),r+=e);return r},"toValue");function iE(t,...e){let r,i,s,l=a;function a(g){const h=e.reduce((d,c)=>c(d),t());return r=qS(h),i=r.cache.get,s=r.cache.set,l=v,v(g)}n(a,"initTailwindMerge");function v(g){const h=i(g);if(h)return h;const d=tE(g,r);return s(g,d),d}return n(v,"tailwindMerge"),n(function(){return l(rE.apply(null,arguments))},"callTailwindMerge")}n(iE,"createTailwindMerge");const tr=n(t=>{const e=n(r=>r[t]||[],"themeGetter");return e.isThemeGetter=!0,e},"fromTheme"),Nx=/^\[(?:([a-z-]+):)?(.+)\]$/i,nE=/^\d+\/\d+$/,sE=new Set(["px","full","screen"]),aE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=n(t=>Ws(t)||sE.has(t)||nE.test(t),"isLength"),vn=n(t=>ca(t,"length",bE),"isArbitraryLength"),Ws=n(t=>!!t&&!Number.isNaN(Number(t)),"isNumber"),oc=n(t=>ca(t,"number",Ws),"isArbitraryNumber"),_a=n(t=>!!t&&Number.isInteger(Number(t)),"isInteger"),cE=n(t=>t.endsWith("%")&&Ws(t.slice(0,-1)),"isPercent"),Ct=n(t=>Nx.test(t),"isArbitraryValue"),bn=n(t=>aE.test(t),"isTshirtSize"),hE=new Set(["length","size","percentage"]),dE=n(t=>ca(t,hE,Cx),"isArbitrarySize"),pE=n(t=>ca(t,"position",Cx),"isArbitraryPosition"),mE=new Set(["image","url"]),gE=n(t=>ca(t,mE,wE),"isArbitraryImage"),vE=n(t=>ca(t,"",yE),"isArbitraryShadow"),Ma=n(()=>!0,"isAny"),ca=n((t,e,r)=>{const i=Nx.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):r(i[2]):!1},"getIsArbitraryValue"),bE=n(t=>oE.test(t)&&!lE.test(t),"isLengthOnly"),Cx=n(()=>!1,"isNever"),yE=n(t=>uE.test(t),"isShadow"),wE=n(t=>fE.test(t),"isImage"),xE=n(()=>{const t=tr("colors"),e=tr("spacing"),r=tr("blur"),i=tr("brightness"),s=tr("borderColor"),l=tr("borderRadius"),a=tr("borderSpacing"),v=tr("borderWidth"),g=tr("contrast"),h=tr("grayscale"),d=tr("hueRotate"),c=tr("invert"),y=tr("gap"),b=tr("gradientColorStops"),w=tr("gradientColorStopPositions"),S=tr("inset"),C=tr("margin"),R=tr("opacity"),T=tr("padding"),P=tr("saturate"),O=tr("scale"),j=tr("sepia"),B=tr("skew"),Z=tr("space"),W=tr("translate"),ee=n(()=>["auto","contain","none"],"getOverscroll"),$=n(()=>["auto","hidden","clip","visible","scroll"],"getOverflow"),U=n(()=>["auto",Ct,e],"getSpacingWithAutoAndArbitrary"),u=n(()=>[Ct,e],"getSpacingWithArbitrary"),m=n(()=>["",Wi,vn],"getLengthWithEmptyAndArbitrary"),o=n(()=>["auto",Ws,Ct],"getNumberWithAutoAndArbitrary"),p=n(()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],"getPositions"),x=n(()=>["solid","dashed","dotted","double","none"],"getLineStyles"),A=n(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"getBlendModes"),k=n(()=>["start","end","center","between","around","evenly","stretch"],"getAlign"),M=n(()=>["","0",Ct],"getZeroAndEmpty"),f=n(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"getBreaks"),_=n(()=>[Ws,Ct],"getNumberAndArbitrary");return{cacheSize:500,separator:":",theme:{colors:[Ma],spacing:[Wi,vn],blur:["none","",bn,Ct],brightness:_(),borderColor:[t],borderRadius:["none","","full",bn,Ct],borderSpacing:u(),borderWidth:m(),contrast:_(),grayscale:M(),hueRotate:_(),invert:M(),gap:u(),gradientColorStops:[t],gradientColorStopPositions:[cE,vn],inset:U(),margin:U(),opacity:_(),padding:u(),saturate:_(),scale:_(),sepia:M(),skew:_(),space:u(),translate:u()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":f()}],"break-before":[{"break-before":f()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...p(),Ct]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:ee()}],"overscroll-x":[{"overscroll-x":ee()}],"overscroll-y":[{"overscroll-y":ee()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_a,Ct]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",_a,Ct]}],"grid-cols":[{"grid-cols":[Ma]}],"col-start-end":[{col:["auto",{span:["full",_a,Ct]},Ct]}],"col-start":[{"col-start":o()}],"col-end":[{"col-end":o()}],"grid-rows":[{"grid-rows":[Ma]}],"row-start-end":[{row:["auto",{span:[_a,Ct]},Ct]}],"row-start":[{"row-start":o()}],"row-end":[{"row-end":o()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,e]}],"min-w":[{"min-w":[Ct,e,"min","max","fit"]}],"max-w":[{"max-w":[Ct,e,"none","full","min","max","fit","prose",{screen:[bn]},bn]}],h:[{h:[Ct,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bn,vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oc]}],"font-family":[{font:[Ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",Ws,oc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...x(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,vn]}],"underline-offset":[{"underline-offset":["auto",Wi,Ct]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:u()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...p(),pE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[v]}],"border-w-x":[{"border-x":[v]}],"border-w-y":[{"border-y":[v]}],"border-w-s":[{"border-s":[v]}],"border-w-e":[{"border-e":[v]}],"border-w-t":[{"border-t":[v]}],"border-w-r":[{"border-r":[v]}],"border-w-b":[{"border-b":[v]}],"border-w-l":[{"border-l":[v]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...x(),"hidden"]}],"divide-x":[{"divide-x":[v]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[v]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:x()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...x()]}],"outline-offset":[{"outline-offset":[Wi,Ct]}],"outline-w":[{outline:[Wi,vn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:m()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Wi,vn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bn,vE]}],"shadow-color":[{shadow:[Ma]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",bn,Ct]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[c]}],saturate:[{saturate:[P]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[_a,Ct]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":u()}],"scroll-mx":[{"scroll-mx":u()}],"scroll-my":[{"scroll-my":u()}],"scroll-ms":[{"scroll-ms":u()}],"scroll-me":[{"scroll-me":u()}],"scroll-mt":[{"scroll-mt":u()}],"scroll-mr":[{"scroll-mr":u()}],"scroll-mb":[{"scroll-mb":u()}],"scroll-ml":[{"scroll-ml":u()}],"scroll-p":[{"scroll-p":u()}],"scroll-px":[{"scroll-px":u()}],"scroll-py":[{"scroll-py":u()}],"scroll-ps":[{"scroll-ps":u()}],"scroll-pe":[{"scroll-pe":u()}],"scroll-pt":[{"scroll-pt":u()}],"scroll-pr":[{"scroll-pr":u()}],"scroll-pb":[{"scroll-pb":u()}],"scroll-pl":[{"scroll-pl":u()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wi,vn,oc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},"getDefaultConfig"),_E=iE(xE);function Ve(...t){return _E(cg(t))}n(Ve,"cn");Sx.extend(ZS);const us=Sx,bs=n(t=>t.substring(0,2),"formatAgentName");function cn(){return URL.createObjectURL(new Blob).split("/").pop()}n(cn,"randomUUID");function ys(){const t="elizaos-client-user-id",e=localStorage.getItem(t);if(e)return e;const r=cn();return localStorage.setItem(t,r),r}n(ys,"getEntityId");const Rx=n((t,e=oo,r=.8)=>new Promise((i,s)=>{const l=new FileReader;l.onload=a=>{if(a.target?.result){const v=new Image;v.src=a.target.result,v.onload=()=>{const g=document.createElement("canvas");let h=v.width,d=v.height;h>d?h>e&&(d*=e/h,h=e):d>e&&(h*=e/d,d=e),g.width=h,g.height=d,g.getContext("2d")?.drawImage(v,0,0,h,d);const y=g.toDataURL("image/jpeg",r);i(y)},v.onerror=s}},l.onerror=s,l.readAsDataURL(t)}),"compressImage"),Jv=["/images/agents/agent1.png","/images/agents/agent2.png","/images/agents/agent3.png","/images/agents/agent4.png","/images/agents/agent5.png"],lo=n(t=>{if(t?.settings?.avatar)return t.settings.avatar;if(t?.id){let e=0;for(let i=0;i<t.id.length;i++){const s=t.id.charCodeAt(i);e=(e<<5)-e+s,e|=0}const r=Math.abs(e)%Jv.length;return Jv[r]}return"/elizaos-icon.png"},"getAgentAvatar"),dg=n((t,e,r)=>{if(t?.name&&t.name.trim()!=="")return t.name;if(e&&e.length>0){const i=e.filter(s=>s.id!==r&&s.name);if(i.length===0&&e.some(s=>s.id===r&&s.name)){const s=e.find(l=>l.id===r);return s&&s.name||"Unnamed Group"}if(i.length>0)return i.map(s=>s.name).slice(0,3).join(", ")+(i.length>3?"...":"")}return"Unnamed Group"},"generateGroupName"),pg=mn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-red-800 text-white shadow-xs hover:bg-red-600 focus-visible:ring-red-400/20 dark:focus-visible:ring-red-500",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-auto w-auto"}},defaultVariants:{variant:"default",size:"default"}});function qe({className:t,variant:e,size:r,asChild:i=!1,...s}){const l=i?ua:"button";return N.jsx(l,{"data-slot":"button",className:Ve(pg({variant:e,size:r,className:t})),...s})}n(qe,"Button");const cr=K.forwardRef(({className:t,type:e,...r},i)=>N.jsx("input",{type:e,className:Ve("flex h-12 w-full rounded border border-input bg-card px-4 py-3 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,"data-testid":r["data-testid"]||"input",...r}));cr.displayName="Input";const Yr=K.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...i},s)=>N.jsx(C4,{ref:s,decorative:r,orientation:e,className:Ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),"data-testid":i["data-testid"]||"separator",...i}));Yr.displayName=C4.displayName;const Ix=R4,ME=I4,SE=T4,Tx=K.forwardRef(({className:t,...e},r)=>N.jsx(Qu,{className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Tx.displayName=Qu.displayName;const EE=mn("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),mg=K.forwardRef(({side:t="right",className:e,children:r,...i},s)=>N.jsxs(SE,{children:[N.jsx(Tx,{}),N.jsxs(Xu,{ref:s,className:Ve(EE({side:t}),e),...i,children:[N.jsxs(P4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[N.jsx(Wr,{className:"h-4 w-4"}),N.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));mg.displayName=Xu.displayName;const AE=K.forwardRef(({className:t,...e},r)=>N.jsx(Ju,{ref:r,className:Ve("text-lg font-semibold text-foreground",t),...e}));AE.displayName=Ju.displayName;const kE=K.forwardRef(({className:t,...e},r)=>N.jsx(qu,{ref:r,className:Ve("text-sm text-muted-foreground",t),...e}));kE.displayName=qu.displayName;function uo({className:t,...e}){return N.jsx("div",{className:Ve("animate-pulse rounded-md bg-primary/10",t),"data-testid":e["data-testid"]||"skeleton",...e})}n(uo,"Skeleton");const Ks=cM,ur=hM,fr=dM,or=K.forwardRef(({className:t,sideOffset:e=4,...r},i)=>N.jsx(pM,{children:N.jsx(O4,{ref:i,sideOffset:e,className:Ve("z-50 overflow-hidden select-none rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));or.displayName=O4.displayName;const lc=768;function NE(){const[t,e]=K.useState(void 0);return K.useEffect(()=>{const r=window.matchMedia(`(max-width: ${lc-1}px)`),i=n(()=>{e(window.innerWidth<lc)},"onChange");return r.addEventListener("change",i),e(window.innerWidth<lc),()=>r.removeEventListener("change",i)},[]),!!t}n(NE,"useIsMobile");const CE="sidebar:state",RE=3600*24*7,IE="16rem",TE="18rem",PE="3rem",OE="b",Px=K.createContext(null);function sf(){const t=K.useContext(Px);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}n(sf,"useSidebar");const Ox=K.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:i,style:s,children:l,...a},v)=>{const g=NE(),[h,d]=K.useState(!1),[c,y]=K.useState(t),b=e??c,w=K.useCallback(T=>{const P=typeof T=="function"?T(b):T;r?r(P):y(P),document.cookie=`${CE}=${P}; path=/; max-age=${RE}`},[r,b]),S=K.useCallback(()=>g?d(T=>!T):w(T=>!T),[g,w,d]);K.useEffect(()=>{const T=n(P=>{P.key===OE&&(P.metaKey||P.ctrlKey)&&(P.preventDefault(),S())},"handleKeyDown");return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[S]);const C=b?"expanded":"collapsed",R=K.useMemo(()=>({state:C,open:b,setOpen:w,isMobile:g,openMobile:h,setOpenMobile:d,toggleSidebar:S}),[C,b,w,g,h,d,S]);return N.jsx(Px.Provider,{value:R,children:N.jsx(Ks,{delayDuration:0,children:N.jsx("div",{style:{"--sidebar-width":IE,"--sidebar-width-icon":PE,...s},className:Ve("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-card",i),ref:v,...a,children:l})})})});Ox.displayName="SidebarProvider";const jx=K.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:i,children:s,...l},a)=>{const{isMobile:v,state:g,openMobile:h,setOpenMobile:d}=sf();return r==="none"?N.jsx("div",{className:Ve("flex h-full w-[--sidebar-width] flex-col bg-card text-sidebar-foreground",i),ref:a,...l,children:s}):v?N.jsx(Ix,{open:h,onOpenChange:d,...l,children:N.jsx(mg,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-card p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":TE},side:t,children:N.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):N.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":g,"data-collapsible":g==="collapsed"?r:"","data-variant":e,"data-side":t,children:[N.jsx("div",{className:Ve("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),N.jsx("div",{className:Ve("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...l,children:N.jsx("div",{"data-sidebar":"sidebar",className:"flex m-4 rounded-md w-full flex-col group-data-[variant=floating]:rounded-md group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});jx.displayName="Sidebar";const jE=K.forwardRef(({className:t,onClick:e,...r},i)=>{const{toggleSidebar:s}=sf();return N.jsxs(qe,{ref:i,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ve("h-7 w-7",t),onClick:n(l=>{e?.(l),s()},"onClick"),"data-testid":"sidebar-toggle",...r,children:[N.jsx(mM,{}),N.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});jE.displayName="SidebarTrigger";const LE=K.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:i}=sf();return N.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:Ve("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-card-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-card","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});LE.displayName="SidebarRail";const Lx=K.forwardRef(({className:t,...e},r)=>N.jsx("main",{ref:r,className:Ve("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Lx.displayName="SidebarInset";const DE=K.forwardRef(({className:t,...e},r)=>N.jsx(cr,{ref:r,"data-sidebar":"input",className:Ve("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));DE.displayName="SidebarInput";const Dx=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"header",className:Ve("flex flex-col gap-2 p-2",t),...e}));Dx.displayName="SidebarHeader";const Bx=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"footer",className:Ve("flex flex-col gap-2 p-2",t),...e}));Bx.displayName="SidebarFooter";const BE=K.forwardRef(({className:t,...e},r)=>N.jsx(Yr,{ref:r,"data-sidebar":"separator",className:Ve("mx-2 w-auto bg-card-border",t),...e}));BE.displayName="SidebarSeparator";const Fx=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"content",className:Ve("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto overflow-x-hidden group-data-[collapsible=icon]:overflow-hidden",t),...e}));Fx.displayName="SidebarContent";const af=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"group",className:Ve("relative flex w-full min-w-0 flex-col p-0.5",t),...e}));af.displayName="SidebarGroup";const FE=K.forwardRef(({className:t,asChild:e=!1,...r},i)=>{const s=e?ua:"div";return N.jsx(s,{ref:i,"data-sidebar":"group-label",className:Ve("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});FE.displayName="SidebarGroupLabel";const UE=K.forwardRef(({className:t,asChild:e=!1,...r},i)=>{const s=e?ua:"button";return N.jsx(s,{ref:i,"data-sidebar":"group-action",className:Ve("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});UE.displayName="SidebarGroupAction";const of=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"group-content",className:Ve("w-full text-sm p-0 m-0",t),...e}));of.displayName="SidebarGroupContent";const fs=K.forwardRef(({className:t,...e},r)=>N.jsx("ul",{ref:r,"data-sidebar":"menu",className:Ve("flex w-full min-w-0 flex-col gap-0.5",t),...e}));fs.displayName="SidebarMenu";const yi=K.forwardRef(({className:t,...e},r)=>N.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Ve("group/menu-item relative",t),...e}));yi.displayName="SidebarMenuItem";const zE=mn("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ws=K.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:i="default",tooltip:s,className:l,...a},v)=>{const g=t?ua:"button",{isMobile:h,state:d}=sf(),c=N.jsx(g,{ref:v,"data-sidebar":"menu-button","data-size":i,"data-active":e,className:Ve(zE({variant:r,size:i}),l),...a});return s?(typeof s=="string"&&(s={children:s}),N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:c}),N.jsx(or,{side:"right",align:"center",hidden:d!=="collapsed"||h,...s})]})):c});ws.displayName="SidebarMenuButton";const $E=K.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...i},s)=>{const l=e?ua:"button";return N.jsx(l,{ref:s,"data-sidebar":"menu-action",className:Ve("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...i})});$E.displayName="SidebarMenuAction";const HE=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Ve("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));HE.displayName="SidebarMenuBadge";const lf=K.forwardRef(({className:t,showIcon:e=!1,...r},i)=>{const s=K.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return N.jsxs("div",{ref:i,"data-sidebar":"menu-skeleton",className:Ve("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[e&&N.jsx(uo,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),N.jsx(uo,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});lf.displayName="SidebarMenuSkeleton";const ZE=K.forwardRef(({className:t,...e},r)=>N.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Ve("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));ZE.displayName="SidebarMenuSub";const VE=K.forwardRef(({...t},e)=>N.jsx("li",{ref:e,...t}));VE.displayName="SidebarMenuSubItem";const GE=K.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:i,...s},l)=>{const a=t?ua:"a";return N.jsx(a,{ref:l,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:Ve("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-card-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-card-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",i),...s})});GE.displayName="SidebarMenuSubButton";const WE=mn("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function di({className:t,variant:e,...r}){return N.jsx("div",{className:Ve(WE({variant:e}),t),"data-testid":r["data-testid"]||"badge",...r})}n(di,"Badge");const KE=mn("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ys=K.forwardRef(({className:t,...e},r)=>N.jsx(j4,{ref:r,className:Ve(KE(),t),...e}));Ys.displayName=j4.displayName;const YE=n(({tag:t,onRemove:e})=>N.jsxs(di,{variant:"outline",className:"flex items-center gap-1.5 pr-1.5 text-sm py-1 px-2 transition-colors hover:bg-accent hover:text-accent-foreground",children:[t,N.jsxs(qe,{type:"button",variant:"ghost",size:"icon",onClick:n(()=>e(t),"onClick"),className:"hover:bg-accent/20 rounded-full p-0.5 transition-colors h-auto w-auto min-w-0 min-h-0",children:[N.jsx(Wr,{className:"h-3 w-3"}),N.jsxs("span",{className:"sr-only",children:["Remove ",t]})]})]}),"Tag"),XE=n(({tags:t,onRemove:e})=>N.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(r=>N.jsx(YE,{tag:r,onRemove:e},r))}),"TagList"),QE=n(({value:t,onChange:e,onKeyDown:r,onAdd:i})=>N.jsxs("div",{className:"relative",children:[N.jsx(cr,{value:t,onChange:e,onKeyDown:r,placeholder:"Type and press Enter or click Add...",className:Ve("bg-background pr-16",!t&&"text-muted-foreground")}),t.trim()&&N.jsx(qe,{size:"sm",onClick:i,className:"absolute top-1/2 -translate-y-1/2 right-2 h-7 px-3",children:"Add"})]}),"TagInput");function JE({title:t,data:e,onChange:r}){const[i,s]=K.useState(""),l=n(()=>{const g=i.trim();g&&!e.includes(g)&&(r([...e,g]),s(""))},"addTag"),a=n(g=>{g.key==="Enter"&&(g.preventDefault(),l())},"handleKeyDown"),v=n(g=>{r(e.filter(h=>h!==g))},"removeTag");return N.jsxs("div",{className:"space-y-2",children:[N.jsx(Ys,{children:t}),N.jsxs("div",{className:"p-2 bg-card rounded border border-input",children:[N.jsx(XE,{tags:e,onRemove:v}),N.jsx(QE,{value:i,onChange:n(g=>s(g.target.value),"onChange"),onKeyDown:a,onAdd:l})]})]})}n(JE,"ArrayInput");const gg=gM,uf=K.forwardRef(({className:t,...e},r)=>N.jsx(L4,{ref:r,className:Ve("inline-flex items-center bg-transparent border-b border-sidebar-border w-full",t),...e}));uf.displayName=L4.displayName;const fo=K.forwardRef(({className:t,...e},r)=>N.jsx(D4,{ref:r,className:Ve("inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-muted-foreground bg-transparent transition-all hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-b-primary relative",t),...e}));fo.displayName=D4.displayName;const Ii=K.forwardRef(({className:t,...e},r)=>N.jsx(B4,{ref:r,className:Ve("text-foreground ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ii.displayName=B4.displayName;const Qo=K.forwardRef(({className:t,...e},r)=>N.jsx("textarea",{className:Ve("flex min-h-[120px] w-full rounded border border-input bg-card px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,"data-testid":e["data-testid"]||"textarea",...e}));Qo.displayName="Textarea";const qE=1,eA=3e3;let uc=0;function tA(){return uc=(uc+1)%Number.MAX_SAFE_INTEGER,uc.toString()}n(tA,"genId");const fc=new Map,qv=n(t=>{if(fc.has(t))return;const e=setTimeout(()=>{fc.delete(t),ro({type:"REMOVE_TOAST",toastId:t})},eA);fc.set(t,e)},"addToRemoveQueue"),rA=n((t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,qE)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;if(r)qv(r);else for(const i of t.toasts)qv(i.id);return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},"reducer"),au=[];let ou={toasts:[]};function ro(t){ou=rA(ou,t);for(const e of au)e(ou)}n(ro,"dispatch");function iA({...t}){const e=tA(),r=n(s=>ro({type:"UPDATE_TOAST",toast:{...s,id:e}}),"update"),i=n(()=>ro({type:"DISMISS_TOAST",toastId:e}),"dismiss");return ro({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n(s=>{s||i()},"onOpenChange")}}),{id:e,dismiss:i,update:r}}n(iA,"toast");function er(){const[t,e]=K.useState(ou);return K.useEffect(()=>(au.push(e),()=>{const r=au.indexOf(e);r>-1&&au.splice(r,1)}),[]),{...t,toast:iA,dismiss:n(r=>ro({type:"DISMISS_TOAST",toastId:r}),"dismiss")}}n(er,"useToast");function nA(t){return t.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}n(nA,"sanitizeFilename");function sA(t){const e={id:t.id,name:t.name,username:t.username,system:t.system,templates:t.templates,bio:t.bio,messageExamples:t.messageExamples,postExamples:t.postExamples,topics:t.topics,adjectives:t.adjectives,knowledge:t.knowledge,plugins:t.plugins,settings:t.settings?{...t.settings}:void 0,style:t.style};if(e.settings&&"secrets"in e.settings){const{secrets:r,...i}=e.settings;e.settings=i}return Object.fromEntries(Object.entries(e).filter(([r,i])=>i!=null))}n(sA,"agentToCharacterData");function aA(t){const e=new Date().toISOString().split("T")[0];return`${nA(t||"agent")}-${e}.json`}n(aA,"generateExportFilename");function oA(t,e){const r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}n(oA,"downloadJsonFile");function vg(t,e){try{const r=sA(t),i=aA(t.name);return oA(r,i),e&&e({title:"Character Exported",description:`${t.name}'s character data has been downloaded as ${i}`}),{success:!0,filename:i}}catch(r){return console.error("Failed to export character:",r),e&&e({title:"Export Failed",description:"Failed to export character data. Please try again.",variant:"destructive"}),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}n(vg,"exportCharacterAsJson");const cs=vM,cc=yM,hs=bM,En=K.forwardRef(({className:t,children:e,...r},i)=>N.jsxs(F4,{ref:i,className:Ve("flex h-12 w-full items-center justify-between whitespace-nowrap rounded border border-input bg-card px-4 py-3 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,N.jsx(wM,{asChild:!0,children:N.jsx(Cn,{className:"h-4 w-4 opacity-50"})})]}));En.displayName=F4.displayName;const Ux=K.forwardRef(({className:t,...e},r)=>N.jsx(Z4,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:N.jsx(V4,{className:"h-4 w-4"})}));Ux.displayName=Z4.displayName;const zx=K.forwardRef(({className:t,...e},r)=>N.jsx(G4,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:N.jsx(Cn,{className:"h-4 w-4"})}));zx.displayName=G4.displayName;const An=K.forwardRef(({className:t,children:e,position:r="popper",...i},s)=>N.jsx(xM,{children:N.jsxs(U4,{ref:s,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-input bg-card text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...i,children:[N.jsx(Ux,{}),N.jsx(_M,{className:Ve("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),N.jsx(zx,{})]})}));An.displayName=U4.displayName;const om=K.forwardRef(({className:t,...e},r)=>N.jsx(H4,{ref:r,className:Ve("px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",t),...e}));om.displayName=H4.displayName;const Jt=K.forwardRef(({className:t,children:e,...r},i)=>N.jsxs(z4,{ref:i,className:Ve("relative flex w-full cursor-default select-none items-center rounded py-3 pl-4 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[N.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:N.jsx(MM,{children:N.jsx(qs,{className:"h-4 w-4"})})}),N.jsx(SM,{children:e})]}));Jt.displayName=z4.displayName;const lm=K.forwardRef(({className:t,...e},r)=>N.jsx($4,{ref:r,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));lm.displayName=$4.displayName;const $x={elevenlabs:"@elizaos/plugin-elevenlabs",openai:"@elizaos/plugin-openai",none:""},lA=[{value:"none",label:"No Voice",provider:"none"}],uA=[],bg=[{value:"EXAVITQu4vr4xnSDxMaL",label:"ElevenLabs - Rachel (Default)",provider:"elevenlabs",gender:"female",language:"en",features:["natural","professional"]},{value:"21m00Tcm4TlvDq8ikWAM",label:"ElevenLabs - Adam",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]},{value:"AZnzlk1XvdvUeBnXmlld",label:"ElevenLabs - Domi",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"MF3mGyEYCl7XYWbV9V6O",label:"ElevenLabs - Elli",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"TxGEqnHWrfWFTfGW9XjX",label:"ElevenLabs - Josh",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]}],Hx=[{value:"alloy",label:"OpenAI - Alloy",provider:"openai",gender:"female",language:"en",features:["natural","versatile"]},{value:"echo",label:"OpenAI - Echo",provider:"openai",gender:"male",language:"en",features:["natural","professional"]},{value:"fable",label:"OpenAI - Fable",provider:"openai",gender:"male",language:"en",features:["natural","narrative"]},{value:"onyx",label:"OpenAI - Onyx",provider:"openai",gender:"male",language:"en",features:["natural","deep"]},{value:"nova",label:"OpenAI - Nova",provider:"openai",gender:"female",language:"en",features:["natural","friendly"]},{value:"shimmer",label:"OpenAI - Shimmer",provider:"openai",gender:"female",language:"en",features:["natural","bright"]},{value:"ash",label:"OpenAI - Ash",provider:"openai",gender:"male",language:"en",features:["natural","calm"]},{value:"coral",label:"OpenAI - Coral",provider:"openai",gender:"female",language:"en",features:["natural","warm"]},{value:"sage",label:"OpenAI - Sage",provider:"openai",gender:"female",language:"en",features:["natural","wise"]},{value:"ballad",label:"OpenAI - Ballad",provider:"openai",gender:"male",language:"en",features:["natural","melodic"]}],Zx=n(()=>[...lA,...uA,...bg,...Hx],"getAllVoiceModels"),um=n(t=>Zx().find(e=>e.value===t),"getVoiceModelByValue");function fA(){const[t,e]=K.useState(null);return K.useEffect(()=>{const r=localStorage.getItem("ELEVENLABS_API_KEY");e(r)},[]),Ar({queryKey:["elevenlabs-voices",t],queryFn:n(async()=>{if(!t)return[];try{const r=await fetch("https://api.elevenlabs.io/v2/voices",{method:"GET",headers:{"xi-api-key":t}});if(!r.ok)return console.error("Failed to fetch ElevenLabs voices:",r.statusText),[];const i=await r.json(),s=bg.map(v=>v.value);return i.voices.filter(v=>!s.includes(v.voice_id)).map(v=>({value:v.voice_id,label:`ElevenLabs - ${v.name} (Custom)`,provider:"elevenlabs",gender:v.labels?.gender==="female"?"female":"male",language:"en",features:[v.category||"professional",v.labels?.description||"natural"]}))}catch(r){return console.error("Error fetching ElevenLabs voices:",r),[]}},"queryFn"),staleTime:3600*1e3,refetchOnWindowFocus:!1})}n(fA,"useElevenLabsVoices");function co({...t}){return N.jsx(EM,{"data-slot":"dropdown-menu",...t})}n(co,"DropdownMenu");function ho({...t}){return N.jsx(AM,{"data-slot":"dropdown-menu-trigger",...t})}n(ho,"DropdownMenuTrigger");function po({className:t,sideOffset:e=4,onPointerDown:r,onPointerDownOutside:i,onCloseAutoFocus:s,...l}){const a=K.useRef(!1),v=K.useCallback(d=>{a.current=!0,r?.(d)},[r]),g=K.useCallback(d=>{a.current=!0,i?.(d)},[i]),h=K.useCallback(d=>{if(s)return s(d);a.current&&(d.preventDefault(),a.current=!1)},[s]);return N.jsx(kM,{children:N.jsx(NM,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border p-1 shadow-lg",t),onPointerDown:v,onPointerDownOutside:g,onCloseAutoFocus:h,...l})})}n(po,"DropdownMenuContent");function Ti({className:t,inset:e,variant:r="default",...i}){return N.jsx(CM,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground data-[variant=destructive]:font-normal relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm font-medium outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",t),...i})}n(Ti,"DropdownMenuItem");function cA({className:t,inset:e,...r}){return N.jsx(IM,{"data-slot":"dropdown-menu-label","data-inset":e,className:Ve("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8",t),...r})}n(cA,"DropdownMenuLabel");function Mu({className:t,...e}){return N.jsx(RM,{"data-slot":"dropdown-menu-separator",className:Ve("bg-border -mx-1 my-1 h-px",t),...e})}n(Mu,"DropdownMenuSeparator");const Vx=[{id:"none",label:"None (Start Blank)",description:"Start with an empty configuration",template:{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}}},{id:"discord-bot",label:"Discord Bot",description:"Interactive Discord bot that handles server interactions",template:{name:"Discord Assistant",username:"discordbot",system:"You are a Discord bot designed to assist users in a Discord server. You respond to messages, handle commands, and provide helpful information to community members. You should be friendly, helpful, and maintain a consistent personality. Focus on providing value to the community through clear, concise responses.",bio:["Helpful Discord community assistant","Responds to commands and natural language queries","Assists with server-specific information and resources","Maintains a friendly and helpful tone"],topics:["Discord server","Community assistance","Command handling","Server information"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-discord"],style:{all:["Be friendly and helpful","Use clear, concise language","Follow Discord conventions"],chat:["Respond promptly to queries","Use appropriate formatting for clarity","Reference relevant commands when helpful"],post:["Structure longer responses with clear sections","Use embeds for rich content when appropriate"]},settings:{secrets:{}}}},{id:"telegram-bot",label:"Telegram Bot",description:"Interactive bot for Telegram channels and groups",template:{name:"Telegram Assistant",username:"telegrambot",system:"You are a helpful Telegram bot designed to assist users in channels and groups. You respond to commands and natural language queries, providing information, assistance, and engaging with users in a friendly manner. You can handle both one-on-one conversations and group interactions, adapting your tone and content accordingly while respecting privacy and community guidelines.",bio:["Interactive Telegram bot","Assists users in channels and groups","Responds to commands and natural language"],topics:["Channel information","User assistance","Content sharing","Group moderation","FAQ responses"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-telegram"],style:{all:["Be concise and clear","Use Telegram-friendly formatting","Respond promptly to user queries"],chat:["Handle commands efficiently","Include relevant emoji when appropriate","Maintain conversation context"],post:["Structure longer messages clearly","Use formatting for better readability","Include relevant links when helpful"]},settings:{clients:["telegram"],allowDirectMessages:!0,shouldOnlyJoinInAllowedGroups:!1,messageTrackingLimit:100,secrets:{}}}},{id:"slack-bot",label:"Slack Bot",description:"Interactive bot for Slack workspaces",template:{name:"Slack Assistant",username:"slackbot",system:"You are a specialized assistant for Slack workspaces. You help teams by answering questions, providing information, and facilitating collaboration. You can respond to direct messages and channel mentions, maintaining a helpful and professional tone that aligns with the organization's culture. Keep responses concise and relevant to the conversation context.",bio:["Specialized Slack workspace assistant","Facilitates team collaboration","Provides timely responses to queries"],topics:["Workspace information","Team collaboration","Company policies","Resource access","Task management"],adjectives:["Responsive","Helpful","Organized","Team-oriented","Professional"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-slack"],style:{all:["Be concise and clear","Match the tone of the workspace","Use Slack-appropriate formatting"],chat:["Reference relevant messages when appropriate","Use thread replies for detailed responses","Include emojis when fitting the workspace culture"],post:["Structure information with clear sections","Use bullet points for lists","Include relevant links when helpful"]},settings:{secrets:{}}}},{id:"twitter-agent",label:"Twitter/X Agent",description:"Manages Twitter presence and engagement",template:{name:"Twitter Agent",username:"twitteragent",system:"You are a Twitter engagement specialist designed to help create and manage effective Twitter content. You assist with drafting tweets, responding to mentions, analyzing engagement metrics, and suggesting content strategies. Your tone should match the brand voice while maintaining authenticity and encouraging audience interaction. Keep tweets concise and impactful within character limits.",bio:["Twitter engagement specialist","Creates compelling social content","Manages audience interactions"],topics:["Tweet creation","Audience engagement","Content strategy","Trend analysis","Brand voice"],adjectives:["Engaging","Concise","Strategic","Conversational","Creative"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-twitter"],style:{all:["Be concise and impactful","Stay within character limits","Use platform-appropriate formatting"],chat:["Match brand voice in replies","Be conversational and authentic","Use hashtags strategically"],post:["Draft varied content types","Suggest engaging visuals or polls","Include call-to-actions when appropriate"]},settings:{TWITTER_DRY_RUN:!1,MAX_TWEET_LENGTH:280,TWITTER_ENABLE_POST_GENERATION:!0,TWITTER_POST_INTERVAL_MIN:90,TWITTER_POST_INTERVAL_MAX:180,secrets:{}}}},{id:"github-bot",label:"GitHub Repository Assistant",description:"Helps manage GitHub repositories and development workflows",template:{name:"GitHub Assistant",username:"githubasst",system:"You are a GitHub repository assistant designed to help development teams manage their workflow and codebase. You can assist with pull request reviews, issue triage, documentation updates, and providing information about repository structure and conventions. Maintain a technical but approachable tone, and prioritize accuracy in all technical information.",bio:["GitHub repository management specialist","Assists with development workflows","Provides code and documentation support"],topics:["Pull requests","Issue tracking","Repository structure","Code reviews","Development workflows"],adjectives:["Technical","Precise","Helpful","Organized","Knowledgeable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-github"],style:{all:["Use technically precise language","Reference GitHub concepts appropriately","Link to relevant documentation when helpful"],chat:["Be concise in comments","Format code snippets properly","Summarize technical points clearly"],post:["Structure longer responses with clear headings","Use code blocks with syntax highlighting","Link to specific lines of code when relevant"]},settings:{secrets:{}}}},{id:"instagram-agent",label:"Instagram Content Manager",description:"Creates and manages content for Instagram",template:{name:"Instagram Manager",username:"instagrammgr",system:"You are an Instagram content specialist designed to help create and manage engaging Instagram presence. You assist with content creation, caption writing, hashtag strategy, engagement tactics, and understanding analytics. Your approach emphasizes visual storytelling, authenticity, and building connections with followers. Maintain a voice that matches the brand identity while adapting to Instagram's evolving features and trends.",bio:["Instagram content creation specialist","Develops engaging visual storytelling","Optimizes profile engagement"],topics:["Content creation","Caption writing","Hashtag strategy","Engagement tactics","Visual aesthetics"],adjectives:["Creative","Visual","Engaging","Trend-aware","Authentic"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-instagram"],style:{all:["Balance visual description with compelling text","Maintain brand voice consistency","Consider current platform trends"],chat:["Provide actionable content suggestions","Reference visual elements clearly","Include relevant hashtag recommendations"],post:["Craft captions that enhance visual content","Suggest content series and themes","Balance promotional with authentic content"]},settings:{POST_INTERVAL_MIN:90,POST_INTERVAL_MAX:180,ENABLE_ACTION_PROCESSING:!0,ACTION_INTERVAL:5,MAX_ACTIONS_PROCESSING:1,secrets:{}}}}];function Gx(t){return Vx.find(e=>e.id===t)}n(Gx,"getTemplateById");const yg=TM,hA=PM,Wx=K.forwardRef(({className:t,...e},r)=>N.jsx(J4,{className:Ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Wx.displayName=J4.displayName;const ff=K.forwardRef(({className:t,...e},r)=>N.jsxs(hA,{children:[N.jsx(Wx,{}),N.jsx(W4,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ff.displayName=W4.displayName;const cf=n(({className:t,...e})=>N.jsx("div",{className:Ve("flex flex-col space-y-2 text-center sm:text-left",t),...e}),"AlertDialogHeader");cf.displayName="AlertDialogHeader";const hf=n(({className:t,...e})=>N.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e}),"AlertDialogFooter");hf.displayName="AlertDialogFooter";const df=K.forwardRef(({className:t,...e},r)=>N.jsx(K4,{ref:r,className:Ve("text-lg font-semibold",t),...e}));df.displayName=K4.displayName;const pf=K.forwardRef(({className:t,...e},r)=>N.jsx(Y4,{ref:r,className:Ve("text-sm text-muted-foreground",t),...e}));pf.displayName=Y4.displayName;const mf=K.forwardRef(({className:t,...e},r)=>N.jsx(Q4,{ref:r,className:Ve(pg(),t),...e}));mf.displayName=Q4.displayName;const gf=K.forwardRef(({className:t,...e},r)=>N.jsx(X4,{ref:r,className:Ve(pg({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));gf.displayName=X4.displayName;function dA({open:t,onOpenChange:e,missingSecrets:r,onConfirm:i,onCancel:s}){return N.jsx(yg,{open:t,onOpenChange:e,children:N.jsxs(ff,{children:[N.jsxs(cf,{children:[N.jsxs(df,{className:"flex items-center gap-2",children:[N.jsx(ii,{className:"h-5 w-5 text-yellow-500"}),"Missing Required Configuration"]}),N.jsxs(pf,{className:"space-y-3",children:[N.jsx("p",{children:"The following required secrets are missing or empty. Your agent may not function properly without these values."}),N.jsx("div",{className:"bg-muted rounded-md p-3 space-y-2",children:r.map(l=>N.jsxs("div",{className:"text-sm",children:[N.jsx("code",{className:"font-mono font-semibold",children:l.name}),l.plugin&&N.jsxs("span",{className:"text-muted-foreground ml-2",children:["(required by ",l.plugin,")"]}),l.description&&N.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:l.description})]},l.name))}),N.jsx("p",{className:"text-sm",children:"Do you want to save anyway?"})]})]}),N.jsxs(hf,{children:[N.jsx(gf,{onClick:s,children:"Go Back"}),N.jsx(mf,{onClick:i,className:"bg-yellow-600 hover:bg-yellow-700",children:"Save Anyway"})]})]})})}n(dA,"MissingSecretsDialog");var Rt={},ml={exports:{}},gl={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var e1;function Ot(){return e1||(e1=1,(function(t,e){var r=Un(),i=r.Buffer;function s(a,v){for(var g in a)v[g]=a[g]}n(s,"copyProps"),i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=l);function l(a,v,g){return i(a,v,g)}n(l,"SafeBuffer"),l.prototype=Object.create(i.prototype),s(i,l),l.from=function(a,v,g){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,v,g)},l.alloc=function(a,v,g){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=i(a);return v!==void 0?typeof g=="string"?h.fill(v,g):h.fill(v):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(gl,gl.exports)),gl.exports}n(Ot,"requireSafeBuffer$2");var t1;function ha(){if(t1)return ml.exports;t1=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}n(r,"oldBrowser");var i=Ot().Buffer,s=globalThis.crypto||globalThis.msCrypto;s&&s.getRandomValues?ml.exports=l:ml.exports=r;function l(a,v){if(a>e)throw new RangeError("requested too many random bytes");var g=i.allocUnsafe(a);if(a>0)if(a>t)for(var h=0;h<a;h+=t)s.getRandomValues(g.slice(h,h+t));else s.getRandomValues(g);return typeof v=="function"?process.nextTick(function(){v(null,g)}):g}return n(l,"randomBytes"),ml.exports}n(ha,"requireBrowser$b");var vl={exports:{}},r1;function jt(){return r1||(r1=1,typeof Object.create=="function"?vl.exports=n(function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):vl.exports=n(function(e,r){if(r){e.super_=r;var i=n(function(){},"TempCtor");i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}},"inherits")),vl.exports}n(jt,"requireInherits_browser");const pA={},mA=Object.freeze(Object.defineProperty({__proto__:null,default:pA},Symbol.toStringTag,{value:"Module"})),ni=OM(mA);var hc,i1;function Kx(){if(i1)return hc;i1=1;var t=Ot().Buffer,e=ni.Transform,r=jt();function i(v){e.call(this),this._block=t.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(i,"HashBase"),r(i,e),i.prototype._transform=function(v,g,h){var d=null;try{this.update(v,g)}catch(c){d=c}h(d)},i.prototype._flush=function(v){var g=null;try{this.push(this.digest())}catch(h){g=h}v(g)};var s=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function a(v,g){if(v instanceof t)return v;if(typeof v=="string")return t.from(v,g);if(l&&ArrayBuffer.isView(v)){if(v.byteLength===0)return t.alloc(0);var h=t.from(v.buffer,v.byteOffset,v.byteLength);if(h.byteLength===v.byteLength)return h}if(s&&v instanceof Uint8Array||t.isBuffer(v)&&v.constructor&&typeof v.constructor.isBuffer=="function"&&v.constructor.isBuffer(v))return t.from(v);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return n(a,"toBuffer"),i.prototype.update=function(v,g){if(this._finalized)throw new Error("Digest already called");v=a(v,g);for(var h=this._block,d=0;this._blockOffset+v.length-d>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)h[c++]=v[d++];this._update(),this._blockOffset=0}for(;d<v.length;)h[this._blockOffset++]=v[d++];for(var y=0,b=v.length*8;b>0;++y)this._length[y]+=b,b=this._length[y]/4294967296|0,b>0&&(this._length[y]-=4294967296*b);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(v){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var g=this._digest();v!==void 0&&(g=g.toString(v)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return g},i.prototype._digest=function(){throw new Error("_digest is not implemented")},hc=i,hc}n(Kx,"requireHashBase$1");var dc,n1;function wg(){if(n1)return dc;n1=1;var t=jt(),e=Kx(),r=Ot().Buffer,i=new Array(16);function s(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}n(s,"MD5"),t(s,e),s.prototype._update=function(){for(var d=i,c=0;c<16;++c)d[c]=this._block.readInt32LE(c*4);var y=this._a,b=this._b,w=this._c,S=this._d;y=a(y,b,w,S,d[0],3614090360,7),S=a(S,y,b,w,d[1],3905402710,12),w=a(w,S,y,b,d[2],606105819,17),b=a(b,w,S,y,d[3],3250441966,22),y=a(y,b,w,S,d[4],4118548399,7),S=a(S,y,b,w,d[5],1200080426,12),w=a(w,S,y,b,d[6],2821735955,17),b=a(b,w,S,y,d[7],4249261313,22),y=a(y,b,w,S,d[8],1770035416,7),S=a(S,y,b,w,d[9],2336552879,12),w=a(w,S,y,b,d[10],4294925233,17),b=a(b,w,S,y,d[11],2304563134,22),y=a(y,b,w,S,d[12],1804603682,7),S=a(S,y,b,w,d[13],4254626195,12),w=a(w,S,y,b,d[14],2792965006,17),b=a(b,w,S,y,d[15],1236535329,22),y=v(y,b,w,S,d[1],4129170786,5),S=v(S,y,b,w,d[6],3225465664,9),w=v(w,S,y,b,d[11],643717713,14),b=v(b,w,S,y,d[0],3921069994,20),y=v(y,b,w,S,d[5],3593408605,5),S=v(S,y,b,w,d[10],38016083,9),w=v(w,S,y,b,d[15],3634488961,14),b=v(b,w,S,y,d[4],3889429448,20),y=v(y,b,w,S,d[9],568446438,5),S=v(S,y,b,w,d[14],3275163606,9),w=v(w,S,y,b,d[3],4107603335,14),b=v(b,w,S,y,d[8],1163531501,20),y=v(y,b,w,S,d[13],2850285829,5),S=v(S,y,b,w,d[2],4243563512,9),w=v(w,S,y,b,d[7],1735328473,14),b=v(b,w,S,y,d[12],2368359562,20),y=g(y,b,w,S,d[5],4294588738,4),S=g(S,y,b,w,d[8],2272392833,11),w=g(w,S,y,b,d[11],1839030562,16),b=g(b,w,S,y,d[14],4259657740,23),y=g(y,b,w,S,d[1],2763975236,4),S=g(S,y,b,w,d[4],1272893353,11),w=g(w,S,y,b,d[7],4139469664,16),b=g(b,w,S,y,d[10],3200236656,23),y=g(y,b,w,S,d[13],681279174,4),S=g(S,y,b,w,d[0],3936430074,11),w=g(w,S,y,b,d[3],3572445317,16),b=g(b,w,S,y,d[6],76029189,23),y=g(y,b,w,S,d[9],3654602809,4),S=g(S,y,b,w,d[12],3873151461,11),w=g(w,S,y,b,d[15],530742520,16),b=g(b,w,S,y,d[2],3299628645,23),y=h(y,b,w,S,d[0],4096336452,6),S=h(S,y,b,w,d[7],1126891415,10),w=h(w,S,y,b,d[14],2878612391,15),b=h(b,w,S,y,d[5],4237533241,21),y=h(y,b,w,S,d[12],1700485571,6),S=h(S,y,b,w,d[3],2399980690,10),w=h(w,S,y,b,d[10],4293915773,15),b=h(b,w,S,y,d[1],2240044497,21),y=h(y,b,w,S,d[8],1873313359,6),S=h(S,y,b,w,d[15],4264355552,10),w=h(w,S,y,b,d[6],2734768916,15),b=h(b,w,S,y,d[13],1309151649,21),y=h(y,b,w,S,d[4],4149444226,6),S=h(S,y,b,w,d[11],3174756917,10),w=h(w,S,y,b,d[2],718787259,15),b=h(b,w,S,y,d[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+b|0,this._c=this._c+w|0,this._d=this._d+S|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var d=r.allocUnsafe(16);return d.writeInt32LE(this._a,0),d.writeInt32LE(this._b,4),d.writeInt32LE(this._c,8),d.writeInt32LE(this._d,12),d};function l(d,c){return d<<c|d>>>32-c}n(l,"rotl");function a(d,c,y,b,w,S,C){return l(d+(c&y|~c&b)+w+S|0,C)+c|0}n(a,"fnF");function v(d,c,y,b,w,S,C){return l(d+(c&b|y&~b)+w+S|0,C)+c|0}n(v,"fnG");function g(d,c,y,b,w,S,C){return l(d+(c^y^b)+w+S|0,C)+c|0}n(g,"fnH");function h(d,c,y,b,w,S,C){return l(d+(y^(c|~b))+w+S|0,C)+c|0}return n(h,"fnI"),dc=s,dc}n(wg,"requireMd5_js");var pc,s1;function Yx(){if(s1)return pc;s1=1;var t=Un().Buffer,e=jt(),r=Kx(),i=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}n(d,"RIPEMD160"),e(d,r),d.prototype._update=function(){for(var R=i,T=0;T<16;++T)R[T]=this._block.readInt32LE(T*4);for(var P=this._a|0,O=this._b|0,j=this._c|0,B=this._d|0,Z=this._e|0,W=this._a|0,ee=this._b|0,$=this._c|0,U=this._d|0,u=this._e|0,m=0;m<80;m+=1){var o,p;m<16?(o=y(P,O,j,B,Z,R[s[m]],g[0],a[m]),p=C(W,ee,$,U,u,R[l[m]],h[0],v[m])):m<32?(o=b(P,O,j,B,Z,R[s[m]],g[1],a[m]),p=S(W,ee,$,U,u,R[l[m]],h[1],v[m])):m<48?(o=w(P,O,j,B,Z,R[s[m]],g[2],a[m]),p=w(W,ee,$,U,u,R[l[m]],h[2],v[m])):m<64?(o=S(P,O,j,B,Z,R[s[m]],g[3],a[m]),p=b(W,ee,$,U,u,R[l[m]],h[3],v[m])):(o=C(P,O,j,B,Z,R[s[m]],g[4],a[m]),p=y(W,ee,$,U,u,R[l[m]],h[4],v[m])),P=Z,Z=B,B=c(j,10),j=O,O=o,W=u,u=U,U=c($,10),$=ee,ee=p}var x=this._b+j+U|0;this._b=this._c+B+u|0,this._c=this._d+Z+W|0,this._d=this._e+P+ee|0,this._e=this._a+O+$|0,this._a=x},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=t.alloc?t.alloc(20):new t(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R};function c(R,T){return R<<T|R>>>32-T}n(c,"rotl");function y(R,T,P,O,j,B,Z,W){return c(R+(T^P^O)+B+Z|0,W)+j|0}n(y,"fn1");function b(R,T,P,O,j,B,Z,W){return c(R+(T&P|~T&O)+B+Z|0,W)+j|0}n(b,"fn2");function w(R,T,P,O,j,B,Z,W){return c(R+((T|~P)^O)+B+Z|0,W)+j|0}n(w,"fn3");function S(R,T,P,O,j,B,Z,W){return c(R+(T&O|P&~O)+B+Z|0,W)+j|0}n(S,"fn4");function C(R,T,P,O,j,B,Z,W){return c(R+(T^(P|~O))+B+Z|0,W)+j|0}return n(C,"fn5"),pc=d,pc}n(Yx,"requireRipemd160$1");var mc={exports:{}},gc,a1;function gA(){if(a1)return gc;a1=1;var t={}.toString;return gc=Array.isArray||function(e){return t.call(e)=="[object Array]"},gc}n(gA,"requireIsarray$1");var vc,o1;function Jo(){return o1||(o1=1,vc=TypeError),vc}n(Jo,"requireType");var bc,l1;function Xx(){return l1||(l1=1,bc=Object),bc}n(Xx,"requireEsObjectAtoms");var yc,u1;function vA(){return u1||(u1=1,yc=Error),yc}n(vA,"requireEsErrors");var wc,f1;function bA(){return f1||(f1=1,wc=EvalError),wc}n(bA,"require_eval");var xc,c1;function yA(){return c1||(c1=1,xc=RangeError),xc}n(yA,"requireRange$1");var _c,h1;function wA(){return h1||(h1=1,_c=ReferenceError),_c}n(wA,"requireRef");var Mc,d1;function Qx(){return d1||(d1=1,Mc=SyntaxError),Mc}n(Qx,"requireSyntax");var Sc,p1;function xA(){return p1||(p1=1,Sc=URIError),Sc}n(xA,"requireUri");var Ec,m1;function _A(){return m1||(m1=1,Ec=Math.abs),Ec}n(_A,"requireAbs");var Ac,g1;function MA(){return g1||(g1=1,Ac=Math.floor),Ac}n(MA,"requireFloor");var kc,v1;function SA(){return v1||(v1=1,kc=Math.max),kc}n(SA,"requireMax");var Nc,b1;function EA(){return b1||(b1=1,Nc=Math.min),Nc}n(EA,"requireMin");var Cc,y1;function AA(){return y1||(y1=1,Cc=Math.pow),Cc}n(AA,"requirePow");var Rc,w1;function kA(){return w1||(w1=1,Rc=Math.round),Rc}n(kA,"requireRound");var Ic,x1;function NA(){return x1||(x1=1,Ic=Number.isNaN||n(function(e){return e!==e},"isNaN")),Ic}n(NA,"require_isNaN");var Tc,_1;function CA(){if(_1)return Tc;_1=1;var t=NA();return Tc=n(function(r){return t(r)||r===0?r:r<0?-1:1},"sign"),Tc}n(CA,"requireSign$1");var Pc,M1;function RA(){return M1||(M1=1,Pc=Object.getOwnPropertyDescriptor),Pc}n(RA,"requireGOPD");var Oc,S1;function qo(){if(S1)return Oc;S1=1;var t=RA();if(t)try{t([],"length")}catch{t=null}return Oc=t,Oc}n(qo,"requireGopd");var jc,E1;function vf(){if(E1)return jc;E1=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return jc=t,jc}n(vf,"requireEsDefineProperty");var Lc,A1;function Jx(){return A1||(A1=1,Lc=n(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var l in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var v=Object.getOwnPropertyDescriptor(e,r);if(v.value!==s||v.enumerable!==!0)return!1}return!0},"hasSymbols")),Lc}n(Jx,"requireShams$1");var Dc,k1;function IA(){if(k1)return Dc;k1=1;var t=typeof Symbol<"u"&&Symbol,e=Jx();return Dc=n(function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},"hasNativeSymbols"),Dc}n(IA,"requireHasSymbols");var Bc,N1;function qx(){return N1||(N1=1,Bc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Bc}n(qx,"requireReflect_getPrototypeOf");var Fc,C1;function e8(){if(C1)return Fc;C1=1;var t=Xx();return Fc=t.getPrototypeOf||null,Fc}n(e8,"requireObject_getPrototypeOf");var Uc,R1;function TA(){if(R1)return Uc;R1=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,i="[object Function]",s=n(function(g,h){for(var d=[],c=0;c<g.length;c+=1)d[c]=g[c];for(var y=0;y<h.length;y+=1)d[y+g.length]=h[y];return d},"concatty"),l=n(function(g,h){for(var d=[],c=h,y=0;c<g.length;c+=1,y+=1)d[y]=g[c];return d},"slicy"),a=n(function(v,g){for(var h="",d=0;d<v.length;d+=1)h+=v[d],d+1<v.length&&(h+=g);return h},"joiny");return Uc=n(function(g){var h=this;if(typeof h!="function"||e.apply(h)!==i)throw new TypeError(t+h);for(var d=l(arguments,1),c,y=n(function(){if(this instanceof c){var R=h.apply(this,s(d,arguments));return Object(R)===R?R:this}return h.apply(g,s(d,arguments))},"binder"),b=r(0,h.length-d.length),w=[],S=0;S<b;S++)w[S]="$"+S;if(c=Function("binder","return function ("+a(w,",")+"){ return binder.apply(this,arguments); }")(y),h.prototype){var C=n(function(){},"Empty");C.prototype=h.prototype,c.prototype=new C,C.prototype=null}return c},"bind"),Uc}n(TA,"requireImplementation");var zc,I1;function el(){if(I1)return zc;I1=1;var t=TA();return zc=Function.prototype.bind||t,zc}n(el,"requireFunctionBind");var $c,T1;function xg(){return T1||(T1=1,$c=Function.prototype.call),$c}n(xg,"requireFunctionCall");var Hc,P1;function _g(){return P1||(P1=1,Hc=Function.prototype.apply),Hc}n(_g,"requireFunctionApply");var Zc,O1;function PA(){return O1||(O1=1,Zc=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zc}n(PA,"requireReflectApply");var Vc,j1;function t8(){if(j1)return Vc;j1=1;var t=el(),e=_g(),r=xg(),i=PA();return Vc=i||t.call(r,e),Vc}n(t8,"requireActualApply");var Gc,L1;function Mg(){if(L1)return Gc;L1=1;var t=el(),e=Jo(),r=xg(),i=t8();return Gc=n(function(l){if(l.length<1||typeof l[0]!="function")throw new e("a function is required");return i(t,r,l)},"callBindBasic"),Gc}n(Mg,"requireCallBindApplyHelpers");var Wc,D1;function OA(){if(D1)return Wc;D1=1;var t=Mg(),e=qo(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var i=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;return Wc=i&&typeof i.get=="function"?t([i.get]):typeof l=="function"?n(function(v){return l(v==null?v:s(v))},"getDunder"):!1,Wc}n(OA,"requireGet");var Kc,B1;function r8(){if(B1)return Kc;B1=1;var t=qx(),e=e8(),r=OA();return Kc=t?n(function(s){return t(s)},"getProto"):e?n(function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)},"getProto"):r?n(function(s){return r(s)},"getProto"):null,Kc}n(r8,"requireGetProto");var Yc,F1;function jA(){if(F1)return Yc;F1=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=el();return Yc=r.call(t,e),Yc}n(jA,"requireHasown");var Xc,U1;function i8(){if(U1)return Xc;U1=1;var t,e=Xx(),r=vA(),i=bA(),s=yA(),l=wA(),a=Qx(),v=Jo(),g=xA(),h=_A(),d=MA(),c=SA(),y=EA(),b=AA(),w=kA(),S=CA(),C=Function,R=n(function(V){try{return C('"use strict"; return ('+V+").constructor;")()}catch{}},"getEvalledConstructor"),T=qo(),P=vf(),O=n(function(){throw new v},"throwTypeError"),j=T?(function(){try{return arguments.callee,O}catch{try{return T(arguments,"callee").get}catch{return O}}})():O,B=IA()(),Z=r8(),W=e8(),ee=qx(),$=_g(),U=xg(),u={},m=typeof Uint8Array>"u"||!Z?t:Z(Uint8Array),o={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":B&&Z?Z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&Z?Z(Z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!Z?t:Z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!Z?t:Z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&Z?Z(""[Symbol.iterator]()):t,"%Symbol%":B?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":j,"%TypedArray%":m,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":U,"%Function.prototype.apply%":$,"%Object.defineProperty%":P,"%Object.getPrototypeOf%":W,"%Math.abs%":h,"%Math.floor%":d,"%Math.max%":c,"%Math.min%":y,"%Math.pow%":b,"%Math.round%":w,"%Math.sign%":S,"%Reflect.getPrototypeOf%":ee};if(Z)try{null.error}catch(V){var p=Z(Z(V));o["%Error.prototype%"]=p}var x=n(function V(Y){var Me;if(Y==="%AsyncFunction%")Me=R("async function () {}");else if(Y==="%GeneratorFunction%")Me=R("function* () {}");else if(Y==="%AsyncGeneratorFunction%")Me=R("async function* () {}");else if(Y==="%AsyncGenerator%"){var se=V("%AsyncGeneratorFunction%");se&&(Me=se.prototype)}else if(Y==="%AsyncIteratorPrototype%"){var ae=V("%AsyncGenerator%");ae&&Z&&(Me=Z(ae.prototype))}return o[Y]=Me,Me},"doEval"),A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=el(),M=jA(),f=k.call(U,Array.prototype.concat),_=k.call($,Array.prototype.splice),E=k.call(U,String.prototype.replace),I=k.call(U,String.prototype.slice),L=k.call(U,RegExp.prototype.exec),D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,z=n(function(Y){var Me=I(Y,0,1),se=I(Y,-1);if(Me==="%"&&se!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&Me!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var ae=[];return E(Y,D,function(ye,G,re,X){ae[ae.length]=re?E(X,F,"$1"):G||ye}),ae},"stringToPath"),H=n(function(Y,Me){var se=Y,ae;if(M(A,se)&&(ae=A[se],se="%"+ae[0]+"%"),M(o,se)){var ye=o[se];if(ye===u&&(ye=x(se)),typeof ye>"u"&&!Me)throw new v("intrinsic "+Y+" exists, but is not available. Please file an issue!");return{alias:ae,name:se,value:ye}}throw new a("intrinsic "+Y+" does not exist!")},"getBaseIntrinsic");return Xc=n(function(Y,Me){if(typeof Y!="string"||Y.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Me!="boolean")throw new v('"allowMissing" argument must be a boolean');if(L(/^%?[^%]*%?$/,Y)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var se=z(Y),ae=se.length>0?se[0]:"",ye=H("%"+ae+"%",Me),G=ye.name,re=ye.value,X=!1,Q=ye.alias;Q&&(ae=Q[0],_(se,f([0,1],Q)));for(var le=1,Ae=!0;le<se.length;le+=1){var pe=se[le],fe=I(pe,0,1),J=I(pe,-1);if((fe==='"'||fe==="'"||fe==="`"||J==='"'||J==="'"||J==="`")&&fe!==J)throw new a("property names with quotes must have matching quotes");if((pe==="constructor"||!Ae)&&(X=!0),ae+="."+pe,G="%"+ae+"%",M(o,G))re=o[G];else if(re!=null){if(!(pe in re)){if(!Me)throw new v("base intrinsic for "+Y+" exists, but the property is not available.");return}if(T&&le+1>=se.length){var q=T(re,pe);Ae=!!q,Ae&&"get"in q&&!("originalValue"in q.get)?re=q.get:re=re[pe]}else Ae=M(re,pe),re=re[pe];Ae&&!X&&(o[G]=re)}}return re},"GetIntrinsic"),Xc}n(i8,"requireGetIntrinsic");var Qc,z1;function n8(){if(z1)return Qc;z1=1;var t=i8(),e=Mg(),r=e([t("%String.prototype.indexOf%")]);return Qc=n(function(s,l){var a=t(s,!!l);return typeof a=="function"&&r(s,".prototype.")>-1?e([a]):a},"callBoundIntrinsic"),Qc}n(n8,"requireCallBound");var Jc,$1;function LA(){if($1)return Jc;$1=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:n(function(){throw i},"get")}),i={},e(function(){throw 42},null,r)}catch(T){T!==i&&(e=null)}else e=null;var s=/^\s*class\b/,l=n(function(P){try{var O=t.call(P);return s.test(O)}catch{return!1}},"isES6ClassFunction"),a=n(function(P){try{return l(P)?!1:(t.call(P),!0)}catch{return!1}},"tryFunctionToStr"),v=Object.prototype.toString,g="[object Object]",h="[object Function]",d="[object GeneratorFunction]",c="[object HTMLAllCollection]",y="[object HTML document.all class]",b="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,S=!(0 in[,]),C=n(function(){return!1},"isDocumentDotAll");if(typeof document=="object"){var R=document.all;v.call(R)===v.call(document.all)&&(C=n(function(P){if((S||!P)&&(typeof P>"u"||typeof P=="object"))try{var O=v.call(P);return(O===c||O===y||O===b||O===g)&&P("")==null}catch{}return!1},"isDocumentDotAll2"))}return Jc=e?n(function(P){if(C(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{e(P,null,r)}catch(O){if(O!==i)return!1}return!l(P)&&a(P)},"isCallable"):n(function(P){if(C(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(w)return a(P);if(l(P))return!1;var O=v.call(P);return O!==h&&O!==d&&!/^\[object HTML/.test(O)?!1:a(P)},"isCallable2"),Jc}n(LA,"requireIsCallable");var qc,H1;function DA(){if(H1)return qc;H1=1;var t=LA(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=n(function(g,h,d){for(var c=0,y=g.length;c<y;c++)r.call(g,c)&&(d==null?h(g[c],c,g):h.call(d,g[c],c,g))},"forEachArray"),s=n(function(g,h,d){for(var c=0,y=g.length;c<y;c++)d==null?h(g.charAt(c),c,g):h.call(d,g.charAt(c),c,g)},"forEachString"),l=n(function(g,h,d){for(var c in g)r.call(g,c)&&(d==null?h(g[c],c,g):h.call(d,g[c],c,g))},"forEachObject");function a(v){return e.call(v)==="[object Array]"}return n(a,"isArray"),qc=n(function(g,h,d){if(!t(h))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=d),a(g)?i(g,h,c):typeof g=="string"?s(g,h,c):l(g,h,c)},"forEach"),qc}n(DA,"requireForEach");var eh,Z1;function BA(){return Z1||(Z1=1,eh=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),eh}n(BA,"requirePossibleTypedArrayNames");var th,V1;function FA(){if(V1)return th;V1=1;var t=BA(),e=globalThis;return th=n(function(){for(var i=[],s=0;s<t.length;s++)typeof e[t[s]]=="function"&&(i[i.length]=t[s]);return i},"availableTypedArrays"),th}n(FA,"requireAvailableTypedArrays");var rh={exports:{}},ih,G1;function UA(){if(G1)return ih;G1=1;var t=vf(),e=Qx(),r=Jo(),i=qo();return ih=n(function(l,a,v){if(!l||typeof l!="object"&&typeof l!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var g=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,y=!!i&&i(l,a);if(t)t(l,a,{configurable:d===null&&y?y.configurable:!d,enumerable:g===null&&y?y.enumerable:!g,value:v,writable:h===null&&y?y.writable:!h});else if(c||!g&&!h&&!d)l[a]=v;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty"),ih}n(UA,"requireDefineDataProperty");var nh,W1;function zA(){if(W1)return nh;W1=1;var t=vf(),e=n(function(){return!!t},"hasPropertyDescriptors");return e.hasArrayLengthDefineBug=n(function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug"),nh=e,nh}n(zA,"requireHasPropertyDescriptors");var sh,K1;function $A(){if(K1)return sh;K1=1;var t=i8(),e=UA(),r=zA()(),i=qo(),s=Jo(),l=t("%Math.floor%");return sh=n(function(v,g){if(typeof v!="function")throw new s("`fn` is not a function");if(typeof g!="number"||g<0||g>4294967295||l(g)!==g)throw new s("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],d=!0,c=!0;if("length"in v&&i){var y=i(v,"length");y&&!y.configurable&&(d=!1),y&&!y.writable&&(c=!1)}return(d||c||!h)&&(r?e(v,"length",g,!0,!0):e(v,"length",g)),v},"setFunctionLength"),sh}n($A,"requireSetFunctionLength");var ah,Y1;function HA(){if(Y1)return ah;Y1=1;var t=el(),e=_g(),r=t8();return ah=n(function(){return r(t,e,arguments)},"applyBind"),ah}n(HA,"requireApplyBind");var X1;function ZA(){return X1||(X1=1,(function(t){var e=$A(),r=vf(),i=Mg(),s=HA();t.exports=n(function(a){var v=i(arguments),g=a.length-(arguments.length-1);return e(v,1+(g>0?g:0),!0)},"callBind"),r?r(t.exports,"apply",{value:s}):t.exports.apply=s})(rh)),rh.exports}n(ZA,"requireCallBind");var oh,Q1;function VA(){if(Q1)return oh;Q1=1;var t=Jx();return oh=n(function(){return t()&&!!Symbol.toStringTag},"hasToStringTagShams"),oh}n(VA,"requireShams");var lh,J1;function GA(){if(J1)return lh;J1=1;var t=DA(),e=FA(),r=ZA(),i=n8(),s=qo(),l=r8(),a=i("Object.prototype.toString"),v=VA()(),g=globalThis,h=e(),d=i("String.prototype.slice"),c=i("Array.prototype.indexOf",!0)||n(function(C,R){for(var T=0;T<C.length;T+=1)if(C[T]===R)return T;return-1},"indexOf"),y={__proto__:null};v&&s&&l?t(h,function(S){var C=new g[S];if(Symbol.toStringTag in C&&l){var R=l(C),T=s(R,Symbol.toStringTag);if(!T&&R){var P=l(R);T=s(P,Symbol.toStringTag)}y["$"+S]=r(T.get)}}):t(h,function(S){var C=new g[S],R=C.slice||C.set;R&&(y["$"+S]=r(R))});var b=n(function(C){var R=!1;return t(y,function(T,P){if(!R)try{"$"+T(C)===P&&(R=d(P,1))}catch{}}),R},"tryAllTypedArrays"),w=n(function(C){var R=!1;return t(y,function(T,P){if(!R)try{T(C),R=d(P,1)}catch{}}),R},"tryAllSlices");return lh=n(function(C){if(!C||typeof C!="object")return!1;if(!v){var R=d(a(C),8,-1);return c(h,R)>-1?R:R!=="Object"?!1:w(C)}return s?b(C):null},"whichTypedArray"),lh}n(GA,"requireWhichTypedArray");var uh,q1;function WA(){if(q1)return uh;q1=1;var t=GA();return uh=n(function(r){return!!t(r)},"isTypedArray"),uh}n(WA,"requireIsTypedArray");var fh,eb;function KA(){if(eb)return fh;eb=1;var t=Jo(),e=n8(),r=e("TypedArray.prototype.buffer",!0),i=WA();return fh=r||n(function(l){if(!i(l))throw new t("Not a Typed Array");return l.buffer},"typedArrayBuffer"),fh}n(KA,"requireTypedArrayBuffer");var ch,tb;function s8(){if(tb)return ch;tb=1;var t=Ot().Buffer,e=gA(),r=KA(),i=ArrayBuffer.isView||n(function(g){try{return r(g),!0}catch{return!1}},"isView"),s=typeof Uint8Array<"u",l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a=l&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);return ch=n(function(g,h){if(g instanceof t)return g;if(typeof g=="string")return t.from(g,h);if(l&&i(g)){if(g.byteLength===0)return t.alloc(0);if(a){var d=t.from(g.buffer,g.byteOffset,g.byteLength);if(d.byteLength===g.byteLength)return d}var c=g instanceof Uint8Array?g:new Uint8Array(g.buffer,g.byteOffset,g.byteLength),y=t.from(c);if(y.length===g.byteLength)return y}if(s&&g instanceof Uint8Array)return t.from(g);var b=e(g);if(b)for(var w=0;w<g.length;w+=1){var S=g[w];if(typeof S!="number"||S<0||S>255||~~S!==S)throw new RangeError("Array items must be numbers in the range 0-255.")}if(b||t.isBuffer(g)&&g.constructor&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g))return t.from(g);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer"),ch}n(s8,"requireToBuffer$1");var hh,rb;function da(){if(rb)return hh;rb=1;var t=Ot().Buffer,e=s8();function r(i,s){this._block=t.alloc(i),this._finalSize=s,this._blockSize=i,this._len=0}return n(r,"Hash"),r.prototype.update=function(i,s){i=e(i,s||"utf8");for(var l=this._block,a=this._blockSize,v=i.length,g=this._len,h=0;h<v;){for(var d=g%a,c=Math.min(v-h,a-d),y=0;y<c;y++)l[d+y]=i[h+y];g+=c,h+=c,g%a===0&&this._update(l)}return this._len+=v,this},r.prototype.digest=function(i){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=this._len*8;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var a=(l&4294967295)>>>0,v=(l-a)/4294967296;this._block.writeUInt32BE(v,this._blockSize-8),this._block.writeUInt32BE(a,this._blockSize-4)}this._update(this._block);var g=this._hash();return i?g.toString(i):g},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hh=r,hh}n(da,"requireHash$1");var dh,ib;function YA(){if(ib)return dh;ib=1;var t=jt(),e=da(),r=Ot().Buffer,i=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,e.call(this,64,56)}n(l,"Sha"),t(l,e),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a(h){return h<<5|h>>>27}n(a,"rotl5");function v(h){return h<<30|h>>>2}n(v,"rotl30");function g(h,d,c,y){return h===0?d&c|~d&y:h===2?d&c|d&y|c&y:d^c^y}return n(g,"ft"),l.prototype._update=function(h){for(var d=this._w,c=this._a|0,y=this._b|0,b=this._c|0,w=this._d|0,S=this._e|0,C=0;C<16;++C)d[C]=h.readInt32BE(C*4);for(;C<80;++C)d[C]=d[C-3]^d[C-8]^d[C-14]^d[C-16];for(var R=0;R<80;++R){var T=~~(R/20),P=a(c)+g(T,y,b,w)+S+d[R]+i[T]|0;S=w,w=b,b=v(y),y=c,c=P}this._a=c+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=w+this._d|0,this._e=S+this._e|0},l.prototype._hash=function(){var h=r.allocUnsafe(20);return h.writeInt32BE(this._a|0,0),h.writeInt32BE(this._b|0,4),h.writeInt32BE(this._c|0,8),h.writeInt32BE(this._d|0,12),h.writeInt32BE(this._e|0,16),h},dh=l,dh}n(YA,"requireSha$1");var ph,nb;function XA(){if(nb)return ph;nb=1;var t=jt(),e=da(),r=Ot().Buffer,i=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function l(){this.init(),this._w=s,e.call(this,64,56)}n(l,"Sha1"),t(l,e),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a(d){return d<<1|d>>>31}n(a,"rotl1");function v(d){return d<<5|d>>>27}n(v,"rotl5");function g(d){return d<<30|d>>>2}n(g,"rotl30");function h(d,c,y,b){return d===0?c&y|~c&b:d===2?c&y|c&b|y&b:c^y^b}return n(h,"ft"),l.prototype._update=function(d){for(var c=this._w,y=this._a|0,b=this._b|0,w=this._c|0,S=this._d|0,C=this._e|0,R=0;R<16;++R)c[R]=d.readInt32BE(R*4);for(;R<80;++R)c[R]=a(c[R-3]^c[R-8]^c[R-14]^c[R-16]);for(var T=0;T<80;++T){var P=~~(T/20),O=v(y)+h(P,b,w,S)+C+c[T]+i[P]|0;C=S,S=w,w=g(b),b=y,y=O}this._a=y+this._a|0,this._b=b+this._b|0,this._c=w+this._c|0,this._d=S+this._d|0,this._e=C+this._e|0},l.prototype._hash=function(){var d=r.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},ph=l,ph}n(XA,"requireSha1");var mh,sb;function a8(){if(sb)return mh;sb=1;var t=jt(),e=da(),r=Ot().Buffer,i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function l(){this.init(),this._w=s,e.call(this,64,56)}n(l,"Sha256"),t(l,e),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function a(y,b,w){return w^y&(b^w)}n(a,"ch");function v(y,b,w){return y&b|w&(y|b)}n(v,"maj");function g(y){return(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10)}n(g,"sigma0");function h(y){return(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7)}n(h,"sigma1");function d(y){return(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3}n(d,"gamma0");function c(y){return(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10}return n(c,"gamma1"),l.prototype._update=function(y){for(var b=this._w,w=this._a|0,S=this._b|0,C=this._c|0,R=this._d|0,T=this._e|0,P=this._f|0,O=this._g|0,j=this._h|0,B=0;B<16;++B)b[B]=y.readInt32BE(B*4);for(;B<64;++B)b[B]=c(b[B-2])+b[B-7]+d(b[B-15])+b[B-16]|0;for(var Z=0;Z<64;++Z){var W=j+h(T)+a(T,P,O)+i[Z]+b[Z]|0,ee=g(w)+v(w,S,C)|0;j=O,O=P,P=T,T=R+W|0,R=C,C=S,S=w,w=W+ee|0}this._a=w+this._a|0,this._b=S+this._b|0,this._c=C+this._c|0,this._d=R+this._d|0,this._e=T+this._e|0,this._f=P+this._f|0,this._g=O+this._g|0,this._h=j+this._h|0},l.prototype._hash=function(){var y=r.allocUnsafe(32);return y.writeInt32BE(this._a,0),y.writeInt32BE(this._b,4),y.writeInt32BE(this._c,8),y.writeInt32BE(this._d,12),y.writeInt32BE(this._e,16),y.writeInt32BE(this._f,20),y.writeInt32BE(this._g,24),y.writeInt32BE(this._h,28),y},mh=l,mh}n(a8,"requireSha256");var gh,ab;function QA(){if(ab)return gh;ab=1;var t=jt(),e=a8(),r=da(),i=Ot().Buffer,s=new Array(64);function l(){this.init(),this._w=s,r.call(this,64,56)}return n(l,"Sha224"),t(l,e),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var a=i.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a},gh=l,gh}n(QA,"requireSha224");var vh,ob;function o8(){if(ob)return vh;ob=1;var t=jt(),e=da(),r=Ot().Buffer,i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function l(){this.init(),this._w=s,e.call(this,128,112)}n(l,"Sha512"),t(l,e),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function a(S,C,R){return R^S&(C^R)}n(a,"Ch");function v(S,C,R){return S&C|R&(S|C)}n(v,"maj");function g(S,C){return(S>>>28|C<<4)^(C>>>2|S<<30)^(C>>>7|S<<25)}n(g,"sigma0");function h(S,C){return(S>>>14|C<<18)^(S>>>18|C<<14)^(C>>>9|S<<23)}n(h,"sigma1");function d(S,C){return(S>>>1|C<<31)^(S>>>8|C<<24)^S>>>7}n(d,"Gamma0");function c(S,C){return(S>>>1|C<<31)^(S>>>8|C<<24)^(S>>>7|C<<25)}n(c,"Gamma0l");function y(S,C){return(S>>>19|C<<13)^(C>>>29|S<<3)^S>>>6}n(y,"Gamma1");function b(S,C){return(S>>>19|C<<13)^(C>>>29|S<<3)^(S>>>6|C<<26)}n(b,"Gamma1l");function w(S,C){return S>>>0<C>>>0?1:0}return n(w,"getCarry"),l.prototype._update=function(S){for(var C=this._w,R=this._ah|0,T=this._bh|0,P=this._ch|0,O=this._dh|0,j=this._eh|0,B=this._fh|0,Z=this._gh|0,W=this._hh|0,ee=this._al|0,$=this._bl|0,U=this._cl|0,u=this._dl|0,m=this._el|0,o=this._fl|0,p=this._gl|0,x=this._hl|0,A=0;A<32;A+=2)C[A]=S.readInt32BE(A*4),C[A+1]=S.readInt32BE(A*4+4);for(;A<160;A+=2){var k=C[A-30],M=C[A-30+1],f=d(k,M),_=c(M,k);k=C[A-4],M=C[A-4+1];var E=y(k,M),I=b(M,k),L=C[A-14],D=C[A-14+1],F=C[A-32],z=C[A-32+1],H=_+D|0,V=f+L+w(H,_)|0;H=H+I|0,V=V+E+w(H,I)|0,H=H+z|0,V=V+F+w(H,z)|0,C[A]=V,C[A+1]=H}for(var Y=0;Y<160;Y+=2){V=C[Y],H=C[Y+1];var Me=v(R,T,P),se=v(ee,$,U),ae=g(R,ee),ye=g(ee,R),G=h(j,m),re=h(m,j),X=i[Y],Q=i[Y+1],le=a(j,B,Z),Ae=a(m,o,p),pe=x+re|0,fe=W+G+w(pe,x)|0;pe=pe+Ae|0,fe=fe+le+w(pe,Ae)|0,pe=pe+Q|0,fe=fe+X+w(pe,Q)|0,pe=pe+H|0,fe=fe+V+w(pe,H)|0;var J=ye+se|0,q=ae+Me+w(J,ye)|0;W=Z,x=p,Z=B,p=o,B=j,o=m,m=u+pe|0,j=O+fe+w(m,u)|0,O=P,u=U,P=T,U=$,T=R,$=ee,ee=pe+J|0,R=fe+q+w(ee,pe)|0}this._al=this._al+ee|0,this._bl=this._bl+$|0,this._cl=this._cl+U|0,this._dl=this._dl+u|0,this._el=this._el+m|0,this._fl=this._fl+o|0,this._gl=this._gl+p|0,this._hl=this._hl+x|0,this._ah=this._ah+R+w(this._al,ee)|0,this._bh=this._bh+T+w(this._bl,$)|0,this._ch=this._ch+P+w(this._cl,U)|0,this._dh=this._dh+O+w(this._dl,u)|0,this._eh=this._eh+j+w(this._el,m)|0,this._fh=this._fh+B+w(this._fl,o)|0,this._gh=this._gh+Z+w(this._gl,p)|0,this._hh=this._hh+W+w(this._hl,x)|0},l.prototype._hash=function(){var S=r.allocUnsafe(64);function C(R,T,P){S.writeInt32BE(R,P),S.writeInt32BE(T,P+4)}return n(C,"writeInt64BE"),C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),S},vh=l,vh}n(o8,"requireSha512");var bh,lb;function JA(){if(lb)return bh;lb=1;var t=jt(),e=o8(),r=da(),i=Ot().Buffer,s=new Array(160);function l(){this.init(),this._w=s,r.call(this,128,112)}return n(l,"Sha384"),t(l,e),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var a=i.allocUnsafe(48);function v(g,h,d){a.writeInt32BE(g,d),a.writeInt32BE(h,d+4)}return n(v,"writeInt64BE"),v(this._ah,this._al,0),v(this._bh,this._bl,8),v(this._ch,this._cl,16),v(this._dh,this._dl,24),v(this._eh,this._el,32),v(this._fh,this._fl,40),a},bh=l,bh}n(JA,"requireSha384");var ub;function Sg(){return ub||(ub=1,(function(t){t.exports=n(function(r){var i=r.toLowerCase(),s=t.exports[i];if(!s)throw new Error(i+" is not supported (we accept pull requests)");return new s},"SHA"),t.exports.sha=YA(),t.exports.sha1=XA(),t.exports.sha224=QA(),t.exports.sha256=a8(),t.exports.sha384=JA(),t.exports.sha512=o8()})(mc)),mc.exports}n(Sg,"requireSha_js");var yh={},bl={exports:{}},fb;function qA(){return fb||(fb=1,(function(t,e){var r=Un(),i=r.Buffer;function s(a,v){for(var g in a)v[g]=a[g]}n(s,"copyProps"),i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=l);function l(a,v,g){return i(a,v,g)}n(l,"SafeBuffer"),s(i,l),l.from=function(a,v,g){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,v,g)},l.alloc=function(a,v,g){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=i(a);return v!==void 0?typeof g=="string"?h.fill(v,g):h.fill(v):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(bl,bl.exports)),bl.exports}n(qA,"requireSafeBuffer$1");var cb;function fm(){if(cb)return yh;cb=1;var t=qA().Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var T;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(T)return;R=(""+R).toLowerCase(),T=!0}}n(r,"_normalizeEncoding");function i(R){var T=r(R);if(typeof T!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return T||R}n(i,"normalizeEncoding"),yh.StringDecoder=s;function s(R){this.encoding=i(R);var T;switch(this.encoding){case"utf16le":this.text=c,this.end=y,T=4;break;case"utf8":this.fillLast=g,T=4;break;case"base64":this.text=b,this.end=w,T=3;break;default:this.write=S,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(T)}n(s,"StringDecoder"),s.prototype.write=function(R){if(R.length===0)return"";var T,P;if(this.lastNeed){if(T=this.fillLast(R),T===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<R.length?T?T+this.text(R,P):this.text(R,P):T||""},s.prototype.end=d,s.prototype.text=h,s.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function l(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}n(l,"utf8CheckByte");function a(R,T,P){var O=T.length-1;if(O<P)return 0;var j=l(T[O]);return j>=0?(j>0&&(R.lastNeed=j-1),j):--O<P||j===-2?0:(j=l(T[O]),j>=0?(j>0&&(R.lastNeed=j-2),j):--O<P||j===-2?0:(j=l(T[O]),j>=0?(j>0&&(j===2?j=0:R.lastNeed=j-3),j):0))}n(a,"utf8CheckIncomplete");function v(R,T,P){if((T[0]&192)!==128)return R.lastNeed=0,"";if(R.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return R.lastNeed=1,"";if(R.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return R.lastNeed=2,""}}n(v,"utf8CheckExtraBytes");function g(R){var T=this.lastTotal-this.lastNeed,P=v(this,R);if(P!==void 0)return P;if(this.lastNeed<=R.length)return R.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,T,0,R.length),this.lastNeed-=R.length}n(g,"utf8FillLast");function h(R,T){var P=a(this,R,T);if(!this.lastNeed)return R.toString("utf8",T);this.lastTotal=P;var O=R.length-(P-this.lastNeed);return R.copy(this.lastChar,0,O),R.toString("utf8",T,O)}n(h,"utf8Text");function d(R){var T=R&&R.length?this.write(R):"";return this.lastNeed?T+"":T}n(d,"utf8End");function c(R,T){if((R.length-T)%2===0){var P=R.toString("utf16le",T);if(P){var O=P.charCodeAt(P.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",T,R.length-1)}n(c,"utf16Text");function y(R){var T=R&&R.length?this.write(R):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,P)}return T}n(y,"utf16End");function b(R,T){var P=(R.length-T)%3;return P===0?R.toString("base64",T):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",T,R.length-P))}n(b,"base64Text");function w(R){var T=R&&R.length?this.write(R):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}n(w,"base64End");function S(R){return R.toString(this.encoding)}n(S,"simpleWrite");function C(R){return R&&R.length?this.write(R):""}return n(C,"simpleEnd"),yh}n(fm,"requireString_decoder");var wh,hb;function zn(){if(hb)return wh;hb=1;var t=Ot().Buffer,e=ni.Transform,r=fm().StringDecoder,i=jt();function s(g){e.call(this),this.hashMode=typeof g=="string",this.hashMode?this[g]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(s,"CipherBase"),i(s,e);var l=typeof Uint8Array<"u",a=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function v(g,h){if(g instanceof t)return g;if(typeof g=="string")return t.from(g,h);if(a&&ArrayBuffer.isView(g)){if(g.byteLength===0)return t.alloc(0);var d=t.from(g.buffer,g.byteOffset,g.byteLength);if(d.byteLength===g.byteLength)return d}if(l&&g instanceof Uint8Array||t.isBuffer(g)&&g.constructor&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g))return t.from(g);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return n(v,"toBuffer"),s.prototype.update=function(g,h,d){var c=v(g,h),y=this._update(c);return this.hashMode?this:(d&&(y=this._toString(y,d)),y)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(g,h,d){var c;try{this.hashMode?this._update(g):this.push(this._update(g))}catch(y){c=y}finally{d(c)}},s.prototype._flush=function(g){var h;try{this.push(this.__final())}catch(d){h=d}g(h)},s.prototype._finalOrDigest=function(g){var h=this.__final()||t.alloc(0);return g&&(h=this._toString(h,g,!0)),h},s.prototype._toString=function(g,h,d){if(this._decoder||(this._decoder=new r(h),this._encoding=h),this._encoding!==h)throw new Error("cant switch encodings");var c=this._decoder.write(g);return d&&(c+=this._decoder.end()),c},wh=s,wh}n(zn,"requireCipherBase");var xh,db;function tl(){if(db)return xh;db=1;var t=jt(),e=wg(),r=Yx(),i=Sg(),s=zn();function l(a){s.call(this,"digest"),this._hash=a}return n(l,"Hash"),t(l,s),l.prototype._update=function(a){this._hash.update(a)},l.prototype._final=function(){return this._hash.digest()},xh=n(function(v){return v=v.toLowerCase(),v==="md5"?new e:v==="rmd160"||v==="ripemd160"?new r:new l(i(v))},"createHash"),xh}n(tl,"requireBrowser$a");var _h,pb;function ek(){if(pb)return _h;pb=1;var t=jt(),e=Ot().Buffer,r=zn(),i=e.alloc(128),s=64;function l(a,v){r.call(this,"digest"),typeof v=="string"&&(v=e.from(v)),this._alg=a,this._key=v,v.length>s?v=a(v):v.length<s&&(v=e.concat([v,i],s));for(var g=this._ipad=e.allocUnsafe(s),h=this._opad=e.allocUnsafe(s),d=0;d<s;d++)g[d]=v[d]^54,h[d]=v[d]^92;this._hash=[g]}return n(l,"Hmac"),t(l,r),l.prototype._update=function(a){this._hash.push(a)},l.prototype._final=function(){var a=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,a]))},_h=l,_h}n(ek,"requireLegacy");var Mh,mb;function tk(){if(mb)return Mh;mb=1;var t=wg();return Mh=n(function(e){return new t().update(e).digest()},"md5$1"),Mh}n(tk,"requireMd5$1");var Sh,gb;function l8(){if(gb)return Sh;gb=1;var t=jt(),e=ek(),r=zn(),i=Ot().Buffer,s=tk(),l=Yx(),a=Sg(),v=i.alloc(128);function g(h,d){r.call(this,"digest"),typeof d=="string"&&(d=i.from(d));var c=h==="sha512"||h==="sha384"?128:64;if(this._alg=h,this._key=d,d.length>c){var y=h==="rmd160"?new l:a(h);d=y.update(d).digest()}else d.length<c&&(d=i.concat([d,v],c));for(var b=this._ipad=i.allocUnsafe(c),w=this._opad=i.allocUnsafe(c),S=0;S<c;S++)b[S]=d[S]^54,w[S]=d[S]^92;this._hash=h==="rmd160"?new l:a(h),this._hash.update(b)}return n(g,"Hmac"),t(g,r),g.prototype._update=function(h){this._hash.update(h)},g.prototype._final=function(){var h=this._hash.digest(),d=this._alg==="rmd160"?new l:a(this._alg);return d.update(this._opad).update(h).digest()},Sh=n(function(d,c){return d=d.toLowerCase(),d==="rmd160"||d==="ripemd160"?new g("rmd160",c):d==="md5"?new e(s,c):new g(d,c)},"createHmac"),Sh}n(l8,"requireBrowser$9");const rk={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},ik={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},nk={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sk={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},ak={sign:"ecdsa",hash:"sha256",id:""},ok={sign:"ecdsa",hash:"sha224",id:""},lk={sign:"ecdsa",hash:"sha384",id:""},uk={sign:"ecdsa",hash:"sha512",id:""},fk={sign:"dsa",hash:"sha1",id:""},ck={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},hk={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},u8={sha224WithRSAEncryption:rk,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:ik,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:nk,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:sk,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:ak,sha224:ok,sha384:lk,sha512:uk,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:fk,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:ck,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:hk,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var Eh,vb;function dk(){return vb||(vb=1,Eh=u8),Eh}n(dk,"requireAlgos");var yl={},Ah,bb;function f8(){if(bb)return Ah;bb=1;var t=Math.pow(2,30)-1;return Ah=n(function(e,r){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>t||r!==r)throw new TypeError("Bad key length")},"precondition"),Ah}n(f8,"requirePrecondition");var kh,yb;function c8(){if(yb)return kh;yb=1;var t;if(globalThis.process&&globalThis.process.browser)t="utf-8";else if(globalThis.process&&globalThis.process.version){var e=parseInt(process.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return kh=t,kh}n(c8,"requireDefaultEncoding");var Nh,wb;function pk(){if(wb)return Nh;wb=1;var t=4,e=new Buffer(t);e.fill(0);var r=8,i=16;function s(l){if(l.length%t!==0){var a=l.length+(t-l.length%t);l=Buffer.concat([l,e],a)}for(var v=new Array(l.length>>>2),g=0,h=0;g<l.length;g+=t,h++)v[h]=l.readInt32LE(g);return v}return n(s,"toArray"),Nh=n(function(a,v){var g=v(s(a),a.length*r);a=new Buffer(i);for(var h=0;h<g.length;h++)a.writeInt32LE(g[h],h<<2,!0);return a},"hash"),Nh}n(pk,"requireMakeHash");var Ch,xb;function mk(){if(xb)return Ch;xb=1;var t=pk();function e(h,d){h[d>>5]|=128<<d%32,h[(d+64>>>9<<4)+14]=d;for(var c=1732584193,y=-271733879,b=-1732584194,w=271733878,S=0;S<h.length;S+=16){var C=c,R=y,T=b,P=w;c=i(c,y,b,w,h[S+0],7,-680876936),w=i(w,c,y,b,h[S+1],12,-389564586),b=i(b,w,c,y,h[S+2],17,606105819),y=i(y,b,w,c,h[S+3],22,-1044525330),c=i(c,y,b,w,h[S+4],7,-176418897),w=i(w,c,y,b,h[S+5],12,1200080426),b=i(b,w,c,y,h[S+6],17,-1473231341),y=i(y,b,w,c,h[S+7],22,-45705983),c=i(c,y,b,w,h[S+8],7,1770035416),w=i(w,c,y,b,h[S+9],12,-1958414417),b=i(b,w,c,y,h[S+10],17,-42063),y=i(y,b,w,c,h[S+11],22,-1990404162),c=i(c,y,b,w,h[S+12],7,1804603682),w=i(w,c,y,b,h[S+13],12,-40341101),b=i(b,w,c,y,h[S+14],17,-1502002290),y=i(y,b,w,c,h[S+15],22,1236535329),c=s(c,y,b,w,h[S+1],5,-165796510),w=s(w,c,y,b,h[S+6],9,-1069501632),b=s(b,w,c,y,h[S+11],14,643717713),y=s(y,b,w,c,h[S+0],20,-373897302),c=s(c,y,b,w,h[S+5],5,-701558691),w=s(w,c,y,b,h[S+10],9,38016083),b=s(b,w,c,y,h[S+15],14,-660478335),y=s(y,b,w,c,h[S+4],20,-405537848),c=s(c,y,b,w,h[S+9],5,568446438),w=s(w,c,y,b,h[S+14],9,-1019803690),b=s(b,w,c,y,h[S+3],14,-187363961),y=s(y,b,w,c,h[S+8],20,1163531501),c=s(c,y,b,w,h[S+13],5,-1444681467),w=s(w,c,y,b,h[S+2],9,-51403784),b=s(b,w,c,y,h[S+7],14,1735328473),y=s(y,b,w,c,h[S+12],20,-1926607734),c=l(c,y,b,w,h[S+5],4,-378558),w=l(w,c,y,b,h[S+8],11,-2022574463),b=l(b,w,c,y,h[S+11],16,1839030562),y=l(y,b,w,c,h[S+14],23,-35309556),c=l(c,y,b,w,h[S+1],4,-1530992060),w=l(w,c,y,b,h[S+4],11,1272893353),b=l(b,w,c,y,h[S+7],16,-155497632),y=l(y,b,w,c,h[S+10],23,-1094730640),c=l(c,y,b,w,h[S+13],4,681279174),w=l(w,c,y,b,h[S+0],11,-358537222),b=l(b,w,c,y,h[S+3],16,-722521979),y=l(y,b,w,c,h[S+6],23,76029189),c=l(c,y,b,w,h[S+9],4,-640364487),w=l(w,c,y,b,h[S+12],11,-421815835),b=l(b,w,c,y,h[S+15],16,530742520),y=l(y,b,w,c,h[S+2],23,-995338651),c=a(c,y,b,w,h[S+0],6,-198630844),w=a(w,c,y,b,h[S+7],10,1126891415),b=a(b,w,c,y,h[S+14],15,-1416354905),y=a(y,b,w,c,h[S+5],21,-57434055),c=a(c,y,b,w,h[S+12],6,1700485571),w=a(w,c,y,b,h[S+3],10,-1894986606),b=a(b,w,c,y,h[S+10],15,-1051523),y=a(y,b,w,c,h[S+1],21,-2054922799),c=a(c,y,b,w,h[S+8],6,1873313359),w=a(w,c,y,b,h[S+15],10,-30611744),b=a(b,w,c,y,h[S+6],15,-1560198380),y=a(y,b,w,c,h[S+13],21,1309151649),c=a(c,y,b,w,h[S+4],6,-145523070),w=a(w,c,y,b,h[S+11],10,-1120210379),b=a(b,w,c,y,h[S+2],15,718787259),y=a(y,b,w,c,h[S+9],21,-343485551),c=v(c,C),y=v(y,R),b=v(b,T),w=v(w,P)}return[c,y,b,w]}n(e,"core_md5");function r(h,d,c,y,b,w){return v(g(v(v(d,h),v(y,w)),b),c)}n(r,"md5_cmn");function i(h,d,c,y,b,w,S){return r(d&c|~d&y,h,d,b,w,S)}n(i,"md5_ff");function s(h,d,c,y,b,w,S){return r(d&y|c&~y,h,d,b,w,S)}n(s,"md5_gg");function l(h,d,c,y,b,w,S){return r(d^c^y,h,d,b,w,S)}n(l,"md5_hh");function a(h,d,c,y,b,w,S){return r(c^(d|~y),h,d,b,w,S)}n(a,"md5_ii");function v(h,d){var c=(h&65535)+(d&65535),y=(h>>16)+(d>>16)+(c>>16);return y<<16|c&65535}n(v,"safe_add");function g(h,d){return h<<d|h>>>32-d}return n(g,"bit_rol"),Ch=n(function(d){return t(d,e)},"md5"),Ch}n(mk,"requireMd5");var Rh,_b;function gk(){if(_b)return Rh;_b=1;var t=ni.Transform,e=jt();function r(i){t.call(this),this._block=new Buffer(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return n(r,"HashBase"),e(r,t),r.prototype._transform=function(i,s,l){var a=null;try{s!=="buffer"&&(i=new Buffer(i,s)),this.update(i)}catch(v){a=v}l(a)},r.prototype._flush=function(i){var s=null;try{this.push(this._digest())}catch(l){s=l}i(s)},r.prototype.update=function(i,s){if(!Buffer.isBuffer(i)&&typeof i!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(i)||(i=new Buffer(i,s||"binary"));for(var l=this._block,a=0;this._blockOffset+i.length-a>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)l[v++]=i[a++];this._update(),this._blockOffset=0}for(;a<i.length;)l[this._blockOffset++]=i[a++];for(var g=0,h=i.length*8;h>0;++g)this._length[g]+=h,h=this._length[g]/4294967296|0,h>0&&(this._length[g]-=4294967296*h);return this},r.prototype._update=function(i){throw new Error("_update is not implemented")},r.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();return i!==void 0&&(s=s.toString(i)),s},r.prototype._digest=function(){throw new Error("_digest is not implemented")},Rh=r,Rh}n(gk,"requireHashBase");var Ih,Mb;function vk(){if(Mb)return Ih;Mb=1;var t=jt(),e=gk();function r(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}n(r,"RIPEMD160"),t(r,e),r.prototype._update=function(){for(var h=new Array(16),d=0;d<16;++d)h[d]=this._block.readInt32LE(d*4);var c=this._a,y=this._b,b=this._c,w=this._d,S=this._e;c=s(c,y,b,w,S,h[0],0,11),b=i(b,10),S=s(S,c,y,b,w,h[1],0,14),y=i(y,10),w=s(w,S,c,y,b,h[2],0,15),c=i(c,10),b=s(b,w,S,c,y,h[3],0,12),S=i(S,10),y=s(y,b,w,S,c,h[4],0,5),w=i(w,10),c=s(c,y,b,w,S,h[5],0,8),b=i(b,10),S=s(S,c,y,b,w,h[6],0,7),y=i(y,10),w=s(w,S,c,y,b,h[7],0,9),c=i(c,10),b=s(b,w,S,c,y,h[8],0,11),S=i(S,10),y=s(y,b,w,S,c,h[9],0,13),w=i(w,10),c=s(c,y,b,w,S,h[10],0,14),b=i(b,10),S=s(S,c,y,b,w,h[11],0,15),y=i(y,10),w=s(w,S,c,y,b,h[12],0,6),c=i(c,10),b=s(b,w,S,c,y,h[13],0,7),S=i(S,10),y=s(y,b,w,S,c,h[14],0,9),w=i(w,10),c=s(c,y,b,w,S,h[15],0,8),b=i(b,10),S=l(S,c,y,b,w,h[7],1518500249,7),y=i(y,10),w=l(w,S,c,y,b,h[4],1518500249,6),c=i(c,10),b=l(b,w,S,c,y,h[13],1518500249,8),S=i(S,10),y=l(y,b,w,S,c,h[1],1518500249,13),w=i(w,10),c=l(c,y,b,w,S,h[10],1518500249,11),b=i(b,10),S=l(S,c,y,b,w,h[6],1518500249,9),y=i(y,10),w=l(w,S,c,y,b,h[15],1518500249,7),c=i(c,10),b=l(b,w,S,c,y,h[3],1518500249,15),S=i(S,10),y=l(y,b,w,S,c,h[12],1518500249,7),w=i(w,10),c=l(c,y,b,w,S,h[0],1518500249,12),b=i(b,10),S=l(S,c,y,b,w,h[9],1518500249,15),y=i(y,10),w=l(w,S,c,y,b,h[5],1518500249,9),c=i(c,10),b=l(b,w,S,c,y,h[2],1518500249,11),S=i(S,10),y=l(y,b,w,S,c,h[14],1518500249,7),w=i(w,10),c=l(c,y,b,w,S,h[11],1518500249,13),b=i(b,10),S=l(S,c,y,b,w,h[8],1518500249,12),y=i(y,10),w=a(w,S,c,y,b,h[3],1859775393,11),c=i(c,10),b=a(b,w,S,c,y,h[10],1859775393,13),S=i(S,10),y=a(y,b,w,S,c,h[14],1859775393,6),w=i(w,10),c=a(c,y,b,w,S,h[4],1859775393,7),b=i(b,10),S=a(S,c,y,b,w,h[9],1859775393,14),y=i(y,10),w=a(w,S,c,y,b,h[15],1859775393,9),c=i(c,10),b=a(b,w,S,c,y,h[8],1859775393,13),S=i(S,10),y=a(y,b,w,S,c,h[1],1859775393,15),w=i(w,10),c=a(c,y,b,w,S,h[2],1859775393,14),b=i(b,10),S=a(S,c,y,b,w,h[7],1859775393,8),y=i(y,10),w=a(w,S,c,y,b,h[0],1859775393,13),c=i(c,10),b=a(b,w,S,c,y,h[6],1859775393,6),S=i(S,10),y=a(y,b,w,S,c,h[13],1859775393,5),w=i(w,10),c=a(c,y,b,w,S,h[11],1859775393,12),b=i(b,10),S=a(S,c,y,b,w,h[5],1859775393,7),y=i(y,10),w=a(w,S,c,y,b,h[12],1859775393,5),c=i(c,10),b=v(b,w,S,c,y,h[1],2400959708,11),S=i(S,10),y=v(y,b,w,S,c,h[9],2400959708,12),w=i(w,10),c=v(c,y,b,w,S,h[11],2400959708,14),b=i(b,10),S=v(S,c,y,b,w,h[10],2400959708,15),y=i(y,10),w=v(w,S,c,y,b,h[0],2400959708,14),c=i(c,10),b=v(b,w,S,c,y,h[8],2400959708,15),S=i(S,10),y=v(y,b,w,S,c,h[12],2400959708,9),w=i(w,10),c=v(c,y,b,w,S,h[4],2400959708,8),b=i(b,10),S=v(S,c,y,b,w,h[13],2400959708,9),y=i(y,10),w=v(w,S,c,y,b,h[3],2400959708,14),c=i(c,10),b=v(b,w,S,c,y,h[7],2400959708,5),S=i(S,10),y=v(y,b,w,S,c,h[15],2400959708,6),w=i(w,10),c=v(c,y,b,w,S,h[14],2400959708,8),b=i(b,10),S=v(S,c,y,b,w,h[5],2400959708,6),y=i(y,10),w=v(w,S,c,y,b,h[6],2400959708,5),c=i(c,10),b=v(b,w,S,c,y,h[2],2400959708,12),S=i(S,10),y=g(y,b,w,S,c,h[4],2840853838,9),w=i(w,10),c=g(c,y,b,w,S,h[0],2840853838,15),b=i(b,10),S=g(S,c,y,b,w,h[5],2840853838,5),y=i(y,10),w=g(w,S,c,y,b,h[9],2840853838,11),c=i(c,10),b=g(b,w,S,c,y,h[7],2840853838,6),S=i(S,10),y=g(y,b,w,S,c,h[12],2840853838,8),w=i(w,10),c=g(c,y,b,w,S,h[2],2840853838,13),b=i(b,10),S=g(S,c,y,b,w,h[10],2840853838,12),y=i(y,10),w=g(w,S,c,y,b,h[14],2840853838,5),c=i(c,10),b=g(b,w,S,c,y,h[1],2840853838,12),S=i(S,10),y=g(y,b,w,S,c,h[3],2840853838,13),w=i(w,10),c=g(c,y,b,w,S,h[8],2840853838,14),b=i(b,10),S=g(S,c,y,b,w,h[11],2840853838,11),y=i(y,10),w=g(w,S,c,y,b,h[6],2840853838,8),c=i(c,10),b=g(b,w,S,c,y,h[15],2840853838,5),S=i(S,10),y=g(y,b,w,S,c,h[13],2840853838,6),w=i(w,10);var C=this._a,R=this._b,T=this._c,P=this._d,O=this._e;C=g(C,R,T,P,O,h[5],1352829926,8),T=i(T,10),O=g(O,C,R,T,P,h[14],1352829926,9),R=i(R,10),P=g(P,O,C,R,T,h[7],1352829926,9),C=i(C,10),T=g(T,P,O,C,R,h[0],1352829926,11),O=i(O,10),R=g(R,T,P,O,C,h[9],1352829926,13),P=i(P,10),C=g(C,R,T,P,O,h[2],1352829926,15),T=i(T,10),O=g(O,C,R,T,P,h[11],1352829926,15),R=i(R,10),P=g(P,O,C,R,T,h[4],1352829926,5),C=i(C,10),T=g(T,P,O,C,R,h[13],1352829926,7),O=i(O,10),R=g(R,T,P,O,C,h[6],1352829926,7),P=i(P,10),C=g(C,R,T,P,O,h[15],1352829926,8),T=i(T,10),O=g(O,C,R,T,P,h[8],1352829926,11),R=i(R,10),P=g(P,O,C,R,T,h[1],1352829926,14),C=i(C,10),T=g(T,P,O,C,R,h[10],1352829926,14),O=i(O,10),R=g(R,T,P,O,C,h[3],1352829926,12),P=i(P,10),C=g(C,R,T,P,O,h[12],1352829926,6),T=i(T,10),O=v(O,C,R,T,P,h[6],1548603684,9),R=i(R,10),P=v(P,O,C,R,T,h[11],1548603684,13),C=i(C,10),T=v(T,P,O,C,R,h[3],1548603684,15),O=i(O,10),R=v(R,T,P,O,C,h[7],1548603684,7),P=i(P,10),C=v(C,R,T,P,O,h[0],1548603684,12),T=i(T,10),O=v(O,C,R,T,P,h[13],1548603684,8),R=i(R,10),P=v(P,O,C,R,T,h[5],1548603684,9),C=i(C,10),T=v(T,P,O,C,R,h[10],1548603684,11),O=i(O,10),R=v(R,T,P,O,C,h[14],1548603684,7),P=i(P,10),C=v(C,R,T,P,O,h[15],1548603684,7),T=i(T,10),O=v(O,C,R,T,P,h[8],1548603684,12),R=i(R,10),P=v(P,O,C,R,T,h[12],1548603684,7),C=i(C,10),T=v(T,P,O,C,R,h[4],1548603684,6),O=i(O,10),R=v(R,T,P,O,C,h[9],1548603684,15),P=i(P,10),C=v(C,R,T,P,O,h[1],1548603684,13),T=i(T,10),O=v(O,C,R,T,P,h[2],1548603684,11),R=i(R,10),P=a(P,O,C,R,T,h[15],1836072691,9),C=i(C,10),T=a(T,P,O,C,R,h[5],1836072691,7),O=i(O,10),R=a(R,T,P,O,C,h[1],1836072691,15),P=i(P,10),C=a(C,R,T,P,O,h[3],1836072691,11),T=i(T,10),O=a(O,C,R,T,P,h[7],1836072691,8),R=i(R,10),P=a(P,O,C,R,T,h[14],1836072691,6),C=i(C,10),T=a(T,P,O,C,R,h[6],1836072691,6),O=i(O,10),R=a(R,T,P,O,C,h[9],1836072691,14),P=i(P,10),C=a(C,R,T,P,O,h[11],1836072691,12),T=i(T,10),O=a(O,C,R,T,P,h[8],1836072691,13),R=i(R,10),P=a(P,O,C,R,T,h[12],1836072691,5),C=i(C,10),T=a(T,P,O,C,R,h[2],1836072691,14),O=i(O,10),R=a(R,T,P,O,C,h[10],1836072691,13),P=i(P,10),C=a(C,R,T,P,O,h[0],1836072691,13),T=i(T,10),O=a(O,C,R,T,P,h[4],1836072691,7),R=i(R,10),P=a(P,O,C,R,T,h[13],1836072691,5),C=i(C,10),T=l(T,P,O,C,R,h[8],2053994217,15),O=i(O,10),R=l(R,T,P,O,C,h[6],2053994217,5),P=i(P,10),C=l(C,R,T,P,O,h[4],2053994217,8),T=i(T,10),O=l(O,C,R,T,P,h[1],2053994217,11),R=i(R,10),P=l(P,O,C,R,T,h[3],2053994217,14),C=i(C,10),T=l(T,P,O,C,R,h[11],2053994217,14),O=i(O,10),R=l(R,T,P,O,C,h[15],2053994217,6),P=i(P,10),C=l(C,R,T,P,O,h[0],2053994217,14),T=i(T,10),O=l(O,C,R,T,P,h[5],2053994217,6),R=i(R,10),P=l(P,O,C,R,T,h[12],2053994217,9),C=i(C,10),T=l(T,P,O,C,R,h[2],2053994217,12),O=i(O,10),R=l(R,T,P,O,C,h[13],2053994217,9),P=i(P,10),C=l(C,R,T,P,O,h[9],2053994217,12),T=i(T,10),O=l(O,C,R,T,P,h[7],2053994217,5),R=i(R,10),P=l(P,O,C,R,T,h[10],2053994217,15),C=i(C,10),T=l(T,P,O,C,R,h[14],2053994217,8),O=i(O,10),R=s(R,T,P,O,C,h[12],0,8),P=i(P,10),C=s(C,R,T,P,O,h[15],0,5),T=i(T,10),O=s(O,C,R,T,P,h[10],0,12),R=i(R,10),P=s(P,O,C,R,T,h[4],0,9),C=i(C,10),T=s(T,P,O,C,R,h[1],0,12),O=i(O,10),R=s(R,T,P,O,C,h[5],0,5),P=i(P,10),C=s(C,R,T,P,O,h[8],0,14),T=i(T,10),O=s(O,C,R,T,P,h[7],0,6),R=i(R,10),P=s(P,O,C,R,T,h[6],0,8),C=i(C,10),T=s(T,P,O,C,R,h[2],0,13),O=i(O,10),R=s(R,T,P,O,C,h[13],0,6),P=i(P,10),C=s(C,R,T,P,O,h[14],0,5),T=i(T,10),O=s(O,C,R,T,P,h[0],0,15),R=i(R,10),P=s(P,O,C,R,T,h[3],0,13),C=i(C,10),T=s(T,P,O,C,R,h[9],0,11),O=i(O,10),R=s(R,T,P,O,C,h[11],0,11),P=i(P,10);var j=this._b+b+P|0;this._b=this._c+w+O|0,this._c=this._d+S+C|0,this._d=this._e+c+R|0,this._e=this._a+y+T|0,this._a=j},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var h=new Buffer(20);return h.writeInt32LE(this._a,0),h.writeInt32LE(this._b,4),h.writeInt32LE(this._c,8),h.writeInt32LE(this._d,12),h.writeInt32LE(this._e,16),h};function i(h,d){return h<<d|h>>>32-d}n(i,"rotl");function s(h,d,c,y,b,w,S,C){return i(h+(d^c^y)+w+S|0,C)+b|0}n(s,"fn1");function l(h,d,c,y,b,w,S,C){return i(h+(d&c|~d&y)+w+S|0,C)+b|0}n(l,"fn2");function a(h,d,c,y,b,w,S,C){return i(h+((d|~c)^y)+w+S|0,C)+b|0}n(a,"fn3");function v(h,d,c,y,b,w,S,C){return i(h+(d&y|c&~y)+w+S|0,C)+b|0}n(v,"fn4");function g(h,d,c,y,b,w,S,C){return i(h+(d^(c|~y))+w+S|0,C)+b|0}return n(g,"fn5"),Ih=r,Ih}n(vk,"requireRipemd160");var Th,Sb;function h8(){if(Sb)return Th;Sb=1;var t=Ot().Buffer,e=s8(),r=typeof Uint8Array<"u",i=r&&typeof ArrayBuffer<"u",s=i&&ArrayBuffer.isView;return Th=n(function(l,a,v){if(typeof l=="string"||t.isBuffer(l)||r&&l instanceof Uint8Array||s&&s(l))return e(l,a);throw new TypeError(v+" must be a string, a Buffer, a Uint8Array, or a DataView")},"toBuffer_1"),Th}n(h8,"requireToBuffer");var Ph,Eb;function d8(){if(Eb)return Ph;Eb=1;var t=mk(),e=vk(),r=Sg(),i=Ot().Buffer,s=f8(),l=c8(),a=h8(),v=i.alloc(128),g={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},h={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function d(w){return new e().update(w).digest()}n(d,"rmd160Func");function c(w){function S(C){return r(w).update(C).digest()}return n(S,"shaFunc"),w==="rmd160"||w==="ripemd160"?d:w==="md5"?t:S}n(c,"getDigest");function y(w,S,C){var R=c(w),T=w==="sha512"||w==="sha384"?128:64;S.length>T?S=R(S):S.length<T&&(S=i.concat([S,v],T));for(var P=i.allocUnsafe(T+g[w]),O=i.allocUnsafe(T+g[w]),j=0;j<T;j++)P[j]=S[j]^54,O[j]=S[j]^92;var B=i.allocUnsafe(T+C+4);P.copy(B,0,0,T),this.ipad1=B,this.ipad2=P,this.opad=O,this.alg=w,this.blocksize=T,this.hash=R,this.size=g[w]}n(y,"Hmac"),y.prototype.run=function(w,S){w.copy(S,this.blocksize);var C=this.hash(S);return C.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(w,S,C,R,T){s(C,R),w=a(w,l,"Password"),S=a(S,l,"Salt");var P=(T||"sha1").toLowerCase(),O=h[P]||P,j=g[O];if(typeof j!="number"||!j)throw new TypeError("Digest algorithm not supported: "+T);var B=new y(O,w,S.length),Z=i.allocUnsafe(R),W=i.allocUnsafe(S.length+4);S.copy(W,0,0,S.length);for(var ee=0,$=j,U=Math.ceil(R/$),u=1;u<=U;u++){W.writeUInt32BE(u,S.length);for(var m=B.run(W,B.ipad1),o=m,p=1;p<C;p++){o=B.run(o,B.ipad2);for(var x=0;x<$;x++)m[x]^=o[x]}m.copy(Z,ee),ee+=$}return Z}return n(b,"pbkdf2"),Ph=b,Ph}n(d8,"requireSyncBrowser");var Oh,Ab;function bk(){if(Ab)return Oh;Ab=1;var t=Ot().Buffer,e=f8(),r=c8(),i=d8(),s=h8(),l,a=globalThis.crypto&&globalThis.crypto.subtle,v={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[],h;function d(){return h||(globalThis.process&&globalThis.process.nextTick?h=globalThis.process.nextTick:globalThis.queueMicrotask?h=globalThis.queueMicrotask:globalThis.setImmediate?h=globalThis.setImmediate:h=globalThis.setTimeout,h)}n(d,"getNextTick");function c(w,S,C,R,T){return a.importKey("raw",w,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return a.deriveBits({name:"PBKDF2",salt:S,iterations:C,hash:{name:T}},P,R<<3)}).then(function(P){return t.from(P)})}n(c,"browserPbkdf2");function y(w){if(globalThis.process&&!globalThis.process.browser||!a||!a.importKey||!a.deriveBits)return Promise.resolve(!1);if(g[w]!==void 0)return g[w];l=l||t.alloc(8);var S=c(l,l,10,128,w).then(function(){return!0},function(){return!1});return g[w]=S,S}n(y,"checkNative");function b(w,S){w.then(function(C){d()(function(){S(null,C)})},function(C){d()(function(){S(C)})})}return n(b,"resolvePromise"),Oh=n(function(w,S,C,R,T,P){typeof T=="function"&&(P=T,T=void 0),T=T||"sha1";var O=v[T.toLowerCase()];if(!O||typeof globalThis.Promise!="function"){d()(function(){var j;try{j=i(w,S,C,R,T)}catch(B){P(B);return}P(null,j)});return}if(e(C,R),w=s(w,r,"Password"),S=s(S,r,"Salt"),typeof P!="function")throw new Error("No callback provided to pbkdf2");b(y(O).then(function(j){return j?c(w,S,C,R,O):i(w,S,C,R,T)}),P)},"async"),Oh}n(bk,"requireAsync");var kb;function p8(){return kb||(kb=1,yl.pbkdf2=bk(),yl.pbkdf2Sync=d8()),yl}n(p8,"requireBrowser$8");var Jr={},Wn={},Br={},Nb;function m8(){if(Nb)return Br;Nb=1,Br.readUInt32BE=n(function(s,l){var a=s[0+l]<<24|s[1+l]<<16|s[2+l]<<8|s[3+l];return a>>>0},"readUInt32BE"),Br.writeUInt32BE=n(function(s,l,a){s[0+a]=l>>>24,s[1+a]=l>>>16&255,s[2+a]=l>>>8&255,s[3+a]=l&255},"writeUInt32BE"),Br.ip=n(function(s,l,a,v){for(var g=0,h=0,d=6;d>=0;d-=2){for(var c=0;c<=24;c+=8)g<<=1,g|=l>>>c+d&1;for(var c=0;c<=24;c+=8)g<<=1,g|=s>>>c+d&1}for(var d=6;d>=0;d-=2){for(var c=1;c<=25;c+=8)h<<=1,h|=l>>>c+d&1;for(var c=1;c<=25;c+=8)h<<=1,h|=s>>>c+d&1}a[v+0]=g>>>0,a[v+1]=h>>>0},"ip"),Br.rip=n(function(s,l,a,v){for(var g=0,h=0,d=0;d<4;d++)for(var c=24;c>=0;c-=8)g<<=1,g|=l>>>c+d&1,g<<=1,g|=s>>>c+d&1;for(var d=4;d<8;d++)for(var c=24;c>=0;c-=8)h<<=1,h|=l>>>c+d&1,h<<=1,h|=s>>>c+d&1;a[v+0]=g>>>0,a[v+1]=h>>>0},"rip"),Br.pc1=n(function(s,l,a,v){for(var g=0,h=0,d=7;d>=5;d--){for(var c=0;c<=24;c+=8)g<<=1,g|=l>>c+d&1;for(var c=0;c<=24;c+=8)g<<=1,g|=s>>c+d&1}for(var c=0;c<=24;c+=8)g<<=1,g|=l>>c+d&1;for(var d=1;d<=3;d++){for(var c=0;c<=24;c+=8)h<<=1,h|=l>>c+d&1;for(var c=0;c<=24;c+=8)h<<=1,h|=s>>c+d&1}for(var c=0;c<=24;c+=8)h<<=1,h|=s>>c+d&1;a[v+0]=g>>>0,a[v+1]=h>>>0},"pc1"),Br.r28shl=n(function(s,l){return s<<l&268435455|s>>>28-l},"r28shl");var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Br.pc2=n(function(s,l,a,v){for(var g=0,h=0,d=t.length>>>1,c=0;c<d;c++)g<<=1,g|=s>>>t[c]&1;for(var c=d;c<t.length;c++)h<<=1,h|=l>>>t[c]&1;a[v+0]=g>>>0,a[v+1]=h>>>0},"pc2"),Br.expand=n(function(s,l,a){var v=0,g=0;v=(s&1)<<5|s>>>27;for(var h=23;h>=15;h-=4)v<<=6,v|=s>>>h&63;for(var h=11;h>=3;h-=4)g|=s>>>h&63,g<<=6;g|=(s&31)<<1|s>>>31,l[a+0]=v>>>0,l[a+1]=g>>>0},"expand");var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Br.substitute=n(function(s,l){for(var a=0,v=0;v<4;v++){var g=s>>>18-v*6&63,h=e[v*64+g];a<<=4,a|=h}for(var v=0;v<4;v++){var g=l>>>18-v*6&63,h=e[256+v*64+g];a<<=4,a|=h}return a>>>0},"substitute");var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Br.permute=n(function(s){for(var l=0,a=0;a<r.length;a++)l<<=1,l|=s>>>r[a]&1;return l>>>0},"permute"),Br.padSplit=n(function(s,l,a){for(var v=s.toString(2);v.length<l;)v="0"+v;for(var g=[],h=0;h<l;h+=a)g.push(v.slice(h,h+a));return g.join(" ")},"padSplit"),Br}n(m8,"requireUtils$3");var jh,Cb;function si(){if(Cb)return jh;Cb=1,jh=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return n(t,"assert"),t.equal=n(function(r,i,s){if(r!=i)throw new Error(s||"Assertion failed: "+r+" != "+i)},"assertEqual"),jh}n(si,"requireMinimalisticAssert");var Lh,Rb;function Eg(){if(Rb)return Lh;Rb=1;var t=si();function e(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return n(e,"Cipher"),Lh=e,e.prototype._init=n(function(){},"_init"),e.prototype.update=n(function(i){return i.length===0?[]:this.type==="decrypt"?this._updateDecrypt(i):this._updateEncrypt(i)},"update"),e.prototype._buffer=n(function(i,s){for(var l=Math.min(this.buffer.length-this.bufferOff,i.length-s),a=0;a<l;a++)this.buffer[this.bufferOff+a]=i[s+a];return this.bufferOff+=l,l},"_buffer"),e.prototype._flushBuffer=n(function(i,s){return this._update(this.buffer,0,i,s),this.bufferOff=0,this.blockSize},"_flushBuffer"),e.prototype._updateEncrypt=n(function(i){var s=0,l=0,a=(this.bufferOff+i.length)/this.blockSize|0,v=new Array(a*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(i,s),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(v,l)));for(var g=i.length-(i.length-s)%this.blockSize;s<g;s+=this.blockSize)this._update(i,s,v,l),l+=this.blockSize;for(;s<i.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=i[s];return v},"_updateEncrypt"),e.prototype._updateDecrypt=n(function(i){for(var s=0,l=0,a=Math.ceil((this.bufferOff+i.length)/this.blockSize)-1,v=new Array(a*this.blockSize);a>0;a--)s+=this._buffer(i,s),l+=this._flushBuffer(v,l);return s+=this._buffer(i,s),v},"_updateDecrypt"),e.prototype.final=n(function(i){var s;i&&(s=this.update(i));var l;return this.type==="encrypt"?l=this._finalEncrypt():l=this._finalDecrypt(),s?s.concat(l):l},"final"),e.prototype._pad=n(function(i,s){if(s===0)return!1;for(;s<i.length;)i[s++]=0;return!0},"_pad"),e.prototype._finalEncrypt=n(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var i=new Array(this.blockSize);return this._update(this.buffer,0,i,0),i},"_finalEncrypt"),e.prototype._unpad=n(function(i){return i},"_unpad"),e.prototype._finalDecrypt=n(function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var i=new Array(this.blockSize);return this._flushBuffer(i,0),this._unpad(i)},"_finalDecrypt"),Lh}n(Eg,"requireCipher");var Dh,Ib;function g8(){if(Ib)return Dh;Ib=1;var t=si(),e=jt(),r=m8(),i=Eg();function s(){this.tmp=new Array(2),this.keys=null}n(s,"DESState");function l(v){i.call(this,v);var g=new s;this._desState=g,this.deriveKeys(g,v.key)}n(l,"DES"),e(l,i),Dh=l,l.create=n(function(g){return new l(g)},"create");var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return l.prototype.deriveKeys=n(function(g,h){g.keys=new Array(32),t.equal(h.length,this.blockSize,"Invalid key length");var d=r.readUInt32BE(h,0),c=r.readUInt32BE(h,4);r.pc1(d,c,g.tmp,0),d=g.tmp[0],c=g.tmp[1];for(var y=0;y<g.keys.length;y+=2){var b=a[y>>>1];d=r.r28shl(d,b),c=r.r28shl(c,b),r.pc2(d,c,g.keys,y)}},"deriveKeys"),l.prototype._update=n(function(g,h,d,c){var y=this._desState,b=r.readUInt32BE(g,h),w=r.readUInt32BE(g,h+4);r.ip(b,w,y.tmp,0),b=y.tmp[0],w=y.tmp[1],this.type==="encrypt"?this._encrypt(y,b,w,y.tmp,0):this._decrypt(y,b,w,y.tmp,0),b=y.tmp[0],w=y.tmp[1],r.writeUInt32BE(d,b,c),r.writeUInt32BE(d,w,c+4)},"_update"),l.prototype._pad=n(function(g,h){if(this.padding===!1)return!1;for(var d=g.length-h,c=h;c<g.length;c++)g[c]=d;return!0},"_pad"),l.prototype._unpad=n(function(g){if(this.padding===!1)return g;for(var h=g[g.length-1],d=g.length-h;d<g.length;d++)t.equal(g[d],h);return g.slice(0,g.length-h)},"_unpad"),l.prototype._encrypt=n(function(g,h,d,c,y){for(var b=h,w=d,S=0;S<g.keys.length;S+=2){var C=g.keys[S],R=g.keys[S+1];r.expand(w,g.tmp,0),C^=g.tmp[0],R^=g.tmp[1];var T=r.substitute(C,R),P=r.permute(T),O=w;w=(b^P)>>>0,b=O}r.rip(w,b,c,y)},"_encrypt"),l.prototype._decrypt=n(function(g,h,d,c,y){for(var b=d,w=h,S=g.keys.length-2;S>=0;S-=2){var C=g.keys[S],R=g.keys[S+1];r.expand(b,g.tmp,0),C^=g.tmp[0],R^=g.tmp[1];var T=r.substitute(C,R),P=r.permute(T),O=b;b=(w^P)>>>0,w=O}r.rip(b,w,c,y)},"_decrypt"),Dh}n(g8,"requireDes$1");var Bh={},Tb;function yk(){if(Tb)return Bh;Tb=1;var t=si(),e=jt(),r={};function i(l){t.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var a=0;a<this.iv.length;a++)this.iv[a]=l[a]}n(i,"CBCState");function s(l){function a(d){l.call(this,d),this._cbcInit()}n(a,"CBC"),e(a,l);for(var v=Object.keys(r),g=0;g<v.length;g++){var h=v[g];a.prototype[h]=r[h]}return a.create=n(function(c){return new a(c)},"create"),a}return n(s,"instantiate"),Bh.instantiate=s,r._cbcInit=n(function(){var a=new i(this.options.iv);this._cbcState=a},"_cbcInit"),r._update=n(function(a,v,g,h){var d=this._cbcState,c=this.constructor.super_.prototype,y=d.iv;if(this.type==="encrypt"){for(var b=0;b<this.blockSize;b++)y[b]^=a[v+b];c._update.call(this,y,0,g,h);for(var b=0;b<this.blockSize;b++)y[b]=g[h+b]}else{c._update.call(this,a,v,g,h);for(var b=0;b<this.blockSize;b++)g[h+b]^=y[b];for(var b=0;b<this.blockSize;b++)y[b]=a[v+b]}},"_update"),Bh}n(yk,"requireCbc$1");var Fh,Pb;function wk(){if(Pb)return Fh;Pb=1;var t=si(),e=jt(),r=Eg(),i=g8();function s(a,v){t.equal(v.length,24,"Invalid key length");var g=v.slice(0,8),h=v.slice(8,16),d=v.slice(16,24);a==="encrypt"?this.ciphers=[i.create({type:"encrypt",key:g}),i.create({type:"decrypt",key:h}),i.create({type:"encrypt",key:d})]:this.ciphers=[i.create({type:"decrypt",key:d}),i.create({type:"encrypt",key:h}),i.create({type:"decrypt",key:g})]}n(s,"EDEState");function l(a){r.call(this,a);var v=new s(this.type,this.options.key);this._edeState=v}return n(l,"EDE"),e(l,r),Fh=l,l.create=n(function(v){return new l(v)},"create"),l.prototype._update=n(function(v,g,h,d){var c=this._edeState;c.ciphers[0]._update(v,g,h,d),c.ciphers[1]._update(h,d,h,d),c.ciphers[2]._update(h,d,h,d)},"_update"),l.prototype._pad=i.prototype._pad,l.prototype._unpad=i.prototype._unpad,Fh}n(wk,"requireEde");var Ob;function xk(){return Ob||(Ob=1,Wn.utils=m8(),Wn.Cipher=Eg(),Wn.DES=g8(),Wn.CBC=yk(),Wn.EDE=wk()),Wn}n(xk,"requireDes");var Uh,jb;function _k(){if(jb)return Uh;jb=1;var t=zn(),e=xk(),r=jt(),i=Ot().Buffer,s={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],Uh=l,r(l,t);function l(a){t.call(this);var v=a.mode.toLowerCase(),g=s[v],h;a.decrypt?h="decrypt":h="encrypt";var d=a.key;i.isBuffer(d)||(d=i.from(d)),(v==="des-ede"||v==="des-ede-cbc")&&(d=i.concat([d,d.slice(0,8)]));var c=a.iv;i.isBuffer(c)||(c=i.from(c)),this._des=g.create({key:d,iv:c,type:h})}return n(l,"DES"),l.prototype._update=function(a){return i.from(this._des.update(a))},l.prototype._final=function(){return i.from(this._des.final())},Uh}n(_k,"requireBrowserifyDes");var qr={},wl={},xl={},Lb;function Mk(){return Lb||(Lb=1,xl.encrypt=function(t,e){return t._cipher.encryptBlock(e)},xl.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),xl}n(Mk,"requireEcb");var _l={},zh,Db;function rl(){return Db||(Db=1,zh=n(function(e,r){for(var i=Math.min(e.length,r.length),s=new Buffer(i),l=0;l<i;++l)s[l]=e[l]^r[l];return s},"xor")),zh}n(rl,"requireBufferXor");var Bb;function Sk(){if(Bb)return _l;Bb=1;var t=rl();return _l.encrypt=function(e,r){var i=t(r,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},_l.decrypt=function(e,r){var i=e._prev;e._prev=r;var s=e._cipher.decryptBlock(r);return t(s,i)},_l}n(Sk,"requireCbc");var $h={},Fb;function Ek(){if(Fb)return $h;Fb=1;var t=Ot().Buffer,e=rl();function r(i,s,l){var a=s.length,v=e(s,i._cache);return i._cache=i._cache.slice(a),i._prev=t.concat([i._prev,l?s:v]),v}return n(r,"encryptStart"),$h.encrypt=function(i,s,l){for(var a=t.allocUnsafe(0),v;s.length;)if(i._cache.length===0&&(i._cache=i._cipher.encryptBlock(i._prev),i._prev=t.allocUnsafe(0)),i._cache.length<=s.length)v=i._cache.length,a=t.concat([a,r(i,s.slice(0,v),l)]),s=s.slice(v);else{a=t.concat([a,r(i,s,l)]);break}return a},$h}n(Ek,"requireCfb");var Hh={},Ub;function Ak(){if(Ub)return Hh;Ub=1;var t=Ot().Buffer;function e(r,i,s){var l=r._cipher.encryptBlock(r._prev),a=l[0]^i;return r._prev=t.concat([r._prev.slice(1),t.from([s?i:a])]),a}return n(e,"encryptByte"),Hh.encrypt=function(r,i,s){for(var l=i.length,a=t.allocUnsafe(l),v=-1;++v<l;)a[v]=e(r,i[v],s);return a},Hh}n(Ak,"requireCfb8");var Zh={},zb;function kk(){if(zb)return Zh;zb=1;var t=Ot().Buffer;function e(i,s,l){for(var a,v=-1,g=8,h=0,d,c;++v<g;)a=i._cipher.encryptBlock(i._prev),d=s&1<<7-v?128:0,c=a[0]^d,h+=(c&128)>>v%8,i._prev=r(i._prev,l?d:c);return h}n(e,"encryptByte");function r(i,s){var l=i.length,a=-1,v=t.allocUnsafe(i.length);for(i=t.concat([i,t.from([s])]);++a<l;)v[a]=i[a]<<1|i[a+1]>>7;return v}return n(r,"shiftIn"),Zh.encrypt=function(i,s,l){for(var a=s.length,v=t.allocUnsafe(a),g=-1;++g<a;)v[g]=e(i,s[g],l);return v},Zh}n(kk,"requireCfb1");var Vh={},$b;function Nk(){if($b)return Vh;$b=1;var t=rl();function e(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return n(e,"getBlock"),Vh.encrypt=function(r,i){for(;r._cache.length<i.length;)r._cache=Buffer.concat([r._cache,e(r)]);var s=r._cache.slice(0,i.length);return r._cache=r._cache.slice(i.length),t(i,s)},Vh}n(Nk,"requireOfb");var Gh={},Wh,Hb;function v8(){if(Hb)return Wh;Hb=1;function t(e){for(var r=e.length,i;r--;)if(i=e.readUInt8(r),i===255)e.writeUInt8(0,r);else{i++,e.writeUInt8(i,r);break}}return n(t,"incr32"),Wh=t,Wh}n(v8,"requireIncr32");var Zb;function Vb(){if(Zb)return Gh;Zb=1;var t=rl(),e=Ot().Buffer,r=v8();function i(l){var a=l._cipher.encryptBlockRaw(l._prev);return r(l._prev),a}n(i,"getBlock");var s=16;return Gh.encrypt=function(l,a){var v=Math.ceil(a.length/s),g=l._cache.length;l._cache=e.concat([l._cache,e.allocUnsafe(v*s)]);for(var h=0;h<v;h++){var d=i(l),c=g+h*s;l._cache.writeUInt32BE(d[0],c+0),l._cache.writeUInt32BE(d[1],c+4),l._cache.writeUInt32BE(d[2],c+8),l._cache.writeUInt32BE(d[3],c+12)}var y=l._cache.slice(0,a.length);return l._cache=l._cache.slice(a.length),t(a,y)},Gh}n(Vb,"requireCtr");const Ck={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},Rk={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},Ik={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},b8={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:Ck,aes192:Rk,aes256:Ik,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Kh,Gb;function Ag(){if(Gb)return Kh;Gb=1;var t={ECB:Mk(),CBC:Sk(),CFB:Ek(),CFB8:Ak(),CFB1:kk(),OFB:Nk(),CTR:Vb(),GCM:Vb()},e=b8;for(var r in e)e[r].module=t[e[r].mode];return Kh=e,Kh}n(Ag,"requireModes$1");var Yh={},Wb;function bf(){if(Wb)return Yh;Wb=1;var t=Ot().Buffer;function e(v){t.isBuffer(v)||(v=t.from(v));for(var g=v.length/4|0,h=new Array(g),d=0;d<g;d++)h[d]=v.readUInt32BE(d*4);return h}n(e,"asUInt32Array");function r(v){for(var g=0;g<v.length;v++)v[g]=0}n(r,"scrubVec");function i(v,g,h,d,c){for(var y=h[0],b=h[1],w=h[2],S=h[3],C=v[0]^g[0],R=v[1]^g[1],T=v[2]^g[2],P=v[3]^g[3],O,j,B,Z,W=4,ee=1;ee<c;ee++)O=y[C>>>24]^b[R>>>16&255]^w[T>>>8&255]^S[P&255]^g[W++],j=y[R>>>24]^b[T>>>16&255]^w[P>>>8&255]^S[C&255]^g[W++],B=y[T>>>24]^b[P>>>16&255]^w[C>>>8&255]^S[R&255]^g[W++],Z=y[P>>>24]^b[C>>>16&255]^w[R>>>8&255]^S[T&255]^g[W++],C=O,R=j,T=B,P=Z;return O=(d[C>>>24]<<24|d[R>>>16&255]<<16|d[T>>>8&255]<<8|d[P&255])^g[W++],j=(d[R>>>24]<<24|d[T>>>16&255]<<16|d[P>>>8&255]<<8|d[C&255])^g[W++],B=(d[T>>>24]<<24|d[P>>>16&255]<<16|d[C>>>8&255]<<8|d[R&255])^g[W++],Z=(d[P>>>24]<<24|d[C>>>16&255]<<16|d[R>>>8&255]<<8|d[T&255])^g[W++],O=O>>>0,j=j>>>0,B=B>>>0,Z=Z>>>0,[O,j,B,Z]}n(i,"cryptBlock");var s=[0,1,2,4,8,16,32,64,128,27,54],l=(function(){for(var v=new Array(256),g=0;g<256;g++)g<128?v[g]=g<<1:v[g]=g<<1^283;for(var h=[],d=[],c=[[],[],[],[]],y=[[],[],[],[]],b=0,w=0,S=0;S<256;++S){var C=w^w<<1^w<<2^w<<3^w<<4;C=C>>>8^C&255^99,h[b]=C,d[C]=b;var R=v[b],T=v[R],P=v[T],O=v[C]*257^C*16843008;c[0][b]=O<<24|O>>>8,c[1][b]=O<<16|O>>>16,c[2][b]=O<<8|O>>>24,c[3][b]=O,O=P*16843009^T*65537^R*257^b*16843008,y[0][C]=O<<24|O>>>8,y[1][C]=O<<16|O>>>16,y[2][C]=O<<8|O>>>24,y[3][C]=O,b===0?b=w=1:(b=R^v[v[v[P^R]]],w^=v[v[w]])}return{SBOX:h,INV_SBOX:d,SUB_MIX:c,INV_SUB_MIX:y}})();function a(v){this._key=e(v),this._reset()}return n(a,"AES"),a.blockSize=16,a.keySize=256/8,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var v=this._key,g=v.length,h=g+6,d=(h+1)*4,c=[],y=0;y<g;y++)c[y]=v[y];for(y=g;y<d;y++){var b=c[y-1];y%g===0?(b=b<<8|b>>>24,b=l.SBOX[b>>>24]<<24|l.SBOX[b>>>16&255]<<16|l.SBOX[b>>>8&255]<<8|l.SBOX[b&255],b^=s[y/g|0]<<24):g>6&&y%g===4&&(b=l.SBOX[b>>>24]<<24|l.SBOX[b>>>16&255]<<16|l.SBOX[b>>>8&255]<<8|l.SBOX[b&255]),c[y]=c[y-g]^b}for(var w=[],S=0;S<d;S++){var C=d-S,R=c[C-(S%4?0:4)];S<4||C<=4?w[S]=R:w[S]=l.INV_SUB_MIX[0][l.SBOX[R>>>24]]^l.INV_SUB_MIX[1][l.SBOX[R>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[R>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[R&255]]}this._nRounds=h,this._keySchedule=c,this._invKeySchedule=w},a.prototype.encryptBlockRaw=function(v){return v=e(v),i(v,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(v){var g=this.encryptBlockRaw(v),h=t.allocUnsafe(16);return h.writeUInt32BE(g[0],0),h.writeUInt32BE(g[1],4),h.writeUInt32BE(g[2],8),h.writeUInt32BE(g[3],12),h},a.prototype.decryptBlock=function(v){v=e(v);var g=v[1];v[1]=v[3],v[3]=g;var h=i(v,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),d=t.allocUnsafe(16);return d.writeUInt32BE(h[0],0),d.writeUInt32BE(h[3],4),d.writeUInt32BE(h[2],8),d.writeUInt32BE(h[1],12),d},a.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},Yh.AES=a,Yh}n(bf,"requireAes");var Xh,Kb;function Tk(){if(Kb)return Xh;Kb=1;var t=Ot().Buffer,e=t.alloc(16,0);function r(l){return[l.readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)]}n(r,"toArray");function i(l){var a=t.allocUnsafe(16);return a.writeUInt32BE(l[0]>>>0,0),a.writeUInt32BE(l[1]>>>0,4),a.writeUInt32BE(l[2]>>>0,8),a.writeUInt32BE(l[3]>>>0,12),a}n(i,"fromArray");function s(l){this.h=l,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return n(s,"GHASH"),s.prototype.ghash=function(l){for(var a=-1;++a<l.length;)this.state[a]^=l[a];this._multiply()},s.prototype._multiply=function(){for(var l=r(this.h),a=[0,0,0,0],v,g,h,d=-1;++d<128;){for(g=(this.state[~~(d/8)]&1<<7-d%8)!==0,g&&(a[0]^=l[0],a[1]^=l[1],a[2]^=l[2],a[3]^=l[3]),h=(l[3]&1)!==0,v=3;v>0;v--)l[v]=l[v]>>>1|(l[v-1]&1)<<31;l[0]=l[0]>>>1,h&&(l[0]=l[0]^225<<24)}this.state=i(a)},s.prototype.update=function(l){this.cache=t.concat([this.cache,l]);for(var a;this.cache.length>=16;)a=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(a)},s.prototype.final=function(l,a){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(i([0,l,0,a])),this.state},Xh=s,Xh}n(Tk,"requireGhash");var Qh,Yb;function y8(){if(Yb)return Qh;Yb=1;var t=bf(),e=Ot().Buffer,r=zn(),i=jt(),s=Tk(),l=rl(),a=v8();function v(d,c){var y=0;d.length!==c.length&&y++;for(var b=Math.min(d.length,c.length),w=0;w<b;++w)y+=d[w]^c[w];return y}n(v,"xorTest");function g(d,c,y){if(c.length===12)return d._finID=e.concat([c,e.from([0,0,0,1])]),e.concat([c,e.from([0,0,0,2])]);var b=new s(y),w=c.length,S=w%16;b.update(c),S&&(S=16-S,b.update(e.alloc(S,0))),b.update(e.alloc(8,0));var C=w*8,R=e.alloc(8);R.writeUIntBE(C,0,8),b.update(R),d._finID=b.state;var T=e.from(d._finID);return a(T),T}n(g,"calcIv");function h(d,c,y,b){r.call(this);var w=e.alloc(4,0);this._cipher=new t.AES(c);var S=this._cipher.encryptBlock(w);this._ghash=new s(S),y=g(this,y,S),this._prev=e.from(y),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=b,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}return n(h,"StreamCipher"),i(h,r),h.prototype._update=function(d){if(!this._called&&this._alen){var c=16-this._alen%16;c<16&&(c=e.alloc(c,0),this._ghash.update(c))}this._called=!0;var y=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(y),this._len+=d.length,y},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=l(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&v(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=n(function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag"),h.prototype.setAuthTag=n(function(c){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=c},"setAuthTag"),h.prototype.setAAD=n(function(c){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(c),this._alen+=c.length},"setAAD"),Qh=h,Qh}n(y8,"requireAuthCipher");var Jh,Xb;function w8(){if(Xb)return Jh;Xb=1;var t=bf(),e=Ot().Buffer,r=zn(),i=jt();function s(l,a,v,g){r.call(this),this._cipher=new t.AES(a),this._prev=e.from(v),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=g,this._mode=l}return n(s,"StreamCipher"),i(s,r),s.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},Jh=s,Jh}n(w8,"requireStreamCipher");var qh,Qb;function yf(){if(Qb)return qh;Qb=1;var t=Ot().Buffer,e=wg();function r(i,s,l,a){if(t.isBuffer(i)||(i=t.from(i,"binary")),s&&(t.isBuffer(s)||(s=t.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var v=l/8,g=t.alloc(v),h=t.alloc(a||0),d=t.alloc(0);v>0||a>0;){var c=new e;c.update(d),c.update(i),s&&c.update(s),d=c.digest();var y=0;if(v>0){var b=g.length-v;y=Math.min(v,d.length),d.copy(g,b,0,y),v-=y}if(y<d.length&&a>0){var w=h.length-a,S=Math.min(a,d.length-y);d.copy(h,w,y,y+S),a-=S}}return d.fill(0),{key:g,iv:h}}return n(r,"EVP_BytesToKey"),qh=r,qh}n(yf,"requireEvp_bytestokey");var Jb;function Pk(){if(Jb)return wl;Jb=1;var t=Ag(),e=y8(),r=Ot().Buffer,i=w8(),s=zn(),l=bf(),a=yf(),v=jt();function g(b,w,S){s.call(this),this._cache=new d,this._cipher=new l.AES(w),this._prev=r.from(S),this._mode=b,this._autopadding=!0}n(g,"Cipher"),v(g,s),g.prototype._update=function(b){this._cache.add(b);for(var w,S,C=[];w=this._cache.get();)S=this._mode.encrypt(this,w),C.push(S);return r.concat(C)};var h=r.alloc(16,16);g.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return b=this._mode.encrypt(this,b),this._cipher.scrub(),b;if(!b.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function d(){this.cache=r.allocUnsafe(0)}n(d,"Splitter"),d.prototype.add=function(b){this.cache=r.concat([this.cache,b])},d.prototype.get=function(){if(this.cache.length>15){var b=this.cache.slice(0,16);return this.cache=this.cache.slice(16),b}return null},d.prototype.flush=function(){for(var b=16-this.cache.length,w=r.allocUnsafe(b),S=-1;++S<b;)w.writeUInt8(b,S);return r.concat([this.cache,w])};function c(b,w,S){var C=t[b.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=r.from(w)),w.length!==C.key/8)throw new TypeError("invalid key length "+w.length);if(typeof S=="string"&&(S=r.from(S)),C.mode!=="GCM"&&S.length!==C.iv)throw new TypeError("invalid iv length "+S.length);return C.type==="stream"?new i(C.module,w,S):C.type==="auth"?new e(C.module,w,S):new g(C.module,w,S)}n(c,"createCipheriv");function y(b,w){var S=t[b.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var C=a(w,!1,S.key,S.iv);return c(b,C.key,C.iv)}return n(y,"createCipher"),wl.createCipheriv=c,wl.createCipher=y,wl}n(Pk,"requireEncrypter");var Ml={},qb;function Ok(){if(qb)return Ml;qb=1;var t=y8(),e=Ot().Buffer,r=Ag(),i=w8(),s=zn(),l=bf(),a=yf(),v=jt();function g(b,w,S){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new l.AES(w),this._prev=e.from(S),this._mode=b,this._autopadding=!0}n(g,"Decipher"),v(g,s),g.prototype._update=function(b){this._cache.add(b);for(var w,S,C=[];w=this._cache.get(this._autopadding);)S=this._mode.decrypt(this,w),C.push(S);return e.concat(C)},g.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return d(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function h(){this.cache=e.allocUnsafe(0)}n(h,"Splitter"),h.prototype.add=function(b){this.cache=e.concat([this.cache,b])},h.prototype.get=function(b){var w;if(b){if(this.cache.length>16)return w=this.cache.slice(0,16),this.cache=this.cache.slice(16),w}else if(this.cache.length>=16)return w=this.cache.slice(0,16),this.cache=this.cache.slice(16),w;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache};function d(b){var w=b[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var S=-1;++S<w;)if(b[S+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return b.slice(0,16-w)}n(d,"unpad");function c(b,w,S){var C=r[b.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof S=="string"&&(S=e.from(S)),C.mode!=="GCM"&&S.length!==C.iv)throw new TypeError("invalid iv length "+S.length);if(typeof w=="string"&&(w=e.from(w)),w.length!==C.key/8)throw new TypeError("invalid key length "+w.length);return C.type==="stream"?new i(C.module,w,S,!0):C.type==="auth"?new t(C.module,w,S,!0):new g(C.module,w,S)}n(c,"createDecipheriv");function y(b,w){var S=r[b.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var C=a(w,!1,S.key,S.iv);return c(b,C.key,C.iv)}return n(y,"createDecipher"),Ml.createDecipher=y,Ml.createDecipheriv=c,Ml}n(Ok,"requireDecrypter");var ey;function kg(){if(ey)return qr;ey=1;var t=Pk(),e=Ok(),r=b8;function i(){return Object.keys(r)}return n(i,"getCiphers"),qr.createCipher=qr.Cipher=t.createCipher,qr.createCipheriv=qr.Cipheriv=t.createCipheriv,qr.createDecipher=qr.Decipher=e.createDecipher,qr.createDecipheriv=qr.Decipheriv=e.createDecipheriv,qr.listCiphers=qr.getCiphers=i,qr}n(kg,"requireBrowser$7");var ed={},ty;function jk(){return ty||(ty=1,(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(ed)),ed}n(jk,"requireModes");var ry;function Lk(){if(ry)return Jr;ry=1;var t=_k(),e=kg(),r=Ag(),i=jk(),s=yf();function l(d,c){d=d.toLowerCase();var y,b;if(r[d])y=r[d].key,b=r[d].iv;else if(i[d])y=i[d].key*8,b=i[d].iv;else throw new TypeError("invalid suite type");var w=s(c,!1,y,b);return v(d,w.key,w.iv)}n(l,"createCipher");function a(d,c){d=d.toLowerCase();var y,b;if(r[d])y=r[d].key,b=r[d].iv;else if(i[d])y=i[d].key*8,b=i[d].iv;else throw new TypeError("invalid suite type");var w=s(c,!1,y,b);return g(d,w.key,w.iv)}n(a,"createDecipher");function v(d,c,y){if(d=d.toLowerCase(),r[d])return e.createCipheriv(d,c,y);if(i[d])return new t({key:c,iv:y,mode:d});throw new TypeError("invalid suite type")}n(v,"createCipheriv");function g(d,c,y){if(d=d.toLowerCase(),r[d])return e.createDecipheriv(d,c,y);if(i[d])return new t({key:c,iv:y,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}n(g,"createDecipheriv");function h(){return Object.keys(i).concat(e.getCiphers())}return n(h,"getCiphers"),Jr.createCipher=Jr.Cipher=l,Jr.createCipheriv=Jr.Cipheriv=v,Jr.createDecipher=Jr.Decipher=a,Jr.createDecipheriv=Jr.Decipheriv=g,Jr.listCiphers=Jr.getCiphers=h,Jr}n(Lk,"requireBrowser$6");var Kn={},lu={exports:{}},Dk=lu.exports,iy;function _r(){return iy||(iy=1,(function(t){(function(e,r){function i(U,u){if(!U)throw new Error(u||"Assertion failed")}n(i,"assert");function s(U,u){U.super_=u;var m=n(function(){},"TempCtor");m.prototype=u.prototype,U.prototype=new m,U.prototype.constructor=U}n(s,"inherits");function l(U,u,m){if(l.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((u==="le"||u==="be")&&(m=u,u=10),this._init(U||0,u||10,m||"be"))}n(l,"BN"),typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ni.Buffer}catch{}l.isBN=n(function(u){return u instanceof l?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===l.wordSize&&Array.isArray(u.words)},"isBN"),l.max=n(function(u,m){return u.cmp(m)>0?u:m},"max"),l.min=n(function(u,m){return u.cmp(m)<0?u:m},"min"),l.prototype._init=n(function(u,m,o){if(typeof u=="number")return this._initNumber(u,m,o);if(typeof u=="object")return this._initArray(u,m,o);m==="hex"&&(m=16),i(m===(m|0)&&m>=2&&m<=36),u=u.toString().replace(/\s+/g,"");var p=0;u[0]==="-"&&(p++,this.negative=1),p<u.length&&(m===16?this._parseHex(u,p,o):(this._parseBase(u,m,p),o==="le"&&this._initArray(this.toArray(),m,o)))},"init"),l.prototype._initNumber=n(function(u,m,o){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(i(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),m,o)},"_initNumber"),l.prototype._initArray=n(function(u,m,o){if(i(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,A,k=0;if(o==="be")for(p=u.length-1,x=0;p>=0;p-=3)A=u[p]|u[p-1]<<8|u[p-2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);else if(o==="le")for(p=0,x=0;p<u.length;p+=3)A=u[p]|u[p+1]<<8|u[p+2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);return this.strip()},"_initArray");function v(U,u){var m=U.charCodeAt(u);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}n(v,"parseHex4Bits");function g(U,u,m){var o=v(U,m);return m-1>=u&&(o|=v(U,m-1)<<4),o}n(g,"parseHexByte"),l.prototype._parseHex=n(function(u,m,o){this.length=Math.ceil((u.length-m)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,A=0,k;if(o==="be")for(p=u.length-1;p>=m;p-=2)k=g(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8;else{var M=u.length-m;for(p=M%2===0?m+1:m;p<u.length;p+=2)k=g(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8}this.strip()},"_parseHex");function h(U,u,m,o){for(var p=0,x=Math.min(U.length,m),A=u;A<x;A++){var k=U.charCodeAt(A)-48;p*=o,k>=49?p+=k-49+10:k>=17?p+=k-17+10:p+=k}return p}n(h,"parseBase"),l.prototype._parseBase=n(function(u,m,o){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=m)p++;p--,x=x/m|0;for(var A=u.length-o,k=A%p,M=Math.min(A,A-k)+o,f=0,_=o;_<M;_+=p)f=h(u,_,_+p,m),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var E=1;for(f=h(u,_,u.length,m),_=0;_<k;_++)E*=m;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},"_parseBase"),l.prototype.copy=n(function(u){u.words=new Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},"copy"),l.prototype.clone=n(function(){var u=new l(null);return this.copy(u),u},"clone"),l.prototype._expand=n(function(u){for(;this.length<u;)this.words[this.length++]=0;return this},"_expand"),l.prototype.strip=n(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),l.prototype._normSign=n(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),l.prototype.inspect=n(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=n(function(u,m){u=u||10,m=m|0||1;var o;if(u===16||u==="hex"){o="";for(var p=0,x=0,A=0;A<this.length;A++){var k=this.words[A],M=((k<<p|x)&16777215).toString(16);x=k>>>24-p&16777215,p+=2,p>=26&&(p-=26,A--),x!==0||A!==this.length-1?o=d[6-M.length]+M+o:o=M+o}for(x!==0&&(o=x.toString(16)+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(u===(u|0)&&u>=2&&u<=36){var f=c[u],_=y[u];o="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?o=I+o:o=d[f-I.length]+I+o}for(this.isZero()&&(o="0"+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}i(!1,"Base should be between 2 and 36")},"toString"),l.prototype.toNumber=n(function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},"toNumber"),l.prototype.toJSON=n(function(){return this.toString(16)},"toJSON"),l.prototype.toBuffer=n(function(u,m){return i(typeof a<"u"),this.toArrayLike(a,u,m)},"toBuffer"),l.prototype.toArray=n(function(u,m){return this.toArrayLike(Array,u,m)},"toArray"),l.prototype.toArrayLike=n(function(u,m,o){var p=this.byteLength(),x=o||Math.max(1,p);i(p<=x,"byte array longer than desired length"),i(x>0,"Requested array length <= 0"),this.strip();var A=m==="le",k=new u(x),M,f,_=this.clone();if(A){for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[f]=M;for(;f<x;f++)k[f]=0}else{for(f=0;f<x-p;f++)k[f]=0;for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[x-f-1]=M}return k},"toArrayLike"),Math.clz32?l.prototype._countBits=n(function(u){return 32-Math.clz32(u)},"_countBits"):l.prototype._countBits=n(function(u){var m=u,o=0;return m>=4096&&(o+=13,m>>>=13),m>=64&&(o+=7,m>>>=7),m>=8&&(o+=4,m>>>=4),m>=2&&(o+=2,m>>>=2),o+m},"_countBits"),l.prototype._zeroBits=n(function(u){if(u===0)return 26;var m=u,o=0;return(m&8191)===0&&(o+=13,m>>>=13),(m&127)===0&&(o+=7,m>>>=7),(m&15)===0&&(o+=4,m>>>=4),(m&3)===0&&(o+=2,m>>>=2),(m&1)===0&&o++,o},"_zeroBits"),l.prototype.bitLength=n(function(){var u=this.words[this.length-1],m=this._countBits(u);return(this.length-1)*26+m},"bitLength");function b(U){for(var u=new Array(U.bitLength()),m=0;m<u.length;m++){var o=m/26|0,p=m%26;u[m]=(U.words[o]&1<<p)>>>p}return u}n(b,"toBitArray"),l.prototype.zeroBits=n(function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var o=this._zeroBits(this.words[m]);if(u+=o,o!==26)break}return u},"zeroBits"),l.prototype.byteLength=n(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),l.prototype.toTwos=n(function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},"toTwos"),l.prototype.fromTwos=n(function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},"fromTwos"),l.prototype.isNeg=n(function(){return this.negative!==0},"isNeg"),l.prototype.neg=n(function(){return this.clone().ineg()},"neg"),l.prototype.ineg=n(function(){return this.isZero()||(this.negative^=1),this},"ineg"),l.prototype.iuor=n(function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},"iuor"),l.prototype.ior=n(function(u){return i((this.negative|u.negative)===0),this.iuor(u)},"ior"),l.prototype.or=n(function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},"or"),l.prototype.uor=n(function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},"uor"),l.prototype.iuand=n(function(u){var m;this.length>u.length?m=u:m=this;for(var o=0;o<m.length;o++)this.words[o]=this.words[o]&u.words[o];return this.length=m.length,this.strip()},"iuand"),l.prototype.iand=n(function(u){return i((this.negative|u.negative)===0),this.iuand(u)},"iand"),l.prototype.and=n(function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},"and"),l.prototype.uand=n(function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},"uand"),l.prototype.iuxor=n(function(u){var m,o;this.length>u.length?(m=this,o=u):(m=u,o=this);for(var p=0;p<o.length;p++)this.words[p]=m.words[p]^o.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},"iuxor"),l.prototype.ixor=n(function(u){return i((this.negative|u.negative)===0),this.iuxor(u)},"ixor"),l.prototype.xor=n(function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},"xor"),l.prototype.uxor=n(function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},"uxor"),l.prototype.inotn=n(function(u){i(typeof u=="number"&&u>=0);var m=Math.ceil(u/26)|0,o=u%26;this._expand(m),o>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return o>0&&(this.words[p]=~this.words[p]&67108863>>26-o),this.strip()},"inotn"),l.prototype.notn=n(function(u){return this.clone().inotn(u)},"notn"),l.prototype.setn=n(function(u,m){i(typeof u=="number"&&u>=0);var o=u/26|0,p=u%26;return this._expand(o+1),m?this.words[o]=this.words[o]|1<<p:this.words[o]=this.words[o]&~(1<<p),this.strip()},"setn"),l.prototype.iadd=n(function(u){var m;if(this.negative!==0&&u.negative===0)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();var o,p;this.length>u.length?(o=this,p=u):(o=u,p=this);for(var x=0,A=0;A<p.length;A++)m=(o.words[A]|0)+(p.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;for(;x!==0&&A<o.length;A++)m=(o.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;if(this.length=o.length,x!==0)this.words[this.length]=x,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},"iadd"),l.prototype.add=n(function(u){var m;return u.negative!==0&&this.negative===0?(u.negative=0,m=this.sub(u),u.negative^=1,m):u.negative===0&&this.negative!==0?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},"add"),l.prototype.isub=n(function(u){if(u.negative!==0){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var o=this.cmp(u);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;o>0?(p=this,x=u):(p=u,x=this);for(var A=0,k=0;k<x.length;k++)m=(p.words[k]|0)-(x.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;for(;A!==0&&k<p.length;k++)m=(p.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;if(A===0&&k<p.length&&p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=Math.max(this.length,k),p!==this&&(this.negative=1),this.strip()},"isub"),l.prototype.sub=n(function(u){return this.clone().isub(u)},"sub");function w(U,u,m){m.negative=u.negative^U.negative;var o=U.length+u.length|0;m.length=o,o=o-1|0;var p=U.words[0]|0,x=u.words[0]|0,A=p*x,k=A&67108863,M=A/67108864|0;m.words[0]=k;for(var f=1;f<o;f++){for(var _=M>>>26,E=M&67108863,I=Math.min(f,u.length-1),L=Math.max(0,f-U.length+1);L<=I;L++){var D=f-L|0;p=U.words[D]|0,x=u.words[L]|0,A=p*x+E,_+=A/67108864|0,E=A&67108863}m.words[f]=E|0,M=_|0}return M!==0?m.words[f]=M|0:m.length--,m.strip()}n(w,"smallMulTo");var S=n(function(u,m,o){var p=u.words,x=m.words,A=o.words,k=0,M,f,_,E=p[0]|0,I=E&8191,L=E>>>13,D=p[1]|0,F=D&8191,z=D>>>13,H=p[2]|0,V=H&8191,Y=H>>>13,Me=p[3]|0,se=Me&8191,ae=Me>>>13,ye=p[4]|0,G=ye&8191,re=ye>>>13,X=p[5]|0,Q=X&8191,le=X>>>13,Ae=p[6]|0,pe=Ae&8191,fe=Ae>>>13,J=p[7]|0,q=J&8191,te=J>>>13,de=p[8]|0,oe=de&8191,ue=de>>>13,Be=p[9]|0,we=Be&8191,De=Be>>>13,Xe=x[0]|0,ve=Xe&8191,Fe=Xe>>>13,ce=x[1]|0,be=ce&8191,Oe=ce>>>13,Te=x[2]|0,ke=Te&8191,ze=Te>>>13,Je=x[3]|0,Ce=Je&8191,Ee=Je>>>13,je=x[4]|0,_e=je&8191,He=je>>>13,Ke=x[5]|0,ie=Ke&8191,me=Ke>>>13,Ie=x[6]|0,xe=Ie&8191,Pe=Ie>>>13,Ze=x[7]|0,ne=Ze&8191,Ne=Ze>>>13,$e=x[8]|0,ge=$e&8191,Ge=$e>>>13,et=x[9]|0,Le=et&8191,Qe=et>>>13;o.negative=u.negative^m.negative,o.length=19,M=Math.imul(I,ve),f=Math.imul(I,Fe),f=f+Math.imul(L,ve)|0,_=Math.imul(L,Fe);var Re=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(F,ve),f=Math.imul(F,Fe),f=f+Math.imul(z,ve)|0,_=Math.imul(z,Fe),M=M+Math.imul(I,be)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(L,be)|0,_=_+Math.imul(L,Oe)|0;var Ue=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,M=Math.imul(V,ve),f=Math.imul(V,Fe),f=f+Math.imul(Y,ve)|0,_=Math.imul(Y,Fe),M=M+Math.imul(F,be)|0,f=f+Math.imul(F,Oe)|0,f=f+Math.imul(z,be)|0,_=_+Math.imul(z,Oe)|0,M=M+Math.imul(I,ke)|0,f=f+Math.imul(I,ze)|0,f=f+Math.imul(L,ke)|0,_=_+Math.imul(L,ze)|0;var at=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(at>>>26)|0,at&=67108863,M=Math.imul(se,ve),f=Math.imul(se,Fe),f=f+Math.imul(ae,ve)|0,_=Math.imul(ae,Fe),M=M+Math.imul(V,be)|0,f=f+Math.imul(V,Oe)|0,f=f+Math.imul(Y,be)|0,_=_+Math.imul(Y,Oe)|0,M=M+Math.imul(F,ke)|0,f=f+Math.imul(F,ze)|0,f=f+Math.imul(z,ke)|0,_=_+Math.imul(z,ze)|0,M=M+Math.imul(I,Ce)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ee)|0;var bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,M=Math.imul(G,ve),f=Math.imul(G,Fe),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Fe),M=M+Math.imul(se,be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(ae,be)|0,_=_+Math.imul(ae,Oe)|0,M=M+Math.imul(V,ke)|0,f=f+Math.imul(V,ze)|0,f=f+Math.imul(Y,ke)|0,_=_+Math.imul(Y,ze)|0,M=M+Math.imul(F,Ce)|0,f=f+Math.imul(F,Ee)|0,f=f+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ee)|0,M=M+Math.imul(I,_e)|0,f=f+Math.imul(I,He)|0,f=f+Math.imul(L,_e)|0,_=_+Math.imul(L,He)|0;var ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,M=Math.imul(Q,ve),f=Math.imul(Q,Fe),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Fe),M=M+Math.imul(G,be)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Oe)|0,M=M+Math.imul(se,ke)|0,f=f+Math.imul(se,ze)|0,f=f+Math.imul(ae,ke)|0,_=_+Math.imul(ae,ze)|0,M=M+Math.imul(V,Ce)|0,f=f+Math.imul(V,Ee)|0,f=f+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Ee)|0,M=M+Math.imul(F,_e)|0,f=f+Math.imul(F,He)|0,f=f+Math.imul(z,_e)|0,_=_+Math.imul(z,He)|0,M=M+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(L,ie)|0,_=_+Math.imul(L,me)|0;var St=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(St>>>26)|0,St&=67108863,M=Math.imul(pe,ve),f=Math.imul(pe,Fe),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Fe),M=M+Math.imul(Q,be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Oe)|0,M=M+Math.imul(G,ke)|0,f=f+Math.imul(G,ze)|0,f=f+Math.imul(re,ke)|0,_=_+Math.imul(re,ze)|0,M=M+Math.imul(se,Ce)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Ee)|0,M=M+Math.imul(V,_e)|0,f=f+Math.imul(V,He)|0,f=f+Math.imul(Y,_e)|0,_=_+Math.imul(Y,He)|0,M=M+Math.imul(F,ie)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(z,ie)|0,_=_+Math.imul(z,me)|0,M=M+Math.imul(I,xe)|0,f=f+Math.imul(I,Pe)|0,f=f+Math.imul(L,xe)|0,_=_+Math.imul(L,Pe)|0;var Bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,M=Math.imul(q,ve),f=Math.imul(q,Fe),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Fe),M=M+Math.imul(pe,be)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Oe)|0,M=M+Math.imul(Q,ke)|0,f=f+Math.imul(Q,ze)|0,f=f+Math.imul(le,ke)|0,_=_+Math.imul(le,ze)|0,M=M+Math.imul(G,Ce)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ee)|0,M=M+Math.imul(se,_e)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(ae,_e)|0,_=_+Math.imul(ae,He)|0,M=M+Math.imul(V,ie)|0,f=f+Math.imul(V,me)|0,f=f+Math.imul(Y,ie)|0,_=_+Math.imul(Y,me)|0,M=M+Math.imul(F,xe)|0,f=f+Math.imul(F,Pe)|0,f=f+Math.imul(z,xe)|0,_=_+Math.imul(z,Pe)|0,M=M+Math.imul(I,ne)|0,f=f+Math.imul(I,Ne)|0,f=f+Math.imul(L,ne)|0,_=_+Math.imul(L,Ne)|0;var Et=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,M=Math.imul(oe,ve),f=Math.imul(oe,Fe),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Fe),M=M+Math.imul(q,be)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Oe)|0,M=M+Math.imul(pe,ke)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(fe,ke)|0,_=_+Math.imul(fe,ze)|0,M=M+Math.imul(Q,Ce)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ee)|0,M=M+Math.imul(G,_e)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(re,_e)|0,_=_+Math.imul(re,He)|0,M=M+Math.imul(se,ie)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(ae,ie)|0,_=_+Math.imul(ae,me)|0,M=M+Math.imul(V,xe)|0,f=f+Math.imul(V,Pe)|0,f=f+Math.imul(Y,xe)|0,_=_+Math.imul(Y,Pe)|0,M=M+Math.imul(F,ne)|0,f=f+Math.imul(F,Ne)|0,f=f+Math.imul(z,ne)|0,_=_+Math.imul(z,Ne)|0,M=M+Math.imul(I,ge)|0,f=f+Math.imul(I,Ge)|0,f=f+Math.imul(L,ge)|0,_=_+Math.imul(L,Ge)|0;var Mt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(we,ve),f=Math.imul(we,Fe),f=f+Math.imul(De,ve)|0,_=Math.imul(De,Fe),M=M+Math.imul(oe,be)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Oe)|0,M=M+Math.imul(q,ke)|0,f=f+Math.imul(q,ze)|0,f=f+Math.imul(te,ke)|0,_=_+Math.imul(te,ze)|0,M=M+Math.imul(pe,Ce)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,Ee)|0,M=M+Math.imul(Q,_e)|0,f=f+Math.imul(Q,He)|0,f=f+Math.imul(le,_e)|0,_=_+Math.imul(le,He)|0,M=M+Math.imul(G,ie)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,M=M+Math.imul(se,xe)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(ae,xe)|0,_=_+Math.imul(ae,Pe)|0,M=M+Math.imul(V,ne)|0,f=f+Math.imul(V,Ne)|0,f=f+Math.imul(Y,ne)|0,_=_+Math.imul(Y,Ne)|0,M=M+Math.imul(F,ge)|0,f=f+Math.imul(F,Ge)|0,f=f+Math.imul(z,ge)|0,_=_+Math.imul(z,Ge)|0,M=M+Math.imul(I,Le)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(L,Le)|0,_=_+Math.imul(L,Qe)|0;var zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,M=Math.imul(we,be),f=Math.imul(we,Oe),f=f+Math.imul(De,be)|0,_=Math.imul(De,Oe),M=M+Math.imul(oe,ke)|0,f=f+Math.imul(oe,ze)|0,f=f+Math.imul(ue,ke)|0,_=_+Math.imul(ue,ze)|0,M=M+Math.imul(q,Ce)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(te,Ce)|0,_=_+Math.imul(te,Ee)|0,M=M+Math.imul(pe,_e)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(fe,_e)|0,_=_+Math.imul(fe,He)|0,M=M+Math.imul(Q,ie)|0,f=f+Math.imul(Q,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,M=M+Math.imul(G,xe)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Pe)|0,M=M+Math.imul(se,ne)|0,f=f+Math.imul(se,Ne)|0,f=f+Math.imul(ae,ne)|0,_=_+Math.imul(ae,Ne)|0,M=M+Math.imul(V,ge)|0,f=f+Math.imul(V,Ge)|0,f=f+Math.imul(Y,ge)|0,_=_+Math.imul(Y,Ge)|0,M=M+Math.imul(F,Le)|0,f=f+Math.imul(F,Qe)|0,f=f+Math.imul(z,Le)|0,_=_+Math.imul(z,Qe)|0;var Ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,M=Math.imul(we,ke),f=Math.imul(we,ze),f=f+Math.imul(De,ke)|0,_=Math.imul(De,ze),M=M+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,Ee)|0,M=M+Math.imul(q,_e)|0,f=f+Math.imul(q,He)|0,f=f+Math.imul(te,_e)|0,_=_+Math.imul(te,He)|0,M=M+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,M=M+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Pe)|0,M=M+Math.imul(G,ne)|0,f=f+Math.imul(G,Ne)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,Ne)|0,M=M+Math.imul(se,ge)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(ae,ge)|0,_=_+Math.imul(ae,Ge)|0,M=M+Math.imul(V,Le)|0,f=f+Math.imul(V,Qe)|0,f=f+Math.imul(Y,Le)|0,_=_+Math.imul(Y,Qe)|0;var Lt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,M=Math.imul(we,Ce),f=Math.imul(we,Ee),f=f+Math.imul(De,Ce)|0,_=Math.imul(De,Ee),M=M+Math.imul(oe,_e)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(ue,_e)|0,_=_+Math.imul(ue,He)|0,M=M+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,M=M+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Pe)|0,M=M+Math.imul(Q,ne)|0,f=f+Math.imul(Q,Ne)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,Ne)|0,M=M+Math.imul(G,ge)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Ge)|0,M=M+Math.imul(se,Le)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(ae,Le)|0,_=_+Math.imul(ae,Qe)|0;var Ft=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(we,_e),f=Math.imul(we,He),f=f+Math.imul(De,_e)|0,_=Math.imul(De,He),M=M+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,M=M+Math.imul(q,xe)|0,f=f+Math.imul(q,Pe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Pe)|0,M=M+Math.imul(pe,ne)|0,f=f+Math.imul(pe,Ne)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,Ne)|0,M=M+Math.imul(Q,ge)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Ge)|0,M=M+Math.imul(G,Le)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(re,Le)|0,_=_+Math.imul(re,Qe)|0;var Nt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,M=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(De,ie)|0,_=Math.imul(De,me),M=M+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Pe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Pe)|0,M=M+Math.imul(q,ne)|0,f=f+Math.imul(q,Ne)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,Ne)|0,M=M+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Ge)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Ge)|0,M=M+Math.imul(Q,Le)|0,f=f+Math.imul(Q,Qe)|0,f=f+Math.imul(le,Le)|0,_=_+Math.imul(le,Qe)|0;var Dt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,M=Math.imul(we,xe),f=Math.imul(we,Pe),f=f+Math.imul(De,xe)|0,_=Math.imul(De,Pe),M=M+Math.imul(oe,ne)|0,f=f+Math.imul(oe,Ne)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,Ne)|0,M=M+Math.imul(q,ge)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Ge)|0,M=M+Math.imul(pe,Le)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,M=Math.imul(we,ne),f=Math.imul(we,Ne),f=f+Math.imul(De,ne)|0,_=Math.imul(De,Ne),M=M+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Ge)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Ge)|0,M=M+Math.imul(q,Le)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(te,Le)|0,_=_+Math.imul(te,Qe)|0;var Zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,M=Math.imul(we,ge),f=Math.imul(we,Ge),f=f+Math.imul(De,ge)|0,_=Math.imul(De,Ge),M=M+Math.imul(oe,Le)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,Le)|0,_=_+Math.imul(ue,Qe)|0;var Vt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,M=Math.imul(we,Le),f=Math.imul(we,Qe),f=f+Math.imul(De,Le)|0,_=Math.imul(De,Qe);var Gt=(k+M|0)+((f&8191)<<13)|0;return k=(_+(f>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A[0]=Re,A[1]=Ue,A[2]=at,A[3]=bt,A[4]=ht,A[5]=St,A[6]=Bt,A[7]=Et,A[8]=Mt,A[9]=zt,A[10]=Ht,A[11]=Lt,A[12]=Ft,A[13]=Nt,A[14]=Dt,A[15]=Ut,A[16]=Zt,A[17]=Vt,A[18]=Gt,k!==0&&(A[19]=k,o.length++),o},"comb10MulTo");Math.imul||(S=w);function C(U,u,m){m.negative=u.negative^U.negative,m.length=U.length+u.length;for(var o=0,p=0,x=0;x<m.length-1;x++){var A=p;p=0;for(var k=o&67108863,M=Math.min(x,u.length-1),f=Math.max(0,x-U.length+1);f<=M;f++){var _=x-f,E=U.words[_]|0,I=u.words[f]|0,L=E*I,D=L&67108863;A=A+(L/67108864|0)|0,D=D+k|0,k=D&67108863,A=A+(D>>>26)|0,p+=A>>>26,A&=67108863}m.words[x]=k,o=A,A=p}return o!==0?m.words[x]=o:m.length--,m.strip()}n(C,"bigMulTo");function R(U,u,m){var o=new T;return o.mulp(U,u,m)}n(R,"jumboMulTo"),l.prototype.mulTo=n(function(u,m){var o,p=this.length+u.length;return this.length===10&&u.length===10?o=S(this,u,m):p<63?o=w(this,u,m):p<1024?o=C(this,u,m):o=R(this,u,m),o},"mulTo");function T(U,u){this.x=U,this.y=u}n(T,"FFTM"),T.prototype.makeRBT=n(function(u){for(var m=new Array(u),o=l.prototype._countBits(u)-1,p=0;p<u;p++)m[p]=this.revBin(p,o,u);return m},"makeRBT"),T.prototype.revBin=n(function(u,m,o){if(u===0||u===o-1)return u;for(var p=0,x=0;x<m;x++)p|=(u&1)<<m-x-1,u>>=1;return p},"revBin"),T.prototype.permute=n(function(u,m,o,p,x,A){for(var k=0;k<A;k++)p[k]=m[u[k]],x[k]=o[u[k]]},"permute"),T.prototype.transform=n(function(u,m,o,p,x,A){this.permute(A,u,m,o,p,x);for(var k=1;k<x;k<<=1)for(var M=k<<1,f=Math.cos(2*Math.PI/M),_=Math.sin(2*Math.PI/M),E=0;E<x;E+=M)for(var I=f,L=_,D=0;D<k;D++){var F=o[E+D],z=p[E+D],H=o[E+D+k],V=p[E+D+k],Y=I*H-L*V;V=I*V+L*H,H=Y,o[E+D]=F+H,p[E+D]=z+V,o[E+D+k]=F-H,p[E+D+k]=z-V,D!==M&&(Y=f*I-_*L,L=f*L+_*I,I=Y)}},"transform"),T.prototype.guessLen13b=n(function(u,m){var o=Math.max(m,u)|1,p=o&1,x=0;for(o=o/2|0;o;o=o>>>1)x++;return 1<<x+1+p},"guessLen13b"),T.prototype.conjugate=n(function(u,m,o){if(!(o<=1))for(var p=0;p<o/2;p++){var x=u[p];u[p]=u[o-p-1],u[o-p-1]=x,x=m[p],m[p]=-m[o-p-1],m[o-p-1]=-x}},"conjugate"),T.prototype.normalize13b=n(function(u,m){for(var o=0,p=0;p<m/2;p++){var x=Math.round(u[2*p+1]/m)*8192+Math.round(u[2*p]/m)+o;u[p]=x&67108863,x<67108864?o=0:o=x/67108864|0}return u},"normalize13b"),T.prototype.convert13b=n(function(u,m,o,p){for(var x=0,A=0;A<m;A++)x=x+(u[A]|0),o[2*A]=x&8191,x=x>>>13,o[2*A+1]=x&8191,x=x>>>13;for(A=2*m;A<p;++A)o[A]=0;i(x===0),i((x&-8192)===0)},"convert13b"),T.prototype.stub=n(function(u){for(var m=new Array(u),o=0;o<u;o++)m[o]=0;return m},"stub"),T.prototype.mulp=n(function(u,m,o){var p=2*this.guessLen13b(u.length,m.length),x=this.makeRBT(p),A=this.stub(p),k=new Array(p),M=new Array(p),f=new Array(p),_=new Array(p),E=new Array(p),I=new Array(p),L=o.words;L.length=p,this.convert13b(u.words,u.length,k,p),this.convert13b(m.words,m.length,_,p),this.transform(k,A,M,f,p,x),this.transform(_,A,E,I,p,x);for(var D=0;D<p;D++){var F=M[D]*E[D]-f[D]*I[D];f[D]=M[D]*I[D]+f[D]*E[D],M[D]=F}return this.conjugate(M,f,p),this.transform(M,f,L,A,p,x),this.conjugate(L,A,p),this.normalize13b(L,p),o.negative=u.negative^m.negative,o.length=u.length+m.length,o.strip()},"mulp"),l.prototype.mul=n(function(u){var m=new l(null);return m.words=new Array(this.length+u.length),this.mulTo(u,m)},"mul"),l.prototype.mulf=n(function(u){var m=new l(null);return m.words=new Array(this.length+u.length),R(this,u,m)},"mulf"),l.prototype.imul=n(function(u){return this.clone().mulTo(u,this)},"imul"),l.prototype.imuln=n(function(u){i(typeof u=="number"),i(u<67108864);for(var m=0,o=0;o<this.length;o++){var p=(this.words[o]|0)*u,x=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=x>>>26,this.words[o]=x&67108863}return m!==0&&(this.words[o]=m,this.length++),this.length=u===0?1:this.length,this},"imuln"),l.prototype.muln=n(function(u){return this.clone().imuln(u)},"muln"),l.prototype.sqr=n(function(){return this.mul(this)},"sqr"),l.prototype.isqr=n(function(){return this.imul(this.clone())},"isqr"),l.prototype.pow=n(function(u){var m=b(u);if(m.length===0)return new l(1);for(var o=this,p=0;p<m.length&&m[p]===0;p++,o=o.sqr());if(++p<m.length)for(var x=o.sqr();p<m.length;p++,x=x.sqr())m[p]!==0&&(o=o.mul(x));return o},"pow"),l.prototype.iushln=n(function(u){i(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=67108863>>>26-m<<26-m,x;if(m!==0){var A=0;for(x=0;x<this.length;x++){var k=this.words[x]&p,M=(this.words[x]|0)-k<<m;this.words[x]=M|A,A=k>>>26-m}A&&(this.words[x]=A,this.length++)}if(o!==0){for(x=this.length-1;x>=0;x--)this.words[x+o]=this.words[x];for(x=0;x<o;x++)this.words[x]=0;this.length+=o}return this.strip()},"iushln"),l.prototype.ishln=n(function(u){return i(this.negative===0),this.iushln(u)},"ishln"),l.prototype.iushrn=n(function(u,m,o){i(typeof u=="number"&&u>=0);var p;m?p=(m-m%26)/26:p=0;var x=u%26,A=Math.min((u-x)/26,this.length),k=67108863^67108863>>>x<<x,M=o;if(p-=A,p=Math.max(0,p),M){for(var f=0;f<A;f++)M.words[f]=this.words[f];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=p);f--){var E=this.words[f]|0;this.words[f]=_<<26-x|E>>>x,_=E&k}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),l.prototype.ishrn=n(function(u,m,o){return i(this.negative===0),this.iushrn(u,m,o)},"ishrn"),l.prototype.shln=n(function(u){return this.clone().ishln(u)},"shln"),l.prototype.ushln=n(function(u){return this.clone().iushln(u)},"ushln"),l.prototype.shrn=n(function(u){return this.clone().ishrn(u)},"shrn"),l.prototype.ushrn=n(function(u){return this.clone().iushrn(u)},"ushrn"),l.prototype.testn=n(function(u){i(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return!1;var x=this.words[o];return!!(x&p)},"testn"),l.prototype.imaskn=n(function(u){i(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(m!==0&&o++,this.length=Math.min(o,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},"imaskn"),l.prototype.maskn=n(function(u){return this.clone().imaskn(u)},"maskn"),l.prototype.iaddn=n(function(u){return i(typeof u=="number"),i(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},"iaddn"),l.prototype._iaddn=n(function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},"_iaddn"),l.prototype.isubn=n(function(u){if(i(typeof u=="number"),i(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},"isubn"),l.prototype.addn=n(function(u){return this.clone().iaddn(u)},"addn"),l.prototype.subn=n(function(u){return this.clone().isubn(u)},"subn"),l.prototype.iabs=n(function(){return this.negative=0,this},"iabs"),l.prototype.abs=n(function(){return this.clone().iabs()},"abs"),l.prototype._ishlnsubmul=n(function(u,m,o){var p=u.length+o,x;this._expand(p);var A,k=0;for(x=0;x<u.length;x++){A=(this.words[x+o]|0)+k;var M=(u.words[x]|0)*m;A-=M&67108863,k=(A>>26)-(M/67108864|0),this.words[x+o]=A&67108863}for(;x<this.length-o;x++)A=(this.words[x+o]|0)+k,k=A>>26,this.words[x+o]=A&67108863;if(k===0)return this.strip();for(i(k===-1),k=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+k,k=A>>26,this.words[x]=A&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),l.prototype._wordDiv=n(function(u,m){var o=this.length-u.length,p=this.clone(),x=u,A=x.words[x.length-1]|0,k=this._countBits(A);o=26-k,o!==0&&(x=x.ushln(o),p.iushln(o),A=x.words[x.length-1]|0);var M=p.length-x.length,f;if(m!=="mod"){f=new l(null),f.length=M+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=p.clone()._ishlnsubmul(x,1,M);E.negative===0&&(p=E,f&&(f.words[M]=1));for(var I=M-1;I>=0;I--){var L=(p.words[x.length+I]|0)*67108864+(p.words[x.length+I-1]|0);for(L=Math.min(L/A|0,67108863),p._ishlnsubmul(x,L,I);p.negative!==0;)L--,p.negative=0,p._ishlnsubmul(x,1,I),p.isZero()||(p.negative^=1);f&&(f.words[I]=L)}return f&&f.strip(),p.strip(),m!=="div"&&o!==0&&p.iushrn(o),{div:f||null,mod:p}},"_wordDiv"),l.prototype.divmod=n(function(u,m,o){if(i(!u.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var p,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,m),m!=="mod"&&(p=A.div.neg()),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.iadd(u)),{div:p,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),m),m!=="mod"&&(p=A.div.neg()),{div:p,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),m),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new l(0),mod:this}:u.length===1?m==="div"?{div:this.divn(u.words[0]),mod:null}:m==="mod"?{div:null,mod:new l(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new l(this.modn(u.words[0]))}:this._wordDiv(u,m)},"divmod"),l.prototype.div=n(function(u){return this.divmod(u,"div",!1).div},"div"),l.prototype.mod=n(function(u){return this.divmod(u,"mod",!1).mod},"mod"),l.prototype.umod=n(function(u){return this.divmod(u,"mod",!0).mod},"umod"),l.prototype.divRound=n(function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var o=m.div.negative!==0?m.mod.isub(u):m.mod,p=u.ushrn(1),x=u.andln(1),A=o.cmp(p);return A<0||x===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},"divRound"),l.prototype.modn=n(function(u){i(u<=67108863);for(var m=(1<<26)%u,o=0,p=this.length-1;p>=0;p--)o=(m*o+(this.words[p]|0))%u;return o},"modn"),l.prototype.idivn=n(function(u){i(u<=67108863);for(var m=0,o=this.length-1;o>=0;o--){var p=(this.words[o]|0)+m*67108864;this.words[o]=p/u|0,m=p%u}return this.strip()},"idivn"),l.prototype.divn=n(function(u){return this.clone().idivn(u)},"divn"),l.prototype.egcd=n(function(u){i(u.negative===0),i(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new l(1),x=new l(0),A=new l(0),k=new l(1),M=0;m.isEven()&&o.isEven();)m.iushrn(1),o.iushrn(1),++M;for(var f=o.clone(),_=m.clone();!m.isZero();){for(var E=0,I=1;(m.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(m.iushrn(E);E-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(f),x.isub(_)),p.iushrn(1),x.iushrn(1);for(var L=0,D=1;(o.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(o.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(f),k.isub(_)),A.iushrn(1),k.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(A),x.isub(k)):(o.isub(m),A.isub(p),k.isub(x))}return{a:A,b:k,gcd:o.iushln(M)}},"egcd"),l.prototype._invmp=n(function(u){i(u.negative===0),i(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new l(1),x=new l(0),A=o.clone();m.cmpn(1)>0&&o.cmpn(1)>0;){for(var k=0,M=1;(m.words[0]&M)===0&&k<26;++k,M<<=1);if(k>0)for(m.iushrn(k);k-- >0;)p.isOdd()&&p.iadd(A),p.iushrn(1);for(var f=0,_=1;(o.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(o.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(x)):(o.isub(m),x.isub(p))}var E;return m.cmpn(1)===0?E=p:E=x,E.cmpn(0)<0&&E.iadd(u),E},"_invmp"),l.prototype.gcd=n(function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),o=u.clone();m.negative=0,o.negative=0;for(var p=0;m.isEven()&&o.isEven();p++)m.iushrn(1),o.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;o.isEven();)o.iushrn(1);var x=m.cmp(o);if(x<0){var A=m;m=o,o=A}else if(x===0||o.cmpn(1)===0)break;m.isub(o)}while(!0);return o.iushln(p)},"gcd"),l.prototype.invm=n(function(u){return this.egcd(u).a.umod(u)},"invm"),l.prototype.isEven=n(function(){return(this.words[0]&1)===0},"isEven"),l.prototype.isOdd=n(function(){return(this.words[0]&1)===1},"isOdd"),l.prototype.andln=n(function(u){return this.words[0]&u},"andln"),l.prototype.bincn=n(function(u){i(typeof u=="number");var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return this._expand(o+1),this.words[o]|=p,this;for(var x=p,A=o;x!==0&&A<this.length;A++){var k=this.words[A]|0;k+=x,x=k>>>26,k&=67108863,this.words[A]=k}return x!==0&&(this.words[A]=x,this.length++),this},"bincn"),l.prototype.isZero=n(function(){return this.length===1&&this.words[0]===0},"isZero"),l.prototype.cmpn=n(function(u){var m=u<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var o;if(this.length>1)o=1;else{m&&(u=-u),i(u<=67108863,"Number is too big");var p=this.words[0]|0;o=p===u?0:p<u?-1:1}return this.negative!==0?-o|0:o},"cmpn"),l.prototype.cmp=n(function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var m=this.ucmp(u);return this.negative!==0?-m|0:m},"cmp"),l.prototype.ucmp=n(function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,o=this.length-1;o>=0;o--){var p=this.words[o]|0,x=u.words[o]|0;if(p!==x){p<x?m=-1:p>x&&(m=1);break}}return m},"ucmp"),l.prototype.gtn=n(function(u){return this.cmpn(u)===1},"gtn"),l.prototype.gt=n(function(u){return this.cmp(u)===1},"gt"),l.prototype.gten=n(function(u){return this.cmpn(u)>=0},"gten"),l.prototype.gte=n(function(u){return this.cmp(u)>=0},"gte"),l.prototype.ltn=n(function(u){return this.cmpn(u)===-1},"ltn"),l.prototype.lt=n(function(u){return this.cmp(u)===-1},"lt"),l.prototype.lten=n(function(u){return this.cmpn(u)<=0},"lten"),l.prototype.lte=n(function(u){return this.cmp(u)<=0},"lte"),l.prototype.eqn=n(function(u){return this.cmpn(u)===0},"eqn"),l.prototype.eq=n(function(u){return this.cmp(u)===0},"eq"),l.red=n(function(u){return new ee(u)},"red"),l.prototype.toRed=n(function(u){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},"toRed"),l.prototype.fromRed=n(function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),l.prototype._forceRed=n(function(u){return this.red=u,this},"_forceRed"),l.prototype.forceRed=n(function(u){return i(!this.red,"Already a number in reduction context"),this._forceRed(u)},"forceRed"),l.prototype.redAdd=n(function(u){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},"redAdd"),l.prototype.redIAdd=n(function(u){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},"redIAdd"),l.prototype.redSub=n(function(u){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},"redSub"),l.prototype.redISub=n(function(u){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},"redISub"),l.prototype.redShl=n(function(u){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},"redShl"),l.prototype.redMul=n(function(u){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},"redMul"),l.prototype.redIMul=n(function(u){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},"redIMul"),l.prototype.redSqr=n(function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),l.prototype.redISqr=n(function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),l.prototype.redSqrt=n(function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),l.prototype.redInvm=n(function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),l.prototype.redNeg=n(function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),l.prototype.redPow=n(function(u){return i(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)},"redPow");var P={k256:null,p224:null,p192:null,p25519:null};function O(U,u){this.name=U,this.p=new l(u,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(O,"MPrime"),O.prototype._tmp=n(function(){var u=new l(null);return u.words=new Array(Math.ceil(this.n/13)),u},"_tmp"),O.prototype.ireduce=n(function(u){var m=u,o;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),o=m.bitLength();while(o>this.n);var p=o<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},"ireduce"),O.prototype.split=n(function(u,m){u.iushrn(this.n,0,m)},"split"),O.prototype.imulK=n(function(u){return u.imul(this.k)},"imulK");function j(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(j,"K256"),s(j,O),j.prototype.split=n(function(u,m){for(var o=4194303,p=Math.min(u.length,9),x=0;x<p;x++)m.words[x]=u.words[x];if(m.length=p,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(m.words[m.length++]=A&o,x=10;x<u.length;x++){var k=u.words[x]|0;u.words[x-10]=(k&o)<<4|A>>>22,A=k}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},"split"),j.prototype.imulK=n(function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,o=0;o<u.length;o++){var p=u.words[o]|0;m+=p*977,u.words[o]=m&67108863,m=p*64+(m/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u},"imulK");function B(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(B,"P224"),s(B,O);function Z(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Z,"P192"),s(Z,O);function W(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(W,"P25519"),s(W,O),W.prototype.imulK=n(function(u){for(var m=0,o=0;o<u.length;o++){var p=(u.words[o]|0)*19+m,x=p&67108863;p>>>=26,u.words[o]=x,m=p}return m!==0&&(u.words[u.length++]=m),u},"imulK"),l._prime=n(function(u){if(P[u])return P[u];var m;if(u==="k256")m=new j;else if(u==="p224")m=new B;else if(u==="p192")m=new Z;else if(u==="p25519")m=new W;else throw new Error("Unknown prime "+u);return P[u]=m,m},"prime");function ee(U){if(typeof U=="string"){var u=l._prime(U);this.m=u.p,this.prime=u}else i(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}n(ee,"Red"),ee.prototype._verify1=n(function(u){i(u.negative===0,"red works only with positives"),i(u.red,"red works only with red numbers")},"_verify1"),ee.prototype._verify2=n(function(u,m){i((u.negative|m.negative)===0,"red works only with positives"),i(u.red&&u.red===m.red,"red works only with red numbers")},"_verify2"),ee.prototype.imod=n(function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},"imod"),ee.prototype.neg=n(function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},"neg"),ee.prototype.add=n(function(u,m){this._verify2(u,m);var o=u.add(m);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},"add"),ee.prototype.iadd=n(function(u,m){this._verify2(u,m);var o=u.iadd(m);return o.cmp(this.m)>=0&&o.isub(this.m),o},"iadd"),ee.prototype.sub=n(function(u,m){this._verify2(u,m);var o=u.sub(m);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},"sub"),ee.prototype.isub=n(function(u,m){this._verify2(u,m);var o=u.isub(m);return o.cmpn(0)<0&&o.iadd(this.m),o},"isub"),ee.prototype.shl=n(function(u,m){return this._verify1(u),this.imod(u.ushln(m))},"shl"),ee.prototype.imul=n(function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},"imul"),ee.prototype.mul=n(function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},"mul"),ee.prototype.isqr=n(function(u){return this.imul(u,u.clone())},"isqr"),ee.prototype.sqr=n(function(u){return this.mul(u,u)},"sqr"),ee.prototype.sqrt=n(function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(i(m%2===1),m===3){var o=this.m.add(new l(1)).iushrn(2);return this.pow(u,o)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);i(!p.isZero());var A=new l(1).toRed(this),k=A.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new l(2*f*f).toRed(this);this.pow(f,M).cmp(k)!==0;)f.redIAdd(k);for(var _=this.pow(f,p),E=this.pow(u,p.addn(1).iushrn(1)),I=this.pow(u,p),L=x;I.cmp(A)!==0;){for(var D=I,F=0;D.cmp(A)!==0;F++)D=D.redSqr();i(F<L);var z=this.pow(_,new l(1).iushln(L-F-1));E=E.redMul(z),_=z.redSqr(),I=I.redMul(_),L=F}return E},"sqrt"),ee.prototype.invm=n(function(u){var m=u._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},"invm"),ee.prototype.pow=n(function(u,m){if(m.isZero())return new l(1).toRed(this);if(m.cmpn(1)===0)return u.clone();var o=4,p=new Array(1<<o);p[0]=new l(1).toRed(this),p[1]=u;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],u);var A=p[0],k=0,M=0,f=m.bitLength()%26;for(f===0&&(f=26),x=m.length-1;x>=0;x--){for(var _=m.words[x],E=f-1;E>=0;E--){var I=_>>E&1;if(A!==p[0]&&(A=this.sqr(A)),I===0&&k===0){M=0;continue}k<<=1,k|=I,M++,!(M!==o&&(x!==0||E!==0))&&(A=this.mul(A,p[k]),M=0,k=0)}f=26}return A},"pow"),ee.prototype.convertTo=n(function(u){var m=u.umod(this.m);return m===u?m.clone():m},"convertTo"),ee.prototype.convertFrom=n(function(u){var m=u.clone();return m.red=null,m},"convertFrom"),l.mont=n(function(u){return new $(u)},"mont");function $(U){ee.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n($,"Mont"),s($,ee),$.prototype.convertTo=n(function(u){return this.imod(u.ushln(this.shift))},"convertTo"),$.prototype.convertFrom=n(function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},"convertFrom"),$.prototype.imul=n(function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var o=u.imul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},"imul"),$.prototype.mul=n(function(u,m){if(u.isZero()||m.isZero())return new l(0)._forceRed(this);var o=u.mul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},"mul"),$.prototype.invm=n(function(u){var m=this.imod(u._invmp(this.m).mul(this.r2));return m._forceRed(this)},"invm")})(t,Dk)})(lu)),lu.exports}n(_r,"requireBn$2");var Sl={exports:{}},ny;function Ng(){if(ny)return Sl.exports;ny=1;var t;Sl.exports=n(function(s){return t||(t=new e(null)),t.generate(s)},"rand");function e(i){this.rand=i}if(n(e,"Rand"),Sl.exports.Rand=e,e.prototype.generate=n(function(s){return this._rand(s)},"generate"),e.prototype._rand=n(function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var l=new Uint8Array(s),a=0;a<l.length;a++)l[a]=this.rand.getByte();return l},"_rand"),typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=n(function(s){var l=new Uint8Array(s);return self.crypto.getRandomValues(l),l},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=n(function(s){var l=new Uint8Array(s);return self.msCrypto.getRandomValues(l),l},"_rand"):typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=ni;if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=n(function(s){return r.randomBytes(s)},"_rand")}catch{}return Sl.exports}n(Ng,"requireBrorand");var td,sy;function x8(){if(sy)return td;sy=1;var t=_r(),e=Ng();function r(i){this.rand=i||new e.Rand}return n(r,"MillerRabin"),td=r,r.create=n(function(s){return new r(s)},"create"),r.prototype._randbelow=n(function(s){var l=s.bitLength(),a=Math.ceil(l/8);do var v=new t(this.rand.generate(a));while(v.cmp(s)>=0);return v},"_randbelow"),r.prototype._randrange=n(function(s,l){var a=l.sub(s);return s.add(this._randbelow(a))},"_randrange"),r.prototype.test=n(function(s,l,a){var v=s.bitLength(),g=t.mont(s),h=new t(1).toRed(g);l||(l=Math.max(1,v/48|0));for(var d=s.subn(1),c=0;!d.testn(c);c++);for(var y=s.shrn(c),b=d.toRed(g),w=!0;l>0;l--){var S=this._randrange(new t(2),d);a&&a(S);var C=S.toRed(g).redPow(y);if(!(C.cmp(h)===0||C.cmp(b)===0)){for(var R=1;R<c;R++){if(C=C.redSqr(),C.cmp(h)===0)return!1;if(C.cmp(b)===0)break}if(R===c)return!1}}return w},"test"),r.prototype.getDivisor=n(function(s,l){var a=s.bitLength(),v=t.mont(s),g=new t(1).toRed(v);l||(l=Math.max(1,a/48|0));for(var h=s.subn(1),d=0;!h.testn(d);d++);for(var c=s.shrn(d),y=h.toRed(v);l>0;l--){var b=this._randrange(new t(2),h),w=s.gcd(b);if(w.cmpn(1)!==0)return w;var S=b.toRed(v).redPow(c);if(!(S.cmp(g)===0||S.cmp(y)===0)){for(var C=1;C<d;C++){if(S=S.redSqr(),S.cmp(g)===0)return S.fromRed().subn(1).gcd(s);if(S.cmp(y)===0)break}if(C===d)return S=S.redSqr(),S.fromRed().subn(1).gcd(s)}}return!1},"getDivisor"),td}n(x8,"requireMr");var rd,ay;function _8(){if(ay)return rd;ay=1;var t=ha();rd=C,C.simpleSieve=w,C.fermatTest=S;var e=_r(),r=new e(24),i=x8(),s=new i,l=new e(1),a=new e(2),v=new e(5);new e(16),new e(8);var g=new e(10),h=new e(3);new e(7);var d=new e(11),c=new e(4);new e(12);var y=null;function b(){if(y!==null)return y;var R=1048576,T=[];T[0]=2;for(var P=1,O=3;O<R;O+=2){for(var j=Math.ceil(Math.sqrt(O)),B=0;B<P&&T[B]<=j&&O%T[B]!==0;B++);P!==B&&T[B]<=j||(T[P++]=O)}return y=T,T}n(b,"_getPrimes");function w(R){for(var T=b(),P=0;P<T.length;P++)if(R.modn(T[P])===0)return R.cmpn(T[P])===0;return!0}n(w,"simpleSieve");function S(R){var T=e.mont(R);return a.toRed(T).redPow(R.subn(1)).fromRed().cmpn(1)===0}n(S,"fermatTest");function C(R,T){if(R<16)return T===2||T===5?new e([140,123]):new e([140,39]);T=new e(T);for(var P,O;;){for(P=new e(t(Math.ceil(R/8)));P.bitLength()>R;)P.ishrn(1);if(P.isEven()&&P.iadd(l),P.testn(1)||P.iadd(a),T.cmp(a)){if(!T.cmp(v))for(;P.mod(g).cmp(h);)P.iadd(c)}else for(;P.mod(r).cmp(d);)P.iadd(c);if(O=P.shrn(1),w(O)&&w(P)&&S(O)&&S(P)&&s.test(O)&&s.test(P))return P}}return n(C,"findPrime"),rd}n(_8,"requireGeneratePrime");const Bk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},Fk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},Uk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},zk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},$k={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},Hk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},Zk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},Vk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},Gk={modp1:Bk,modp2:Fk,modp5:Uk,modp14:zk,modp15:$k,modp16:Hk,modp17:Zk,modp18:Vk};var id,oy;function Wk(){if(oy)return id;oy=1;var t=_r(),e=x8(),r=new e,i=new t(24),s=new t(11),l=new t(10),a=new t(3),v=new t(7),g=_8(),h=ha();id=w;function d(C,R){return R=R||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,R)),this._pub=new t(C),this}n(d,"setPublicKey");function c(C,R){return R=R||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,R)),this._priv=new t(C),this}n(c,"setPrivateKey");var y={};function b(C,R){var T=R.toString("hex"),P=[T,C.toString(16)].join("_");if(P in y)return y[P];var O=0;if(C.isEven()||!g.simpleSieve||!g.fermatTest(C)||!r.test(C))return O+=1,T==="02"||T==="05"?O+=8:O+=4,y[P]=O,O;r.test(C.shrn(1))||(O+=2);var j;switch(T){case"02":C.mod(i).cmp(s)&&(O+=8);break;case"05":j=C.mod(l),j.cmp(a)&&j.cmp(v)&&(O+=8);break;default:O+=4}return y[P]=O,O}n(b,"checkPrime");function w(C,R,T){this.setGenerator(R),this.__prime=new t(C),this._prime=t.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=d,this.setPrivateKey=c):this._primeCode=8}n(w,"DH"),Object.defineProperty(w.prototype,"verifyError",{enumerable:!0,get:n(function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode},"get")}),w.prototype.generateKeys=function(){return this._priv||(this._priv=new t(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},w.prototype.computeSecret=function(C){C=new t(C),C=C.toRed(this._prime);var R=C.redPow(this._priv).fromRed(),T=new Buffer(R.toArray()),P=this.getPrime();if(T.length<P.length){var O=new Buffer(P.length-T.length);O.fill(0),T=Buffer.concat([O,T])}return T},w.prototype.getPublicKey=n(function(R){return S(this._pub,R)},"getPublicKey"),w.prototype.getPrivateKey=n(function(R){return S(this._priv,R)},"getPrivateKey"),w.prototype.getPrime=function(C){return S(this.__prime,C)},w.prototype.getGenerator=function(C){return S(this._gen,C)},w.prototype.setGenerator=function(C,R){return R=R||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,R)),this.__gen=C,this._gen=new t(C),this};function S(C,R){var T=new Buffer(C.toArray());return R?T.toString(R):T}return n(S,"formatReturnValue"),id}n(Wk,"requireDh");var ly;function Kk(){if(ly)return Kn;ly=1;var t=_8(),e=Gk,r=Wk();function i(a){var v=new Buffer(e[a].prime,"hex"),g=new Buffer(e[a].gen,"hex");return new r(v,g)}n(i,"getDiffieHellman");var s={binary:!0,hex:!0,base64:!0};function l(a,v,g,h){return Buffer.isBuffer(v)||s[v]===void 0?l(a,"binary",v,g):(v=v||"binary",h=h||"binary",g=g||new Buffer([2]),Buffer.isBuffer(g)||(g=new Buffer(g,h)),typeof a=="number"?new r(t(a,g),g,!0):(Buffer.isBuffer(a)||(a=new Buffer(a,v)),new r(a,g,!0)))}return n(l,"createDiffieHellman"),Kn.DiffieHellmanGroup=Kn.createDiffieHellmanGroup=Kn.getDiffieHellman=i,Kn.createDiffieHellman=Kn.DiffieHellman=l,Kn}n(Kk,"requireBrowser$5");var El={exports:{}},Al={exports:{}},uy;function wf(){if(uy)return Al.exports;uy=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Al.exports={nextTick:t}:Al.exports=process;function t(e,r,i,s){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,a,v;switch(l){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(n(function(){e.call(null,r)},"afterTickOne"));case 3:return process.nextTick(n(function(){e.call(null,r,i)},"afterTickTwo"));case 4:return process.nextTick(n(function(){e.call(null,r,i,s)},"afterTickThree"));default:for(a=new Array(l-1),v=0;v<a.length;)a[v++]=arguments[v];return process.nextTick(n(function(){e.apply(null,a)},"afterTick"))}}return n(t,"nextTick"),Al.exports}n(wf,"requireProcessNextickArgs");var nd,fy;function Yk(){if(fy)return nd;fy=1;var t={}.toString;return nd=Array.isArray||function(e){return t.call(e)=="[object Array]"},nd}n(Yk,"requireIsarray");var sd,cy;function M8(){return cy||(cy=1,sd=ni.EventEmitter),sd}n(M8,"requireStreamBrowser");var kl={exports:{}},hy;function Cg(){return hy||(hy=1,(function(t,e){var r=Un(),i=r.Buffer;function s(a,v){for(var g in a)v[g]=a[g]}n(s,"copyProps"),i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=l);function l(a,v,g){return i(a,v,g)}n(l,"SafeBuffer"),s(i,l),l.from=function(a,v,g){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,v,g)},l.alloc=function(a,v,g){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=i(a);return v!==void 0?typeof g=="string"?h.fill(v,g):h.fill(v):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(kl,kl.exports)),kl.exports}n(Cg,"requireSafeBuffer");var br={},dy;function il(){if(dy)return br;dy=1;function t(S){return Array.isArray?Array.isArray(S):w(S)==="[object Array]"}n(t,"isArray"),br.isArray=t;function e(S){return typeof S=="boolean"}n(e,"isBoolean"),br.isBoolean=e;function r(S){return S===null}n(r,"isNull"),br.isNull=r;function i(S){return S==null}n(i,"isNullOrUndefined"),br.isNullOrUndefined=i;function s(S){return typeof S=="number"}n(s,"isNumber"),br.isNumber=s;function l(S){return typeof S=="string"}n(l,"isString"),br.isString=l;function a(S){return typeof S=="symbol"}n(a,"isSymbol"),br.isSymbol=a;function v(S){return S===void 0}n(v,"isUndefined"),br.isUndefined=v;function g(S){return w(S)==="[object RegExp]"}n(g,"isRegExp"),br.isRegExp=g;function h(S){return typeof S=="object"&&S!==null}n(h,"isObject"),br.isObject=h;function d(S){return w(S)==="[object Date]"}n(d,"isDate"),br.isDate=d;function c(S){return w(S)==="[object Error]"||S instanceof Error}n(c,"isError"),br.isError=c;function y(S){return typeof S=="function"}n(y,"isFunction"),br.isFunction=y;function b(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||typeof S>"u"}n(b,"isPrimitive"),br.isPrimitive=b,br.isBuffer=Un().Buffer.isBuffer;function w(S){return Object.prototype.toString.call(S)}return n(w,"objectToString"),br}n(il,"requireUtil$1");var ad={exports:{}},py;function Xk(){return py||(py=1,(function(t){function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}n(e,"_classCallCheck");var r=Cg().Buffer,i=ni;function s(l,a,v){l.copy(a,v)}n(s,"copyBuffer"),t.exports=(function(){function l(){e(this,l),this.head=null,this.tail=null,this.length=0}return n(l,"BufferList"),l.prototype.push=n(function(v){var g={data:v,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length},"push"),l.prototype.unshift=n(function(v){var g={data:v,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length},"unshift"),l.prototype.shift=n(function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}},"shift"),l.prototype.clear=n(function(){this.head=this.tail=null,this.length=0},"clear"),l.prototype.join=n(function(v){if(this.length===0)return"";for(var g=this.head,h=""+g.data;g=g.next;)h+=v+g.data;return h},"join"),l.prototype.concat=n(function(v){if(this.length===0)return r.alloc(0);for(var g=r.allocUnsafe(v>>>0),h=this.head,d=0;h;)s(h.data,g,d),d+=h.data.length,h=h.next;return g},"concat"),l})(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var l=i.inspect({length:this.length});return this.constructor.name+" "+l})})(ad)),ad.exports}n(Xk,"requireBufferList");var od,my;function S8(){if(my)return od;my=1;var t=wf();function e(s,l){var a=this,v=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return v||g?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,s)):t.nextTick(i,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,t.nextTick(i,a,h)):t.nextTick(i,a,h):l&&l(h)}),this)}n(e,"destroy");function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}n(r,"undestroy");function i(s,l){s.emit("error",l)}return n(i,"emitErrorNT"),od={destroy:e,undestroy:r},od}n(S8,"requireDestroy");var ld,gy;function Qk(){if(gy)return ld;gy=1,ld=t;function t(r,i){if(e("noDeprecation"))return r;var s=!1;function l(){if(!s){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),s=!0}return r.apply(this,arguments)}return n(l,"deprecated"),l}n(t,"deprecate");function e(r){try{if(!globalThis.localStorage)return!1}catch{return!1}var i=globalThis.localStorage[r];return i==null?!1:String(i).toLowerCase()==="true"}return n(e,"config"),ld}n(Qk,"requireBrowser$4");var ud,vy;function E8(){if(vy)return ud;vy=1;var t=wf();ud=S;function e(A){var k=this;this.next=null,this.entry=null,this.finish=function(){x(k,A)}}n(e,"CorkedRequest");var r=t.nextTick,i;S.WritableState=b;var s=Object.create(il());s.inherits=jt();var l={deprecate:Qk()},a=M8(),v=Cg().Buffer,g=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(A){return v.from(A)}n(h,"_uint8ArrayToBuffer");function d(A){return v.isBuffer(A)||A instanceof g}n(d,"_isUint8Array");var c=S8();s.inherits(S,a);function y(){}n(y,"nop");function b(A,k){i=i||ta(),A=A||{};var M=k instanceof i;this.objectMode=!!A.objectMode,M&&(this.objectMode=this.objectMode||!!A.writableObjectMode);var f=A.highWaterMark,_=A.writableHighWaterMark,E=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:M&&(_||_===0)?this.highWaterMark=_:this.highWaterMark=E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=A.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(L){Z(k,L)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}n(b,"WritableState"),b.prototype.getBuffer=n(function(){for(var k=this.bufferedRequest,M=[];k;)M.push(k),k=k.next;return M},"getBuffer"),(function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var w;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:n(function(A){return w.call(this,A)?!0:this!==S?!1:A&&A._writableState instanceof b},"value")})):w=n(function(A){return A instanceof this},"realHasInstance");function S(A){if(i=i||ta(),!w.call(S,this)&&!(this instanceof i))return new S(A);this._writableState=new b(A,this),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),a.call(this)}n(S,"Writable"),S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(A,k){var M=new Error("write after end");A.emit("error",M),t.nextTick(k,M)}n(C,"writeAfterEnd");function R(A,k,M,f){var _=!0,E=!1;return M===null?E=new TypeError("May not write null values to stream"):typeof M!="string"&&M!==void 0&&!k.objectMode&&(E=new TypeError("Invalid non-string/buffer chunk")),E&&(A.emit("error",E),t.nextTick(f,E),_=!1),_}n(R,"validChunk"),S.prototype.write=function(A,k,M){var f=this._writableState,_=!1,E=!f.objectMode&&d(A);return E&&!v.isBuffer(A)&&(A=h(A)),typeof k=="function"&&(M=k,k=null),E?k="buffer":k||(k=f.defaultEncoding),typeof M!="function"&&(M=y),f.ended?C(this,M):(E||R(this,f,A,M))&&(f.pendingcb++,_=P(this,f,E,A,k,M)),_},S.prototype.cork=function(){var A=this._writableState;A.corked++},S.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&$(this,A))},S.prototype.setDefaultEncoding=n(function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+k);return this._writableState.defaultEncoding=k,this},"setDefaultEncoding");function T(A,k,M){return!A.objectMode&&A.decodeStrings!==!1&&typeof k=="string"&&(k=v.from(k,M)),k}n(T,"decodeChunk"),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:n(function(){return this._writableState.highWaterMark},"get")});function P(A,k,M,f,_,E){if(!M){var I=T(k,f,_);f!==I&&(M=!0,_="buffer",f=I)}var L=k.objectMode?1:f.length;k.length+=L;var D=k.length<k.highWaterMark;if(D||(k.needDrain=!0),k.writing||k.corked){var F=k.lastBufferedRequest;k.lastBufferedRequest={chunk:f,encoding:_,isBuf:M,callback:E,next:null},F?F.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else O(A,k,!1,L,f,_,E);return D}n(P,"writeOrBuffer");function O(A,k,M,f,_,E,I){k.writelen=f,k.writecb=I,k.writing=!0,k.sync=!0,M?A._writev(_,k.onwrite):A._write(_,E,k.onwrite),k.sync=!1}n(O,"doWrite");function j(A,k,M,f,_){--k.pendingcb,M?(t.nextTick(_,f),t.nextTick(o,A,k),A._writableState.errorEmitted=!0,A.emit("error",f)):(_(f),A._writableState.errorEmitted=!0,A.emit("error",f),o(A,k))}n(j,"onwriteError");function B(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}n(B,"onwriteStateUpdate");function Z(A,k){var M=A._writableState,f=M.sync,_=M.writecb;if(B(M),k)j(A,M,f,k,_);else{var E=U(M);!E&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&$(A,M),f?r(W,A,M,E,_):W(A,M,E,_)}}n(Z,"onwrite");function W(A,k,M,f){M||ee(A,k),k.pendingcb--,f(),o(A,k)}n(W,"afterWrite");function ee(A,k){k.length===0&&k.needDrain&&(k.needDrain=!1,A.emit("drain"))}n(ee,"onwriteDrain");function $(A,k){k.bufferProcessing=!0;var M=k.bufferedRequest;if(A._writev&&M&&M.next){var f=k.bufferedRequestCount,_=new Array(f),E=k.corkedRequestsFree;E.entry=M;for(var I=0,L=!0;M;)_[I]=M,M.isBuf||(L=!1),M=M.next,I+=1;_.allBuffers=L,O(A,k,!0,k.length,_,"",E.finish),k.pendingcb++,k.lastBufferedRequest=null,E.next?(k.corkedRequestsFree=E.next,E.next=null):k.corkedRequestsFree=new e(k),k.bufferedRequestCount=0}else{for(;M;){var D=M.chunk,F=M.encoding,z=M.callback,H=k.objectMode?1:D.length;if(O(A,k,!1,H,D,F,z),M=M.next,k.bufferedRequestCount--,k.writing)break}M===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=M,k.bufferProcessing=!1}n($,"clearBuffer"),S.prototype._write=function(A,k,M){M(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(A,k,M){var f=this._writableState;typeof A=="function"?(M=A,A=null,k=null):typeof k=="function"&&(M=k,k=null),A!=null&&this.write(A,k),f.corked&&(f.corked=1,this.uncork()),f.ending||p(this,f,M)};function U(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}n(U,"needFinish");function u(A,k){A._final(function(M){k.pendingcb--,M&&A.emit("error",M),k.prefinished=!0,A.emit("prefinish"),o(A,k)})}n(u,"callFinal");function m(A,k){!k.prefinished&&!k.finalCalled&&(typeof A._final=="function"?(k.pendingcb++,k.finalCalled=!0,t.nextTick(u,A,k)):(k.prefinished=!0,A.emit("prefinish")))}n(m,"prefinish");function o(A,k){var M=U(k);return M&&(m(A,k),k.pendingcb===0&&(k.finished=!0,A.emit("finish"))),M}n(o,"finishMaybe");function p(A,k,M){k.ending=!0,o(A,k),M&&(k.finished?t.nextTick(M):A.once("finish",M)),k.ended=!0,A.writable=!1}n(p,"endWritable");function x(A,k,M){var f=A.entry;for(A.entry=null;f;){var _=f.callback;k.pendingcb--,_(M),f=f.next}k.corkedRequestsFree.next=A}return n(x,"onCorkedFinish"),Object.defineProperty(S.prototype,"destroyed",{get:n(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:n(function(A){this._writableState&&(this._writableState.destroyed=A)},"set")}),S.prototype.destroy=c.destroy,S.prototype._undestroy=c.undestroy,S.prototype._destroy=function(A,k){this.end(),k(A)},ud}n(E8,"require_stream_writable");var fd,by;function ta(){if(by)return fd;by=1;var t=wf(),e=Object.keys||function(c){var y=[];for(var b in c)y.push(b);return y};fd=g;var r=Object.create(il());r.inherits=jt();var i=A8(),s=E8();r.inherits(g,i);for(var l=e(s.prototype),a=0;a<l.length;a++){var v=l[a];g.prototype[v]||(g.prototype[v]=s.prototype[v])}function g(c){if(!(this instanceof g))return new g(c);i.call(this,c),s.call(this,c),c&&c.readable===!1&&(this.readable=!1),c&&c.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,c&&c.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}n(g,"Duplex"),Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:n(function(){return this._writableState.highWaterMark},"get")});function h(){this.allowHalfOpen||this._writableState.ended||t.nextTick(d,this)}n(h,"onend");function d(c){c.end()}return n(d,"onEndNT"),Object.defineProperty(g.prototype,"destroyed",{get:n(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:n(function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)},"set")}),g.prototype._destroy=function(c,y){this.push(null),this.end(),t.nextTick(y,c)},fd}n(ta,"require_stream_duplex");var cd,yy;function A8(){if(yy)return cd;yy=1;var t=wf();cd=T;var e=Yk(),r;T.ReadableState=R,ni.EventEmitter;var i=n(function(z,H){return z.listeners(H).length},"EElistenerCount"),s=M8(),l=Cg().Buffer,a=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(z){return l.from(z)}n(v,"_uint8ArrayToBuffer");function g(z){return l.isBuffer(z)||z instanceof a}n(g,"_isUint8Array");var h=Object.create(il());h.inherits=jt();var d=ni,c=void 0;d&&d.debuglog?c=d.debuglog("stream"):c=n(function(){},"debug");var y=Xk(),b=S8(),w;h.inherits(T,s);var S=["error","close","destroy","pause","resume"];function C(z,H,V){if(typeof z.prependListener=="function")return z.prependListener(H,V);!z._events||!z._events[H]?z.on(H,V):e(z._events[H])?z._events[H].unshift(V):z._events[H]=[V,z._events[H]]}n(C,"prependListener");function R(z,H){r=r||ta(),z=z||{};var V=H instanceof r;this.objectMode=!!z.objectMode,V&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var Y=z.highWaterMark,Me=z.readableHighWaterMark,se=this.objectMode?16:16*1024;Y||Y===0?this.highWaterMark=Y:V&&(Me||Me===0)?this.highWaterMark=Me:this.highWaterMark=se,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(w||(w=fm().StringDecoder),this.decoder=new w(z.encoding),this.encoding=z.encoding)}n(R,"ReadableState");function T(z){if(r=r||ta(),!(this instanceof T))return new T(z);this._readableState=new R(z,this),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),s.call(this)}n(T,"Readable"),Object.defineProperty(T.prototype,"destroyed",{get:n(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:n(function(z){this._readableState&&(this._readableState.destroyed=z)},"set")}),T.prototype.destroy=b.destroy,T.prototype._undestroy=b.undestroy,T.prototype._destroy=function(z,H){this.push(null),H(z)},T.prototype.push=function(z,H){var V=this._readableState,Y;return V.objectMode?Y=!0:typeof z=="string"&&(H=H||V.defaultEncoding,H!==V.encoding&&(z=l.from(z,H),H=""),Y=!0),P(this,z,H,!1,Y)},T.prototype.unshift=function(z){return P(this,z,null,!0,!1)};function P(z,H,V,Y,Me){var se=z._readableState;if(H===null)se.reading=!1,$(z,se);else{var ae;Me||(ae=j(se,H)),ae?z.emit("error",ae):se.objectMode||H&&H.length>0?(typeof H!="string"&&!se.objectMode&&Object.getPrototypeOf(H)!==l.prototype&&(H=v(H)),Y?se.endEmitted?z.emit("error",new Error("stream.unshift() after end event")):O(z,se,H,!0):se.ended?z.emit("error",new Error("stream.push() after EOF")):(se.reading=!1,se.decoder&&!V?(H=se.decoder.write(H),se.objectMode||H.length!==0?O(z,se,H,!1):m(z,se)):O(z,se,H,!1))):Y||(se.reading=!1)}return B(se)}n(P,"readableAddChunk");function O(z,H,V,Y){H.flowing&&H.length===0&&!H.sync?(z.emit("data",V),z.read(0)):(H.length+=H.objectMode?1:V.length,Y?H.buffer.unshift(V):H.buffer.push(V),H.needReadable&&U(z)),m(z,H)}n(O,"addChunk");function j(z,H){var V;return!g(H)&&typeof H!="string"&&H!==void 0&&!z.objectMode&&(V=new TypeError("Invalid non-string/buffer chunk")),V}n(j,"chunkInvalid");function B(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}n(B,"needMoreData"),T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(z){return w||(w=fm().StringDecoder),this._readableState.decoder=new w(z),this._readableState.encoding=z,this};var Z=8388608;function W(z){return z>=Z?z=Z:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}n(W,"computeNewHighWaterMark");function ee(z,H){return z<=0||H.length===0&&H.ended?0:H.objectMode?1:z!==z?H.flowing&&H.length?H.buffer.head.data.length:H.length:(z>H.highWaterMark&&(H.highWaterMark=W(z)),z<=H.length?z:H.ended?H.length:(H.needReadable=!0,0))}n(ee,"howMuchToRead"),T.prototype.read=function(z){c("read",z),z=parseInt(z,10);var H=this._readableState,V=z;if(z!==0&&(H.emittedReadable=!1),z===0&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return c("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?L(this):U(this),null;if(z=ee(z,H),z===0&&H.ended)return H.length===0&&L(this),null;var Y=H.needReadable;c("need readable",Y),(H.length===0||H.length-z<H.highWaterMark)&&(Y=!0,c("length less than watermark",Y)),H.ended||H.reading?(Y=!1,c("reading or ended",Y)):Y&&(c("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(z=ee(V,H)));var Me;return z>0?Me=f(z,H):Me=null,Me===null?(H.needReadable=!0,z=0):H.length-=z,H.length===0&&(H.ended||(H.needReadable=!0),V!==z&&H.ended&&L(this)),Me!==null&&this.emit("data",Me),Me};function $(z,H){if(!H.ended){if(H.decoder){var V=H.decoder.end();V&&V.length&&(H.buffer.push(V),H.length+=H.objectMode?1:V.length)}H.ended=!0,U(z)}}n($,"onEofChunk");function U(z){var H=z._readableState;H.needReadable=!1,H.emittedReadable||(c("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?t.nextTick(u,z):u(z))}n(U,"emitReadable");function u(z){c("emit readable"),z.emit("readable"),M(z)}n(u,"emitReadable_");function m(z,H){H.readingMore||(H.readingMore=!0,t.nextTick(o,z,H))}n(m,"maybeReadMore");function o(z,H){for(var V=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(c("maybeReadMore read 0"),z.read(0),V!==H.length);)V=H.length;H.readingMore=!1}n(o,"maybeReadMore_"),T.prototype._read=function(z){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(z,H){var V=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=z;break;case 1:Y.pipes=[Y.pipes,z];break;default:Y.pipes.push(z);break}Y.pipesCount+=1,c("pipe count=%d opts=%j",Y.pipesCount,H);var Me=(!H||H.end!==!1)&&z!==process.stdout&&z!==process.stderr,se=Me?ye:J;Y.endEmitted?t.nextTick(se):V.once("end",se),z.on("unpipe",ae);function ae(q,te){c("onunpipe"),q===V&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,X())}n(ae,"onunpipe");function ye(){c("onend"),z.end()}n(ye,"onend");var G=p(V);z.on("drain",G);var re=!1;function X(){c("cleanup"),z.removeListener("close",pe),z.removeListener("finish",fe),z.removeListener("drain",G),z.removeListener("error",Ae),z.removeListener("unpipe",ae),V.removeListener("end",ye),V.removeListener("end",J),V.removeListener("data",le),re=!0,Y.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&G()}n(X,"cleanup");var Q=!1;V.on("data",le);function le(q){c("ondata"),Q=!1;var te=z.write(q);te===!1&&!Q&&((Y.pipesCount===1&&Y.pipes===z||Y.pipesCount>1&&F(Y.pipes,z)!==-1)&&!re&&(c("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Q=!0),V.pause())}n(le,"ondata");function Ae(q){c("onerror",q),J(),z.removeListener("error",Ae),i(z,"error")===0&&z.emit("error",q)}n(Ae,"onerror"),C(z,"error",Ae);function pe(){z.removeListener("finish",fe),J()}n(pe,"onclose"),z.once("close",pe);function fe(){c("onfinish"),z.removeListener("close",pe),J()}n(fe,"onfinish"),z.once("finish",fe);function J(){c("unpipe"),V.unpipe(z)}return n(J,"unpipe"),z.emit("pipe",V),Y.flowing||(c("pipe resume"),V.resume()),z};function p(z){return function(){var H=z._readableState;c("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&i(z,"data")&&(H.flowing=!0,M(z))}}n(p,"pipeOnDrain"),T.prototype.unpipe=function(z){var H=this._readableState,V={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return z&&z!==H.pipes?this:(z||(z=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,z&&z.emit("unpipe",this,V),this);if(!z){var Y=H.pipes,Me=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var se=0;se<Me;se++)Y[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=F(H.pipes,z);return ae===-1?this:(H.pipes.splice(ae,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),z.emit("unpipe",this,V),this)},T.prototype.on=function(z,H){var V=s.prototype.on.call(this,z,H);if(z==="data")this._readableState.flowing!==!1&&this.resume();else if(z==="readable"){var Y=this._readableState;!Y.endEmitted&&!Y.readableListening&&(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&U(this):t.nextTick(x,this))}return V},T.prototype.addListener=T.prototype.on;function x(z){c("readable nexttick read 0"),z.read(0)}n(x,"nReadingNextTick"),T.prototype.resume=function(){var z=this._readableState;return z.flowing||(c("resume"),z.flowing=!0,A(this,z)),this};function A(z,H){H.resumeScheduled||(H.resumeScheduled=!0,t.nextTick(k,z,H))}n(A,"resume");function k(z,H){H.reading||(c("resume read 0"),z.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,z.emit("resume"),M(z),H.flowing&&!H.reading&&z.read(0)}n(k,"resume_"),T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function M(z){var H=z._readableState;for(c("flow",H.flowing);H.flowing&&z.read()!==null;);}n(M,"flow"),T.prototype.wrap=function(z){var H=this,V=this._readableState,Y=!1;z.on("end",function(){if(c("wrapped end"),V.decoder&&!V.ended){var ae=V.decoder.end();ae&&ae.length&&H.push(ae)}H.push(null)}),z.on("data",function(ae){if(c("wrapped data"),V.decoder&&(ae=V.decoder.write(ae)),!(V.objectMode&&ae==null)&&!(!V.objectMode&&(!ae||!ae.length))){var ye=H.push(ae);ye||(Y=!0,z.pause())}});for(var Me in z)this[Me]===void 0&&typeof z[Me]=="function"&&(this[Me]=(function(ae){return function(){return z[ae].apply(z,arguments)}})(Me));for(var se=0;se<S.length;se++)z.on(S[se],this.emit.bind(this,S[se]));return this._read=function(ae){c("wrapped _read",ae),Y&&(Y=!1,z.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:n(function(){return this._readableState.highWaterMark},"get")}),T._fromList=f;function f(z,H){if(H.length===0)return null;var V;return H.objectMode?V=H.buffer.shift():!z||z>=H.length?(H.decoder?V=H.buffer.join(""):H.buffer.length===1?V=H.buffer.head.data:V=H.buffer.concat(H.length),H.buffer.clear()):V=_(z,H.buffer,H.decoder),V}n(f,"fromList");function _(z,H,V){var Y;return z<H.head.data.length?(Y=H.head.data.slice(0,z),H.head.data=H.head.data.slice(z)):z===H.head.data.length?Y=H.shift():Y=V?E(z,H):I(z,H),Y}n(_,"fromListPartial");function E(z,H){var V=H.head,Y=1,Me=V.data;for(z-=Me.length;V=V.next;){var se=V.data,ae=z>se.length?se.length:z;if(ae===se.length?Me+=se:Me+=se.slice(0,z),z-=ae,z===0){ae===se.length?(++Y,V.next?H.head=V.next:H.head=H.tail=null):(H.head=V,V.data=se.slice(ae));break}++Y}return H.length-=Y,Me}n(E,"copyFromBufferString");function I(z,H){var V=l.allocUnsafe(z),Y=H.head,Me=1;for(Y.data.copy(V),z-=Y.data.length;Y=Y.next;){var se=Y.data,ae=z>se.length?se.length:z;if(se.copy(V,V.length-z,0,ae),z-=ae,z===0){ae===se.length?(++Me,Y.next?H.head=Y.next:H.head=H.tail=null):(H.head=Y,Y.data=se.slice(ae));break}++Me}return H.length-=Me,V}n(I,"copyFromBuffer");function L(z){var H=z._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,t.nextTick(D,H,z))}n(L,"endReadable");function D(z,H){!z.endEmitted&&z.length===0&&(z.endEmitted=!0,H.readable=!1,H.emit("end"))}n(D,"endReadableNT");function F(z,H){for(var V=0,Y=z.length;V<Y;V++)if(z[V]===H)return V;return-1}return n(F,"indexOf"),cd}n(A8,"require_stream_readable");var hd,wy;function k8(){if(wy)return hd;wy=1,hd=i;var t=ta(),e=Object.create(il());e.inherits=jt(),e.inherits(i,t);function r(a,v){var g=this._transformState;g.transforming=!1;var h=g.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));g.writechunk=null,g.writecb=null,v!=null&&this.push(v),h(a);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}n(r,"afterTransform");function i(a){if(!(this instanceof i))return new i(a);t.call(this,a),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",s)}n(i,"Transform");function s(){var a=this;typeof this._flush=="function"?this._flush(function(v,g){l(a,v,g)}):l(this,null,null)}n(s,"prefinish"),i.prototype.push=function(a,v){return this._transformState.needTransform=!1,t.prototype.push.call(this,a,v)},i.prototype._transform=function(a,v,g){throw new Error("_transform() is not implemented")},i.prototype._write=function(a,v,g){var h=this._transformState;if(h.writecb=g,h.writechunk=a,h.writeencoding=v,!h.transforming){var d=this._readableState;(h.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},i.prototype._read=function(a){var v=this._transformState;v.writechunk!==null&&v.writecb&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},i.prototype._destroy=function(a,v){var g=this;t.prototype._destroy.call(this,a,function(h){v(h),g.emit("close")})};function l(a,v,g){if(v)return a.emit("error",v);if(g!=null&&a.push(g),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}return n(l,"done"),hd}n(k8,"require_stream_transform");var dd,xy;function Jk(){if(xy)return dd;xy=1,dd=r;var t=k8(),e=Object.create(il());e.inherits=jt(),e.inherits(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return n(r,"PassThrough"),r.prototype._transform=function(i,s,l){l(null,i)},dd}n(Jk,"require_stream_passthrough");var _y;function qk(){return _y||(_y=1,(function(t,e){e=t.exports=A8(),e.Stream=e,e.Readable=e,e.Writable=E8(),e.Duplex=ta(),e.Transform=k8(),e.PassThrough=Jk()})(El,El.exports)),El.exports}n(qk,"requireReadableBrowser");var Sa={exports:{}},uu={exports:{}},eN=uu.exports,My;function tN(){return My||(My=1,(function(t){(function(e,r){function i(m,o){if(!m)throw new Error(o||"Assertion failed")}n(i,"assert");function s(m,o){m.super_=o;var p=n(function(){},"TempCtor");p.prototype=o.prototype,m.prototype=new p,m.prototype.constructor=m}n(s,"inherits");function l(m,o,p){if(l.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((o==="le"||o==="be")&&(p=o,o=10),this._init(m||0,o||10,p||"be"))}n(l,"BN"),typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ni.Buffer}catch{}l.isBN=n(function(o){return o instanceof l?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===l.wordSize&&Array.isArray(o.words)},"isBN"),l.max=n(function(o,p){return o.cmp(p)>0?o:p},"max"),l.min=n(function(o,p){return o.cmp(p)<0?o:p},"min"),l.prototype._init=n(function(o,p,x){if(typeof o=="number")return this._initNumber(o,p,x);if(typeof o=="object")return this._initArray(o,p,x);p==="hex"&&(p=16),i(p===(p|0)&&p>=2&&p<=36),o=o.toString().replace(/\s+/g,"");var A=0;o[0]==="-"&&(A++,this.negative=1),A<o.length&&(p===16?this._parseHex(o,A,x):(this._parseBase(o,p,A),x==="le"&&this._initArray(this.toArray(),p,x)))},"init"),l.prototype._initNumber=n(function(o,p,x){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),p,x)},"_initNumber"),l.prototype._initArray=n(function(o,p,x){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k,M,f=0;if(x==="be")for(A=o.length-1,k=0;A>=0;A-=3)M=o[A]|o[A-1]<<8|o[A-2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);else if(x==="le")for(A=0,k=0;A<o.length;A+=3)M=o[A]|o[A+1]<<8|o[A+2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);return this._strip()},"_initArray");function v(m,o){var p=m.charCodeAt(o);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;i(!1,"Invalid character in "+m)}n(v,"parseHex4Bits");function g(m,o,p){var x=v(m,p);return p-1>=o&&(x|=v(m,p-1)<<4),x}n(g,"parseHexByte"),l.prototype._parseHex=n(function(o,p,x){this.length=Math.ceil((o.length-p)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k=0,M=0,f;if(x==="be")for(A=o.length-1;A>=p;A-=2)f=g(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8;else{var _=o.length-p;for(A=_%2===0?p+1:p;A<o.length;A+=2)f=g(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8}this._strip()},"_parseHex");function h(m,o,p,x){for(var A=0,k=0,M=Math.min(m.length,p),f=o;f<M;f++){var _=m.charCodeAt(f)-48;A*=x,_>=49?k=_-49+10:_>=17?k=_-17+10:k=_,i(_>=0&&k<x,"Invalid character"),A+=k}return A}n(h,"parseBase"),l.prototype._parseBase=n(function(o,p,x){this.words=[0],this.length=1;for(var A=0,k=1;k<=67108863;k*=p)A++;A--,k=k/p|0;for(var M=o.length-x,f=M%A,_=Math.min(M,M-f)+x,E=0,I=x;I<_;I+=A)E=h(o,I,I+A,p),this.imuln(k),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var L=1;for(E=h(o,I,o.length,p),I=0;I<f;I++)L*=p;this.imuln(L),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},"_parseBase"),l.prototype.copy=n(function(o){o.words=new Array(this.length);for(var p=0;p<this.length;p++)o.words[p]=this.words[p];o.length=this.length,o.negative=this.negative,o.red=this.red},"copy");function d(m,o){m.words=o.words,m.length=o.length,m.negative=o.negative,m.red=o.red}if(n(d,"move"),l.prototype._move=n(function(o){d(o,this)},"_move"),l.prototype.clone=n(function(){var o=new l(null);return this.copy(o),o},"clone"),l.prototype._expand=n(function(o){for(;this.length<o;)this.words[this.length++]=0;return this},"_expand"),l.prototype._strip=n(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),l.prototype._normSign=n(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{l.prototype.inspect=c}else l.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n(c,"inspect");var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=n(function(o,p){o=o||10,p=p|0||1;var x;if(o===16||o==="hex"){x="";for(var A=0,k=0,M=0;M<this.length;M++){var f=this.words[M],_=((f<<A|k)&16777215).toString(16);k=f>>>24-A&16777215,A+=2,A>=26&&(A-=26,M--),k!==0||M!==this.length-1?x=y[6-_.length]+_+x:x=_+x}for(k!==0&&(x=k.toString(16)+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(o===(o|0)&&o>=2&&o<=36){var E=b[o],I=w[o];x="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modrn(I).toString(o);L=L.idivn(I),L.isZero()?x=D+x:x=y[E-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}i(!1,"Base should be between 2 and 36")},"toString"),l.prototype.toNumber=n(function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},"toNumber"),l.prototype.toJSON=n(function(){return this.toString(16,2)},"toJSON"),a&&(l.prototype.toBuffer=n(function(o,p){return this.toArrayLike(a,o,p)},"toBuffer")),l.prototype.toArray=n(function(o,p){return this.toArrayLike(Array,o,p)},"toArray");var S=n(function(o,p){return o.allocUnsafe?o.allocUnsafe(p):new o(p)},"allocate");l.prototype.toArrayLike=n(function(o,p,x){this._strip();var A=this.byteLength(),k=x||Math.max(1,A);i(A<=k,"byte array longer than desired length"),i(k>0,"Requested array length <= 0");var M=S(o,k),f=p==="le"?"LE":"BE";return this["_toArrayLike"+f](M,A),M},"toArrayLike"),l.prototype._toArrayLikeLE=n(function(o,p){for(var x=0,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x++]=f&255,x<o.length&&(o[x++]=f>>8&255),x<o.length&&(o[x++]=f>>16&255),M===6?(x<o.length&&(o[x++]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x<o.length)for(o[x++]=A;x<o.length;)o[x++]=0},"_toArrayLikeLE"),l.prototype._toArrayLikeBE=n(function(o,p){for(var x=o.length-1,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x--]=f&255,x>=0&&(o[x--]=f>>8&255),x>=0&&(o[x--]=f>>16&255),M===6?(x>=0&&(o[x--]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x>=0)for(o[x--]=A;x>=0;)o[x--]=0},"_toArrayLikeBE"),Math.clz32?l.prototype._countBits=n(function(o){return 32-Math.clz32(o)},"_countBits"):l.prototype._countBits=n(function(o){var p=o,x=0;return p>=4096&&(x+=13,p>>>=13),p>=64&&(x+=7,p>>>=7),p>=8&&(x+=4,p>>>=4),p>=2&&(x+=2,p>>>=2),x+p},"_countBits"),l.prototype._zeroBits=n(function(o){if(o===0)return 26;var p=o,x=0;return(p&8191)===0&&(x+=13,p>>>=13),(p&127)===0&&(x+=7,p>>>=7),(p&15)===0&&(x+=4,p>>>=4),(p&3)===0&&(x+=2,p>>>=2),(p&1)===0&&x++,x},"_zeroBits"),l.prototype.bitLength=n(function(){var o=this.words[this.length-1],p=this._countBits(o);return(this.length-1)*26+p},"bitLength");function C(m){for(var o=new Array(m.bitLength()),p=0;p<o.length;p++){var x=p/26|0,A=p%26;o[p]=m.words[x]>>>A&1}return o}n(C,"toBitArray"),l.prototype.zeroBits=n(function(){if(this.isZero())return 0;for(var o=0,p=0;p<this.length;p++){var x=this._zeroBits(this.words[p]);if(o+=x,x!==26)break}return o},"zeroBits"),l.prototype.byteLength=n(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),l.prototype.toTwos=n(function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},"toTwos"),l.prototype.fromTwos=n(function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},"fromTwos"),l.prototype.isNeg=n(function(){return this.negative!==0},"isNeg"),l.prototype.neg=n(function(){return this.clone().ineg()},"neg"),l.prototype.ineg=n(function(){return this.isZero()||(this.negative^=1),this},"ineg"),l.prototype.iuor=n(function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var p=0;p<o.length;p++)this.words[p]=this.words[p]|o.words[p];return this._strip()},"iuor"),l.prototype.ior=n(function(o){return i((this.negative|o.negative)===0),this.iuor(o)},"ior"),l.prototype.or=n(function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},"or"),l.prototype.uor=n(function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},"uor"),l.prototype.iuand=n(function(o){var p;this.length>o.length?p=o:p=this;for(var x=0;x<p.length;x++)this.words[x]=this.words[x]&o.words[x];return this.length=p.length,this._strip()},"iuand"),l.prototype.iand=n(function(o){return i((this.negative|o.negative)===0),this.iuand(o)},"iand"),l.prototype.and=n(function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},"and"),l.prototype.uand=n(function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},"uand"),l.prototype.iuxor=n(function(o){var p,x;this.length>o.length?(p=this,x=o):(p=o,x=this);for(var A=0;A<x.length;A++)this.words[A]=p.words[A]^x.words[A];if(this!==p)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=p.length,this._strip()},"iuxor"),l.prototype.ixor=n(function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},"ixor"),l.prototype.xor=n(function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},"xor"),l.prototype.uxor=n(function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},"uxor"),l.prototype.inotn=n(function(o){i(typeof o=="number"&&o>=0);var p=Math.ceil(o/26)|0,x=o%26;this._expand(p),x>0&&p--;for(var A=0;A<p;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this._strip()},"inotn"),l.prototype.notn=n(function(o){return this.clone().inotn(o)},"notn"),l.prototype.setn=n(function(o,p){i(typeof o=="number"&&o>=0);var x=o/26|0,A=o%26;return this._expand(x+1),p?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this._strip()},"setn"),l.prototype.iadd=n(function(o){var p;if(this.negative!==0&&o.negative===0)return this.negative=0,p=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,p=this.isub(o),o.negative=1,p._normSign();var x,A;this.length>o.length?(x=this,A=o):(x=o,A=this);for(var k=0,M=0;M<A.length;M++)p=(x.words[M]|0)+(A.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;for(;k!==0&&M<x.length;M++)p=(x.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;M<x.length;M++)this.words[M]=x.words[M];return this},"iadd"),l.prototype.add=n(function(o){var p;return o.negative!==0&&this.negative===0?(o.negative=0,p=this.sub(o),o.negative^=1,p):o.negative===0&&this.negative!==0?(this.negative=0,p=o.sub(this),this.negative=1,p):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},"add"),l.prototype.isub=n(function(o){if(o.negative!==0){o.negative=0;var p=this.iadd(o);return o.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var x=this.cmp(o);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,k;x>0?(A=this,k=o):(A=o,k=this);for(var M=0,f=0;f<k.length;f++)p=(A.words[f]|0)-(k.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;for(;M!==0&&f<A.length;f++)p=(A.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;if(M===0&&f<A.length&&A!==this)for(;f<A.length;f++)this.words[f]=A.words[f];return this.length=Math.max(this.length,f),A!==this&&(this.negative=1),this._strip()},"isub"),l.prototype.sub=n(function(o){return this.clone().isub(o)},"sub");function R(m,o,p){p.negative=o.negative^m.negative;var x=m.length+o.length|0;p.length=x,x=x-1|0;var A=m.words[0]|0,k=o.words[0]|0,M=A*k,f=M&67108863,_=M/67108864|0;p.words[0]=f;for(var E=1;E<x;E++){for(var I=_>>>26,L=_&67108863,D=Math.min(E,o.length-1),F=Math.max(0,E-m.length+1);F<=D;F++){var z=E-F|0;A=m.words[z]|0,k=o.words[F]|0,M=A*k+L,I+=M/67108864|0,L=M&67108863}p.words[E]=L|0,_=I|0}return _!==0?p.words[E]=_|0:p.length--,p._strip()}n(R,"smallMulTo");var T=n(function(o,p,x){var A=o.words,k=p.words,M=x.words,f=0,_,E,I,L=A[0]|0,D=L&8191,F=L>>>13,z=A[1]|0,H=z&8191,V=z>>>13,Y=A[2]|0,Me=Y&8191,se=Y>>>13,ae=A[3]|0,ye=ae&8191,G=ae>>>13,re=A[4]|0,X=re&8191,Q=re>>>13,le=A[5]|0,Ae=le&8191,pe=le>>>13,fe=A[6]|0,J=fe&8191,q=fe>>>13,te=A[7]|0,de=te&8191,oe=te>>>13,ue=A[8]|0,Be=ue&8191,we=ue>>>13,De=A[9]|0,Xe=De&8191,ve=De>>>13,Fe=k[0]|0,ce=Fe&8191,be=Fe>>>13,Oe=k[1]|0,Te=Oe&8191,ke=Oe>>>13,ze=k[2]|0,Je=ze&8191,Ce=ze>>>13,Ee=k[3]|0,je=Ee&8191,_e=Ee>>>13,He=k[4]|0,Ke=He&8191,ie=He>>>13,me=k[5]|0,Ie=me&8191,xe=me>>>13,Pe=k[6]|0,Ze=Pe&8191,ne=Pe>>>13,Ne=k[7]|0,$e=Ne&8191,ge=Ne>>>13,Ge=k[8]|0,et=Ge&8191,Le=Ge>>>13,Qe=k[9]|0,Re=Qe&8191,Ue=Qe>>>13;x.negative=o.negative^p.negative,x.length=19,_=Math.imul(D,ce),E=Math.imul(D,be),E=E+Math.imul(F,ce)|0,I=Math.imul(F,be);var at=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(H,ce),E=Math.imul(H,be),E=E+Math.imul(V,ce)|0,I=Math.imul(V,be),_=_+Math.imul(D,Te)|0,E=E+Math.imul(D,ke)|0,E=E+Math.imul(F,Te)|0,I=I+Math.imul(F,ke)|0;var bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(bt>>>26)|0,bt&=67108863,_=Math.imul(Me,ce),E=Math.imul(Me,be),E=E+Math.imul(se,ce)|0,I=Math.imul(se,be),_=_+Math.imul(H,Te)|0,E=E+Math.imul(H,ke)|0,E=E+Math.imul(V,Te)|0,I=I+Math.imul(V,ke)|0,_=_+Math.imul(D,Je)|0,E=E+Math.imul(D,Ce)|0,E=E+Math.imul(F,Je)|0,I=I+Math.imul(F,Ce)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(G,ce)|0,I=Math.imul(G,be),_=_+Math.imul(Me,Te)|0,E=E+Math.imul(Me,ke)|0,E=E+Math.imul(se,Te)|0,I=I+Math.imul(se,ke)|0,_=_+Math.imul(H,Je)|0,E=E+Math.imul(H,Ce)|0,E=E+Math.imul(V,Je)|0,I=I+Math.imul(V,Ce)|0,_=_+Math.imul(D,je)|0,E=E+Math.imul(D,_e)|0,E=E+Math.imul(F,je)|0,I=I+Math.imul(F,_e)|0;var St=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(St>>>26)|0,St&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(Q,ce)|0,I=Math.imul(Q,be),_=_+Math.imul(ye,Te)|0,E=E+Math.imul(ye,ke)|0,E=E+Math.imul(G,Te)|0,I=I+Math.imul(G,ke)|0,_=_+Math.imul(Me,Je)|0,E=E+Math.imul(Me,Ce)|0,E=E+Math.imul(se,Je)|0,I=I+Math.imul(se,Ce)|0,_=_+Math.imul(H,je)|0,E=E+Math.imul(H,_e)|0,E=E+Math.imul(V,je)|0,I=I+Math.imul(V,_e)|0,_=_+Math.imul(D,Ke)|0,E=E+Math.imul(D,ie)|0,E=E+Math.imul(F,Ke)|0,I=I+Math.imul(F,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(Ae,ce),E=Math.imul(Ae,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Te)|0,E=E+Math.imul(X,ke)|0,E=E+Math.imul(Q,Te)|0,I=I+Math.imul(Q,ke)|0,_=_+Math.imul(ye,Je)|0,E=E+Math.imul(ye,Ce)|0,E=E+Math.imul(G,Je)|0,I=I+Math.imul(G,Ce)|0,_=_+Math.imul(Me,je)|0,E=E+Math.imul(Me,_e)|0,E=E+Math.imul(se,je)|0,I=I+Math.imul(se,_e)|0,_=_+Math.imul(H,Ke)|0,E=E+Math.imul(H,ie)|0,E=E+Math.imul(V,Ke)|0,I=I+Math.imul(V,ie)|0,_=_+Math.imul(D,Ie)|0,E=E+Math.imul(D,xe)|0,E=E+Math.imul(F,Ie)|0,I=I+Math.imul(F,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(J,ce),E=Math.imul(J,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(Ae,Te)|0,E=E+Math.imul(Ae,ke)|0,E=E+Math.imul(pe,Te)|0,I=I+Math.imul(pe,ke)|0,_=_+Math.imul(X,Je)|0,E=E+Math.imul(X,Ce)|0,E=E+Math.imul(Q,Je)|0,I=I+Math.imul(Q,Ce)|0,_=_+Math.imul(ye,je)|0,E=E+Math.imul(ye,_e)|0,E=E+Math.imul(G,je)|0,I=I+Math.imul(G,_e)|0,_=_+Math.imul(Me,Ke)|0,E=E+Math.imul(Me,ie)|0,E=E+Math.imul(se,Ke)|0,I=I+Math.imul(se,ie)|0,_=_+Math.imul(H,Ie)|0,E=E+Math.imul(H,xe)|0,E=E+Math.imul(V,Ie)|0,I=I+Math.imul(V,xe)|0,_=_+Math.imul(D,Ze)|0,E=E+Math.imul(D,ne)|0,E=E+Math.imul(F,Ze)|0,I=I+Math.imul(F,ne)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(de,ce),E=Math.imul(de,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(J,Te)|0,E=E+Math.imul(J,ke)|0,E=E+Math.imul(q,Te)|0,I=I+Math.imul(q,ke)|0,_=_+Math.imul(Ae,Je)|0,E=E+Math.imul(Ae,Ce)|0,E=E+Math.imul(pe,Je)|0,I=I+Math.imul(pe,Ce)|0,_=_+Math.imul(X,je)|0,E=E+Math.imul(X,_e)|0,E=E+Math.imul(Q,je)|0,I=I+Math.imul(Q,_e)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(G,Ke)|0,I=I+Math.imul(G,ie)|0,_=_+Math.imul(Me,Ie)|0,E=E+Math.imul(Me,xe)|0,E=E+Math.imul(se,Ie)|0,I=I+Math.imul(se,xe)|0,_=_+Math.imul(H,Ze)|0,E=E+Math.imul(H,ne)|0,E=E+Math.imul(V,Ze)|0,I=I+Math.imul(V,ne)|0,_=_+Math.imul(D,$e)|0,E=E+Math.imul(D,ge)|0,E=E+Math.imul(F,$e)|0,I=I+Math.imul(F,ge)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Be,ce),E=Math.imul(Be,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(de,Te)|0,E=E+Math.imul(de,ke)|0,E=E+Math.imul(oe,Te)|0,I=I+Math.imul(oe,ke)|0,_=_+Math.imul(J,Je)|0,E=E+Math.imul(J,Ce)|0,E=E+Math.imul(q,Je)|0,I=I+Math.imul(q,Ce)|0,_=_+Math.imul(Ae,je)|0,E=E+Math.imul(Ae,_e)|0,E=E+Math.imul(pe,je)|0,I=I+Math.imul(pe,_e)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(Q,Ke)|0,I=I+Math.imul(Q,ie)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(G,Ie)|0,I=I+Math.imul(G,xe)|0,_=_+Math.imul(Me,Ze)|0,E=E+Math.imul(Me,ne)|0,E=E+Math.imul(se,Ze)|0,I=I+Math.imul(se,ne)|0,_=_+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0,E=E+Math.imul(V,$e)|0,I=I+Math.imul(V,ge)|0,_=_+Math.imul(D,et)|0,E=E+Math.imul(D,Le)|0,E=E+Math.imul(F,et)|0,I=I+Math.imul(F,Le)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(Xe,ce),E=Math.imul(Xe,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(Be,Te)|0,E=E+Math.imul(Be,ke)|0,E=E+Math.imul(we,Te)|0,I=I+Math.imul(we,ke)|0,_=_+Math.imul(de,Je)|0,E=E+Math.imul(de,Ce)|0,E=E+Math.imul(oe,Je)|0,I=I+Math.imul(oe,Ce)|0,_=_+Math.imul(J,je)|0,E=E+Math.imul(J,_e)|0,E=E+Math.imul(q,je)|0,I=I+Math.imul(q,_e)|0,_=_+Math.imul(Ae,Ke)|0,E=E+Math.imul(Ae,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(Q,Ie)|0,I=I+Math.imul(Q,xe)|0,_=_+Math.imul(ye,Ze)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(G,Ze)|0,I=I+Math.imul(G,ne)|0,_=_+Math.imul(Me,$e)|0,E=E+Math.imul(Me,ge)|0,E=E+Math.imul(se,$e)|0,I=I+Math.imul(se,ge)|0,_=_+Math.imul(H,et)|0,E=E+Math.imul(H,Le)|0,E=E+Math.imul(V,et)|0,I=I+Math.imul(V,Le)|0,_=_+Math.imul(D,Re)|0,E=E+Math.imul(D,Ue)|0,E=E+Math.imul(F,Re)|0,I=I+Math.imul(F,Ue)|0;var Lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,_=Math.imul(Xe,Te),E=Math.imul(Xe,ke),E=E+Math.imul(ve,Te)|0,I=Math.imul(ve,ke),_=_+Math.imul(Be,Je)|0,E=E+Math.imul(Be,Ce)|0,E=E+Math.imul(we,Je)|0,I=I+Math.imul(we,Ce)|0,_=_+Math.imul(de,je)|0,E=E+Math.imul(de,_e)|0,E=E+Math.imul(oe,je)|0,I=I+Math.imul(oe,_e)|0,_=_+Math.imul(J,Ke)|0,E=E+Math.imul(J,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(Ae,Ie)|0,E=E+Math.imul(Ae,xe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,Ze)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(Q,Ze)|0,I=I+Math.imul(Q,ne)|0,_=_+Math.imul(ye,$e)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(G,$e)|0,I=I+Math.imul(G,ge)|0,_=_+Math.imul(Me,et)|0,E=E+Math.imul(Me,Le)|0,E=E+Math.imul(se,et)|0,I=I+Math.imul(se,Le)|0,_=_+Math.imul(H,Re)|0,E=E+Math.imul(H,Ue)|0,E=E+Math.imul(V,Re)|0,I=I+Math.imul(V,Ue)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(Xe,Je),E=Math.imul(Xe,Ce),E=E+Math.imul(ve,Je)|0,I=Math.imul(ve,Ce),_=_+Math.imul(Be,je)|0,E=E+Math.imul(Be,_e)|0,E=E+Math.imul(we,je)|0,I=I+Math.imul(we,_e)|0,_=_+Math.imul(de,Ke)|0,E=E+Math.imul(de,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(J,Ie)|0,E=E+Math.imul(J,xe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(Ae,Ze)|0,E=E+Math.imul(Ae,ne)|0,E=E+Math.imul(pe,Ze)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,$e)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(Q,$e)|0,I=I+Math.imul(Q,ge)|0,_=_+Math.imul(ye,et)|0,E=E+Math.imul(ye,Le)|0,E=E+Math.imul(G,et)|0,I=I+Math.imul(G,Le)|0,_=_+Math.imul(Me,Re)|0,E=E+Math.imul(Me,Ue)|0,E=E+Math.imul(se,Re)|0,I=I+Math.imul(se,Ue)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(Xe,je),E=Math.imul(Xe,_e),E=E+Math.imul(ve,je)|0,I=Math.imul(ve,_e),_=_+Math.imul(Be,Ke)|0,E=E+Math.imul(Be,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(de,Ie)|0,E=E+Math.imul(de,xe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(J,Ze)|0,E=E+Math.imul(J,ne)|0,E=E+Math.imul(q,Ze)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(Ae,$e)|0,E=E+Math.imul(Ae,ge)|0,E=E+Math.imul(pe,$e)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,et)|0,E=E+Math.imul(X,Le)|0,E=E+Math.imul(Q,et)|0,I=I+Math.imul(Q,Le)|0,_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ue)|0,E=E+Math.imul(G,Re)|0,I=I+Math.imul(G,Ue)|0;var Dt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,_=Math.imul(Xe,Ke),E=Math.imul(Xe,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(Be,Ie)|0,E=E+Math.imul(Be,xe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(de,Ze)|0,E=E+Math.imul(de,ne)|0,E=E+Math.imul(oe,Ze)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(J,$e)|0,E=E+Math.imul(J,ge)|0,E=E+Math.imul(q,$e)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(Ae,et)|0,E=E+Math.imul(Ae,Le)|0,E=E+Math.imul(pe,et)|0,I=I+Math.imul(pe,Le)|0,_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ue)|0,E=E+Math.imul(Q,Re)|0,I=I+Math.imul(Q,Ue)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(Xe,Ie),E=Math.imul(Xe,xe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,xe),_=_+Math.imul(Be,Ze)|0,E=E+Math.imul(Be,ne)|0,E=E+Math.imul(we,Ze)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0,E=E+Math.imul(oe,$e)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(J,et)|0,E=E+Math.imul(J,Le)|0,E=E+Math.imul(q,et)|0,I=I+Math.imul(q,Le)|0,_=_+Math.imul(Ae,Re)|0,E=E+Math.imul(Ae,Ue)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ue)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(Xe,Ze),E=Math.imul(Xe,ne),E=E+Math.imul(ve,Ze)|0,I=Math.imul(ve,ne),_=_+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0,E=E+Math.imul(we,$e)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(de,et)|0,E=E+Math.imul(de,Le)|0,E=E+Math.imul(oe,et)|0,I=I+Math.imul(oe,Le)|0,_=_+Math.imul(J,Re)|0,E=E+Math.imul(J,Ue)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ue)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(Xe,$e),E=Math.imul(Xe,ge),E=E+Math.imul(ve,$e)|0,I=Math.imul(ve,ge),_=_+Math.imul(Be,et)|0,E=E+Math.imul(Be,Le)|0,E=E+Math.imul(we,et)|0,I=I+Math.imul(we,Le)|0,_=_+Math.imul(de,Re)|0,E=E+Math.imul(de,Ue)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ue)|0;var Gt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(Xe,et),E=Math.imul(Xe,Le),E=E+Math.imul(ve,et)|0,I=Math.imul(ve,Le),_=_+Math.imul(Be,Re)|0,E=E+Math.imul(Be,Ue)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ue)|0;var Pr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(Xe,Re),E=Math.imul(Xe,Ue),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ue);var he=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(he>>>26)|0,he&=67108863,M[0]=at,M[1]=bt,M[2]=ht,M[3]=St,M[4]=Bt,M[5]=Et,M[6]=Mt,M[7]=zt,M[8]=Ht,M[9]=Lt,M[10]=Ft,M[11]=Nt,M[12]=Dt,M[13]=Ut,M[14]=Zt,M[15]=Vt,M[16]=Gt,M[17]=Pr,M[18]=he,f!==0&&(M[19]=f,x.length++),x},"comb10MulTo");Math.imul||(T=R);function P(m,o,p){p.negative=o.negative^m.negative,p.length=m.length+o.length;for(var x=0,A=0,k=0;k<p.length-1;k++){var M=A;A=0;for(var f=x&67108863,_=Math.min(k,o.length-1),E=Math.max(0,k-m.length+1);E<=_;E++){var I=k-E,L=m.words[I]|0,D=o.words[E]|0,F=L*D,z=F&67108863;M=M+(F/67108864|0)|0,z=z+f|0,f=z&67108863,M=M+(z>>>26)|0,A+=M>>>26,M&=67108863}p.words[k]=f,x=M,M=A}return x!==0?p.words[k]=x:p.length--,p._strip()}n(P,"bigMulTo");function O(m,o,p){return P(m,o,p)}n(O,"jumboMulTo"),l.prototype.mulTo=n(function(o,p){var x,A=this.length+o.length;return this.length===10&&o.length===10?x=T(this,o,p):A<63?x=R(this,o,p):A<1024?x=P(this,o,p):x=O(this,o,p),x},"mulTo"),l.prototype.mul=n(function(o){var p=new l(null);return p.words=new Array(this.length+o.length),this.mulTo(o,p)},"mul"),l.prototype.mulf=n(function(o){var p=new l(null);return p.words=new Array(this.length+o.length),O(this,o,p)},"mulf"),l.prototype.imul=n(function(o){return this.clone().mulTo(o,this)},"imul"),l.prototype.imuln=n(function(o){var p=o<0;p&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var x=0,A=0;A<this.length;A++){var k=(this.words[A]|0)*o,M=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=M>>>26,this.words[A]=M&67108863}return x!==0&&(this.words[A]=x,this.length++),this.length=o===0?1:this.length,p?this.ineg():this},"imuln"),l.prototype.muln=n(function(o){return this.clone().imuln(o)},"muln"),l.prototype.sqr=n(function(){return this.mul(this)},"sqr"),l.prototype.isqr=n(function(){return this.imul(this.clone())},"isqr"),l.prototype.pow=n(function(o){var p=C(o);if(p.length===0)return new l(1);for(var x=this,A=0;A<p.length&&p[A]===0;A++,x=x.sqr());if(++A<p.length)for(var k=x.sqr();A<p.length;A++,k=k.sqr())p[A]!==0&&(x=x.mul(k));return x},"pow"),l.prototype.iushln=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=67108863>>>26-p<<26-p,k;if(p!==0){var M=0;for(k=0;k<this.length;k++){var f=this.words[k]&A,_=(this.words[k]|0)-f<<p;this.words[k]=_|M,M=f>>>26-p}M&&(this.words[k]=M,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},"iushln"),l.prototype.ishln=n(function(o){return i(this.negative===0),this.iushln(o)},"ishln"),l.prototype.iushrn=n(function(o,p,x){i(typeof o=="number"&&o>=0);var A;p?A=(p-p%26)/26:A=0;var k=o%26,M=Math.min((o-k)/26,this.length),f=67108863^67108863>>>k<<k,_=x;if(A-=M,A=Math.max(0,A),_){for(var E=0;E<M;E++)_.words[E]=this.words[E];_.length=M}if(M!==0)if(this.length>M)for(this.length-=M,E=0;E<this.length;E++)this.words[E]=this.words[E+M];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=A);E--){var L=this.words[E]|0;this.words[E]=I<<26-k|L>>>k,I=L&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),l.prototype.ishrn=n(function(o,p,x){return i(this.negative===0),this.iushrn(o,p,x)},"ishrn"),l.prototype.shln=n(function(o){return this.clone().ishln(o)},"shln"),l.prototype.ushln=n(function(o){return this.clone().iushln(o)},"ushln"),l.prototype.shrn=n(function(o){return this.clone().ishrn(o)},"shrn"),l.prototype.ushrn=n(function(o){return this.clone().iushrn(o)},"ushrn"),l.prototype.testn=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return!1;var k=this.words[x];return!!(k&A)},"testn"),l.prototype.imaskn=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(p!==0&&x++,this.length=Math.min(x,this.length),p!==0){var A=67108863^67108863>>>p<<p;this.words[this.length-1]&=A}return this._strip()},"imaskn"),l.prototype.maskn=n(function(o){return this.clone().imaskn(o)},"maskn"),l.prototype.iaddn=n(function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},"iaddn"),l.prototype._iaddn=n(function(o){this.words[0]+=o;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},"_iaddn"),l.prototype.isubn=n(function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},"isubn"),l.prototype.addn=n(function(o){return this.clone().iaddn(o)},"addn"),l.prototype.subn=n(function(o){return this.clone().isubn(o)},"subn"),l.prototype.iabs=n(function(){return this.negative=0,this},"iabs"),l.prototype.abs=n(function(){return this.clone().iabs()},"abs"),l.prototype._ishlnsubmul=n(function(o,p,x){var A=o.length+x,k;this._expand(A);var M,f=0;for(k=0;k<o.length;k++){M=(this.words[k+x]|0)+f;var _=(o.words[k]|0)*p;M-=_&67108863,f=(M>>26)-(_/67108864|0),this.words[k+x]=M&67108863}for(;k<this.length-x;k++)M=(this.words[k+x]|0)+f,f=M>>26,this.words[k+x]=M&67108863;if(f===0)return this._strip();for(i(f===-1),f=0,k=0;k<this.length;k++)M=-(this.words[k]|0)+f,f=M>>26,this.words[k]=M&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),l.prototype._wordDiv=n(function(o,p){var x=this.length-o.length,A=this.clone(),k=o,M=k.words[k.length-1]|0,f=this._countBits(M);x=26-f,x!==0&&(k=k.ushln(x),A.iushln(x),M=k.words[k.length-1]|0);var _=A.length-k.length,E;if(p!=="mod"){E=new l(null),E.length=_+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var L=A.clone()._ishlnsubmul(k,1,_);L.negative===0&&(A=L,E&&(E.words[_]=1));for(var D=_-1;D>=0;D--){var F=(A.words[k.length+D]|0)*67108864+(A.words[k.length+D-1]|0);for(F=Math.min(F/M|0,67108863),A._ishlnsubmul(k,F,D);A.negative!==0;)F--,A.negative=0,A._ishlnsubmul(k,1,D),A.isZero()||(A.negative^=1);E&&(E.words[D]=F)}return E&&E._strip(),A._strip(),p!=="div"&&x!==0&&A.iushrn(x),{div:E||null,mod:A}},"_wordDiv"),l.prototype.divmod=n(function(o,p,x){if(i(!o.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var A,k,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,p),p!=="mod"&&(A=M.div.neg()),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.iadd(o)),{div:A,mod:k}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),p),p!=="mod"&&(A=M.div.neg()),{div:A,mod:M.mod}):(this.negative&o.negative)!==0?(M=this.neg().divmod(o.neg(),p),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.isub(o)),{div:M.div,mod:k}):o.length>this.length||this.cmp(o)<0?{div:new l(0),mod:this}:o.length===1?p==="div"?{div:this.divn(o.words[0]),mod:null}:p==="mod"?{div:null,mod:new l(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new l(this.modrn(o.words[0]))}:this._wordDiv(o,p)},"divmod"),l.prototype.div=n(function(o){return this.divmod(o,"div",!1).div},"div"),l.prototype.mod=n(function(o){return this.divmod(o,"mod",!1).mod},"mod"),l.prototype.umod=n(function(o){return this.divmod(o,"mod",!0).mod},"umod"),l.prototype.divRound=n(function(o){var p=this.divmod(o);if(p.mod.isZero())return p.div;var x=p.div.negative!==0?p.mod.isub(o):p.mod,A=o.ushrn(1),k=o.andln(1),M=x.cmp(A);return M<0||k===1&&M===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},"divRound"),l.prototype.modrn=n(function(o){var p=o<0;p&&(o=-o),i(o<=67108863);for(var x=(1<<26)%o,A=0,k=this.length-1;k>=0;k--)A=(x*A+(this.words[k]|0))%o;return p?-A:A},"modrn"),l.prototype.modn=n(function(o){return this.modrn(o)},"modn"),l.prototype.idivn=n(function(o){var p=o<0;p&&(o=-o),i(o<=67108863);for(var x=0,A=this.length-1;A>=0;A--){var k=(this.words[A]|0)+x*67108864;this.words[A]=k/o|0,x=k%o}return this._strip(),p?this.ineg():this},"idivn"),l.prototype.divn=n(function(o){return this.clone().idivn(o)},"divn"),l.prototype.egcd=n(function(o){i(o.negative===0),i(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new l(1),k=new l(0),M=new l(0),f=new l(1),_=0;p.isEven()&&x.isEven();)p.iushrn(1),x.iushrn(1),++_;for(var E=x.clone(),I=p.clone();!p.isZero();){for(var L=0,D=1;(p.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(p.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(E),k.isub(I)),A.iushrn(1),k.iushrn(1);for(var F=0,z=1;(x.words[0]&z)===0&&F<26;++F,z<<=1);if(F>0)for(x.iushrn(F);F-- >0;)(M.isOdd()||f.isOdd())&&(M.iadd(E),f.isub(I)),M.iushrn(1),f.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(M),k.isub(f)):(x.isub(p),M.isub(A),f.isub(k))}return{a:M,b:f,gcd:x.iushln(_)}},"egcd"),l.prototype._invmp=n(function(o){i(o.negative===0),i(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new l(1),k=new l(0),M=x.clone();p.cmpn(1)>0&&x.cmpn(1)>0;){for(var f=0,_=1;(p.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(p.iushrn(f);f-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);for(var E=0,I=1;(x.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(x.iushrn(E);E-- >0;)k.isOdd()&&k.iadd(M),k.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(k)):(x.isub(p),k.isub(A))}var L;return p.cmpn(1)===0?L=A:L=k,L.cmpn(0)<0&&L.iadd(o),L},"_invmp"),l.prototype.gcd=n(function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var p=this.clone(),x=o.clone();p.negative=0,x.negative=0;for(var A=0;p.isEven()&&x.isEven();A++)p.iushrn(1),x.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=p.cmp(x);if(k<0){var M=p;p=x,x=M}else if(k===0||x.cmpn(1)===0)break;p.isub(x)}while(!0);return x.iushln(A)},"gcd"),l.prototype.invm=n(function(o){return this.egcd(o).a.umod(o)},"invm"),l.prototype.isEven=n(function(){return(this.words[0]&1)===0},"isEven"),l.prototype.isOdd=n(function(){return(this.words[0]&1)===1},"isOdd"),l.prototype.andln=n(function(o){return this.words[0]&o},"andln"),l.prototype.bincn=n(function(o){i(typeof o=="number");var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var k=A,M=x;k!==0&&M<this.length;M++){var f=this.words[M]|0;f+=k,k=f>>>26,f&=67108863,this.words[M]=f}return k!==0&&(this.words[M]=k,this.length++),this},"bincn"),l.prototype.isZero=n(function(){return this.length===1&&this.words[0]===0},"isZero"),l.prototype.cmpn=n(function(o){var p=o<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var x;if(this.length>1)x=1;else{p&&(o=-o),i(o<=67108863,"Number is too big");var A=this.words[0]|0;x=A===o?0:A<o?-1:1}return this.negative!==0?-x|0:x},"cmpn"),l.prototype.cmp=n(function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var p=this.ucmp(o);return this.negative!==0?-p|0:p},"cmp"),l.prototype.ucmp=n(function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var p=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,k=o.words[x]|0;if(A!==k){A<k?p=-1:A>k&&(p=1);break}}return p},"ucmp"),l.prototype.gtn=n(function(o){return this.cmpn(o)===1},"gtn"),l.prototype.gt=n(function(o){return this.cmp(o)===1},"gt"),l.prototype.gten=n(function(o){return this.cmpn(o)>=0},"gten"),l.prototype.gte=n(function(o){return this.cmp(o)>=0},"gte"),l.prototype.ltn=n(function(o){return this.cmpn(o)===-1},"ltn"),l.prototype.lt=n(function(o){return this.cmp(o)===-1},"lt"),l.prototype.lten=n(function(o){return this.cmpn(o)<=0},"lten"),l.prototype.lte=n(function(o){return this.cmp(o)<=0},"lte"),l.prototype.eqn=n(function(o){return this.cmpn(o)===0},"eqn"),l.prototype.eq=n(function(o){return this.cmp(o)===0},"eq"),l.red=n(function(o){return new U(o)},"red"),l.prototype.toRed=n(function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},"toRed"),l.prototype.fromRed=n(function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),l.prototype._forceRed=n(function(o){return this.red=o,this},"_forceRed"),l.prototype.forceRed=n(function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},"forceRed"),l.prototype.redAdd=n(function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},"redAdd"),l.prototype.redIAdd=n(function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},"redIAdd"),l.prototype.redSub=n(function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},"redSub"),l.prototype.redISub=n(function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},"redISub"),l.prototype.redShl=n(function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},"redShl"),l.prototype.redMul=n(function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},"redMul"),l.prototype.redIMul=n(function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},"redIMul"),l.prototype.redSqr=n(function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),l.prototype.redISqr=n(function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),l.prototype.redSqrt=n(function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),l.prototype.redInvm=n(function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),l.prototype.redNeg=n(function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),l.prototype.redPow=n(function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)},"redPow");var j={k256:null,p224:null,p192:null,p25519:null};function B(m,o){this.name=m,this.p=new l(o,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(B,"MPrime"),B.prototype._tmp=n(function(){var o=new l(null);return o.words=new Array(Math.ceil(this.n/13)),o},"_tmp"),B.prototype.ireduce=n(function(o){var p=o,x;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),x=p.bitLength();while(x>this.n);var A=x<this.n?-1:p.ucmp(this.p);return A===0?(p.words[0]=0,p.length=1):A>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},"ireduce"),B.prototype.split=n(function(o,p){o.iushrn(this.n,0,p)},"split"),B.prototype.imulK=n(function(o){return o.imul(this.k)},"imulK");function Z(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Z,"K256"),s(Z,B),Z.prototype.split=n(function(o,p){for(var x=4194303,A=Math.min(o.length,9),k=0;k<A;k++)p.words[k]=o.words[k];if(p.length=A,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(p.words[p.length++]=M&x,k=10;k<o.length;k++){var f=o.words[k]|0;o.words[k-10]=(f&x)<<4|M>>>22,M=f}M>>>=22,o.words[k-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},"split"),Z.prototype.imulK=n(function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var p=0,x=0;x<o.length;x++){var A=o.words[x]|0;p+=A*977,o.words[x]=p&67108863,p=A*64+(p/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o},"imulK");function W(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,"P224"),s(W,B);function ee(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,"P192"),s(ee,B);function $(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,"P25519"),s($,B),$.prototype.imulK=n(function(o){for(var p=0,x=0;x<o.length;x++){var A=(o.words[x]|0)*19+p,k=A&67108863;A>>>=26,o.words[x]=k,p=A}return p!==0&&(o.words[o.length++]=p),o},"imulK"),l._prime=n(function(o){if(j[o])return j[o];var p;if(o==="k256")p=new Z;else if(o==="p224")p=new W;else if(o==="p192")p=new ee;else if(o==="p25519")p=new $;else throw new Error("Unknown prime "+o);return j[o]=p,p},"prime");function U(m){if(typeof m=="string"){var o=l._prime(m);this.m=o.p,this.prime=o}else i(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}n(U,"Red"),U.prototype._verify1=n(function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},"_verify1"),U.prototype._verify2=n(function(o,p){i((o.negative|p.negative)===0,"red works only with positives"),i(o.red&&o.red===p.red,"red works only with red numbers")},"_verify2"),U.prototype.imod=n(function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(d(o,o.umod(this.m)._forceRed(this)),o)},"imod"),U.prototype.neg=n(function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},"neg"),U.prototype.add=n(function(o,p){this._verify2(o,p);var x=o.add(p);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},"add"),U.prototype.iadd=n(function(o,p){this._verify2(o,p);var x=o.iadd(p);return x.cmp(this.m)>=0&&x.isub(this.m),x},"iadd"),U.prototype.sub=n(function(o,p){this._verify2(o,p);var x=o.sub(p);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},"sub"),U.prototype.isub=n(function(o,p){this._verify2(o,p);var x=o.isub(p);return x.cmpn(0)<0&&x.iadd(this.m),x},"isub"),U.prototype.shl=n(function(o,p){return this._verify1(o),this.imod(o.ushln(p))},"shl"),U.prototype.imul=n(function(o,p){return this._verify2(o,p),this.imod(o.imul(p))},"imul"),U.prototype.mul=n(function(o,p){return this._verify2(o,p),this.imod(o.mul(p))},"mul"),U.prototype.isqr=n(function(o){return this.imul(o,o.clone())},"isqr"),U.prototype.sqr=n(function(o){return this.mul(o,o)},"sqr"),U.prototype.sqrt=n(function(o){if(o.isZero())return o.clone();var p=this.m.andln(3);if(i(p%2===1),p===3){var x=this.m.add(new l(1)).iushrn(2);return this.pow(o,x)}for(var A=this.m.subn(1),k=0;!A.isZero()&&A.andln(1)===0;)k++,A.iushrn(1);i(!A.isZero());var M=new l(1).toRed(this),f=M.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new l(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,A),L=this.pow(o,A.addn(1).iushrn(1)),D=this.pow(o,A),F=k;D.cmp(M)!==0;){for(var z=D,H=0;z.cmp(M)!==0;H++)z=z.redSqr();i(H<F);var V=this.pow(I,new l(1).iushln(F-H-1));L=L.redMul(V),I=V.redSqr(),D=D.redMul(I),F=H}return L},"sqrt"),U.prototype.invm=n(function(o){var p=o._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},"invm"),U.prototype.pow=n(function(o,p){if(p.isZero())return new l(1).toRed(this);if(p.cmpn(1)===0)return o.clone();var x=4,A=new Array(1<<x);A[0]=new l(1).toRed(this),A[1]=o;for(var k=2;k<A.length;k++)A[k]=this.mul(A[k-1],o);var M=A[0],f=0,_=0,E=p.bitLength()%26;for(E===0&&(E=26),k=p.length-1;k>=0;k--){for(var I=p.words[k],L=E-1;L>=0;L--){var D=I>>L&1;if(M!==A[0]&&(M=this.sqr(M)),D===0&&f===0){_=0;continue}f<<=1,f|=D,_++,!(_!==x&&(k!==0||L!==0))&&(M=this.mul(M,A[f]),_=0,f=0)}E=26}return M},"pow"),U.prototype.convertTo=n(function(o){var p=o.umod(this.m);return p===o?p.clone():p},"convertTo"),U.prototype.convertFrom=n(function(o){var p=o.clone();return p.red=null,p},"convertFrom"),l.mont=n(function(o){return new u(o)},"mont");function u(m){U.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(u,"Mont"),s(u,U),u.prototype.convertTo=n(function(o){return this.imod(o.ushln(this.shift))},"convertTo"),u.prototype.convertFrom=n(function(o){var p=this.imod(o.mul(this.rinv));return p.red=null,p},"convertFrom"),u.prototype.imul=n(function(o,p){if(o.isZero()||p.isZero())return o.words[0]=0,o.length=1,o;var x=o.imul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},"imul"),u.prototype.mul=n(function(o,p){if(o.isZero()||p.isZero())return new l(0)._forceRed(this);var x=o.mul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},"mul"),u.prototype.invm=n(function(o){var p=this.imod(o._invmp(this.m).mul(this.r2));return p._forceRed(this)},"invm")})(t,eN)})(uu)),uu.exports}n(tN,"requireBn$1");var pd,Sy;function Rg(){if(Sy)return pd;Sy=1;var t=tN(),e=ha(),r=Ot().Buffer;function i(a){var v=a.modulus.byteLength(),g;do g=new t(e(v));while(g.cmp(a.modulus)>=0||!g.umod(a.prime1)||!g.umod(a.prime2));return g}n(i,"getr");function s(a){var v=i(a),g=v.toRed(t.mont(a.modulus)).redPow(new t(a.publicExponent)).fromRed();return{blinder:g,unblinder:v.invm(a.modulus)}}n(s,"blind");function l(a,v){var g=s(v),h=v.modulus.byteLength(),d=new t(a).mul(g.blinder).umod(v.modulus),c=d.toRed(t.mont(v.prime1)),y=d.toRed(t.mont(v.prime2)),b=v.coefficient,w=v.prime1,S=v.prime2,C=c.redPow(v.exponent1).fromRed(),R=y.redPow(v.exponent2).fromRed(),T=C.isub(R).imul(b).umod(w).imul(S);return R.iadd(T).imul(g.unblinder).umod(v.modulus).toArrayLike(r,"be",h)}return n(l,"crt"),l.getr=i,pd=l,pd}n(Rg,"requireBrowserifyRsa");var md={};const rN="6.6.1",iN={version:rN};var gd={},vd={},Ey;function N8(){return Ey||(Ey=1,(function(t){var e=t;function r(l,a){if(Array.isArray(l))return l.slice();if(!l)return[];var v=[];if(typeof l!="string"){for(var g=0;g<l.length;g++)v[g]=l[g]|0;return v}if(a==="hex"){l=l.replace(/[^a-z0-9]+/ig,""),l.length%2!==0&&(l="0"+l);for(var g=0;g<l.length;g+=2)v.push(parseInt(l[g]+l[g+1],16))}else for(var g=0;g<l.length;g++){var h=l.charCodeAt(g),d=h>>8,c=h&255;d?v.push(d,c):v.push(c)}return v}n(r,"toArray"),e.toArray=r;function i(l){return l.length===1?"0"+l:l}n(i,"zero2"),e.zero2=i;function s(l){for(var a="",v=0;v<l.length;v++)a+=i(l[v].toString(16));return a}n(s,"toHex"),e.toHex=s,e.encode=n(function(a,v){return v==="hex"?s(a):a},"encode")})(vd)),vd}n(N8,"requireUtils$2");var Ay;function ai(){return Ay||(Ay=1,(function(t){var e=t,r=_r(),i=si(),s=N8();e.assert=i,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function l(d,c,y){var b=new Array(Math.max(d.bitLength(),y)+1),w;for(w=0;w<b.length;w+=1)b[w]=0;var S=1<<c+1,C=d.clone();for(w=0;w<b.length;w++){var R,T=C.andln(S-1);C.isOdd()?(T>(S>>1)-1?R=(S>>1)-T:R=T,C.isubn(R)):R=0,b[w]=R,C.iushrn(1)}return b}n(l,"getNAF"),e.getNAF=l;function a(d,c){var y=[[],[]];d=d.clone(),c=c.clone();for(var b=0,w=0,S;d.cmpn(-b)>0||c.cmpn(-w)>0;){var C=d.andln(3)+b&3,R=c.andln(3)+w&3;C===3&&(C=-1),R===3&&(R=-1);var T;(C&1)===0?T=0:(S=d.andln(7)+b&7,(S===3||S===5)&&R===2?T=-C:T=C),y[0].push(T);var P;(R&1)===0?P=0:(S=c.andln(7)+w&7,(S===3||S===5)&&C===2?P=-R:P=R),y[1].push(P),2*b===T+1&&(b=1-b),2*w===P+1&&(w=1-w),d.iushrn(1),c.iushrn(1)}return y}n(a,"getJSF"),e.getJSF=a;function v(d,c,y){var b="_"+c;d.prototype[c]=n(function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)},"cachedProperty")}n(v,"cachedProperty"),e.cachedProperty=v;function g(d){return typeof d=="string"?e.toArray(d,"hex"):d}n(g,"parseBytes"),e.parseBytes=g;function h(d){return new r(d,"hex","le")}n(h,"intFromLE"),e.intFromLE=h})(gd)),gd}n(ai,"requireUtils$1");var bd={},yd,ky;function xf(){if(ky)return yd;ky=1;var t=_r(),e=ai(),r=e.getNAF,i=e.getJSF,s=e.assert;function l(v,g){this.type=v,this.p=new t(g.p,16),this.red=g.prime?t.red(g.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=g.n&&new t(g.n,16),this.g=g.g&&this.pointFromJSON(g.g,g.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}n(l,"BaseCurve"),yd=l,l.prototype.point=n(function(){throw new Error("Not implemented")},"point"),l.prototype.validate=n(function(){throw new Error("Not implemented")},"validate"),l.prototype._fixedNafMul=n(function(g,h){s(g.precomputed);var d=g._getDoubles(),c=r(h,1,this._bitLength),y=(1<<d.step+1)-(d.step%2===0?2:1);y/=3;var b=[],w,S;for(w=0;w<c.length;w+=d.step){S=0;for(var C=w+d.step-1;C>=w;C--)S=(S<<1)+c[C];b.push(S)}for(var R=this.jpoint(null,null,null),T=this.jpoint(null,null,null),P=y;P>0;P--){for(w=0;w<b.length;w++)S=b[w],S===P?T=T.mixedAdd(d.points[w]):S===-P&&(T=T.mixedAdd(d.points[w].neg()));R=R.add(T)}return R.toP()},"_fixedNafMul"),l.prototype._wnafMul=n(function(g,h){var d=4,c=g._getNAFPoints(d);d=c.wnd;for(var y=c.points,b=r(h,d,this._bitLength),w=this.jpoint(null,null,null),S=b.length-1;S>=0;S--){for(var C=0;S>=0&&b[S]===0;S--)C++;if(S>=0&&C++,w=w.dblp(C),S<0)break;var R=b[S];s(R!==0),g.type==="affine"?R>0?w=w.mixedAdd(y[R-1>>1]):w=w.mixedAdd(y[-R-1>>1].neg()):R>0?w=w.add(y[R-1>>1]):w=w.add(y[-R-1>>1].neg())}return g.type==="affine"?w.toP():w},"_wnafMul"),l.prototype._wnafMulAdd=n(function(g,h,d,c,y){var b=this._wnafT1,w=this._wnafT2,S=this._wnafT3,C=0,R,T,P;for(R=0;R<c;R++){P=h[R];var O=P._getNAFPoints(g);b[R]=O.wnd,w[R]=O.points}for(R=c-1;R>=1;R-=2){var j=R-1,B=R;if(b[j]!==1||b[B]!==1){S[j]=r(d[j],b[j],this._bitLength),S[B]=r(d[B],b[B],this._bitLength),C=Math.max(S[j].length,C),C=Math.max(S[B].length,C);continue}var Z=[h[j],null,null,h[B]];h[j].y.cmp(h[B].y)===0?(Z[1]=h[j].add(h[B]),Z[2]=h[j].toJ().mixedAdd(h[B].neg())):h[j].y.cmp(h[B].y.redNeg())===0?(Z[1]=h[j].toJ().mixedAdd(h[B]),Z[2]=h[j].add(h[B].neg())):(Z[1]=h[j].toJ().mixedAdd(h[B]),Z[2]=h[j].toJ().mixedAdd(h[B].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],ee=i(d[j],d[B]);for(C=Math.max(ee[0].length,C),S[j]=new Array(C),S[B]=new Array(C),T=0;T<C;T++){var $=ee[0][T]|0,U=ee[1][T]|0;S[j][T]=W[($+1)*3+(U+1)],S[B][T]=0,w[j]=Z}}var u=this.jpoint(null,null,null),m=this._wnafT4;for(R=C;R>=0;R--){for(var o=0;R>=0;){var p=!0;for(T=0;T<c;T++)m[T]=S[T][R]|0,m[T]!==0&&(p=!1);if(!p)break;o++,R--}if(R>=0&&o++,u=u.dblp(o),R<0)break;for(T=0;T<c;T++){var x=m[T];x!==0&&(x>0?P=w[T][x-1>>1]:x<0&&(P=w[T][-x-1>>1].neg()),P.type==="affine"?u=u.mixedAdd(P):u=u.add(P))}}for(R=0;R<c;R++)w[R]=null;return y?u:u.toP()},"_wnafMulAdd");function a(v,g){this.curve=v,this.type=g,this.precomputed=null}return n(a,"BasePoint"),l.BasePoint=a,a.prototype.eq=n(function(){throw new Error("Not implemented")},"eq"),a.prototype.validate=n(function(){return this.curve.validate(this)},"validate"),l.prototype.decodePoint=n(function(g,h){g=e.toArray(g,h);var d=this.p.byteLength();if((g[0]===4||g[0]===6||g[0]===7)&&g.length-1===2*d){g[0]===6?s(g[g.length-1]%2===0):g[0]===7&&s(g[g.length-1]%2===1);var c=this.point(g.slice(1,1+d),g.slice(1+d,1+2*d));return c}else if((g[0]===2||g[0]===3)&&g.length-1===d)return this.pointFromX(g.slice(1,1+d),g[0]===3);throw new Error("Unknown point format")},"decodePoint"),a.prototype.encodeCompressed=n(function(g){return this.encode(g,!0)},"encodeCompressed"),a.prototype._encode=n(function(g){var h=this.curve.p.byteLength(),d=this.getX().toArray("be",h);return g?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",h))},"_encode"),a.prototype.encode=n(function(g,h){return e.encode(this._encode(h),g)},"encode"),a.prototype.precompute=n(function(g){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,g),h.beta=this._getBeta(),this.precomputed=h,this},"precompute"),a.prototype._hasDoubles=n(function(g){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((g.bitLength()+1)/h.step):!1},"_hasDoubles"),a.prototype._getDoubles=n(function(g,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],c=this,y=0;y<h;y+=g){for(var b=0;b<g;b++)c=c.dbl();d.push(c)}return{step:g,points:d}},"_getDoubles"),a.prototype._getNAFPoints=n(function(g){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],d=(1<<g)-1,c=d===1?null:this.dbl(),y=1;y<d;y++)h[y]=h[y-1].add(c);return{wnd:g,points:h}},"_getNAFPoints"),a.prototype._getBeta=n(function(){return null},"_getBeta"),a.prototype.dblp=n(function(g){for(var h=this,d=0;d<g;d++)h=h.dbl();return h},"dblp"),yd}n(xf,"requireBase$1");var wd,Ny;function nN(){if(Ny)return wd;Ny=1;var t=ai(),e=_r(),r=jt(),i=xf(),s=t.assert;function l(g){i.call(this,"short",g),this.a=new e(g.a,16).toRed(this.red),this.b=new e(g.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(g),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}n(l,"ShortCurve"),r(l,i),wd=l,l.prototype._getEndomorphism=n(function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,c;if(h.beta)d=new e(h.beta,16).toRed(this.red);else{var y=this._getEndoRoots(this.p);d=y[0].cmp(y[1])<0?y[0]:y[1],d=d.toRed(this.red)}if(h.lambda)c=new e(h.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(d))===0?c=b[0]:(c=b[1],s(this.g.mul(c).x.cmp(this.g.x.redMul(d))===0))}var w;return h.basis?w=h.basis.map(function(S){return{a:new e(S.a,16),b:new e(S.b,16)}}):w=this._getEndoBasis(c),{beta:d,lambda:c,basis:w}}},"_getEndomorphism"),l.prototype._getEndoRoots=n(function(h){var d=h===this.p?this.red:e.mont(h),c=new e(2).toRed(d).redInvm(),y=c.redNeg(),b=new e(3).toRed(d).redNeg().redSqrt().redMul(c),w=y.redAdd(b).fromRed(),S=y.redSub(b).fromRed();return[w,S]},"_getEndoRoots"),l.prototype._getEndoBasis=n(function(h){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=h,y=this.n.clone(),b=new e(1),w=new e(0),S=new e(0),C=new e(1),R,T,P,O,j,B,Z,W=0,ee,$;c.cmpn(0)!==0;){var U=y.div(c);ee=y.sub(U.mul(c)),$=S.sub(U.mul(b));var u=C.sub(U.mul(w));if(!P&&ee.cmp(d)<0)R=Z.neg(),T=b,P=ee.neg(),O=$;else if(P&&++W===2)break;Z=ee,y=c,c=ee,S=b,b=$,C=w,w=u}j=ee.neg(),B=$;var m=P.sqr().add(O.sqr()),o=j.sqr().add(B.sqr());return o.cmp(m)>=0&&(j=R,B=T),P.negative&&(P=P.neg(),O=O.neg()),j.negative&&(j=j.neg(),B=B.neg()),[{a:P,b:O},{a:j,b:B}]},"_getEndoBasis"),l.prototype._endoSplit=n(function(h){var d=this.endo.basis,c=d[0],y=d[1],b=y.b.mul(h).divRound(this.n),w=c.b.neg().mul(h).divRound(this.n),S=b.mul(c.a),C=w.mul(y.a),R=b.mul(c.b),T=w.mul(y.b),P=h.sub(S).sub(C),O=R.add(T).neg();return{k1:P,k2:O}},"_endoSplit"),l.prototype.pointFromX=n(function(h,d){h=new e(h,16),h.red||(h=h.toRed(this.red));var c=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),y=c.redSqrt();if(y.redSqr().redSub(c).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(d&&!b||!d&&b)&&(y=y.redNeg()),this.point(h,y)},"pointFromX"),l.prototype.validate=n(function(h){if(h.inf)return!0;var d=h.x,c=h.y,y=this.a.redMul(d),b=d.redSqr().redMul(d).redIAdd(y).redIAdd(this.b);return c.redSqr().redISub(b).cmpn(0)===0},"validate"),l.prototype._endoWnafMulAdd=n(function(h,d,c){for(var y=this._endoWnafT1,b=this._endoWnafT2,w=0;w<h.length;w++){var S=this._endoSplit(d[w]),C=h[w],R=C._getBeta();S.k1.negative&&(S.k1.ineg(),C=C.neg(!0)),S.k2.negative&&(S.k2.ineg(),R=R.neg(!0)),y[w*2]=C,y[w*2+1]=R,b[w*2]=S.k1,b[w*2+1]=S.k2}for(var T=this._wnafMulAdd(1,y,b,w*2,c),P=0;P<w*2;P++)y[P]=null,b[P]=null;return T},"_endoWnafMulAdd");function a(g,h,d,c){i.BasePoint.call(this,g,"affine"),h===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(h,16),this.y=new e(d,16),c&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(a,"Point"),r(a,i.BasePoint),l.prototype.point=n(function(h,d,c){return new a(this,h,d,c)},"point"),l.prototype.pointFromJSON=n(function(h,d){return a.fromJSON(this,h,d)},"pointFromJSON"),a.prototype._getBeta=n(function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var c=this.curve,y=n(function(b){return c.point(b.x.redMul(c.endo.beta),b.y)},"endoMul");h.beta=d,d.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(y)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(y)}}}return d}},"_getBeta"),a.prototype.toJSON=n(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON"),a.fromJSON=n(function(h,d,c){typeof d=="string"&&(d=JSON.parse(d));var y=h.point(d[0],d[1],c);if(!d[2])return y;function b(S){return h.point(S[0],S[1],c)}n(b,"obj2point");var w=d[2];return y.precomputed={beta:null,doubles:w.doubles&&{step:w.doubles.step,points:[y].concat(w.doubles.points.map(b))},naf:w.naf&&{wnd:w.naf.wnd,points:[y].concat(w.naf.points.map(b))}},y},"fromJSON"),a.prototype.inspect=n(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect"),a.prototype.isInfinity=n(function(){return this.inf},"isInfinity"),a.prototype.add=n(function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var d=this.y.redSub(h.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(h.x).redInvm()));var c=d.redSqr().redISub(this.x).redISub(h.x),y=d.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,y)},"add"),a.prototype.dbl=n(function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,c=this.x.redSqr(),y=h.redInvm(),b=c.redAdd(c).redIAdd(c).redIAdd(d).redMul(y),w=b.redSqr().redISub(this.x.redAdd(this.x)),S=b.redMul(this.x.redSub(w)).redISub(this.y);return this.curve.point(w,S)},"dbl"),a.prototype.getX=n(function(){return this.x.fromRed()},"getX"),a.prototype.getY=n(function(){return this.y.fromRed()},"getY"),a.prototype.mul=n(function(h){return h=new e(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},"mul"),a.prototype.mulAdd=n(function(h,d,c){var y=[this,d],b=[h,c];return this.curve.endo?this.curve._endoWnafMulAdd(y,b):this.curve._wnafMulAdd(1,y,b,2)},"mulAdd"),a.prototype.jmulAdd=n(function(h,d,c){var y=[this,d],b=[h,c];return this.curve.endo?this.curve._endoWnafMulAdd(y,b,!0):this.curve._wnafMulAdd(1,y,b,2,!0)},"jmulAdd"),a.prototype.eq=n(function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},"eq"),a.prototype.neg=n(function(h){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var c=this.precomputed,y=n(function(b){return b.neg()},"negate");d.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(y)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(y)}}}return d},"neg"),a.prototype.toJ=n(function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h},"toJ");function v(g,h,d,c){i.BasePoint.call(this,g,"jacobian"),h===null&&d===null&&c===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(h,16),this.y=new e(d,16),this.z=new e(c,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return n(v,"JPoint"),r(v,i.BasePoint),l.prototype.jpoint=n(function(h,d,c){return new v(this,h,d,c)},"jpoint"),v.prototype.toP=n(function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),d=h.redSqr(),c=this.x.redMul(d),y=this.y.redMul(d).redMul(h);return this.curve.point(c,y)},"toP"),v.prototype.neg=n(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg"),v.prototype.add=n(function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var d=h.z.redSqr(),c=this.z.redSqr(),y=this.x.redMul(d),b=h.x.redMul(c),w=this.y.redMul(d.redMul(h.z)),S=h.y.redMul(c.redMul(this.z)),C=y.redSub(b),R=w.redSub(S);if(C.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=C.redSqr(),P=T.redMul(C),O=y.redMul(T),j=R.redSqr().redIAdd(P).redISub(O).redISub(O),B=R.redMul(O.redISub(j)).redISub(w.redMul(P)),Z=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(j,B,Z)},"add"),v.prototype.mixedAdd=n(function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var d=this.z.redSqr(),c=this.x,y=h.x.redMul(d),b=this.y,w=h.y.redMul(d).redMul(this.z),S=c.redSub(y),C=b.redSub(w);if(S.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=S.redSqr(),T=R.redMul(S),P=c.redMul(R),O=C.redSqr().redIAdd(T).redISub(P).redISub(P),j=C.redMul(P.redISub(O)).redISub(b.redMul(T)),B=this.z.redMul(S);return this.curve.jpoint(O,j,B)},"mixedAdd"),v.prototype.dblp=n(function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var c=this;for(d=0;d<h;d++)c=c.dbl();return c}var y=this.curve.a,b=this.curve.tinv,w=this.x,S=this.y,C=this.z,R=C.redSqr().redSqr(),T=S.redAdd(S);for(d=0;d<h;d++){var P=w.redSqr(),O=T.redSqr(),j=O.redSqr(),B=P.redAdd(P).redIAdd(P).redIAdd(y.redMul(R)),Z=w.redMul(O),W=B.redSqr().redISub(Z.redAdd(Z)),ee=Z.redISub(W),$=B.redMul(ee);$=$.redIAdd($).redISub(j);var U=T.redMul(C);d+1<h&&(R=R.redMul(j)),w=W,C=U,T=$}return this.curve.jpoint(w,T.redMul(b),C)},"dblp"),v.prototype.dbl=n(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl"),v.prototype._zeroDbl=n(function(){var h,d,c;if(this.zOne){var y=this.x.redSqr(),b=this.y.redSqr(),w=b.redSqr(),S=this.x.redAdd(b).redSqr().redISub(y).redISub(w);S=S.redIAdd(S);var C=y.redAdd(y).redIAdd(y),R=C.redSqr().redISub(S).redISub(S),T=w.redIAdd(w);T=T.redIAdd(T),T=T.redIAdd(T),h=R,d=C.redMul(S.redISub(R)).redISub(T),c=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),O=this.y.redSqr(),j=O.redSqr(),B=this.x.redAdd(O).redSqr().redISub(P).redISub(j);B=B.redIAdd(B);var Z=P.redAdd(P).redIAdd(P),W=Z.redSqr(),ee=j.redIAdd(j);ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),h=W.redISub(B).redISub(B),d=Z.redMul(B.redISub(h)).redISub(ee),c=this.y.redMul(this.z),c=c.redIAdd(c)}return this.curve.jpoint(h,d,c)},"_zeroDbl"),v.prototype._threeDbl=n(function(){var h,d,c;if(this.zOne){var y=this.x.redSqr(),b=this.y.redSqr(),w=b.redSqr(),S=this.x.redAdd(b).redSqr().redISub(y).redISub(w);S=S.redIAdd(S);var C=y.redAdd(y).redIAdd(y).redIAdd(this.curve.a),R=C.redSqr().redISub(S).redISub(S);h=R;var T=w.redIAdd(w);T=T.redIAdd(T),T=T.redIAdd(T),d=C.redMul(S.redISub(R)).redISub(T),c=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),O=this.y.redSqr(),j=this.x.redMul(O),B=this.x.redSub(P).redMul(this.x.redAdd(P));B=B.redAdd(B).redIAdd(B);var Z=j.redIAdd(j);Z=Z.redIAdd(Z);var W=Z.redAdd(Z);h=B.redSqr().redISub(W),c=this.y.redAdd(this.z).redSqr().redISub(O).redISub(P);var ee=O.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),d=B.redMul(Z.redISub(h)).redISub(ee)}return this.curve.jpoint(h,d,c)},"_threeDbl"),v.prototype._dbl=n(function(){var h=this.curve.a,d=this.x,c=this.y,y=this.z,b=y.redSqr().redSqr(),w=d.redSqr(),S=c.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(h.redMul(b)),R=d.redAdd(d);R=R.redIAdd(R);var T=R.redMul(S),P=C.redSqr().redISub(T.redAdd(T)),O=T.redISub(P),j=S.redSqr();j=j.redIAdd(j),j=j.redIAdd(j),j=j.redIAdd(j);var B=C.redMul(O).redISub(j),Z=c.redAdd(c).redMul(y);return this.curve.jpoint(P,B,Z)},"_dbl"),v.prototype.trpl=n(function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),d=this.y.redSqr(),c=this.z.redSqr(),y=d.redSqr(),b=h.redAdd(h).redIAdd(h),w=b.redSqr(),S=this.x.redAdd(d).redSqr().redISub(h).redISub(y);S=S.redIAdd(S),S=S.redAdd(S).redIAdd(S),S=S.redISub(w);var C=S.redSqr(),R=y.redIAdd(y);R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var T=b.redIAdd(S).redSqr().redISub(w).redISub(C).redISub(R),P=d.redMul(T);P=P.redIAdd(P),P=P.redIAdd(P);var O=this.x.redMul(C).redISub(P);O=O.redIAdd(O),O=O.redIAdd(O);var j=this.y.redMul(T.redMul(R.redISub(T)).redISub(S.redMul(C)));j=j.redIAdd(j),j=j.redIAdd(j),j=j.redIAdd(j);var B=this.z.redAdd(S).redSqr().redISub(c).redISub(C);return this.curve.jpoint(O,j,B)},"trpl"),v.prototype.mul=n(function(h,d){return h=new e(h,d),this.curve._wnafMul(this,h)},"mul"),v.prototype.eq=n(function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var d=this.z.redSqr(),c=h.z.redSqr();if(this.x.redMul(c).redISub(h.x.redMul(d)).cmpn(0)!==0)return!1;var y=d.redMul(this.z),b=c.redMul(h.z);return this.y.redMul(b).redISub(h.y.redMul(y)).cmpn(0)===0},"eq"),v.prototype.eqXToP=n(function(h){var d=this.z.redSqr(),c=h.toRed(this.curve.red).redMul(d);if(this.x.cmp(c)===0)return!0;for(var y=h.clone(),b=this.curve.redN.redMul(d);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(b),this.x.cmp(c)===0)return!0}},"eqXToP"),v.prototype.inspect=n(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect"),v.prototype.isInfinity=n(function(){return this.z.cmpn(0)===0},"isInfinity"),wd}n(nN,"requireShort");var xd,Cy;function sN(){if(Cy)return xd;Cy=1;var t=_r(),e=jt(),r=xf(),i=ai();function s(a){r.call(this,"mont",a),this.a=new t(a.a,16).toRed(this.red),this.b=new t(a.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}n(s,"MontCurve"),e(s,r),xd=s,s.prototype.validate=n(function(v){var g=v.normalize().x,h=g.redSqr(),d=h.redMul(g).redAdd(h.redMul(this.a)).redAdd(g),c=d.redSqrt();return c.redSqr().cmp(d)===0},"validate");function l(a,v,g){r.BasePoint.call(this,a,"projective"),v===null&&g===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(v,16),this.z=new t(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return n(l,"Point"),e(l,r.BasePoint),s.prototype.decodePoint=n(function(v,g){return this.point(i.toArray(v,g),1)},"decodePoint"),s.prototype.point=n(function(v,g){return new l(this,v,g)},"point"),s.prototype.pointFromJSON=n(function(v){return l.fromJSON(this,v)},"pointFromJSON"),l.prototype.precompute=n(function(){},"precompute"),l.prototype._encode=n(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode"),l.fromJSON=n(function(v,g){return new l(v,g[0],g[1]||v.one)},"fromJSON"),l.prototype.inspect=n(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect"),l.prototype.isInfinity=n(function(){return this.z.cmpn(0)===0},"isInfinity"),l.prototype.dbl=n(function(){var v=this.x.redAdd(this.z),g=v.redSqr(),h=this.x.redSub(this.z),d=h.redSqr(),c=g.redSub(d),y=g.redMul(d),b=c.redMul(d.redAdd(this.curve.a24.redMul(c)));return this.curve.point(y,b)},"dbl"),l.prototype.add=n(function(){throw new Error("Not supported on Montgomery curve")},"add"),l.prototype.diffAdd=n(function(v,g){var h=this.x.redAdd(this.z),d=this.x.redSub(this.z),c=v.x.redAdd(v.z),y=v.x.redSub(v.z),b=y.redMul(h),w=c.redMul(d),S=g.z.redMul(b.redAdd(w).redSqr()),C=g.x.redMul(b.redISub(w).redSqr());return this.curve.point(S,C)},"diffAdd"),l.prototype.mul=n(function(v){for(var g=v.clone(),h=this,d=this.curve.point(null,null),c=this,y=[];g.cmpn(0)!==0;g.iushrn(1))y.push(g.andln(1));for(var b=y.length-1;b>=0;b--)y[b]===0?(h=h.diffAdd(d,c),d=d.dbl()):(d=h.diffAdd(d,c),h=h.dbl());return d},"mul"),l.prototype.mulAdd=n(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd"),l.prototype.jumlAdd=n(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd"),l.prototype.eq=n(function(v){return this.getX().cmp(v.getX())===0},"eq"),l.prototype.normalize=n(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize"),l.prototype.getX=n(function(){return this.normalize(),this.x.fromRed()},"getX"),xd}n(sN,"requireMont");var _d,Ry;function aN(){if(Ry)return _d;Ry=1;var t=ai(),e=_r(),r=jt(),i=xf(),s=t.assert;function l(v){this.twisted=(v.a|0)!==1,this.mOneA=this.twisted&&(v.a|0)===-1,this.extended=this.mOneA,i.call(this,"edwards",v),this.a=new e(v.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(v.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(v.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(v.c|0)===1}n(l,"EdwardsCurve"),r(l,i),_d=l,l.prototype._mulA=n(function(g){return this.mOneA?g.redNeg():this.a.redMul(g)},"_mulA"),l.prototype._mulC=n(function(g){return this.oneC?g:this.c.redMul(g)},"_mulC"),l.prototype.jpoint=n(function(g,h,d,c){return this.point(g,h,d,c)},"jpoint"),l.prototype.pointFromX=n(function(g,h){g=new e(g,16),g.red||(g=g.toRed(this.red));var d=g.redSqr(),c=this.c2.redSub(this.a.redMul(d)),y=this.one.redSub(this.c2.redMul(this.d).redMul(d)),b=c.redMul(y.redInvm()),w=b.redSqrt();if(w.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var S=w.fromRed().isOdd();return(h&&!S||!h&&S)&&(w=w.redNeg()),this.point(g,w)},"pointFromX"),l.prototype.pointFromY=n(function(g,h){g=new e(g,16),g.red||(g=g.toRed(this.red));var d=g.redSqr(),c=d.redSub(this.c2),y=d.redMul(this.d).redMul(this.c2).redSub(this.a),b=c.redMul(y.redInvm());if(b.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,g)}var w=b.redSqrt();if(w.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return w.fromRed().isOdd()!==h&&(w=w.redNeg()),this.point(w,g)},"pointFromY"),l.prototype.validate=n(function(g){if(g.isInfinity())return!0;g.normalize();var h=g.x.redSqr(),d=g.y.redSqr(),c=h.redMul(this.a).redAdd(d),y=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(d)));return c.cmp(y)===0},"validate");function a(v,g,h,d,c){i.BasePoint.call(this,v,"projective"),g===null&&h===null&&d===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(g,16),this.y=new e(h,16),this.z=d?new e(d,16):this.curve.one,this.t=c&&new e(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return n(a,"Point"),r(a,i.BasePoint),l.prototype.pointFromJSON=n(function(g){return a.fromJSON(this,g)},"pointFromJSON"),l.prototype.point=n(function(g,h,d,c){return new a(this,g,h,d,c)},"point"),a.fromJSON=n(function(g,h){return new a(g,h[0],h[1],h[2])},"fromJSON"),a.prototype.inspect=n(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect"),a.prototype.isInfinity=n(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity"),a.prototype._extDbl=n(function(){var g=this.x.redSqr(),h=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var c=this.curve._mulA(g),y=this.x.redAdd(this.y).redSqr().redISub(g).redISub(h),b=c.redAdd(h),w=b.redSub(d),S=c.redSub(h),C=y.redMul(w),R=b.redMul(S),T=y.redMul(S),P=w.redMul(b);return this.curve.point(C,R,P,T)},"_extDbl"),a.prototype._projDbl=n(function(){var g=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),d=this.y.redSqr(),c,y,b,w,S,C;if(this.curve.twisted){w=this.curve._mulA(h);var R=w.redAdd(d);this.zOne?(c=g.redSub(h).redSub(d).redMul(R.redSub(this.curve.two)),y=R.redMul(w.redSub(d)),b=R.redSqr().redSub(R).redSub(R)):(S=this.z.redSqr(),C=R.redSub(S).redISub(S),c=g.redSub(h).redISub(d).redMul(C),y=R.redMul(w.redSub(d)),b=R.redMul(C))}else w=h.redAdd(d),S=this.curve._mulC(this.z).redSqr(),C=w.redSub(S).redSub(S),c=this.curve._mulC(g.redISub(w)).redMul(C),y=this.curve._mulC(w).redMul(h.redISub(d)),b=w.redMul(C);return this.curve.point(c,y,b)},"_projDbl"),a.prototype.dbl=n(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl"),a.prototype._extAdd=n(function(g){var h=this.y.redSub(this.x).redMul(g.y.redSub(g.x)),d=this.y.redAdd(this.x).redMul(g.y.redAdd(g.x)),c=this.t.redMul(this.curve.dd).redMul(g.t),y=this.z.redMul(g.z.redAdd(g.z)),b=d.redSub(h),w=y.redSub(c),S=y.redAdd(c),C=d.redAdd(h),R=b.redMul(w),T=S.redMul(C),P=b.redMul(C),O=w.redMul(S);return this.curve.point(R,T,O,P)},"_extAdd"),a.prototype._projAdd=n(function(g){var h=this.z.redMul(g.z),d=h.redSqr(),c=this.x.redMul(g.x),y=this.y.redMul(g.y),b=this.curve.d.redMul(c).redMul(y),w=d.redSub(b),S=d.redAdd(b),C=this.x.redAdd(this.y).redMul(g.x.redAdd(g.y)).redISub(c).redISub(y),R=h.redMul(w).redMul(C),T,P;return this.curve.twisted?(T=h.redMul(S).redMul(y.redSub(this.curve._mulA(c))),P=w.redMul(S)):(T=h.redMul(S).redMul(y.redSub(c)),P=this.curve._mulC(w).redMul(S)),this.curve.point(R,T,P)},"_projAdd"),a.prototype.add=n(function(g){return this.isInfinity()?g:g.isInfinity()?this:this.curve.extended?this._extAdd(g):this._projAdd(g)},"add"),a.prototype.mul=n(function(g){return this._hasDoubles(g)?this.curve._fixedNafMul(this,g):this.curve._wnafMul(this,g)},"mul"),a.prototype.mulAdd=n(function(g,h,d){return this.curve._wnafMulAdd(1,[this,h],[g,d],2,!1)},"mulAdd"),a.prototype.jmulAdd=n(function(g,h,d){return this.curve._wnafMulAdd(1,[this,h],[g,d],2,!0)},"jmulAdd"),a.prototype.normalize=n(function(){if(this.zOne)return this;var g=this.z.redInvm();return this.x=this.x.redMul(g),this.y=this.y.redMul(g),this.t&&(this.t=this.t.redMul(g)),this.z=this.curve.one,this.zOne=!0,this},"normalize"),a.prototype.neg=n(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg"),a.prototype.getX=n(function(){return this.normalize(),this.x.fromRed()},"getX"),a.prototype.getY=n(function(){return this.normalize(),this.y.fromRed()},"getY"),a.prototype.eq=n(function(g){return this===g||this.getX().cmp(g.getX())===0&&this.getY().cmp(g.getY())===0},"eq"),a.prototype.eqXToP=n(function(g){var h=g.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var d=g.clone(),c=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(c),this.x.cmp(h)===0)return!0}},"eqXToP"),a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add,_d}n(aN,"requireEdwards");var Iy;function C8(){return Iy||(Iy=1,(function(t){var e=t;e.base=xf(),e.short=nN(),e.mont=sN(),e.edwards=aN()})(bd)),bd}n(C8,"requireCurve");var Md={},Sd={},Xt={},Ty;function Hi(){if(Ty)return Xt;Ty=1;var t=si(),e=jt();Xt.inherits=e;function r(u,m){return(u.charCodeAt(m)&64512)!==55296||m<0||m+1>=u.length?!1:(u.charCodeAt(m+1)&64512)===56320}n(r,"isSurrogatePair");function i(u,m){if(Array.isArray(u))return u.slice();if(!u)return[];var o=[];if(typeof u=="string")if(m){if(m==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),x=0;x<u.length;x+=2)o.push(parseInt(u[x]+u[x+1],16))}else for(var p=0,x=0;x<u.length;x++){var A=u.charCodeAt(x);A<128?o[p++]=A:A<2048?(o[p++]=A>>6|192,o[p++]=A&63|128):r(u,x)?(A=65536+((A&1023)<<10)+(u.charCodeAt(++x)&1023),o[p++]=A>>18|240,o[p++]=A>>12&63|128,o[p++]=A>>6&63|128,o[p++]=A&63|128):(o[p++]=A>>12|224,o[p++]=A>>6&63|128,o[p++]=A&63|128)}else for(x=0;x<u.length;x++)o[x]=u[x]|0;return o}n(i,"toArray"),Xt.toArray=i;function s(u){for(var m="",o=0;o<u.length;o++)m+=v(u[o].toString(16));return m}n(s,"toHex"),Xt.toHex=s;function l(u){var m=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return m>>>0}n(l,"htonl"),Xt.htonl=l;function a(u,m){for(var o="",p=0;p<u.length;p++){var x=u[p];m==="little"&&(x=l(x)),o+=g(x.toString(16))}return o}n(a,"toHex32"),Xt.toHex32=a;function v(u){return u.length===1?"0"+u:u}n(v,"zero2"),Xt.zero2=v;function g(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}n(g,"zero8"),Xt.zero8=g;function h(u,m,o,p){var x=o-m;t(x%4===0);for(var A=new Array(x/4),k=0,M=m;k<A.length;k++,M+=4){var f;p==="big"?f=u[M]<<24|u[M+1]<<16|u[M+2]<<8|u[M+3]:f=u[M+3]<<24|u[M+2]<<16|u[M+1]<<8|u[M],A[k]=f>>>0}return A}n(h,"join32"),Xt.join32=h;function d(u,m){for(var o=new Array(u.length*4),p=0,x=0;p<u.length;p++,x+=4){var A=u[p];m==="big"?(o[x]=A>>>24,o[x+1]=A>>>16&255,o[x+2]=A>>>8&255,o[x+3]=A&255):(o[x+3]=A>>>24,o[x+2]=A>>>16&255,o[x+1]=A>>>8&255,o[x]=A&255)}return o}n(d,"split32"),Xt.split32=d;function c(u,m){return u>>>m|u<<32-m}n(c,"rotr32"),Xt.rotr32=c;function y(u,m){return u<<m|u>>>32-m}n(y,"rotl32"),Xt.rotl32=y;function b(u,m){return u+m>>>0}n(b,"sum32"),Xt.sum32=b;function w(u,m,o){return u+m+o>>>0}n(w,"sum32_3"),Xt.sum32_3=w;function S(u,m,o,p){return u+m+o+p>>>0}n(S,"sum32_4"),Xt.sum32_4=S;function C(u,m,o,p,x){return u+m+o+p+x>>>0}n(C,"sum32_5"),Xt.sum32_5=C;function R(u,m,o,p){var x=u[m],A=u[m+1],k=p+A>>>0,M=(k<p?1:0)+o+x;u[m]=M>>>0,u[m+1]=k}n(R,"sum64"),Xt.sum64=R;function T(u,m,o,p){var x=m+p>>>0,A=(x<m?1:0)+u+o;return A>>>0}n(T,"sum64_hi"),Xt.sum64_hi=T;function P(u,m,o,p){var x=m+p;return x>>>0}n(P,"sum64_lo"),Xt.sum64_lo=P;function O(u,m,o,p,x,A,k,M){var f=0,_=m;_=_+p>>>0,f+=_<m?1:0,_=_+A>>>0,f+=_<A?1:0,_=_+M>>>0,f+=_<M?1:0;var E=u+o+x+k+f;return E>>>0}n(O,"sum64_4_hi"),Xt.sum64_4_hi=O;function j(u,m,o,p,x,A,k,M){var f=m+p+A+M;return f>>>0}n(j,"sum64_4_lo"),Xt.sum64_4_lo=j;function B(u,m,o,p,x,A,k,M,f,_){var E=0,I=m;I=I+p>>>0,E+=I<m?1:0,I=I+A>>>0,E+=I<A?1:0,I=I+M>>>0,E+=I<M?1:0,I=I+_>>>0,E+=I<_?1:0;var L=u+o+x+k+f+E;return L>>>0}n(B,"sum64_5_hi"),Xt.sum64_5_hi=B;function Z(u,m,o,p,x,A,k,M,f,_){var E=m+p+A+M+_;return E>>>0}n(Z,"sum64_5_lo"),Xt.sum64_5_lo=Z;function W(u,m,o){var p=m<<32-o|u>>>o;return p>>>0}n(W,"rotr64_hi"),Xt.rotr64_hi=W;function ee(u,m,o){var p=u<<32-o|m>>>o;return p>>>0}n(ee,"rotr64_lo"),Xt.rotr64_lo=ee;function $(u,m,o){return u>>>o}n($,"shr64_hi"),Xt.shr64_hi=$;function U(u,m,o){var p=u<<32-o|m>>>o;return p>>>0}return n(U,"shr64_lo"),Xt.shr64_lo=U,Xt}n(Hi,"requireUtils");var Ed={},Py;function nl(){if(Py)return Ed;Py=1;var t=Hi(),e=si();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return n(r,"BlockHash"),Ed.BlockHash=r,r.prototype.update=n(function(s,l){if(s=t.toArray(s,l),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var a=s.length%this._delta8;this.pending=s.slice(s.length-a,s.length),this.pending.length===0&&(this.pending=null),s=t.join32(s,0,s.length-a,this.endian);for(var v=0;v<s.length;v+=this._delta32)this._update(s,v,v+this._delta32)}return this},"update"),r.prototype.digest=n(function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},"digest"),r.prototype._pad=n(function(){var s=this.pendingTotal,l=this._delta8,a=l-(s+this.padLength)%l,v=new Array(a+this.padLength);v[0]=128;for(var g=1;g<a;g++)v[g]=0;if(s<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)v[g++]=0;v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=s>>>24&255,v[g++]=s>>>16&255,v[g++]=s>>>8&255,v[g++]=s&255}else for(v[g++]=s&255,v[g++]=s>>>8&255,v[g++]=s>>>16&255,v[g++]=s>>>24&255,v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0,h=8;h<this.padLength;h++)v[g++]=0;return v},"pad"),Ed}n(nl,"requireCommon$1");var Yn={},Ni={},Oy;function R8(){if(Oy)return Ni;Oy=1;var t=Hi(),e=t.rotr32;function r(d,c,y,b){if(d===0)return i(c,y,b);if(d===1||d===3)return l(c,y,b);if(d===2)return s(c,y,b)}n(r,"ft_1"),Ni.ft_1=r;function i(d,c,y){return d&c^~d&y}n(i,"ch32"),Ni.ch32=i;function s(d,c,y){return d&c^d&y^c&y}n(s,"maj32"),Ni.maj32=s;function l(d,c,y){return d^c^y}n(l,"p32"),Ni.p32=l;function a(d){return e(d,2)^e(d,13)^e(d,22)}n(a,"s0_256"),Ni.s0_256=a;function v(d){return e(d,6)^e(d,11)^e(d,25)}n(v,"s1_256"),Ni.s1_256=v;function g(d){return e(d,7)^e(d,18)^d>>>3}n(g,"g0_256"),Ni.g0_256=g;function h(d){return e(d,17)^e(d,19)^d>>>10}return n(h,"g1_256"),Ni.g1_256=h,Ni}n(R8,"requireCommon");var Ad,jy;function oN(){if(jy)return Ad;jy=1;var t=Hi(),e=nl(),r=R8(),i=t.rotl32,s=t.sum32,l=t.sum32_5,a=r.ft_1,v=e.BlockHash,g=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return n(h,"SHA1"),t.inherits(h,v),Ad=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=n(function(c,y){for(var b=this.W,w=0;w<16;w++)b[w]=c[y+w];for(;w<b.length;w++)b[w]=i(b[w-3]^b[w-8]^b[w-14]^b[w-16],1);var S=this.h[0],C=this.h[1],R=this.h[2],T=this.h[3],P=this.h[4];for(w=0;w<b.length;w++){var O=~~(w/20),j=l(i(S,5),a(O,C,R,T),P,b[w],g[O]);P=T,T=R,R=i(C,30),C=S,S=j}this.h[0]=s(this.h[0],S),this.h[1]=s(this.h[1],C),this.h[2]=s(this.h[2],R),this.h[3]=s(this.h[3],T),this.h[4]=s(this.h[4],P)},"_update"),h.prototype._digest=n(function(c){return c==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},"digest"),Ad}n(oN,"require_1");var kd,Ly;function I8(){if(Ly)return kd;Ly=1;var t=Hi(),e=nl(),r=R8(),i=si(),s=t.sum32,l=t.sum32_4,a=t.sum32_5,v=r.ch32,g=r.maj32,h=r.s0_256,d=r.s1_256,c=r.g0_256,y=r.g1_256,b=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return n(S,"SHA256"),t.inherits(S,b),kd=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=n(function(R,T){for(var P=this.W,O=0;O<16;O++)P[O]=R[T+O];for(;O<P.length;O++)P[O]=l(y(P[O-2]),P[O-7],c(P[O-15]),P[O-16]);var j=this.h[0],B=this.h[1],Z=this.h[2],W=this.h[3],ee=this.h[4],$=this.h[5],U=this.h[6],u=this.h[7];for(i(this.k.length===P.length),O=0;O<P.length;O++){var m=a(u,d(ee),v(ee,$,U),this.k[O],P[O]),o=s(h(j),g(j,B,Z));u=U,U=$,$=ee,ee=s(W,m),W=Z,Z=B,B=j,j=s(m,o)}this.h[0]=s(this.h[0],j),this.h[1]=s(this.h[1],B),this.h[2]=s(this.h[2],Z),this.h[3]=s(this.h[3],W),this.h[4]=s(this.h[4],ee),this.h[5]=s(this.h[5],$),this.h[6]=s(this.h[6],U),this.h[7]=s(this.h[7],u)},"_update"),S.prototype._digest=n(function(R){return R==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},"digest"),kd}n(I8,"require_256");var Nd,Dy;function lN(){if(Dy)return Nd;Dy=1;var t=Hi(),e=I8();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return n(r,"SHA224"),t.inherits(r,e),Nd=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=n(function(s){return s==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},"digest"),Nd}n(lN,"require_224");var Cd,By;function T8(){if(By)return Cd;By=1;var t=Hi(),e=nl(),r=si(),i=t.rotr64_hi,s=t.rotr64_lo,l=t.shr64_hi,a=t.shr64_lo,v=t.sum64,g=t.sum64_hi,h=t.sum64_lo,d=t.sum64_4_hi,c=t.sum64_4_lo,y=t.sum64_5_hi,b=t.sum64_5_lo,w=e.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}n(C,"SHA512"),t.inherits(C,w),Cd=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=n(function(o,p){for(var x=this.W,A=0;A<32;A++)x[A]=o[p+A];for(;A<x.length;A+=2){var k=U(x[A-4],x[A-3]),M=u(x[A-4],x[A-3]),f=x[A-14],_=x[A-13],E=ee(x[A-30],x[A-29]),I=$(x[A-30],x[A-29]),L=x[A-32],D=x[A-31];x[A]=d(k,M,f,_,E,I,L,D),x[A+1]=c(k,M,f,_,E,I,L,D)}},"_prepareBlock"),C.prototype._update=n(function(o,p){this._prepareBlock(o,p);var x=this.W,A=this.h[0],k=this.h[1],M=this.h[2],f=this.h[3],_=this.h[4],E=this.h[5],I=this.h[6],L=this.h[7],D=this.h[8],F=this.h[9],z=this.h[10],H=this.h[11],V=this.h[12],Y=this.h[13],Me=this.h[14],se=this.h[15];r(this.k.length===x.length);for(var ae=0;ae<x.length;ae+=2){var ye=Me,G=se,re=Z(D,F),X=W(D,F),Q=R(D,F,z,H,V),le=T(D,F,z,H,V,Y),Ae=this.k[ae],pe=this.k[ae+1],fe=x[ae],J=x[ae+1],q=y(ye,G,re,X,Q,le,Ae,pe,fe,J),te=b(ye,G,re,X,Q,le,Ae,pe,fe,J);ye=j(A,k),G=B(A,k),re=P(A,k,M,f,_),X=O(A,k,M,f,_,E);var de=g(ye,G,re,X),oe=h(ye,G,re,X);Me=V,se=Y,V=z,Y=H,z=D,H=F,D=g(I,L,q,te),F=h(L,L,q,te),I=_,L=E,_=M,E=f,M=A,f=k,A=g(q,te,de,oe),k=h(q,te,de,oe)}v(this.h,0,A,k),v(this.h,2,M,f),v(this.h,4,_,E),v(this.h,6,I,L),v(this.h,8,D,F),v(this.h,10,z,H),v(this.h,12,V,Y),v(this.h,14,Me,se)},"_update"),C.prototype._digest=n(function(o){return o==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},"digest");function R(m,o,p,x,A){var k=m&p^~m&A;return k<0&&(k+=4294967296),k}n(R,"ch64_hi");function T(m,o,p,x,A,k){var M=o&x^~o&k;return M<0&&(M+=4294967296),M}n(T,"ch64_lo");function P(m,o,p,x,A){var k=m&p^m&A^p&A;return k<0&&(k+=4294967296),k}n(P,"maj64_hi");function O(m,o,p,x,A,k){var M=o&x^o&k^x&k;return M<0&&(M+=4294967296),M}n(O,"maj64_lo");function j(m,o){var p=i(m,o,28),x=i(o,m,2),A=i(o,m,7),k=p^x^A;return k<0&&(k+=4294967296),k}n(j,"s0_512_hi");function B(m,o){var p=s(m,o,28),x=s(o,m,2),A=s(o,m,7),k=p^x^A;return k<0&&(k+=4294967296),k}n(B,"s0_512_lo");function Z(m,o){var p=i(m,o,14),x=i(m,o,18),A=i(o,m,9),k=p^x^A;return k<0&&(k+=4294967296),k}n(Z,"s1_512_hi");function W(m,o){var p=s(m,o,14),x=s(m,o,18),A=s(o,m,9),k=p^x^A;return k<0&&(k+=4294967296),k}n(W,"s1_512_lo");function ee(m,o){var p=i(m,o,1),x=i(m,o,8),A=l(m,o,7),k=p^x^A;return k<0&&(k+=4294967296),k}n(ee,"g0_512_hi");function $(m,o){var p=s(m,o,1),x=s(m,o,8),A=a(m,o,7),k=p^x^A;return k<0&&(k+=4294967296),k}n($,"g0_512_lo");function U(m,o){var p=i(m,o,19),x=i(o,m,29),A=l(m,o,6),k=p^x^A;return k<0&&(k+=4294967296),k}n(U,"g1_512_hi");function u(m,o){var p=s(m,o,19),x=s(o,m,29),A=a(m,o,6),k=p^x^A;return k<0&&(k+=4294967296),k}return n(u,"g1_512_lo"),Cd}n(T8,"require_512");var Rd,Fy;function uN(){if(Fy)return Rd;Fy=1;var t=Hi(),e=T8();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return n(r,"SHA384"),t.inherits(r,e),Rd=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=n(function(s){return s==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},"digest"),Rd}n(uN,"require_384");var Uy;function fN(){return Uy||(Uy=1,Yn.sha1=oN(),Yn.sha224=lN(),Yn.sha256=I8(),Yn.sha384=uN(),Yn.sha512=T8()),Yn}n(fN,"requireSha");var Id={},zy;function cN(){if(zy)return Id;zy=1;var t=Hi(),e=nl(),r=t.rotl32,i=t.sum32,s=t.sum32_3,l=t.sum32_4,a=e.BlockHash;function v(){if(!(this instanceof v))return new v;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n(v,"RIPEMD160"),t.inherits(v,a),Id.ripemd160=v,v.blockSize=512,v.outSize=160,v.hmacStrength=192,v.padLength=64,v.prototype._update=n(function(C,R){for(var T=this.h[0],P=this.h[1],O=this.h[2],j=this.h[3],B=this.h[4],Z=T,W=P,ee=O,$=j,U=B,u=0;u<80;u++){var m=i(r(l(T,g(u,P,O,j),C[c[u]+R],h(u)),b[u]),B);T=B,B=j,j=r(O,10),O=P,P=m,m=i(r(l(Z,g(79-u,W,ee,$),C[y[u]+R],d(u)),w[u]),U),Z=U,U=$,$=r(ee,10),ee=W,W=m}m=s(this.h[1],O,$),this.h[1]=s(this.h[2],j,U),this.h[2]=s(this.h[3],B,Z),this.h[3]=s(this.h[4],T,W),this.h[4]=s(this.h[0],P,ee),this.h[0]=m},"update"),v.prototype._digest=n(function(C){return C==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")},"digest");function g(S,C,R,T){return S<=15?C^R^T:S<=31?C&R|~C&T:S<=47?(C|~R)^T:S<=63?C&T|R&~T:C^(R|~T)}n(g,"f");function h(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}n(h,"K");function d(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}n(d,"Kh");var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Id}n(cN,"requireRipemd");var Td,$y;function hN(){if($y)return Td;$y=1;var t=Hi(),e=si();function r(i,s,l){if(!(this instanceof r))return new r(i,s,l);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,l))}return n(r,"Hmac"),Td=r,r.prototype._init=n(function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var l=s.length;l<this.blockSize;l++)s.push(0);for(l=0;l<s.length;l++)s[l]^=54;for(this.inner=new this.Hash().update(s),l=0;l<s.length;l++)s[l]^=106;this.outer=new this.Hash().update(s)},"init"),r.prototype.update=n(function(s,l){return this.inner.update(s,l),this},"update"),r.prototype.digest=n(function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},"digest"),Td}n(hN,"requireHmac");var Hy;function Ig(){return Hy||(Hy=1,(function(t){var e=t;e.utils=Hi(),e.common=nl(),e.sha=fN(),e.ripemd=cN(),e.hmac=hN(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Sd)),Sd}n(Ig,"requireHash");var Pd,Zy;function dN(){return Zy||(Zy=1,Pd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Pd}n(dN,"requireSecp256k1");var Vy;function Tg(){return Vy||(Vy=1,(function(t){var e=t,r=Ig(),i=C8(),s=ai(),l=s.assert;function a(h){h.type==="short"?this.curve=new i.short(h):h.type==="edwards"?this.curve=new i.edwards(h):this.curve=new i.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n(a,"PresetCurve"),e.PresetCurve=a;function v(h,d){Object.defineProperty(e,h,{configurable:!0,enumerable:!0,get:n(function(){var c=new a(d);return Object.defineProperty(e,h,{configurable:!0,enumerable:!0,value:c}),c},"get")})}n(v,"defineCurve"),v("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),v("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),v("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),v("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),v("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),v("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),v("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var g;try{g=dN()}catch{g=void 0}v("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",g]})})(Md)),Md}n(Tg,"requireCurves");var Od,Gy;function pN(){if(Gy)return Od;Gy=1;var t=Ig(),e=N8(),r=si();function i(s){if(!(this instanceof i))return new i(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=e.toArray(s.entropy,s.entropyEnc||"hex"),a=e.toArray(s.nonce,s.nonceEnc||"hex"),v=e.toArray(s.pers,s.persEnc||"hex");r(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,a,v)}return n(i,"HmacDRBG"),Od=i,i.prototype._init=n(function(l,a,v){var g=l.concat(a).concat(v);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(g),this._reseed=1,this.reseedInterval=281474976710656},"init"),i.prototype._hmac=n(function(){return new t.hmac(this.hash,this.K)},"hmac"),i.prototype._update=n(function(l){var a=this._hmac().update(this.V).update([0]);l&&(a=a.update(l)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},"update"),i.prototype.reseed=n(function(l,a,v,g){typeof a!="string"&&(g=v,v=a,a=null),l=e.toArray(l,a),v=e.toArray(v,g),r(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(v||[])),this._reseed=1},"reseed"),i.prototype.generate=n(function(l,a,v,g){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(g=v,v=a,a=null),v&&(v=e.toArray(v,g||"hex"),this._update(v));for(var h=[];h.length<l;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var d=h.slice(0,l);return this._update(v),this._reseed++,e.encode(d,a)},"generate"),Od}n(pN,"requireHmacDrbg");var jd,Wy;function mN(){if(Wy)return jd;Wy=1;var t=_r(),e=ai(),r=e.assert;function i(s,l){this.ec=s,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}return n(i,"KeyPair"),jd=i,i.fromPublic=n(function(l,a,v){return a instanceof i?a:new i(l,{pub:a,pubEnc:v})},"fromPublic"),i.fromPrivate=n(function(l,a,v){return a instanceof i?a:new i(l,{priv:a,privEnc:v})},"fromPrivate"),i.prototype.validate=n(function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate"),i.prototype.getPublic=n(function(l,a){return typeof l=="string"&&(a=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,l):this.pub},"getPublic"),i.prototype.getPrivate=n(function(l){return l==="hex"?this.priv.toString(16,2):this.priv},"getPrivate"),i.prototype._importPrivate=n(function(l,a){this.priv=new t(l,a||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate"),i.prototype._importPublic=n(function(l,a){if(l.x||l.y){this.ec.curve.type==="mont"?r(l.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(l.x&&l.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(l.x,l.y);return}this.pub=this.ec.curve.decodePoint(l,a)},"_importPublic"),i.prototype.derive=n(function(l){return l.validate()||r(l.validate(),"public point not validated"),l.mul(this.priv).getX()},"derive"),i.prototype.sign=n(function(l,a,v){return this.ec.sign(l,this,a,v)},"sign"),i.prototype.verify=n(function(l,a,v){return this.ec.verify(l,a,this,void 0,v)},"verify"),i.prototype.inspect=n(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect"),jd}n(mN,"requireKey$1");var Ld,Ky;function gN(){if(Ky)return Ld;Ky=1;var t=_r(),e=ai(),r=e.assert;function i(g,h){if(g instanceof i)return g;this._importDER(g,h)||(r(g.r&&g.s,"Signature without r or s"),this.r=new t(g.r,16),this.s=new t(g.s,16),g.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=g.recoveryParam)}n(i,"Signature"),Ld=i;function s(){this.place=0}n(s,"Position");function l(g,h){var d=g[h.place++];if(!(d&128))return d;var c=d&15;if(c===0||c>4||g[h.place]===0)return!1;for(var y=0,b=0,w=h.place;b<c;b++,w++)y<<=8,y|=g[w],y>>>=0;return y<=127?!1:(h.place=w,y)}n(l,"getLength");function a(g){for(var h=0,d=g.length-1;!g[h]&&!(g[h+1]&128)&&h<d;)h++;return h===0?g:g.slice(h)}n(a,"rmPadding"),i.prototype._importDER=n(function(h,d){h=e.toArray(h,d);var c=new s;if(h[c.place++]!==48)return!1;var y=l(h,c);if(y===!1||y+c.place!==h.length||h[c.place++]!==2)return!1;var b=l(h,c);if(b===!1||(h[c.place]&128)!==0)return!1;var w=h.slice(c.place,b+c.place);if(c.place+=b,h[c.place++]!==2)return!1;var S=l(h,c);if(S===!1||h.length!==S+c.place||(h[c.place]&128)!==0)return!1;var C=h.slice(c.place,S+c.place);if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new t(w),this.s=new t(C),this.recoveryParam=null,!0},"_importDER");function v(g,h){if(h<128){g.push(h);return}var d=1+(Math.log(h)/Math.LN2>>>3);for(g.push(d|128);--d;)g.push(h>>>(d<<3)&255);g.push(h)}return n(v,"constructLength"),i.prototype.toDER=n(function(h){var d=this.r.toArray(),c=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),c[0]&128&&(c=[0].concat(c)),d=a(d),c=a(c);!c[0]&&!(c[1]&128);)c=c.slice(1);var y=[2];v(y,d.length),y=y.concat(d),y.push(2),v(y,c.length);var b=y.concat(c),w=[48];return v(w,b.length),w=w.concat(b),e.encode(w,h)},"toDER"),Ld}n(gN,"requireSignature$1");var Dd,Yy;function vN(){if(Yy)return Dd;Yy=1;var t=_r(),e=pN(),r=ai(),i=Tg(),s=Ng(),l=r.assert,a=mN(),v=gN();function g(h){if(!(this instanceof g))return new g(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(i,h),"Unknown curve "+h),h=i[h]),h instanceof i.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return n(g,"EC"),Dd=g,g.prototype.keyPair=n(function(d){return new a(this,d)},"keyPair"),g.prototype.keyFromPrivate=n(function(d,c){return a.fromPrivate(this,d,c)},"keyFromPrivate"),g.prototype.keyFromPublic=n(function(d,c){return a.fromPublic(this,d,c)},"keyFromPublic"),g.prototype.genKeyPair=n(function(d){d||(d={});for(var c=new e({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||s(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),b=this.n.sub(new t(2));;){var w=new t(c.generate(y));if(!(w.cmp(b)>0))return w.iaddn(1),this.keyFromPrivate(w)}},"genKeyPair"),g.prototype._truncateToN=n(function(d,c,y){var b;if(t.isBN(d)||typeof d=="number")d=new t(d,16),b=d.byteLength();else if(typeof d=="object")b=d.length,d=new t(d,16);else{var w=d.toString();b=w.length+1>>>1,d=new t(w,16)}typeof y!="number"&&(y=b*8);var S=y-this.n.bitLength();return S>0&&(d=d.ushrn(S)),!c&&d.cmp(this.n)>=0?d.sub(this.n):d},"_truncateToN"),g.prototype.sign=n(function(d,c,y,b){if(typeof y=="object"&&(b=y,y=null),b||(b={}),typeof d!="string"&&typeof d!="number"&&!t.isBN(d)){l(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),l(d.length>>>0===d.length);for(var w=0;w<d.length;w++)l((d[w]&255)===d[w])}c=this.keyFromPrivate(c,y),d=this._truncateToN(d,!1,b.msgBitLength),l(!d.isNeg(),"Can not sign a negative message");var S=this.n.byteLength(),C=c.getPrivate().toArray("be",S),R=d.toArray("be",S);l(new t(R).eq(d),"Can not sign message");for(var T=new e({hash:this.hash,entropy:C,nonce:R,pers:b.pers,persEnc:b.persEnc||"utf8"}),P=this.n.sub(new t(1)),O=0;;O++){var j=b.k?b.k(O):new t(T.generate(this.n.byteLength()));if(j=this._truncateToN(j,!0),!(j.cmpn(1)<=0||j.cmp(P)>=0)){var B=this.g.mul(j);if(!B.isInfinity()){var Z=B.getX(),W=Z.umod(this.n);if(W.cmpn(0)!==0){var ee=j.invm(this.n).mul(W.mul(c.getPrivate()).iadd(d));if(ee=ee.umod(this.n),ee.cmpn(0)!==0){var $=(B.getY().isOdd()?1:0)|(Z.cmp(W)!==0?2:0);return b.canonical&&ee.cmp(this.nh)>0&&(ee=this.n.sub(ee),$^=1),new v({r:W,s:ee,recoveryParam:$})}}}}}},"sign"),g.prototype.verify=n(function(d,c,y,b,w){w||(w={}),d=this._truncateToN(d,!1,w.msgBitLength),y=this.keyFromPublic(y,b),c=new v(c,"hex");var S=c.r,C=c.s;if(S.cmpn(1)<0||S.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var R=C.invm(this.n),T=R.mul(d).umod(this.n),P=R.mul(S).umod(this.n),O;return this.curve._maxwellTrick?(O=this.g.jmulAdd(T,y.getPublic(),P),O.isInfinity()?!1:O.eqXToP(S)):(O=this.g.mulAdd(T,y.getPublic(),P),O.isInfinity()?!1:O.getX().umod(this.n).cmp(S)===0)},"verify"),g.prototype.recoverPubKey=function(h,d,c,y){l((3&c)===c,"The recovery param is more than two bits"),d=new v(d,y);var b=this.n,w=new t(h),S=d.r,C=d.s,R=c&1,T=c>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw new Error("Unable to find sencond key candinate");T?S=this.curve.pointFromX(S.add(this.curve.n),R):S=this.curve.pointFromX(S,R);var P=d.r.invm(b),O=b.sub(w).mul(P).umod(b),j=C.mul(P).umod(b);return this.g.mulAdd(O,S,j)},g.prototype.getKeyRecoveryParam=function(h,d,c,y){if(d=new v(d,y),d.recoveryParam!==null)return d.recoveryParam;for(var b=0;b<4;b++){var w;try{w=this.recoverPubKey(h,d,b)}catch{continue}if(w.eq(c))return b}throw new Error("Unable to find valid recovery factor")},Dd}n(vN,"requireEc");var Bd,Xy;function bN(){if(Xy)return Bd;Xy=1;var t=ai(),e=t.assert,r=t.parseBytes,i=t.cachedProperty;function s(l,a){this.eddsa=l,this._secret=r(a.secret),l.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=r(a.pub)}return n(s,"KeyPair"),s.fromPublic=n(function(a,v){return v instanceof s?v:new s(a,{pub:v})},"fromPublic"),s.fromSecret=n(function(a,v){return v instanceof s?v:new s(a,{secret:v})},"fromSecret"),s.prototype.secret=n(function(){return this._secret},"secret"),i(s,"pubBytes",n(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes")),i(s,"pub",n(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub")),i(s,"privBytes",n(function(){var a=this.eddsa,v=this.hash(),g=a.encodingLength-1,h=v.slice(0,a.encodingLength);return h[0]&=248,h[g]&=127,h[g]|=64,h},"privBytes")),i(s,"priv",n(function(){return this.eddsa.decodeInt(this.privBytes())},"priv")),i(s,"hash",n(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash")),i(s,"messagePrefix",n(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix")),s.prototype.sign=n(function(a){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},"sign"),s.prototype.verify=n(function(a,v){return this.eddsa.verify(a,v,this)},"verify"),s.prototype.getSecret=n(function(a){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),a)},"getSecret"),s.prototype.getPublic=n(function(a){return t.encode(this.pubBytes(),a)},"getPublic"),Bd=s,Bd}n(bN,"requireKey");var Fd,Qy;function yN(){if(Qy)return Fd;Qy=1;var t=_r(),e=ai(),r=e.assert,i=e.cachedProperty,s=e.parseBytes;function l(a,v){this.eddsa=a,typeof v!="object"&&(v=s(v)),Array.isArray(v)&&(r(v.length===a.encodingLength*2,"Signature has invalid size"),v={R:v.slice(0,a.encodingLength),S:v.slice(a.encodingLength)}),r(v.R&&v.S,"Signature without R or S"),a.isPoint(v.R)&&(this._R=v.R),v.S instanceof t&&(this._S=v.S),this._Rencoded=Array.isArray(v.R)?v.R:v.Rencoded,this._Sencoded=Array.isArray(v.S)?v.S:v.Sencoded}return n(l,"Signature"),i(l,"S",n(function(){return this.eddsa.decodeInt(this.Sencoded())},"S")),i(l,"R",n(function(){return this.eddsa.decodePoint(this.Rencoded())},"R")),i(l,"Rencoded",n(function(){return this.eddsa.encodePoint(this.R())},"Rencoded")),i(l,"Sencoded",n(function(){return this.eddsa.encodeInt(this.S())},"Sencoded")),l.prototype.toBytes=n(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes"),l.prototype.toHex=n(function(){return e.encode(this.toBytes(),"hex").toUpperCase()},"toHex"),Fd=l,Fd}n(yN,"requireSignature");var Ud,Jy;function wN(){if(Jy)return Ud;Jy=1;var t=Ig(),e=Tg(),r=ai(),i=r.assert,s=r.parseBytes,l=bN(),a=yN();function v(g){if(i(g==="ed25519","only tested with ed25519 so far"),!(this instanceof v))return new v(g);g=e[g].curve,this.curve=g,this.g=g.g,this.g.precompute(g.n.bitLength()+1),this.pointClass=g.point().constructor,this.encodingLength=Math.ceil(g.n.bitLength()/8),this.hash=t.sha512}return n(v,"EDDSA"),Ud=v,v.prototype.sign=n(function(h,d){h=s(h);var c=this.keyFromSecret(d),y=this.hashInt(c.messagePrefix(),h),b=this.g.mul(y),w=this.encodePoint(b),S=this.hashInt(w,c.pubBytes(),h).mul(c.priv()),C=y.add(S).umod(this.curve.n);return this.makeSignature({R:b,S:C,Rencoded:w})},"sign"),v.prototype.verify=n(function(h,d,c){if(h=s(h),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var y=this.keyFromPublic(c),b=this.hashInt(d.Rencoded(),y.pubBytes(),h),w=this.g.mul(d.S()),S=d.R().add(y.pub().mul(b));return S.eq(w)},"verify"),v.prototype.hashInt=n(function(){for(var h=this.hash(),d=0;d<arguments.length;d++)h.update(arguments[d]);return r.intFromLE(h.digest()).umod(this.curve.n)},"hashInt"),v.prototype.keyFromPublic=n(function(h){return l.fromPublic(this,h)},"keyFromPublic"),v.prototype.keyFromSecret=n(function(h){return l.fromSecret(this,h)},"keyFromSecret"),v.prototype.makeSignature=n(function(h){return h instanceof a?h:new a(this,h)},"makeSignature"),v.prototype.encodePoint=n(function(h){var d=h.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=h.getX().isOdd()?128:0,d},"encodePoint"),v.prototype.decodePoint=n(function(h){h=r.parseBytes(h);var d=h.length-1,c=h.slice(0,d).concat(h[d]&-129),y=(h[d]&128)!==0,b=r.intFromLE(c);return this.curve.pointFromY(b,y)},"decodePoint"),v.prototype.encodeInt=n(function(h){return h.toArray("le",this.encodingLength)},"encodeInt"),v.prototype.decodeInt=n(function(h){return r.intFromLE(h)},"decodeInt"),v.prototype.isPoint=n(function(h){return h instanceof this.pointClass},"isPoint"),Ud}n(wN,"requireEddsa");var qy;function Pg(){return qy||(qy=1,(function(t){var e=t;e.version=iN.version,e.utils=ai(),e.rand=Ng(),e.curve=C8(),e.curves=Tg(),e.ec=vN(),e.eddsa=wN()})(md)),md}n(Pg,"requireElliptic");var fu={exports:{}},xN=fu.exports,e2;function P8(){return e2||(e2=1,(function(t){(function(e,r){function i(m,o){if(!m)throw new Error(o||"Assertion failed")}n(i,"assert");function s(m,o){m.super_=o;var p=n(function(){},"TempCtor");p.prototype=o.prototype,m.prototype=new p,m.prototype.constructor=m}n(s,"inherits");function l(m,o,p){if(l.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((o==="le"||o==="be")&&(p=o,o=10),this._init(m||0,o||10,p||"be"))}n(l,"BN"),typeof e=="object"?e.exports=l:r.BN=l,l.BN=l,l.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=ni.Buffer}catch{}l.isBN=n(function(o){return o instanceof l?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===l.wordSize&&Array.isArray(o.words)},"isBN"),l.max=n(function(o,p){return o.cmp(p)>0?o:p},"max"),l.min=n(function(o,p){return o.cmp(p)<0?o:p},"min"),l.prototype._init=n(function(o,p,x){if(typeof o=="number")return this._initNumber(o,p,x);if(typeof o=="object")return this._initArray(o,p,x);p==="hex"&&(p=16),i(p===(p|0)&&p>=2&&p<=36),o=o.toString().replace(/\s+/g,"");var A=0;o[0]==="-"&&(A++,this.negative=1),A<o.length&&(p===16?this._parseHex(o,A,x):(this._parseBase(o,p,A),x==="le"&&this._initArray(this.toArray(),p,x)))},"init"),l.prototype._initNumber=n(function(o,p,x){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),p,x)},"_initNumber"),l.prototype._initArray=n(function(o,p,x){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k,M,f=0;if(x==="be")for(A=o.length-1,k=0;A>=0;A-=3)M=o[A]|o[A-1]<<8|o[A-2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);else if(x==="le")for(A=0,k=0;A<o.length;A+=3)M=o[A]|o[A+1]<<8|o[A+2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);return this._strip()},"_initArray");function v(m,o){var p=m.charCodeAt(o);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;i(!1,"Invalid character in "+m)}n(v,"parseHex4Bits");function g(m,o,p){var x=v(m,p);return p-1>=o&&(x|=v(m,p-1)<<4),x}n(g,"parseHexByte"),l.prototype._parseHex=n(function(o,p,x){this.length=Math.ceil((o.length-p)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k=0,M=0,f;if(x==="be")for(A=o.length-1;A>=p;A-=2)f=g(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8;else{var _=o.length-p;for(A=_%2===0?p+1:p;A<o.length;A+=2)f=g(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8}this._strip()},"_parseHex");function h(m,o,p,x){for(var A=0,k=0,M=Math.min(m.length,p),f=o;f<M;f++){var _=m.charCodeAt(f)-48;A*=x,_>=49?k=_-49+10:_>=17?k=_-17+10:k=_,i(_>=0&&k<x,"Invalid character"),A+=k}return A}n(h,"parseBase"),l.prototype._parseBase=n(function(o,p,x){this.words=[0],this.length=1;for(var A=0,k=1;k<=67108863;k*=p)A++;A--,k=k/p|0;for(var M=o.length-x,f=M%A,_=Math.min(M,M-f)+x,E=0,I=x;I<_;I+=A)E=h(o,I,I+A,p),this.imuln(k),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var L=1;for(E=h(o,I,o.length,p),I=0;I<f;I++)L*=p;this.imuln(L),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},"_parseBase"),l.prototype.copy=n(function(o){o.words=new Array(this.length);for(var p=0;p<this.length;p++)o.words[p]=this.words[p];o.length=this.length,o.negative=this.negative,o.red=this.red},"copy");function d(m,o){m.words=o.words,m.length=o.length,m.negative=o.negative,m.red=o.red}if(n(d,"move"),l.prototype._move=n(function(o){d(o,this)},"_move"),l.prototype.clone=n(function(){var o=new l(null);return this.copy(o),o},"clone"),l.prototype._expand=n(function(o){for(;this.length<o;)this.words[this.length++]=0;return this},"_expand"),l.prototype._strip=n(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),l.prototype._normSign=n(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{l.prototype.inspect=c}else l.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n(c,"inspect");var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=n(function(o,p){o=o||10,p=p|0||1;var x;if(o===16||o==="hex"){x="";for(var A=0,k=0,M=0;M<this.length;M++){var f=this.words[M],_=((f<<A|k)&16777215).toString(16);k=f>>>24-A&16777215,A+=2,A>=26&&(A-=26,M--),k!==0||M!==this.length-1?x=y[6-_.length]+_+x:x=_+x}for(k!==0&&(x=k.toString(16)+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(o===(o|0)&&o>=2&&o<=36){var E=b[o],I=w[o];x="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modrn(I).toString(o);L=L.idivn(I),L.isZero()?x=D+x:x=y[E-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}i(!1,"Base should be between 2 and 36")},"toString"),l.prototype.toNumber=n(function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},"toNumber"),l.prototype.toJSON=n(function(){return this.toString(16,2)},"toJSON"),a&&(l.prototype.toBuffer=n(function(o,p){return this.toArrayLike(a,o,p)},"toBuffer")),l.prototype.toArray=n(function(o,p){return this.toArrayLike(Array,o,p)},"toArray");var S=n(function(o,p){return o.allocUnsafe?o.allocUnsafe(p):new o(p)},"allocate");l.prototype.toArrayLike=n(function(o,p,x){this._strip();var A=this.byteLength(),k=x||Math.max(1,A);i(A<=k,"byte array longer than desired length"),i(k>0,"Requested array length <= 0");var M=S(o,k),f=p==="le"?"LE":"BE";return this["_toArrayLike"+f](M,A),M},"toArrayLike"),l.prototype._toArrayLikeLE=n(function(o,p){for(var x=0,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x++]=f&255,x<o.length&&(o[x++]=f>>8&255),x<o.length&&(o[x++]=f>>16&255),M===6?(x<o.length&&(o[x++]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x<o.length)for(o[x++]=A;x<o.length;)o[x++]=0},"_toArrayLikeLE"),l.prototype._toArrayLikeBE=n(function(o,p){for(var x=o.length-1,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x--]=f&255,x>=0&&(o[x--]=f>>8&255),x>=0&&(o[x--]=f>>16&255),M===6?(x>=0&&(o[x--]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x>=0)for(o[x--]=A;x>=0;)o[x--]=0},"_toArrayLikeBE"),Math.clz32?l.prototype._countBits=n(function(o){return 32-Math.clz32(o)},"_countBits"):l.prototype._countBits=n(function(o){var p=o,x=0;return p>=4096&&(x+=13,p>>>=13),p>=64&&(x+=7,p>>>=7),p>=8&&(x+=4,p>>>=4),p>=2&&(x+=2,p>>>=2),x+p},"_countBits"),l.prototype._zeroBits=n(function(o){if(o===0)return 26;var p=o,x=0;return(p&8191)===0&&(x+=13,p>>>=13),(p&127)===0&&(x+=7,p>>>=7),(p&15)===0&&(x+=4,p>>>=4),(p&3)===0&&(x+=2,p>>>=2),(p&1)===0&&x++,x},"_zeroBits"),l.prototype.bitLength=n(function(){var o=this.words[this.length-1],p=this._countBits(o);return(this.length-1)*26+p},"bitLength");function C(m){for(var o=new Array(m.bitLength()),p=0;p<o.length;p++){var x=p/26|0,A=p%26;o[p]=m.words[x]>>>A&1}return o}n(C,"toBitArray"),l.prototype.zeroBits=n(function(){if(this.isZero())return 0;for(var o=0,p=0;p<this.length;p++){var x=this._zeroBits(this.words[p]);if(o+=x,x!==26)break}return o},"zeroBits"),l.prototype.byteLength=n(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),l.prototype.toTwos=n(function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},"toTwos"),l.prototype.fromTwos=n(function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},"fromTwos"),l.prototype.isNeg=n(function(){return this.negative!==0},"isNeg"),l.prototype.neg=n(function(){return this.clone().ineg()},"neg"),l.prototype.ineg=n(function(){return this.isZero()||(this.negative^=1),this},"ineg"),l.prototype.iuor=n(function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var p=0;p<o.length;p++)this.words[p]=this.words[p]|o.words[p];return this._strip()},"iuor"),l.prototype.ior=n(function(o){return i((this.negative|o.negative)===0),this.iuor(o)},"ior"),l.prototype.or=n(function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},"or"),l.prototype.uor=n(function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},"uor"),l.prototype.iuand=n(function(o){var p;this.length>o.length?p=o:p=this;for(var x=0;x<p.length;x++)this.words[x]=this.words[x]&o.words[x];return this.length=p.length,this._strip()},"iuand"),l.prototype.iand=n(function(o){return i((this.negative|o.negative)===0),this.iuand(o)},"iand"),l.prototype.and=n(function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},"and"),l.prototype.uand=n(function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},"uand"),l.prototype.iuxor=n(function(o){var p,x;this.length>o.length?(p=this,x=o):(p=o,x=this);for(var A=0;A<x.length;A++)this.words[A]=p.words[A]^x.words[A];if(this!==p)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=p.length,this._strip()},"iuxor"),l.prototype.ixor=n(function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},"ixor"),l.prototype.xor=n(function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},"xor"),l.prototype.uxor=n(function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},"uxor"),l.prototype.inotn=n(function(o){i(typeof o=="number"&&o>=0);var p=Math.ceil(o/26)|0,x=o%26;this._expand(p),x>0&&p--;for(var A=0;A<p;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this._strip()},"inotn"),l.prototype.notn=n(function(o){return this.clone().inotn(o)},"notn"),l.prototype.setn=n(function(o,p){i(typeof o=="number"&&o>=0);var x=o/26|0,A=o%26;return this._expand(x+1),p?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this._strip()},"setn"),l.prototype.iadd=n(function(o){var p;if(this.negative!==0&&o.negative===0)return this.negative=0,p=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,p=this.isub(o),o.negative=1,p._normSign();var x,A;this.length>o.length?(x=this,A=o):(x=o,A=this);for(var k=0,M=0;M<A.length;M++)p=(x.words[M]|0)+(A.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;for(;k!==0&&M<x.length;M++)p=(x.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;M<x.length;M++)this.words[M]=x.words[M];return this},"iadd"),l.prototype.add=n(function(o){var p;return o.negative!==0&&this.negative===0?(o.negative=0,p=this.sub(o),o.negative^=1,p):o.negative===0&&this.negative!==0?(this.negative=0,p=o.sub(this),this.negative=1,p):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},"add"),l.prototype.isub=n(function(o){if(o.negative!==0){o.negative=0;var p=this.iadd(o);return o.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var x=this.cmp(o);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,k;x>0?(A=this,k=o):(A=o,k=this);for(var M=0,f=0;f<k.length;f++)p=(A.words[f]|0)-(k.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;for(;M!==0&&f<A.length;f++)p=(A.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;if(M===0&&f<A.length&&A!==this)for(;f<A.length;f++)this.words[f]=A.words[f];return this.length=Math.max(this.length,f),A!==this&&(this.negative=1),this._strip()},"isub"),l.prototype.sub=n(function(o){return this.clone().isub(o)},"sub");function R(m,o,p){p.negative=o.negative^m.negative;var x=m.length+o.length|0;p.length=x,x=x-1|0;var A=m.words[0]|0,k=o.words[0]|0,M=A*k,f=M&67108863,_=M/67108864|0;p.words[0]=f;for(var E=1;E<x;E++){for(var I=_>>>26,L=_&67108863,D=Math.min(E,o.length-1),F=Math.max(0,E-m.length+1);F<=D;F++){var z=E-F|0;A=m.words[z]|0,k=o.words[F]|0,M=A*k+L,I+=M/67108864|0,L=M&67108863}p.words[E]=L|0,_=I|0}return _!==0?p.words[E]=_|0:p.length--,p._strip()}n(R,"smallMulTo");var T=n(function(o,p,x){var A=o.words,k=p.words,M=x.words,f=0,_,E,I,L=A[0]|0,D=L&8191,F=L>>>13,z=A[1]|0,H=z&8191,V=z>>>13,Y=A[2]|0,Me=Y&8191,se=Y>>>13,ae=A[3]|0,ye=ae&8191,G=ae>>>13,re=A[4]|0,X=re&8191,Q=re>>>13,le=A[5]|0,Ae=le&8191,pe=le>>>13,fe=A[6]|0,J=fe&8191,q=fe>>>13,te=A[7]|0,de=te&8191,oe=te>>>13,ue=A[8]|0,Be=ue&8191,we=ue>>>13,De=A[9]|0,Xe=De&8191,ve=De>>>13,Fe=k[0]|0,ce=Fe&8191,be=Fe>>>13,Oe=k[1]|0,Te=Oe&8191,ke=Oe>>>13,ze=k[2]|0,Je=ze&8191,Ce=ze>>>13,Ee=k[3]|0,je=Ee&8191,_e=Ee>>>13,He=k[4]|0,Ke=He&8191,ie=He>>>13,me=k[5]|0,Ie=me&8191,xe=me>>>13,Pe=k[6]|0,Ze=Pe&8191,ne=Pe>>>13,Ne=k[7]|0,$e=Ne&8191,ge=Ne>>>13,Ge=k[8]|0,et=Ge&8191,Le=Ge>>>13,Qe=k[9]|0,Re=Qe&8191,Ue=Qe>>>13;x.negative=o.negative^p.negative,x.length=19,_=Math.imul(D,ce),E=Math.imul(D,be),E=E+Math.imul(F,ce)|0,I=Math.imul(F,be);var at=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(H,ce),E=Math.imul(H,be),E=E+Math.imul(V,ce)|0,I=Math.imul(V,be),_=_+Math.imul(D,Te)|0,E=E+Math.imul(D,ke)|0,E=E+Math.imul(F,Te)|0,I=I+Math.imul(F,ke)|0;var bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(bt>>>26)|0,bt&=67108863,_=Math.imul(Me,ce),E=Math.imul(Me,be),E=E+Math.imul(se,ce)|0,I=Math.imul(se,be),_=_+Math.imul(H,Te)|0,E=E+Math.imul(H,ke)|0,E=E+Math.imul(V,Te)|0,I=I+Math.imul(V,ke)|0,_=_+Math.imul(D,Je)|0,E=E+Math.imul(D,Ce)|0,E=E+Math.imul(F,Je)|0,I=I+Math.imul(F,Ce)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(G,ce)|0,I=Math.imul(G,be),_=_+Math.imul(Me,Te)|0,E=E+Math.imul(Me,ke)|0,E=E+Math.imul(se,Te)|0,I=I+Math.imul(se,ke)|0,_=_+Math.imul(H,Je)|0,E=E+Math.imul(H,Ce)|0,E=E+Math.imul(V,Je)|0,I=I+Math.imul(V,Ce)|0,_=_+Math.imul(D,je)|0,E=E+Math.imul(D,_e)|0,E=E+Math.imul(F,je)|0,I=I+Math.imul(F,_e)|0;var St=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(St>>>26)|0,St&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(Q,ce)|0,I=Math.imul(Q,be),_=_+Math.imul(ye,Te)|0,E=E+Math.imul(ye,ke)|0,E=E+Math.imul(G,Te)|0,I=I+Math.imul(G,ke)|0,_=_+Math.imul(Me,Je)|0,E=E+Math.imul(Me,Ce)|0,E=E+Math.imul(se,Je)|0,I=I+Math.imul(se,Ce)|0,_=_+Math.imul(H,je)|0,E=E+Math.imul(H,_e)|0,E=E+Math.imul(V,je)|0,I=I+Math.imul(V,_e)|0,_=_+Math.imul(D,Ke)|0,E=E+Math.imul(D,ie)|0,E=E+Math.imul(F,Ke)|0,I=I+Math.imul(F,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(Ae,ce),E=Math.imul(Ae,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Te)|0,E=E+Math.imul(X,ke)|0,E=E+Math.imul(Q,Te)|0,I=I+Math.imul(Q,ke)|0,_=_+Math.imul(ye,Je)|0,E=E+Math.imul(ye,Ce)|0,E=E+Math.imul(G,Je)|0,I=I+Math.imul(G,Ce)|0,_=_+Math.imul(Me,je)|0,E=E+Math.imul(Me,_e)|0,E=E+Math.imul(se,je)|0,I=I+Math.imul(se,_e)|0,_=_+Math.imul(H,Ke)|0,E=E+Math.imul(H,ie)|0,E=E+Math.imul(V,Ke)|0,I=I+Math.imul(V,ie)|0,_=_+Math.imul(D,Ie)|0,E=E+Math.imul(D,xe)|0,E=E+Math.imul(F,Ie)|0,I=I+Math.imul(F,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(J,ce),E=Math.imul(J,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(Ae,Te)|0,E=E+Math.imul(Ae,ke)|0,E=E+Math.imul(pe,Te)|0,I=I+Math.imul(pe,ke)|0,_=_+Math.imul(X,Je)|0,E=E+Math.imul(X,Ce)|0,E=E+Math.imul(Q,Je)|0,I=I+Math.imul(Q,Ce)|0,_=_+Math.imul(ye,je)|0,E=E+Math.imul(ye,_e)|0,E=E+Math.imul(G,je)|0,I=I+Math.imul(G,_e)|0,_=_+Math.imul(Me,Ke)|0,E=E+Math.imul(Me,ie)|0,E=E+Math.imul(se,Ke)|0,I=I+Math.imul(se,ie)|0,_=_+Math.imul(H,Ie)|0,E=E+Math.imul(H,xe)|0,E=E+Math.imul(V,Ie)|0,I=I+Math.imul(V,xe)|0,_=_+Math.imul(D,Ze)|0,E=E+Math.imul(D,ne)|0,E=E+Math.imul(F,Ze)|0,I=I+Math.imul(F,ne)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(de,ce),E=Math.imul(de,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(J,Te)|0,E=E+Math.imul(J,ke)|0,E=E+Math.imul(q,Te)|0,I=I+Math.imul(q,ke)|0,_=_+Math.imul(Ae,Je)|0,E=E+Math.imul(Ae,Ce)|0,E=E+Math.imul(pe,Je)|0,I=I+Math.imul(pe,Ce)|0,_=_+Math.imul(X,je)|0,E=E+Math.imul(X,_e)|0,E=E+Math.imul(Q,je)|0,I=I+Math.imul(Q,_e)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(G,Ke)|0,I=I+Math.imul(G,ie)|0,_=_+Math.imul(Me,Ie)|0,E=E+Math.imul(Me,xe)|0,E=E+Math.imul(se,Ie)|0,I=I+Math.imul(se,xe)|0,_=_+Math.imul(H,Ze)|0,E=E+Math.imul(H,ne)|0,E=E+Math.imul(V,Ze)|0,I=I+Math.imul(V,ne)|0,_=_+Math.imul(D,$e)|0,E=E+Math.imul(D,ge)|0,E=E+Math.imul(F,$e)|0,I=I+Math.imul(F,ge)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Be,ce),E=Math.imul(Be,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(de,Te)|0,E=E+Math.imul(de,ke)|0,E=E+Math.imul(oe,Te)|0,I=I+Math.imul(oe,ke)|0,_=_+Math.imul(J,Je)|0,E=E+Math.imul(J,Ce)|0,E=E+Math.imul(q,Je)|0,I=I+Math.imul(q,Ce)|0,_=_+Math.imul(Ae,je)|0,E=E+Math.imul(Ae,_e)|0,E=E+Math.imul(pe,je)|0,I=I+Math.imul(pe,_e)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(Q,Ke)|0,I=I+Math.imul(Q,ie)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(G,Ie)|0,I=I+Math.imul(G,xe)|0,_=_+Math.imul(Me,Ze)|0,E=E+Math.imul(Me,ne)|0,E=E+Math.imul(se,Ze)|0,I=I+Math.imul(se,ne)|0,_=_+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0,E=E+Math.imul(V,$e)|0,I=I+Math.imul(V,ge)|0,_=_+Math.imul(D,et)|0,E=E+Math.imul(D,Le)|0,E=E+Math.imul(F,et)|0,I=I+Math.imul(F,Le)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(Xe,ce),E=Math.imul(Xe,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(Be,Te)|0,E=E+Math.imul(Be,ke)|0,E=E+Math.imul(we,Te)|0,I=I+Math.imul(we,ke)|0,_=_+Math.imul(de,Je)|0,E=E+Math.imul(de,Ce)|0,E=E+Math.imul(oe,Je)|0,I=I+Math.imul(oe,Ce)|0,_=_+Math.imul(J,je)|0,E=E+Math.imul(J,_e)|0,E=E+Math.imul(q,je)|0,I=I+Math.imul(q,_e)|0,_=_+Math.imul(Ae,Ke)|0,E=E+Math.imul(Ae,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(Q,Ie)|0,I=I+Math.imul(Q,xe)|0,_=_+Math.imul(ye,Ze)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(G,Ze)|0,I=I+Math.imul(G,ne)|0,_=_+Math.imul(Me,$e)|0,E=E+Math.imul(Me,ge)|0,E=E+Math.imul(se,$e)|0,I=I+Math.imul(se,ge)|0,_=_+Math.imul(H,et)|0,E=E+Math.imul(H,Le)|0,E=E+Math.imul(V,et)|0,I=I+Math.imul(V,Le)|0,_=_+Math.imul(D,Re)|0,E=E+Math.imul(D,Ue)|0,E=E+Math.imul(F,Re)|0,I=I+Math.imul(F,Ue)|0;var Lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,_=Math.imul(Xe,Te),E=Math.imul(Xe,ke),E=E+Math.imul(ve,Te)|0,I=Math.imul(ve,ke),_=_+Math.imul(Be,Je)|0,E=E+Math.imul(Be,Ce)|0,E=E+Math.imul(we,Je)|0,I=I+Math.imul(we,Ce)|0,_=_+Math.imul(de,je)|0,E=E+Math.imul(de,_e)|0,E=E+Math.imul(oe,je)|0,I=I+Math.imul(oe,_e)|0,_=_+Math.imul(J,Ke)|0,E=E+Math.imul(J,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(Ae,Ie)|0,E=E+Math.imul(Ae,xe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,Ze)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(Q,Ze)|0,I=I+Math.imul(Q,ne)|0,_=_+Math.imul(ye,$e)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(G,$e)|0,I=I+Math.imul(G,ge)|0,_=_+Math.imul(Me,et)|0,E=E+Math.imul(Me,Le)|0,E=E+Math.imul(se,et)|0,I=I+Math.imul(se,Le)|0,_=_+Math.imul(H,Re)|0,E=E+Math.imul(H,Ue)|0,E=E+Math.imul(V,Re)|0,I=I+Math.imul(V,Ue)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(Xe,Je),E=Math.imul(Xe,Ce),E=E+Math.imul(ve,Je)|0,I=Math.imul(ve,Ce),_=_+Math.imul(Be,je)|0,E=E+Math.imul(Be,_e)|0,E=E+Math.imul(we,je)|0,I=I+Math.imul(we,_e)|0,_=_+Math.imul(de,Ke)|0,E=E+Math.imul(de,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(J,Ie)|0,E=E+Math.imul(J,xe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(Ae,Ze)|0,E=E+Math.imul(Ae,ne)|0,E=E+Math.imul(pe,Ze)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,$e)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(Q,$e)|0,I=I+Math.imul(Q,ge)|0,_=_+Math.imul(ye,et)|0,E=E+Math.imul(ye,Le)|0,E=E+Math.imul(G,et)|0,I=I+Math.imul(G,Le)|0,_=_+Math.imul(Me,Re)|0,E=E+Math.imul(Me,Ue)|0,E=E+Math.imul(se,Re)|0,I=I+Math.imul(se,Ue)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(Xe,je),E=Math.imul(Xe,_e),E=E+Math.imul(ve,je)|0,I=Math.imul(ve,_e),_=_+Math.imul(Be,Ke)|0,E=E+Math.imul(Be,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(de,Ie)|0,E=E+Math.imul(de,xe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(J,Ze)|0,E=E+Math.imul(J,ne)|0,E=E+Math.imul(q,Ze)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(Ae,$e)|0,E=E+Math.imul(Ae,ge)|0,E=E+Math.imul(pe,$e)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,et)|0,E=E+Math.imul(X,Le)|0,E=E+Math.imul(Q,et)|0,I=I+Math.imul(Q,Le)|0,_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ue)|0,E=E+Math.imul(G,Re)|0,I=I+Math.imul(G,Ue)|0;var Dt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,_=Math.imul(Xe,Ke),E=Math.imul(Xe,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(Be,Ie)|0,E=E+Math.imul(Be,xe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(de,Ze)|0,E=E+Math.imul(de,ne)|0,E=E+Math.imul(oe,Ze)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(J,$e)|0,E=E+Math.imul(J,ge)|0,E=E+Math.imul(q,$e)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(Ae,et)|0,E=E+Math.imul(Ae,Le)|0,E=E+Math.imul(pe,et)|0,I=I+Math.imul(pe,Le)|0,_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ue)|0,E=E+Math.imul(Q,Re)|0,I=I+Math.imul(Q,Ue)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(Xe,Ie),E=Math.imul(Xe,xe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,xe),_=_+Math.imul(Be,Ze)|0,E=E+Math.imul(Be,ne)|0,E=E+Math.imul(we,Ze)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0,E=E+Math.imul(oe,$e)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(J,et)|0,E=E+Math.imul(J,Le)|0,E=E+Math.imul(q,et)|0,I=I+Math.imul(q,Le)|0,_=_+Math.imul(Ae,Re)|0,E=E+Math.imul(Ae,Ue)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ue)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(Xe,Ze),E=Math.imul(Xe,ne),E=E+Math.imul(ve,Ze)|0,I=Math.imul(ve,ne),_=_+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0,E=E+Math.imul(we,$e)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(de,et)|0,E=E+Math.imul(de,Le)|0,E=E+Math.imul(oe,et)|0,I=I+Math.imul(oe,Le)|0,_=_+Math.imul(J,Re)|0,E=E+Math.imul(J,Ue)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ue)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(Xe,$e),E=Math.imul(Xe,ge),E=E+Math.imul(ve,$e)|0,I=Math.imul(ve,ge),_=_+Math.imul(Be,et)|0,E=E+Math.imul(Be,Le)|0,E=E+Math.imul(we,et)|0,I=I+Math.imul(we,Le)|0,_=_+Math.imul(de,Re)|0,E=E+Math.imul(de,Ue)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ue)|0;var Gt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(Xe,et),E=Math.imul(Xe,Le),E=E+Math.imul(ve,et)|0,I=Math.imul(ve,Le),_=_+Math.imul(Be,Re)|0,E=E+Math.imul(Be,Ue)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ue)|0;var Pr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(Xe,Re),E=Math.imul(Xe,Ue),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ue);var he=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(he>>>26)|0,he&=67108863,M[0]=at,M[1]=bt,M[2]=ht,M[3]=St,M[4]=Bt,M[5]=Et,M[6]=Mt,M[7]=zt,M[8]=Ht,M[9]=Lt,M[10]=Ft,M[11]=Nt,M[12]=Dt,M[13]=Ut,M[14]=Zt,M[15]=Vt,M[16]=Gt,M[17]=Pr,M[18]=he,f!==0&&(M[19]=f,x.length++),x},"comb10MulTo");Math.imul||(T=R);function P(m,o,p){p.negative=o.negative^m.negative,p.length=m.length+o.length;for(var x=0,A=0,k=0;k<p.length-1;k++){var M=A;A=0;for(var f=x&67108863,_=Math.min(k,o.length-1),E=Math.max(0,k-m.length+1);E<=_;E++){var I=k-E,L=m.words[I]|0,D=o.words[E]|0,F=L*D,z=F&67108863;M=M+(F/67108864|0)|0,z=z+f|0,f=z&67108863,M=M+(z>>>26)|0,A+=M>>>26,M&=67108863}p.words[k]=f,x=M,M=A}return x!==0?p.words[k]=x:p.length--,p._strip()}n(P,"bigMulTo");function O(m,o,p){return P(m,o,p)}n(O,"jumboMulTo"),l.prototype.mulTo=n(function(o,p){var x,A=this.length+o.length;return this.length===10&&o.length===10?x=T(this,o,p):A<63?x=R(this,o,p):A<1024?x=P(this,o,p):x=O(this,o,p),x},"mulTo"),l.prototype.mul=n(function(o){var p=new l(null);return p.words=new Array(this.length+o.length),this.mulTo(o,p)},"mul"),l.prototype.mulf=n(function(o){var p=new l(null);return p.words=new Array(this.length+o.length),O(this,o,p)},"mulf"),l.prototype.imul=n(function(o){return this.clone().mulTo(o,this)},"imul"),l.prototype.imuln=n(function(o){var p=o<0;p&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var x=0,A=0;A<this.length;A++){var k=(this.words[A]|0)*o,M=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=M>>>26,this.words[A]=M&67108863}return x!==0&&(this.words[A]=x,this.length++),this.length=o===0?1:this.length,p?this.ineg():this},"imuln"),l.prototype.muln=n(function(o){return this.clone().imuln(o)},"muln"),l.prototype.sqr=n(function(){return this.mul(this)},"sqr"),l.prototype.isqr=n(function(){return this.imul(this.clone())},"isqr"),l.prototype.pow=n(function(o){var p=C(o);if(p.length===0)return new l(1);for(var x=this,A=0;A<p.length&&p[A]===0;A++,x=x.sqr());if(++A<p.length)for(var k=x.sqr();A<p.length;A++,k=k.sqr())p[A]!==0&&(x=x.mul(k));return x},"pow"),l.prototype.iushln=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=67108863>>>26-p<<26-p,k;if(p!==0){var M=0;for(k=0;k<this.length;k++){var f=this.words[k]&A,_=(this.words[k]|0)-f<<p;this.words[k]=_|M,M=f>>>26-p}M&&(this.words[k]=M,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},"iushln"),l.prototype.ishln=n(function(o){return i(this.negative===0),this.iushln(o)},"ishln"),l.prototype.iushrn=n(function(o,p,x){i(typeof o=="number"&&o>=0);var A;p?A=(p-p%26)/26:A=0;var k=o%26,M=Math.min((o-k)/26,this.length),f=67108863^67108863>>>k<<k,_=x;if(A-=M,A=Math.max(0,A),_){for(var E=0;E<M;E++)_.words[E]=this.words[E];_.length=M}if(M!==0)if(this.length>M)for(this.length-=M,E=0;E<this.length;E++)this.words[E]=this.words[E+M];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=A);E--){var L=this.words[E]|0;this.words[E]=I<<26-k|L>>>k,I=L&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),l.prototype.ishrn=n(function(o,p,x){return i(this.negative===0),this.iushrn(o,p,x)},"ishrn"),l.prototype.shln=n(function(o){return this.clone().ishln(o)},"shln"),l.prototype.ushln=n(function(o){return this.clone().iushln(o)},"ushln"),l.prototype.shrn=n(function(o){return this.clone().ishrn(o)},"shrn"),l.prototype.ushrn=n(function(o){return this.clone().iushrn(o)},"ushrn"),l.prototype.testn=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return!1;var k=this.words[x];return!!(k&A)},"testn"),l.prototype.imaskn=n(function(o){i(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(p!==0&&x++,this.length=Math.min(x,this.length),p!==0){var A=67108863^67108863>>>p<<p;this.words[this.length-1]&=A}return this._strip()},"imaskn"),l.prototype.maskn=n(function(o){return this.clone().imaskn(o)},"maskn"),l.prototype.iaddn=n(function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},"iaddn"),l.prototype._iaddn=n(function(o){this.words[0]+=o;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},"_iaddn"),l.prototype.isubn=n(function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},"isubn"),l.prototype.addn=n(function(o){return this.clone().iaddn(o)},"addn"),l.prototype.subn=n(function(o){return this.clone().isubn(o)},"subn"),l.prototype.iabs=n(function(){return this.negative=0,this},"iabs"),l.prototype.abs=n(function(){return this.clone().iabs()},"abs"),l.prototype._ishlnsubmul=n(function(o,p,x){var A=o.length+x,k;this._expand(A);var M,f=0;for(k=0;k<o.length;k++){M=(this.words[k+x]|0)+f;var _=(o.words[k]|0)*p;M-=_&67108863,f=(M>>26)-(_/67108864|0),this.words[k+x]=M&67108863}for(;k<this.length-x;k++)M=(this.words[k+x]|0)+f,f=M>>26,this.words[k+x]=M&67108863;if(f===0)return this._strip();for(i(f===-1),f=0,k=0;k<this.length;k++)M=-(this.words[k]|0)+f,f=M>>26,this.words[k]=M&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),l.prototype._wordDiv=n(function(o,p){var x=this.length-o.length,A=this.clone(),k=o,M=k.words[k.length-1]|0,f=this._countBits(M);x=26-f,x!==0&&(k=k.ushln(x),A.iushln(x),M=k.words[k.length-1]|0);var _=A.length-k.length,E;if(p!=="mod"){E=new l(null),E.length=_+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var L=A.clone()._ishlnsubmul(k,1,_);L.negative===0&&(A=L,E&&(E.words[_]=1));for(var D=_-1;D>=0;D--){var F=(A.words[k.length+D]|0)*67108864+(A.words[k.length+D-1]|0);for(F=Math.min(F/M|0,67108863),A._ishlnsubmul(k,F,D);A.negative!==0;)F--,A.negative=0,A._ishlnsubmul(k,1,D),A.isZero()||(A.negative^=1);E&&(E.words[D]=F)}return E&&E._strip(),A._strip(),p!=="div"&&x!==0&&A.iushrn(x),{div:E||null,mod:A}},"_wordDiv"),l.prototype.divmod=n(function(o,p,x){if(i(!o.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var A,k,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,p),p!=="mod"&&(A=M.div.neg()),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.iadd(o)),{div:A,mod:k}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),p),p!=="mod"&&(A=M.div.neg()),{div:A,mod:M.mod}):(this.negative&o.negative)!==0?(M=this.neg().divmod(o.neg(),p),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.isub(o)),{div:M.div,mod:k}):o.length>this.length||this.cmp(o)<0?{div:new l(0),mod:this}:o.length===1?p==="div"?{div:this.divn(o.words[0]),mod:null}:p==="mod"?{div:null,mod:new l(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new l(this.modrn(o.words[0]))}:this._wordDiv(o,p)},"divmod"),l.prototype.div=n(function(o){return this.divmod(o,"div",!1).div},"div"),l.prototype.mod=n(function(o){return this.divmod(o,"mod",!1).mod},"mod"),l.prototype.umod=n(function(o){return this.divmod(o,"mod",!0).mod},"umod"),l.prototype.divRound=n(function(o){var p=this.divmod(o);if(p.mod.isZero())return p.div;var x=p.div.negative!==0?p.mod.isub(o):p.mod,A=o.ushrn(1),k=o.andln(1),M=x.cmp(A);return M<0||k===1&&M===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},"divRound"),l.prototype.modrn=n(function(o){var p=o<0;p&&(o=-o),i(o<=67108863);for(var x=(1<<26)%o,A=0,k=this.length-1;k>=0;k--)A=(x*A+(this.words[k]|0))%o;return p?-A:A},"modrn"),l.prototype.modn=n(function(o){return this.modrn(o)},"modn"),l.prototype.idivn=n(function(o){var p=o<0;p&&(o=-o),i(o<=67108863);for(var x=0,A=this.length-1;A>=0;A--){var k=(this.words[A]|0)+x*67108864;this.words[A]=k/o|0,x=k%o}return this._strip(),p?this.ineg():this},"idivn"),l.prototype.divn=n(function(o){return this.clone().idivn(o)},"divn"),l.prototype.egcd=n(function(o){i(o.negative===0),i(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new l(1),k=new l(0),M=new l(0),f=new l(1),_=0;p.isEven()&&x.isEven();)p.iushrn(1),x.iushrn(1),++_;for(var E=x.clone(),I=p.clone();!p.isZero();){for(var L=0,D=1;(p.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(p.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(E),k.isub(I)),A.iushrn(1),k.iushrn(1);for(var F=0,z=1;(x.words[0]&z)===0&&F<26;++F,z<<=1);if(F>0)for(x.iushrn(F);F-- >0;)(M.isOdd()||f.isOdd())&&(M.iadd(E),f.isub(I)),M.iushrn(1),f.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(M),k.isub(f)):(x.isub(p),M.isub(A),f.isub(k))}return{a:M,b:f,gcd:x.iushln(_)}},"egcd"),l.prototype._invmp=n(function(o){i(o.negative===0),i(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new l(1),k=new l(0),M=x.clone();p.cmpn(1)>0&&x.cmpn(1)>0;){for(var f=0,_=1;(p.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(p.iushrn(f);f-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);for(var E=0,I=1;(x.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(x.iushrn(E);E-- >0;)k.isOdd()&&k.iadd(M),k.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(k)):(x.isub(p),k.isub(A))}var L;return p.cmpn(1)===0?L=A:L=k,L.cmpn(0)<0&&L.iadd(o),L},"_invmp"),l.prototype.gcd=n(function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var p=this.clone(),x=o.clone();p.negative=0,x.negative=0;for(var A=0;p.isEven()&&x.isEven();A++)p.iushrn(1),x.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=p.cmp(x);if(k<0){var M=p;p=x,x=M}else if(k===0||x.cmpn(1)===0)break;p.isub(x)}while(!0);return x.iushln(A)},"gcd"),l.prototype.invm=n(function(o){return this.egcd(o).a.umod(o)},"invm"),l.prototype.isEven=n(function(){return(this.words[0]&1)===0},"isEven"),l.prototype.isOdd=n(function(){return(this.words[0]&1)===1},"isOdd"),l.prototype.andln=n(function(o){return this.words[0]&o},"andln"),l.prototype.bincn=n(function(o){i(typeof o=="number");var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var k=A,M=x;k!==0&&M<this.length;M++){var f=this.words[M]|0;f+=k,k=f>>>26,f&=67108863,this.words[M]=f}return k!==0&&(this.words[M]=k,this.length++),this},"bincn"),l.prototype.isZero=n(function(){return this.length===1&&this.words[0]===0},"isZero"),l.prototype.cmpn=n(function(o){var p=o<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var x;if(this.length>1)x=1;else{p&&(o=-o),i(o<=67108863,"Number is too big");var A=this.words[0]|0;x=A===o?0:A<o?-1:1}return this.negative!==0?-x|0:x},"cmpn"),l.prototype.cmp=n(function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var p=this.ucmp(o);return this.negative!==0?-p|0:p},"cmp"),l.prototype.ucmp=n(function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var p=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,k=o.words[x]|0;if(A!==k){A<k?p=-1:A>k&&(p=1);break}}return p},"ucmp"),l.prototype.gtn=n(function(o){return this.cmpn(o)===1},"gtn"),l.prototype.gt=n(function(o){return this.cmp(o)===1},"gt"),l.prototype.gten=n(function(o){return this.cmpn(o)>=0},"gten"),l.prototype.gte=n(function(o){return this.cmp(o)>=0},"gte"),l.prototype.ltn=n(function(o){return this.cmpn(o)===-1},"ltn"),l.prototype.lt=n(function(o){return this.cmp(o)===-1},"lt"),l.prototype.lten=n(function(o){return this.cmpn(o)<=0},"lten"),l.prototype.lte=n(function(o){return this.cmp(o)<=0},"lte"),l.prototype.eqn=n(function(o){return this.cmpn(o)===0},"eqn"),l.prototype.eq=n(function(o){return this.cmp(o)===0},"eq"),l.red=n(function(o){return new U(o)},"red"),l.prototype.toRed=n(function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},"toRed"),l.prototype.fromRed=n(function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),l.prototype._forceRed=n(function(o){return this.red=o,this},"_forceRed"),l.prototype.forceRed=n(function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},"forceRed"),l.prototype.redAdd=n(function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},"redAdd"),l.prototype.redIAdd=n(function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},"redIAdd"),l.prototype.redSub=n(function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},"redSub"),l.prototype.redISub=n(function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},"redISub"),l.prototype.redShl=n(function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},"redShl"),l.prototype.redMul=n(function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},"redMul"),l.prototype.redIMul=n(function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},"redIMul"),l.prototype.redSqr=n(function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),l.prototype.redISqr=n(function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),l.prototype.redSqrt=n(function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),l.prototype.redInvm=n(function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),l.prototype.redNeg=n(function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),l.prototype.redPow=n(function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)},"redPow");var j={k256:null,p224:null,p192:null,p25519:null};function B(m,o){this.name=m,this.p=new l(o,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(B,"MPrime"),B.prototype._tmp=n(function(){var o=new l(null);return o.words=new Array(Math.ceil(this.n/13)),o},"_tmp"),B.prototype.ireduce=n(function(o){var p=o,x;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),x=p.bitLength();while(x>this.n);var A=x<this.n?-1:p.ucmp(this.p);return A===0?(p.words[0]=0,p.length=1):A>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},"ireduce"),B.prototype.split=n(function(o,p){o.iushrn(this.n,0,p)},"split"),B.prototype.imulK=n(function(o){return o.imul(this.k)},"imulK");function Z(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Z,"K256"),s(Z,B),Z.prototype.split=n(function(o,p){for(var x=4194303,A=Math.min(o.length,9),k=0;k<A;k++)p.words[k]=o.words[k];if(p.length=A,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(p.words[p.length++]=M&x,k=10;k<o.length;k++){var f=o.words[k]|0;o.words[k-10]=(f&x)<<4|M>>>22,M=f}M>>>=22,o.words[k-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},"split"),Z.prototype.imulK=n(function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var p=0,x=0;x<o.length;x++){var A=o.words[x]|0;p+=A*977,o.words[x]=p&67108863,p=A*64+(p/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o},"imulK");function W(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(W,"P224"),s(W,B);function ee(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ee,"P192"),s(ee,B);function $(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,"P25519"),s($,B),$.prototype.imulK=n(function(o){for(var p=0,x=0;x<o.length;x++){var A=(o.words[x]|0)*19+p,k=A&67108863;A>>>=26,o.words[x]=k,p=A}return p!==0&&(o.words[o.length++]=p),o},"imulK"),l._prime=n(function(o){if(j[o])return j[o];var p;if(o==="k256")p=new Z;else if(o==="p224")p=new W;else if(o==="p192")p=new ee;else if(o==="p25519")p=new $;else throw new Error("Unknown prime "+o);return j[o]=p,p},"prime");function U(m){if(typeof m=="string"){var o=l._prime(m);this.m=o.p,this.prime=o}else i(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}n(U,"Red"),U.prototype._verify1=n(function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},"_verify1"),U.prototype._verify2=n(function(o,p){i((o.negative|p.negative)===0,"red works only with positives"),i(o.red&&o.red===p.red,"red works only with red numbers")},"_verify2"),U.prototype.imod=n(function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(d(o,o.umod(this.m)._forceRed(this)),o)},"imod"),U.prototype.neg=n(function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},"neg"),U.prototype.add=n(function(o,p){this._verify2(o,p);var x=o.add(p);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},"add"),U.prototype.iadd=n(function(o,p){this._verify2(o,p);var x=o.iadd(p);return x.cmp(this.m)>=0&&x.isub(this.m),x},"iadd"),U.prototype.sub=n(function(o,p){this._verify2(o,p);var x=o.sub(p);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},"sub"),U.prototype.isub=n(function(o,p){this._verify2(o,p);var x=o.isub(p);return x.cmpn(0)<0&&x.iadd(this.m),x},"isub"),U.prototype.shl=n(function(o,p){return this._verify1(o),this.imod(o.ushln(p))},"shl"),U.prototype.imul=n(function(o,p){return this._verify2(o,p),this.imod(o.imul(p))},"imul"),U.prototype.mul=n(function(o,p){return this._verify2(o,p),this.imod(o.mul(p))},"mul"),U.prototype.isqr=n(function(o){return this.imul(o,o.clone())},"isqr"),U.prototype.sqr=n(function(o){return this.mul(o,o)},"sqr"),U.prototype.sqrt=n(function(o){if(o.isZero())return o.clone();var p=this.m.andln(3);if(i(p%2===1),p===3){var x=this.m.add(new l(1)).iushrn(2);return this.pow(o,x)}for(var A=this.m.subn(1),k=0;!A.isZero()&&A.andln(1)===0;)k++,A.iushrn(1);i(!A.isZero());var M=new l(1).toRed(this),f=M.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new l(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,A),L=this.pow(o,A.addn(1).iushrn(1)),D=this.pow(o,A),F=k;D.cmp(M)!==0;){for(var z=D,H=0;z.cmp(M)!==0;H++)z=z.redSqr();i(H<F);var V=this.pow(I,new l(1).iushln(F-H-1));L=L.redMul(V),I=V.redSqr(),D=D.redMul(I),F=H}return L},"sqrt"),U.prototype.invm=n(function(o){var p=o._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},"invm"),U.prototype.pow=n(function(o,p){if(p.isZero())return new l(1).toRed(this);if(p.cmpn(1)===0)return o.clone();var x=4,A=new Array(1<<x);A[0]=new l(1).toRed(this),A[1]=o;for(var k=2;k<A.length;k++)A[k]=this.mul(A[k-1],o);var M=A[0],f=0,_=0,E=p.bitLength()%26;for(E===0&&(E=26),k=p.length-1;k>=0;k--){for(var I=p.words[k],L=E-1;L>=0;L--){var D=I>>L&1;if(M!==A[0]&&(M=this.sqr(M)),D===0&&f===0){_=0;continue}f<<=1,f|=D,_++,!(_!==x&&(k!==0||L!==0))&&(M=this.mul(M,A[f]),_=0,f=0)}E=26}return M},"pow"),U.prototype.convertTo=n(function(o){var p=o.umod(this.m);return p===o?p.clone():p},"convertTo"),U.prototype.convertFrom=n(function(o){var p=o.clone();return p.red=null,p},"convertFrom"),l.mont=n(function(o){return new u(o)},"mont");function u(m){U.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(u,"Mont"),s(u,U),u.prototype.convertTo=n(function(o){return this.imod(o.ushln(this.shift))},"convertTo"),u.prototype.convertFrom=n(function(o){var p=this.imod(o.mul(this.rinv));return p.red=null,p},"convertFrom"),u.prototype.imul=n(function(o,p){if(o.isZero()||p.isZero())return o.words[0]=0,o.length=1,o;var x=o.imul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},"imul"),u.prototype.mul=n(function(o,p){if(o.isZero()||p.isZero())return new l(0)._forceRed(this);var x=o.mul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},"mul"),u.prototype.invm=n(function(o){var p=this.imod(o._invmp(this.m).mul(this.r2));return p._forceRed(this)},"invm")})(t,xN)})(fu)),fu.exports}n(P8,"requireBn");var ei={},zd={},$d={},t2;function _N(){return t2||(t2=1,(function(t){var e=sl(),r=jt(),i=t;i.define=n(function(a,v){return new s(a,v)},"define");function s(l,a){this.name=l,this.body=a,this.decoders={},this.encoders={}}n(s,"Entity"),s.prototype._createNamed=n(function(a){var v;try{v=ni.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{v=n(function(h){this._initNamed(h)},"named")}return r(v,a),v.prototype._initNamed=n(function(h){a.call(this,h)},"initnamed"),new v(this)},"createNamed"),s.prototype._getDecoder=n(function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(e.decoders[a])),this.decoders[a]},"_getDecoder"),s.prototype.decode=n(function(a,v,g){return this._getDecoder(v).decode(a,g)},"decode"),s.prototype._getEncoder=n(function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(e.encoders[a])),this.encoders[a]},"_getEncoder"),s.prototype.encode=n(function(a,v,g){return this._getEncoder(v).encode(a,g)},"encode")})($d)),$d}n(_N,"requireApi");var Hd={},Zd={},r2;function MN(){if(r2)return Zd;r2=1;var t=jt();function e(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}n(e,"Reporter"),Zd.Reporter=e,e.prototype.isError=n(function(s){return s instanceof r},"isError"),e.prototype.save=n(function(){var s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},"save"),e.prototype.restore=n(function(s){var l=this._reporterState;l.obj=s.obj,l.path=l.path.slice(0,s.pathLen)},"restore"),e.prototype.enterKey=n(function(s){return this._reporterState.path.push(s)},"enterKey"),e.prototype.exitKey=n(function(s){var l=this._reporterState;l.path=l.path.slice(0,s-1)},"exitKey"),e.prototype.leaveKey=n(function(s,l,a){var v=this._reporterState;this.exitKey(s),v.obj!==null&&(v.obj[l]=a)},"leaveKey"),e.prototype.path=n(function(){return this._reporterState.path.join("/")},"path"),e.prototype.enterObject=n(function(){var s=this._reporterState,l=s.obj;return s.obj={},l},"enterObject"),e.prototype.leaveObject=n(function(s){var l=this._reporterState,a=l.obj;return l.obj=s,a},"leaveObject"),e.prototype.error=n(function(s){var l,a=this._reporterState,v=s instanceof r;if(v?l=s:l=new r(a.path.map(function(g){return"["+JSON.stringify(g)+"]"}).join(""),s.message||s,s.stack),!a.options.partial)throw l;return v||a.errors.push(l),l},"error"),e.prototype.wrapResult=n(function(s){var l=this._reporterState;return l.options.partial?{result:this.isError(s)?null:s,errors:l.errors}:s},"wrapResult");function r(i,s){this.path=i,this.rethrow(s)}return n(r,"ReporterError"),t(r,Error),r.prototype.rethrow=n(function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this},"rethrow"),Zd}n(MN,"requireReporter");var Nl={},i2;function n2(){if(i2)return Nl;i2=1;var t=jt(),e=io().Reporter,r=Un().Buffer;function i(l,a){if(e.call(this,a),!r.isBuffer(l)){this.error("Input not Buffer");return}this.base=l,this.offset=0,this.length=l.length}n(i,"DecoderBuffer"),t(i,e),Nl.DecoderBuffer=i,i.prototype.save=n(function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},"save"),i.prototype.restore=n(function(a){var v=new i(this.base);return v.offset=a.offset,v.length=this.offset,this.offset=a.offset,e.prototype.restore.call(this,a.reporter),v},"restore"),i.prototype.isEmpty=n(function(){return this.offset===this.length},"isEmpty"),i.prototype.readUInt8=n(function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},"readUInt8"),i.prototype.skip=n(function(a,v){if(!(this.offset+a<=this.length))return this.error(v||"DecoderBuffer overrun");var g=new i(this.base);return g._reporterState=this._reporterState,g.offset=this.offset,g.length=this.offset+a,this.offset+=a,g},"skip"),i.prototype.raw=n(function(a){return this.base.slice(a?a.offset:this.offset,this.length)},"raw");function s(l,a){if(Array.isArray(l))this.length=0,this.value=l.map(function(v){return v instanceof s||(v=new s(v,a)),this.length+=v.length,v},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return a.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=r.byteLength(l);else if(r.isBuffer(l))this.value=l,this.length=l.length;else return a.error("Unsupported type: "+typeof l)}return n(s,"EncoderBuffer"),Nl.EncoderBuffer=s,s.prototype.join=n(function(a,v){return a||(a=new r(this.length)),v||(v=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(g){g.join(a,v),v+=g.length}):(typeof this.value=="number"?a[v]=this.value:typeof this.value=="string"?a.write(this.value,v):r.isBuffer(this.value)&&this.value.copy(a,v),v+=this.length)),a},"join"),Nl}n(n2,"requireBuffer");var Vd,s2;function SN(){if(s2)return Vd;s2=1;var t=io().Reporter,e=io().EncoderBuffer,r=io().DecoderBuffer,i=si(),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),a=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function v(h,d){var c={};this._baseState=c,c.enc=h,c.parent=d||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}n(v,"Node"),Vd=v;var g=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return v.prototype.clone=n(function(){var d=this._baseState,c={};g.forEach(function(b){c[b]=d[b]});var y=new this.constructor(c.parent);return y._baseState=c,y},"clone"),v.prototype._wrap=n(function(){var d=this._baseState;l.forEach(function(c){this[c]=n(function(){var b=new this.constructor(this);return d.children.push(b),b[c].apply(b,arguments)},"_wrappedMethod")},this)},"wrap"),v.prototype._init=n(function(d){var c=this._baseState;i(c.parent===null),d.call(this),c.children=c.children.filter(function(y){return y._baseState.parent===this},this),i.equal(c.children.length,1,"Root node can have only one child")},"init"),v.prototype._useArgs=n(function(d){var c=this._baseState,y=d.filter(function(b){return b instanceof this.constructor},this);d=d.filter(function(b){return!(b instanceof this.constructor)},this),y.length!==0&&(i(c.children===null),c.children=y,y.forEach(function(b){b._baseState.parent=this},this)),d.length!==0&&(i(c.args===null),c.args=d,c.reverseArgs=d.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;var w={};return Object.keys(b).forEach(function(S){S==(S|0)&&(S|=0);var C=b[S];w[C]=S}),w}))},"useArgs"),a.forEach(function(h){v.prototype[h]=n(function(){var c=this._baseState;throw new Error(h+" not implemented for encoding: "+c.enc)},"_overrided")}),s.forEach(function(h){v.prototype[h]=n(function(){var c=this._baseState,y=Array.prototype.slice.call(arguments);return i(c.tag===null),c.tag=h,this._useArgs(y),this},"_tagMethod")}),v.prototype.use=n(function(d){i(d);var c=this._baseState;return i(c.use===null),c.use=d,this},"use"),v.prototype.optional=n(function(){var d=this._baseState;return d.optional=!0,this},"optional"),v.prototype.def=n(function(d){var c=this._baseState;return i(c.default===null),c.default=d,c.optional=!0,this},"def"),v.prototype.explicit=n(function(d){var c=this._baseState;return i(c.explicit===null&&c.implicit===null),c.explicit=d,this},"explicit"),v.prototype.implicit=n(function(d){var c=this._baseState;return i(c.explicit===null&&c.implicit===null),c.implicit=d,this},"implicit"),v.prototype.obj=n(function(){var d=this._baseState,c=Array.prototype.slice.call(arguments);return d.obj=!0,c.length!==0&&this._useArgs(c),this},"obj"),v.prototype.key=n(function(d){var c=this._baseState;return i(c.key===null),c.key=d,this},"key"),v.prototype.any=n(function(){var d=this._baseState;return d.any=!0,this},"any"),v.prototype.choice=n(function(d){var c=this._baseState;return i(c.choice===null),c.choice=d,this._useArgs(Object.keys(d).map(function(y){return d[y]})),this},"choice"),v.prototype.contains=n(function(d){var c=this._baseState;return i(c.use===null),c.contains=d,this},"contains"),v.prototype._decode=n(function(d,c){var y=this._baseState;if(y.parent===null)return d.wrapResult(y.children[0]._decode(d,c));var b=y.default,w=!0,S=null;if(y.key!==null&&(S=d.enterKey(y.key)),y.optional){var C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C===null&&!y.any){var R=d.save();try{y.choice===null?this._decodeGeneric(y.tag,d,c):this._decodeChoice(d,c),w=!0}catch{w=!1}d.restore(R)}else if(w=this._peekTag(d,C,y.any),d.isError(w))return w}var T;if(y.obj&&w&&(T=d.enterObject()),w){if(y.explicit!==null){var P=this._decodeTag(d,y.explicit);if(d.isError(P))return P;d=P}var O=d.offset;if(y.use===null&&y.choice===null){if(y.any)var R=d.save();var j=this._decodeTag(d,y.implicit!==null?y.implicit:y.tag,y.any);if(d.isError(j))return j;y.any?b=d.raw(R):d=j}if(c&&c.track&&y.tag!==null&&c.track(d.path(),O,d.length,"tagged"),c&&c.track&&y.tag!==null&&c.track(d.path(),d.offset,d.length,"content"),y.any?b=b:y.choice===null?b=this._decodeGeneric(y.tag,d,c):b=this._decodeChoice(d,c),d.isError(b))return b;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(n(function(W){W._decode(d,c)},"decodeChildren")),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){var B=new r(b);b=this._getUse(y.contains,d._reporterState.obj)._decode(B,c)}}return y.obj&&w&&(b=d.leaveObject(T)),y.key!==null&&(b!==null||w===!0)?d.leaveKey(S,y.key,b):S!==null&&d.exitKey(S),b},"decode"),v.prototype._decodeGeneric=n(function(d,c,y){var b=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(c,d,b.args[0],y):/str$/.test(d)?this._decodeStr(c,d,y):d==="objid"&&b.args?this._decodeObjid(c,b.args[0],b.args[1],y):d==="objid"?this._decodeObjid(c,null,null,y):d==="gentime"||d==="utctime"?this._decodeTime(c,d,y):d==="null_"?this._decodeNull(c,y):d==="bool"?this._decodeBool(c,y):d==="objDesc"?this._decodeStr(c,d,y):d==="int"||d==="enum"?this._decodeInt(c,b.args&&b.args[0],y):b.use!==null?this._getUse(b.use,c._reporterState.obj)._decode(c,y):c.error("unknown tag: "+d)},"decodeGeneric"),v.prototype._getUse=n(function(d,c){var y=this._baseState;return y.useDecoder=this._use(d,c),i(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},"_getUse"),v.prototype._decodeChoice=n(function(d,c){var y=this._baseState,b=null,w=!1;return Object.keys(y.choice).some(function(S){var C=d.save(),R=y.choice[S];try{var T=R._decode(d,c);if(d.isError(T))return!1;b={type:S,value:T},w=!0}catch{return d.restore(C),!1}return!0},this),w?b:d.error("Choice not matched")},"decodeChoice"),v.prototype._createEncoderBuffer=n(function(d){return new e(d,this.reporter)},"createEncoderBuffer"),v.prototype._encode=n(function(d,c,y){var b=this._baseState;if(!(b.default!==null&&b.default===d)){var w=this._encodeValue(d,c,y);if(w!==void 0&&!this._skipDefault(w,c,y))return w}},"encode"),v.prototype._encodeValue=n(function(d,c,y){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(d,c||new t);var R=null;if(this.reporter=c,b.optional&&d===void 0)if(b.default!==null)d=b.default;else return;var w=null,S=!1;if(b.any)R=this._createEncoderBuffer(d);else if(b.choice)R=this._encodeChoice(d,c);else if(b.contains)w=this._getUse(b.contains,y)._encode(d,c),S=!0;else if(b.children)w=b.children.map(function(O){if(O._baseState.tag==="null_")return O._encode(null,c,d);if(O._baseState.key===null)return c.error("Child should have a key");var j=c.enterKey(O._baseState.key);if(typeof d!="object")return c.error("Child expected, but input is not object");var B=O._encode(d[O._baseState.key],c,d);return c.leaveKey(j),B},this).filter(function(O){return O}),w=this._createEncoderBuffer(w);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return c.error("Too many args for : "+b.tag);if(!Array.isArray(d))return c.error("seqof/setof, but data is not Array");var C=this.clone();C._baseState.implicit=null,w=this._createEncoderBuffer(d.map(function(O){var j=this._baseState;return this._getUse(j.args[0],d)._encode(O,c)},C))}else b.use!==null?R=this._getUse(b.use,y)._encode(d,c):(w=this._encodePrimitive(b.tag,d),S=!0);var R;if(!b.any&&b.choice===null){var T=b.implicit!==null?b.implicit:b.tag,P=b.implicit===null?"universal":"context";T===null?b.use===null&&c.error("Tag could be omitted only for .use()"):b.use===null&&(R=this._encodeComposite(T,S,P,w))}return b.explicit!==null&&(R=this._encodeComposite(b.explicit,!1,"context",R)),R},"encode"),v.prototype._encodeChoice=n(function(d,c){var y=this._baseState,b=y.choice[d.type];return b||i(!1,d.type+" not found in "+JSON.stringify(Object.keys(y.choice))),b._encode(d.value,c)},"encodeChoice"),v.prototype._encodePrimitive=n(function(d,c){var y=this._baseState;if(/str$/.test(d))return this._encodeStr(c,d);if(d==="objid"&&y.args)return this._encodeObjid(c,y.reverseArgs[0],y.args[1]);if(d==="objid")return this._encodeObjid(c,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(c,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(c,y.args&&y.reverseArgs[0]);if(d==="bool")return this._encodeBool(c);if(d==="objDesc")return this._encodeStr(c,d);throw new Error("Unsupported tag: "+d)},"encodePrimitive"),v.prototype._isNumstr=n(function(d){return/^[0-9 ]*$/.test(d)},"isNumstr"),v.prototype._isPrintstr=n(function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)},"isPrintstr"),Vd}n(SN,"requireNode");var a2;function io(){return a2||(a2=1,(function(t){var e=t;e.Reporter=MN().Reporter,e.DecoderBuffer=n2().DecoderBuffer,e.EncoderBuffer=n2().EncoderBuffer,e.Node=SN()})(Hd)),Hd}n(io,"requireBase");var Gd={},Wd={},o2;function EN(){return o2||(o2=1,(function(t){var e=O8();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)})(Wd)),Wd}n(EN,"requireDer$2");var l2;function O8(){return l2||(l2=1,(function(t){var e=t;e._reverse=n(function(i){var s={};return Object.keys(i).forEach(function(l){(l|0)==l&&(l=l|0);var a=i[l];s[a]=l}),s},"reverse"),e.der=EN()})(Gd)),Gd}n(O8,"requireConstants$1");var Kd={},Yd,u2;function j8(){if(u2)return Yd;u2=1;var t=jt(),e=sl(),r=e.base,i=e.bignum,s=e.constants.der;function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new a,this.tree._init(h.body)}n(l,"DERDecoder"),Yd=l,l.prototype.decode=n(function(d,c){return d instanceof r.DecoderBuffer||(d=new r.DecoderBuffer(d,c)),this.tree._decode(d,c)},"decode");function a(h){r.Node.call(this,"der",h)}n(a,"DERNode"),t(a,r.Node),a.prototype._peekTag=n(function(d,c,y){if(d.isEmpty())return!1;var b=d.save(),w=v(d,'Failed to peek tag: "'+c+'"');return d.isError(w)?w:(d.restore(b),w.tag===c||w.tagStr===c||w.tagStr+"of"===c||y)},"peekTag"),a.prototype._decodeTag=n(function(d,c,y){var b=v(d,'Failed to decode tag of "'+c+'"');if(d.isError(b))return b;var w=g(d,b.primitive,'Failed to get length of "'+c+'"');if(d.isError(w))return w;if(!y&&b.tag!==c&&b.tagStr!==c&&b.tagStr+"of"!==c)return d.error('Failed to match tag: "'+c+'"');if(b.primitive||w!==null)return d.skip(w,'Failed to match body of: "'+c+'"');var S=d.save(),C=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(C)?C:(w=d.offset-S.offset,d.restore(S),d.skip(w,'Failed to match body of: "'+c+'"'))},"decodeTag"),a.prototype._skipUntilEnd=n(function(d,c){for(;;){var y=v(d,c);if(d.isError(y))return y;var b=g(d,y.primitive,c);if(d.isError(b))return b;var w;if(y.primitive||b!==null?w=d.skip(b):w=this._skipUntilEnd(d,c),d.isError(w))return w;if(y.tagStr==="end")break}},"skipUntilEnd"),a.prototype._decodeList=n(function(d,c,y,b){for(var w=[];!d.isEmpty();){var S=this._peekTag(d,"end");if(d.isError(S))return S;var C=y.decode(d,"der",b);if(d.isError(C)&&S)break;w.push(C)}return w},"decodeList"),a.prototype._decodeStr=n(function(d,c){if(c==="bitstr"){var y=d.readUInt8();return d.isError(y)?y:{unused:y,data:d.raw()}}else if(c==="bmpstr"){var b=d.raw();if(b.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var w="",S=0;S<b.length/2;S++)w+=String.fromCharCode(b.readUInt16BE(S*2));return w}else if(c==="numstr"){var C=d.raw().toString("ascii");return this._isNumstr(C)?C:d.error("Decoding of string type: numstr unsupported characters")}else{if(c==="octstr")return d.raw();if(c==="objDesc")return d.raw();if(c==="printstr"){var R=d.raw().toString("ascii");return this._isPrintstr(R)?R:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(c)?d.raw().toString():d.error("Decoding of string type: "+c+" unsupported")}},"decodeStr"),a.prototype._decodeObjid=n(function(d,c,y){for(var b,w=[],S=0;!d.isEmpty();){var C=d.readUInt8();S<<=7,S|=C&127,(C&128)===0&&(w.push(S),S=0)}C&128&&w.push(S);var R=w[0]/40|0,T=w[0]%40;if(y?b=w:b=[R,T].concat(w.slice(1)),c){var P=c[b.join(" ")];P===void 0&&(P=c[b.join(".")]),P!==void 0&&(b=P)}return b},"decodeObjid"),a.prototype._decodeTime=n(function(d,c){var y=d.raw().toString();if(c==="gentime")var b=y.slice(0,4)|0,w=y.slice(4,6)|0,S=y.slice(6,8)|0,C=y.slice(8,10)|0,R=y.slice(10,12)|0,T=y.slice(12,14)|0;else if(c==="utctime"){var b=y.slice(0,2)|0,w=y.slice(2,4)|0,S=y.slice(4,6)|0,C=y.slice(6,8)|0,R=y.slice(8,10)|0,T=y.slice(10,12)|0;b<70?b=2e3+b:b=1900+b}else return d.error("Decoding "+c+" time is not supported yet");return Date.UTC(b,w-1,S,C,R,T,0)},"decodeTime"),a.prototype._decodeNull=n(function(d){return null},"decodeNull"),a.prototype._decodeBool=n(function(d){var c=d.readUInt8();return d.isError(c)?c:c!==0},"decodeBool"),a.prototype._decodeInt=n(function(d,c){var y=d.raw(),b=new i(y);return c&&(b=c[b.toString(10)]||b),b},"decodeInt"),a.prototype._use=n(function(d,c){return typeof d=="function"&&(d=d(c)),d._getDecoder("der").tree},"use");function v(h,d){var c=h.readUInt8(d);if(h.isError(c))return c;var y=s.tagClass[c>>6],b=(c&32)===0;if((c&31)===31){var w=c;for(c=0;(w&128)===128;){if(w=h.readUInt8(d),h.isError(w))return w;c<<=7,c|=w&127}}else c&=31;var S=s.tag[c];return{cls:y,primitive:b,tag:c,tagStr:S}}n(v,"derDecodeTag");function g(h,d,c){var y=h.readUInt8(c);if(h.isError(y))return y;if(!d&&y===128)return null;if((y&128)===0)return y;var b=y&127;if(b>4)return h.error("length octect is too long");y=0;for(var w=0;w<b;w++){y<<=8;var S=h.readUInt8(c);if(h.isError(S))return S;y|=S}return y}return n(g,"derDecodeLen"),Yd}n(j8,"requireDer$1");var Xd,f2;function AN(){if(f2)return Xd;f2=1;var t=jt(),e=Un().Buffer,r=j8();function i(s){r.call(this,s),this.enc="pem"}return n(i,"PEMDecoder"),t(i,r),Xd=i,i.prototype.decode=n(function(l,a){for(var v=l.toString().split(/[\r\n]+/g),g=a.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,c=-1,y=0;y<v.length;y++){var b=v[y].match(h);if(b!==null&&b[2]===g)if(d===-1){if(b[1]!=="BEGIN")break;d=y}else{if(b[1]!=="END")break;c=y;break}}if(d===-1||c===-1)throw new Error("PEM section not found for: "+g);var w=v.slice(d+1,c).join("");w.replace(/[^a-z0-9\+\/=]+/gi,"");var S=new e(w,"base64");return r.prototype.decode.call(this,S,a)},"decode"),Xd}n(AN,"requirePem$1");var c2;function kN(){return c2||(c2=1,(function(t){var e=t;e.der=j8(),e.pem=AN()})(Kd)),Kd}n(kN,"requireDecoders");var Qd={},Jd,h2;function L8(){if(h2)return Jd;h2=1;var t=jt(),e=Un().Buffer,r=sl(),i=r.base,s=r.constants.der;function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new a,this.tree._init(h.body)}n(l,"DEREncoder"),Jd=l,l.prototype.encode=n(function(d,c){return this.tree._encode(d,c).join()},"encode");function a(h){i.Node.call(this,"der",h)}n(a,"DERNode"),t(a,i.Node),a.prototype._encodeComposite=n(function(d,c,y,b){var w=g(d,c,y,this.reporter);if(b.length<128){var R=new e(2);return R[0]=w,R[1]=b.length,this._createEncoderBuffer([R,b])}for(var S=1,C=b.length;C>=256;C>>=8)S++;var R=new e(2+S);R[0]=w,R[1]=128|S;for(var C=1+S,T=b.length;T>0;C--,T>>=8)R[C]=T&255;return this._createEncoderBuffer([R,b])},"encodeComposite"),a.prototype._encodeStr=n(function(d,c){if(c==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(c==="bmpstr"){for(var y=new e(d.length*2),b=0;b<d.length;b++)y.writeUInt16BE(d.charCodeAt(b),b*2);return this._createEncoderBuffer(y)}else return c==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):c==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(c)?this._createEncoderBuffer(d):c==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+c+" unsupported")},"encodeStr"),a.prototype._encodeObjid=n(function(d,c,y){if(typeof d=="string"){if(!c)return this.reporter.error("string objid given, but no values map found");if(!c.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=c[d].split(/[\s\.]+/g);for(var b=0;b<d.length;b++)d[b]|=0}else if(Array.isArray(d)){d=d.slice();for(var b=0;b<d.length;b++)d[b]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!y){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var w=0,b=0;b<d.length;b++){var S=d[b];for(w++;S>=128;S>>=7)w++}for(var C=new e(w),R=C.length-1,b=d.length-1;b>=0;b--){var S=d[b];for(C[R--]=S&127;(S>>=7)>0;)C[R--]=128|S&127}return this._createEncoderBuffer(C)},"encodeObjid");function v(h){return h<10?"0"+h:h}n(v,"two"),a.prototype._encodeTime=n(function(d,c){var y,b=new Date(d);return c==="gentime"?y=[v(b.getFullYear()),v(b.getUTCMonth()+1),v(b.getUTCDate()),v(b.getUTCHours()),v(b.getUTCMinutes()),v(b.getUTCSeconds()),"Z"].join(""):c==="utctime"?y=[v(b.getFullYear()%100),v(b.getUTCMonth()+1),v(b.getUTCDate()),v(b.getUTCHours()),v(b.getUTCMinutes()),v(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+c+" time is not supported yet"),this._encodeStr(y,"octstr")},"encodeTime"),a.prototype._encodeNull=n(function(){return this._createEncoderBuffer("")},"encodeNull"),a.prototype._encodeInt=n(function(d,c){if(typeof d=="string"){if(!c)return this.reporter.error("String int or enum given, but no values map");if(!c.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=c[d]}if(typeof d!="number"&&!e.isBuffer(d)){var y=d.toArray();!d.sign&&y[0]&128&&y.unshift(0),d=new e(y)}if(e.isBuffer(d)){var b=d.length;d.length===0&&b++;var S=new e(b);return d.copy(S),d.length===0&&(S[0]=0),this._createEncoderBuffer(S)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var b=1,w=d;w>=256;w>>=8)b++;for(var S=new Array(b),w=S.length-1;w>=0;w--)S[w]=d&255,d>>=8;return S[0]&128&&S.unshift(0),this._createEncoderBuffer(new e(S))},"encodeInt"),a.prototype._encodeBool=n(function(d){return this._createEncoderBuffer(d?255:0)},"encodeBool"),a.prototype._use=n(function(d,c){return typeof d=="function"&&(d=d(c)),d._getEncoder("der").tree},"use"),a.prototype._skipDefault=n(function(d,c,y){var b=this._baseState,w;if(b.default===null)return!1;var S=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,c,y).join()),S.length!==b.defaultBuffer.length)return!1;for(w=0;w<S.length;w++)if(S[w]!==b.defaultBuffer[w])return!1;return!0},"skipDefault");function g(h,d,c,y){var b;if(h==="seqof"?h="seq":h==="setof"&&(h="set"),s.tagByName.hasOwnProperty(h))b=s.tagByName[h];else if(typeof h=="number"&&(h|0)===h)b=h;else return y.error("Unknown tag: "+h);return b>=31?y.error("Multi-octet tag encoding unsupported"):(d||(b|=32),b|=s.tagClassByName[c||"universal"]<<6,b)}return n(g,"encodeTag"),Jd}n(L8,"requireDer");var qd,d2;function NN(){if(d2)return qd;d2=1;var t=jt(),e=L8();function r(i){e.call(this,i),this.enc="pem"}return n(r,"PEMEncoder"),t(r,e),qd=r,r.prototype.encode=n(function(s,l){for(var a=e.prototype.encode.call(this,s),v=a.toString("base64"),g=["-----BEGIN "+l.label+"-----"],h=0;h<v.length;h+=64)g.push(v.slice(h,h+64));return g.push("-----END "+l.label+"-----"),g.join(`
`)},"encode"),qd}n(NN,"requirePem");var p2;function CN(){return p2||(p2=1,(function(t){var e=t;e.der=L8(),e.pem=NN()})(Qd)),Qd}n(CN,"requireEncoders");var m2;function sl(){return m2||(m2=1,(function(t){var e=t;e.bignum=_r(),e.define=_N().define,e.base=io(),e.constants=O8(),e.decoders=kN(),e.encoders=CN()})(zd)),zd}n(sl,"requireAsn1$1");var e0,g2;function RN(){if(g2)return e0;g2=1;var t=sl(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())}),l=t.define("RelativeDistinguishedName",function(){this.setof(r)}),a=t.define("RDNSequence",function(){this.seqof(l)}),v=t.define("Name",function(){this.choice({rdnSequence:this.use(a)})}),g=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),h=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(i),this.key("issuer").use(v),this.key("validity").use(g),this.key("subject").use(v),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),c=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(i),this.key("signatureValue").bitstr())});return e0=c,e0}n(RN,"requireCertificate");var v2;function IN(){if(v2)return ei;v2=1;var t=sl();ei.certificate=RN();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ei.RSAPrivateKey=e;var r=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ei.RSAPublicKey=r;var i=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())});ei.PublicKey=s;var l=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())});ei.PrivateKey=l;var a=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ei.EncryptedPrivateKey=a;var v=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ei.DSAPrivateKey=v,ei.DSAparam=t.define("DSAparam",function(){this.int()});var g=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),h=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});return ei.ECPrivateKey=h,ei.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),ei}n(IN,"requireAsn1");const TN={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var t0,b2;function PN(){if(b2)return t0;b2=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,i=yf(),s=kg(),l=Ot().Buffer;return t0=n(function(a,v){var g=a.toString(),h=g.match(t),d;if(h){var y="aes"+h[1],b=l.from(h[2],"hex"),w=l.from(h[3].replace(/[\r\n]/g,""),"base64"),S=i(v,b.slice(0,8),parseInt(h[1],10)).key,C=[],R=s.createDecipheriv(y,S,b);C.push(R.update(w)),C.push(R.final()),d=l.concat(C)}else{var c=g.match(r);d=l.from(c[2].replace(/[\r\n]/g,""),"base64")}var T=g.match(e)[1];return{tag:T,data:d}},"fixProc"),t0}n(PN,"requireFixProc");var r0,y2;function _f(){if(y2)return r0;y2=1;var t=IN(),e=TN,r=PN(),i=kg(),s=p8(),l=Ot().Buffer;function a(g,h){var d=g.algorithm.decrypt.kde.kdeparams.salt,c=parseInt(g.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=e[g.algorithm.decrypt.cipher.algo.join(".")],b=g.algorithm.decrypt.cipher.iv,w=g.subjectPrivateKey,S=parseInt(y.split("-")[1],10)/8,C=s.pbkdf2Sync(h,d,c,S,"sha1"),R=i.createDecipheriv(y,C,b),T=[];return T.push(R.update(w)),T.push(R.final()),l.concat(T)}n(a,"decrypt");function v(g){var h;typeof g=="object"&&!l.isBuffer(g)&&(h=g.passphrase,g=g.key),typeof g=="string"&&(g=l.from(g));var d=r(g,h),c=d.tag,y=d.data,b,w;switch(c){case"CERTIFICATE":w=t.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(w||(w=t.PublicKey.decode(y,"der")),b=w.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(w.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return w.subjectPrivateKey=w.subjectPublicKey,{type:"ec",data:w};case"1.2.840.10040.4.1":return w.algorithm.params.pub_key=t.DSAparam.decode(w.subjectPublicKey.data,"der"),{type:"dsa",data:w.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":y=t.EncryptedPrivateKey.decode(y,"der"),y=a(y,h);case"PRIVATE KEY":switch(w=t.PrivateKey.decode(y,"der"),b=w.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(w.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:w.algorithm.curve,privateKey:t.ECPrivateKey.decode(w.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return w.algorithm.params.priv_key=t.DSAparam.decode(w.subjectPrivateKey,"der"),{type:"dsa",params:w.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=t.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+c)}}return n(v,"parseKeys"),v.signature=t.signature,r0=v,r0}n(_f,"requireParseAsn1");const D8={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var w2;function ON(){if(w2)return Sa.exports;w2=1;var t=Ot().Buffer,e=l8(),r=Rg(),i=Pg().ec,s=P8(),l=_f(),a=D8,v=1;function g(R,T,P,O,j){var B=l(T);if(B.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return h(R,B)}else if(B.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return d(R,B,P)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");if(T.padding!==void 0&&T.padding!==v)throw new Error("illegal or unsupported padding mode");R=t.concat([j,R]);for(var Z=B.modulus.byteLength(),W=[0,1];R.length+W.length+1<Z;)W.push(255);W.push(0);for(var ee=-1;++ee<R.length;)W.push(R[ee]);var $=r(W,B);return $}n(g,"sign$1");function h(R,T){var P=a[T.curve.join(".")];if(!P)throw new Error("unknown curve "+T.curve.join("."));var O=new i(P),j=O.keyFromPrivate(T.privateKey),B=j.sign(R);return t.from(B.toDER())}n(h,"ecSign");function d(R,T,P){for(var O=T.params.priv_key,j=T.params.p,B=T.params.q,Z=T.params.g,W=new s(0),ee,$=b(R,B).mod(B),U=!1,u=y(O,B,R,P);U===!1;)ee=S(B,u,P),W=C(Z,ee,j,B),U=ee.invm(B).imul($.add(O.mul(W))).mod(B),U.cmpn(0)===0&&(U=!1,W=new s(0));return c(W,U)}n(d,"dsaSign");function c(R,T){R=R.toArray(),T=T.toArray(),R[0]&128&&(R=[0].concat(R)),T[0]&128&&(T=[0].concat(T));var P=R.length+T.length+4,O=[48,P,2,R.length];return O=O.concat(R,[2,T.length],T),t.from(O)}n(c,"toDER");function y(R,T,P,O){if(R=t.from(R.toArray()),R.length<T.byteLength()){var j=t.alloc(T.byteLength()-R.length);R=t.concat([j,R])}var B=P.length,Z=w(P,T),W=t.alloc(B);W.fill(1);var ee=t.alloc(B);return ee=e(O,ee).update(W).update(t.from([0])).update(R).update(Z).digest(),W=e(O,ee).update(W).digest(),ee=e(O,ee).update(W).update(t.from([1])).update(R).update(Z).digest(),W=e(O,ee).update(W).digest(),{k:ee,v:W}}n(y,"getKey");function b(R,T){var P=new s(R),O=(R.length<<3)-T.bitLength();return O>0&&P.ishrn(O),P}n(b,"bits2int");function w(R,T){R=b(R,T),R=R.mod(T);var P=t.from(R.toArray());if(P.length<T.byteLength()){var O=t.alloc(T.byteLength()-P.length);P=t.concat([O,P])}return P}n(w,"bits2octets");function S(R,T,P){var O,j;do{for(O=t.alloc(0);O.length*8<R.bitLength();)T.v=e(P,T.k).update(T.v).digest(),O=t.concat([O,T.v]);j=b(O,R),T.k=e(P,T.k).update(T.v).update(t.from([0])).digest(),T.v=e(P,T.k).update(T.v).digest()}while(j.cmp(R)!==-1);return j}n(S,"makeKey");function C(R,T,P,O){return R.toRed(s.mont(P)).redPow(T).fromRed().mod(O)}return n(C,"makeR"),Sa.exports=g,Sa.exports.getKey=y,Sa.exports.makeKey=S,Sa.exports}n(ON,"requireSign");var i0,x2;function jN(){if(x2)return i0;x2=1;var t=Ot().Buffer,e=P8(),r=Pg().ec,i=_f(),s=D8;function l(h,d,c,y,b){var w=i(c);if(w.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return a(h,d,w)}else if(w.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return v(h,d,w)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");d=t.concat([b,d]);for(var S=w.modulus.byteLength(),C=[1],R=0;d.length+C.length+2<S;)C.push(255),R+=1;C.push(0);for(var T=-1;++T<d.length;)C.push(d[T]);C=t.from(C);var P=e.mont(w.modulus);h=new e(h).toRed(P),h=h.redPow(new e(w.publicExponent)),h=t.from(h.fromRed().toArray());var O=R<8?1:0;for(S=Math.min(h.length,C.length),h.length!==C.length&&(O=1),T=-1;++T<S;)O|=h[T]^C[T];return O===0}n(l,"verify");function a(h,d,c){var y=s[c.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+c.data.algorithm.curve.join("."));var b=new r(y),w=c.data.subjectPrivateKey.data;return b.verify(d,h,w)}n(a,"ecVerify");function v(h,d,c){var y=c.data.p,b=c.data.q,w=c.data.g,S=c.data.pub_key,C=i.signature.decode(h,"der"),R=C.s,T=C.r;g(R,b),g(T,b);var P=e.mont(y),O=R.invm(b),j=w.toRed(P).redPow(new e(d).mul(O).mod(b)).fromRed().mul(S.toRed(P).redPow(T.mul(O).mod(b)).fromRed()).mod(y).mod(b);return j.cmp(T)===0}n(v,"dsaVerify");function g(h,d){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(d)>=0)throw new Error("invalid sig")}return n(g,"checkValue"),i0=l,i0}n(jN,"requireVerify");var n0,_2;function LN(){if(_2)return n0;_2=1;var t=Ot().Buffer,e=tl(),r=qk(),i=jt(),s=ON(),l=jN(),a=u8;Object.keys(a).forEach(function(c){a[c].id=t.from(a[c].id,"hex"),a[c.toLowerCase()]=a[c]});function v(c){r.Writable.call(this);var y=a[c];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(v,"Sign"),i(v,r.Writable),v.prototype._write=n(function(y,b,w){this._hash.update(y),w()},"_write"),v.prototype.update=n(function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},"update"),v.prototype.sign=n(function(y,b){this.end();var w=this._hash.digest(),S=s(w,y,this._hashType,this._signType,this._tag);return b?S.toString(b):S},"signMethod");function g(c){r.Writable.call(this);var y=a[c];if(!y)throw new Error("Unknown message digest");this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(g,"Verify"),i(g,r.Writable),g.prototype._write=n(function(y,b,w){this._hash.update(y),w()},"_write"),g.prototype.update=n(function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},"update"),g.prototype.verify=n(function(y,b,w){var S=typeof b=="string"?t.from(b,w):b;this.end();var C=this._hash.digest();return l(S,C,y,this._signType,this._tag)},"verifyMethod");function h(c){return new v(c)}n(h,"createSign");function d(c){return new g(c)}return n(d,"createVerify"),n0={Sign:h,Verify:d,createSign:h,createVerify:d},n0}n(LN,"requireBrowser$3");var s0,M2;function DN(){if(M2)return s0;M2=1;var t=Pg(),e=_r();s0=n(function(a){return new i(a)},"createECDH");var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function i(l){this.curveType=r[l],this.curveType||(this.curveType={name:l}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n(i,"ECDH"),i.prototype.generateKeys=function(l,a){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,a)},i.prototype.computeSecret=function(l,a,v){a=a||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,a));var g=this.curve.keyFromPublic(l).getPublic(),h=g.mul(this.keys.getPrivate()).getX();return s(h,v,this.curveType.byteLength)},i.prototype.getPublicKey=function(l,a){var v=this.keys.getPublic(a==="compressed",!0);return a==="hybrid"&&(v[v.length-1]%2?v[0]=7:v[0]=6),s(v,l)},i.prototype.getPrivateKey=function(l){return s(this.keys.getPrivate(),l)},i.prototype.setPublicKey=function(l,a){return a=a||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,a)),this.keys._importPublic(l),this},i.prototype.setPrivateKey=function(l,a){a=a||"utf8",Buffer.isBuffer(l)||(l=new Buffer(l,a));var v=new e(l);return v=v.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(v),this};function s(l,a,v){Array.isArray(l)||(l=l.toArray());var g=new Buffer(l);if(v&&g.length<v){var h=new Buffer(v-g.length);h.fill(0),g=Buffer.concat([h,g])}return a?g.toString(a):g}return n(s,"formatReturnValue"),s0}n(DN,"requireBrowser$2");var a0={},o0,S2;function B8(){if(S2)return o0;S2=1;var t=tl(),e=Ot().Buffer;o0=n(function(i,s){for(var l=e.alloc(0),a=0,v;l.length<s;)v=r(a++),l=e.concat([l,t("sha1").update(i).update(v).digest()]);return l.slice(0,s)},"mgf");function r(i){var s=e.allocUnsafe(4);return s.writeUInt32BE(i,0),s}return n(r,"i2ops"),o0}n(B8,"requireMgf");var l0,E2;function F8(){return E2||(E2=1,l0=n(function(e,r){for(var i=e.length,s=-1;++s<i;)e[s]^=r[s];return e},"xor")),l0}n(F8,"requireXor");var u0,A2;function U8(){if(A2)return u0;A2=1;var t=_r(),e=Ot().Buffer;function r(i,s){return e.from(i.toRed(t.mont(s.modulus)).redPow(new t(s.publicExponent)).fromRed().toArray())}return n(r,"withPublic"),u0=r,u0}n(U8,"requireWithPublic");var f0,k2;function BN(){if(k2)return f0;k2=1;var t=_f(),e=ha(),r=tl(),i=B8(),s=F8(),l=_r(),a=U8(),v=Rg(),g=Ot().Buffer;f0=n(function(b,w,S){var C;b.padding?C=b.padding:S?C=1:C=4;var R=t(b),T;if(C===4)T=h(R,w);else if(C===1)T=d(R,w,S);else if(C===3){if(T=new l(w),T.cmp(R.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return S?v(T,R):a(T,R)},"publicEncrypt");function h(y,b){var w=y.modulus.byteLength(),S=b.length,C=r("sha1").update(g.alloc(0)).digest(),R=C.length,T=2*R;if(S>w-T-2)throw new Error("message too long");var P=g.alloc(w-S-T-2),O=w-R-1,j=e(R),B=s(g.concat([C,P,g.alloc(1,1),b],O),i(j,O)),Z=s(j,i(B,R));return new l(g.concat([g.alloc(1),Z,B],w))}n(h,"oaep");function d(y,b,w){var S=b.length,C=y.modulus.byteLength();if(S>C-11)throw new Error("message too long");var R;return w?R=g.alloc(C-S-3,255):R=c(C-S-3),new l(g.concat([g.from([0,w?1:2]),R,g.alloc(1),b],C))}n(d,"pkcs1");function c(y){for(var b=g.allocUnsafe(y),w=0,S=e(y*2),C=0,R;w<y;)C===S.length&&(S=e(y*2),C=0),R=S[C++],R&&(b[w++]=R);return b}return n(c,"nonZero"),f0}n(BN,"requirePublicEncrypt");var c0,N2;function FN(){if(N2)return c0;N2=1;var t=_f(),e=B8(),r=F8(),i=_r(),s=Rg(),l=tl(),a=U8(),v=Ot().Buffer;c0=n(function(y,b,w){var S;y.padding?S=y.padding:w?S=1:S=4;var C=t(y),R=C.modulus.byteLength();if(b.length>R||new i(b).cmp(C.modulus)>=0)throw new Error("decryption error");var T;w?T=a(new i(b),C):T=s(b,C);var P=v.alloc(R-T.length);if(T=v.concat([P,T],R),S===4)return g(C,T);if(S===1)return h(C,T,w);if(S===3)return T;throw new Error("unknown padding")},"privateDecrypt");function g(c,y){var b=c.modulus.byteLength(),w=l("sha1").update(v.alloc(0)).digest(),S=w.length;if(y[0]!==0)throw new Error("decryption error");var C=y.slice(1,S+1),R=y.slice(S+1),T=r(C,e(R,S)),P=r(R,e(T,b-S-1));if(d(w,P.slice(0,S)))throw new Error("decryption error");for(var O=S;P[O]===0;)O++;if(P[O++]!==1)throw new Error("decryption error");return P.slice(O)}n(g,"oaep");function h(c,y,b){for(var w=y.slice(0,2),S=2,C=0;y[S++]!==0;)if(S>=y.length){C++;break}var R=y.slice(2,S-1);if((w.toString("hex")!=="0002"&&!b||w.toString("hex")!=="0001"&&b)&&C++,R.length<8&&C++,C)throw new Error("decryption error");return y.slice(S)}n(h,"pkcs1");function d(c,y){c=v.from(c),y=v.from(y);var b=0,w=c.length;c.length!==y.length&&(b++,w=Math.min(c.length,y.length));for(var S=-1;++S<w;)b+=c[S]^y[S];return b}return n(d,"compare"),c0}n(FN,"requirePrivateDecrypt");var C2;function UN(){return C2||(C2=1,(function(t){t.publicEncrypt=BN(),t.privateDecrypt=FN(),t.privateEncrypt=n(function(r,i){return t.publicEncrypt(r,i,!0)},"privateEncrypt"),t.publicDecrypt=n(function(r,i){return t.privateDecrypt(r,i,!0)},"publicDecrypt")})(a0)),a0}n(UN,"requireBrowser$1");var Cl={},R2;function zN(){if(R2)return Cl;R2=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}n(t,"oldBrowser");var e=Ot();ha();var r=e.Buffer,i=e.kMaxLength,s=globalThis.crypto||globalThis.msCrypto,l=Math.pow(2,32)-1;function a(c,y){if(typeof c!="number"||c!==c)throw new TypeError("offset must be a number");if(c>l||c<0)throw new TypeError("offset must be a uint32");if(c>i||c>y)throw new RangeError("offset out of range")}n(a,"assertOffset");function v(c,y,b){if(typeof c!="number"||c!==c)throw new TypeError("size must be a number");if(c>l||c<0)throw new TypeError("size must be a uint32");if(c+y>b||c>i)throw new RangeError("buffer too small")}n(v,"assertSize"),s&&s.getRandomValues?(ig.randomFill=g,ig.randomFillSync=d):(Cl.randomFill=t,Cl.randomFillSync=t);function g(c,y,b,w){if(!r.isBuffer(c)&&!(c instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")w=y,y=0,b=c.length;else if(typeof b=="function")w=b,b=c.length-y;else if(typeof w!="function")throw new TypeError('"cb" argument must be a function');return a(y,c.length),v(b,y,c.length),h(c,y,b,w)}n(g,"randomFill");function h(c,y,b,w){{var S=c.buffer,C=new Uint8Array(S,y,b);if(s.getRandomValues(C),w){process.nextTick(function(){w(null,c)});return}return c}}n(h,"actualFill");function d(c,y,b){if(typeof y>"u"&&(y=0),!r.isBuffer(c)&&!(c instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return a(y,c.length),b===void 0&&(b=c.length-y),v(b,y,c.length),h(c,y,b)}return n(d,"randomFillSync"),Cl}n(zN,"requireBrowser");var I2;function $N(){if(I2)return Rt;I2=1,Rt.randomBytes=Rt.rng=Rt.pseudoRandomBytes=Rt.prng=ha(),Rt.createHash=Rt.Hash=tl(),Rt.createHmac=Rt.Hmac=l8();var t=dk(),e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Rt.getHashes=function(){return r};var i=p8();Rt.pbkdf2=i.pbkdf2,Rt.pbkdf2Sync=i.pbkdf2Sync;var s=Lk();Rt.Cipher=s.Cipher,Rt.createCipher=s.createCipher,Rt.Cipheriv=s.Cipheriv,Rt.createCipheriv=s.createCipheriv,Rt.Decipher=s.Decipher,Rt.createDecipher=s.createDecipher,Rt.Decipheriv=s.Decipheriv,Rt.createDecipheriv=s.createDecipheriv,Rt.getCiphers=s.getCiphers,Rt.listCiphers=s.listCiphers;var l=Kk();Rt.DiffieHellmanGroup=l.DiffieHellmanGroup,Rt.createDiffieHellmanGroup=l.createDiffieHellmanGroup,Rt.getDiffieHellman=l.getDiffieHellman,Rt.createDiffieHellman=l.createDiffieHellman,Rt.DiffieHellman=l.DiffieHellman;var a=LN();Rt.createSign=a.createSign,Rt.Sign=a.Sign,Rt.createVerify=a.createVerify,Rt.Verify=a.Verify,Rt.createECDH=DN();var v=UN();Rt.publicEncrypt=v.publicEncrypt,Rt.privateEncrypt=v.privateEncrypt,Rt.publicDecrypt=v.publicDecrypt,Rt.privateDecrypt=v.privateDecrypt;var g=zN();return Rt.randomFill=g.randomFill,Rt.randomFillSync=g.randomFillSync,Rt.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},Rt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Rt}n($N,"requireCryptoBrowserify");var HN=$N();const T2=Ko(HN);var ln={},ZN=Object.create,{getPrototypeOf:VN,defineProperty:mo,getOwnPropertyNames:z8,getOwnPropertyDescriptor:GN}=Object,$8=Object.prototype.hasOwnProperty,Xr=n((t,e,r)=>{r=t!=null?ZN(VN(t)):{};let i=e||!t||!t.__esModule?mo(r,"default",{value:t,enumerable:!0}):r;for(let s of z8(t))$8.call(i,s)||mo(i,s,{get:n(()=>t[s],"get"),enumerable:!0});return i},"K6"),P2=new WeakMap,$t=n(t=>{var e=P2.get(t),r;return e||(e=mo({},"__esModule",{value:!0}),(t&&typeof t=="object"||typeof t=="function")&&z8(t).map(i=>!$8.call(e,i)&&mo(e,i,{get:n(()=>t[i],"get"),enumerable:!(r=GN(t,i))||r.enumerable})),P2.set(t,e),e)},"M$"),tt=n((t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),"bq"),$n=n((t,e)=>{for(var r in e)mo(t,r,{get:e[r],enumerable:!0,configurable:!0,set:n(i=>e[r]=()=>i,"set")})},"yK"),al=n((t,e)=>()=>(t&&(e=t(t=0)),e),"T7"),h0=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:n((e,r)=>(typeof require<"u"?require:e)[r],"get")}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),WN=tt((t,e)=>{function r(i,s){typeof s=="boolean"&&(s={forever:s}),this._originalTimeouts=JSON.parse(JSON.stringify(i)),this._timeouts=i,this._options=s||{},this._maxRetryTime=s&&s.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}n(r,"H6"),e.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(i){if(this._timeout&&clearTimeout(this._timeout),!i)return!1;var s=new Date().getTime();if(i&&s-this._operationStart>=this._maxRetryTime)return this._errors.push(i),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(i);var l=this._timeouts.shift();if(l===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),l=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},l),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(i,s){this._fn=i,s&&(s.timeout&&(this._operationTimeout=s.timeout),s.cb&&(this._operationTimeoutCb=s.cb));var l=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){l._operationTimeoutCb()},l._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(i){console.log("Using RetryOperation.try() is deprecated"),this.attempt(i)},r.prototype.start=function(i){console.log("Using RetryOperation.start() is deprecated"),this.attempt(i)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var i={},s=null,l=0,a=0;a<this._errors.length;a++){var v=this._errors[a],g=v.message,h=(i[g]||0)+1;i[g]=h,h>=l&&(s=v,l=h)}return s}}),KN=tt(t=>{var e=WN();t.operation=function(r){var i=t.timeouts(r);return new e(i,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var i={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var s in r)i[s]=r[s];if(i.minTimeout>i.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var l=[],a=0;a<i.retries;a++)l.push(this.createTimeout(a,i));return r&&r.forever&&!l.length&&l.push(this.createTimeout(a,i)),l.sort(function(v,g){return v-g}),l},t.createTimeout=function(r,i){var s=i.randomize?Math.random()+1:1,l=Math.round(s*Math.max(i.minTimeout,1)*Math.pow(i.factor,r));return l=Math.min(l,i.maxTimeout),l},t.wrap=function(r,i,s){if(i instanceof Array&&(s=i,i=null),!s){s=[];for(var l in r)typeof r[l]=="function"&&s.push(l)}for(var a=0;a<s.length;a++){var v=s[a],g=r[v];r[v]=function(h){var d=t.operation(i),c=Array.prototype.slice.call(arguments,1),y=c.pop();c.push(function(b){d.retry(b)||(b&&(arguments[0]=d.mainError()),y.apply(this,arguments))}),d.attempt(function(){h.apply(r,c)})}.bind(r,g),r[v].options=i}}}),Og=tt((t,e)=>{var r=KN(),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class s extends Error{static{n(this,"Z5")}constructor(h){super(),h instanceof Error?(this.originalError=h,{message:h}=h):(this.originalError=Error(h),this.originalError.stack=this.stack),this.name="AbortError",this.message=h}}var l=n((g,h,d)=>{let c=d.retries-(h-1);return g.attemptNumber=h,g.retriesLeft=c,g},"Ik"),a=n(g=>i.includes(g),"Lk"),v=n((g,h)=>new Promise((d,c)=>{h={onFailedAttempt:n(()=>{},"onFailedAttempt"),retries:10,...h};let y=r.operation(h);y.attempt(async b=>{try{d(await g(b))}catch(w){if(!(w instanceof Error)){c(TypeError(`Non-error was thrown: "${w}". You should only throw errors.`));return}if(w instanceof s)y.stop(),c(w.originalError);else if(w instanceof TypeError&&!a(w.message))y.stop(),c(w);else{l(w,b,h);try{await h.onFailedAttempt(w)}catch(S){c(S);return}y.retry(w)||c(y.mainError())}}})}),"Lj");e.exports=v,e.exports.default=v,e.exports.AbortError=s}),YN=tt((t,e)=>{var r=Object.prototype.hasOwnProperty,i="~";function s(){}n(s,"h7"),Object.create&&(s.prototype=Object.create(null),!new s().__proto__&&(i=!1));function l(h,d,c){this.fn=h,this.context=d,this.once=c||!1}n(l,"wG");function a(h,d,c,y,b){if(typeof c!="function")throw TypeError("The listener must be a function");var w=new l(c,y||h,b),S=i?i+d:d;return h._events[S]?h._events[S].fn?h._events[S]=[h._events[S],w]:h._events[S].push(w):(h._events[S]=w,h._eventsCount++),h}n(a,"bO");function v(h,d){--h._eventsCount===0?h._events=new s:delete h._events[d]}n(v,"X9");function g(){this._events=new s,this._eventsCount=0}n(g,"g8"),g.prototype.eventNames=function(){var h=[],d,c;if(this._eventsCount===0)return h;for(c in d=this._events)r.call(d,c)&&h.push(i?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},g.prototype.listeners=function(h){var d=i?i+h:h,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var y=0,b=c.length,w=Array(b);y<b;y++)w[y]=c[y].fn;return w},g.prototype.listenerCount=function(h){var d=i?i+h:h,c=this._events[d];return c?c.fn?1:c.length:0},g.prototype.emit=function(h,d,c,y,b,w){var S=i?i+h:h;if(!this._events[S])return!1;var C=this._events[S],R=arguments.length,T,P;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,d),!0;case 3:return C.fn.call(C.context,d,c),!0;case 4:return C.fn.call(C.context,d,c,y),!0;case 5:return C.fn.call(C.context,d,c,y,b),!0;case 6:return C.fn.call(C.context,d,c,y,b,w),!0}for(P=1,T=Array(R-1);P<R;P++)T[P-1]=arguments[P];C.fn.apply(C.context,T)}else{var O=C.length,j;for(P=0;P<O;P++)switch(C[P].once&&this.removeListener(h,C[P].fn,void 0,!0),R){case 1:C[P].fn.call(C[P].context);break;case 2:C[P].fn.call(C[P].context,d);break;case 3:C[P].fn.call(C[P].context,d,c);break;case 4:C[P].fn.call(C[P].context,d,c,y);break;default:if(!T)for(j=1,T=Array(R-1);j<R;j++)T[j-1]=arguments[j];C[P].fn.apply(C[P].context,T)}}return!0},g.prototype.on=function(h,d,c){return a(this,h,d,c,!1)},g.prototype.once=function(h,d,c){return a(this,h,d,c,!0)},g.prototype.removeListener=function(h,d,c,y){var b=i?i+h:h;if(!this._events[b])return this;if(!d)return v(this,b),this;var w=this._events[b];if(w.fn)w.fn===d&&(!y||w.once)&&(!c||w.context===c)&&v(this,b);else{for(var S=0,C=[],R=w.length;S<R;S++)(w[S].fn!==d||y&&!w[S].once||c&&w[S].context!==c)&&C.push(w[S]);C.length?this._events[b]=C.length===1?C[0]:C:v(this,b)}return this},g.prototype.removeAllListeners=function(h){var d;return h?(d=i?i+h:h,this._events[d]&&v(this,d)):(this._events=new s,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=i,g.EventEmitter=g,typeof e<"u"&&(e.exports=g)}),XN=tt((t,e)=>{e.exports=(r,i)=>(i=i||(()=>{}),r.then(s=>new Promise(l=>{l(i())}).then(()=>s),s=>new Promise(l=>{l(i())}).then(()=>{throw s})))}),QN=tt((t,e)=>{var r=XN();class i extends Error{static{n(this,"o5")}constructor(a){super(a),this.name="TimeoutError"}}var s=n((l,a,v)=>new Promise((g,h)=>{if(typeof a!="number"||a<0)throw TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){g(l);return}let d=setTimeout(()=>{if(typeof v=="function"){try{g(v())}catch(b){h(b)}return}let c=typeof v=="string"?v:`Promise timed out after ${a} milliseconds`,y=v instanceof Error?v:new i(c);typeof l.cancel=="function"&&l.cancel(),h(y)},a);r(l.then(g,h),()=>{clearTimeout(d)})}),"xO");e.exports=s,e.exports.default=s,e.exports.TimeoutError=i}),JN=tt(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(r,i,s){let l=0,a=r.length;for(;a>0;){let v=a/2|0,g=l+v;s(r[g],i)<=0?(l=++g,a-=v+1):a=v}return l}n(e,"XG"),t.default=e}),qN=tt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=JN();class r{static{n(this,"lO")}constructor(){this._queue=[]}enqueue(s,l){l=Object.assign({priority:0},l);let a={priority:l.priority,run:s};if(this.size&&this._queue[this.size-1].priority>=l.priority){this._queue.push(a);return}let v=e.default(this._queue,a,(g,h)=>h.priority-g.priority);this._queue.splice(v,0,a)}dequeue(){let s=this._queue.shift();return s?.run}filter(s){return this._queue.filter(l=>l.priority===s.priority).map(l=>l.run)}get size(){return this._queue.length}}t.default=r}),jg=tt(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=YN(),r=QN(),i=qN(),s=n(()=>{},"A9"),l=new r.TimeoutError;class a extends e{static{n(this,"rO")}constructor(g){var h,d,c,y;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,g=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},g),!(typeof g.intervalCap=="number"&&g.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(d=(h=g.intervalCap)===null||h===void 0?void 0:h.toString())!==null&&d!==void 0?d:""}\` (${typeof g.intervalCap})`);if(g.interval===void 0||!(Number.isFinite(g.interval)&&g.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(y=(c=g.interval)===null||c===void 0?void 0:c.toString())!==null&&y!==void 0?y:""}\` (${typeof g.interval})`);this._carryoverConcurrencyCount=g.carryoverConcurrencyCount,this._isIntervalIgnored=g.intervalCap===1/0||g.interval===0,this._intervalCap=g.intervalCap,this._interval=g.interval,this._queue=new g.queueClass,this._queueClass=g.queueClass,this.concurrency=g.concurrency,this._timeout=g.timeout,this._throwOnTimeout=g.throwOnTimeout===!0,this._isPaused=g.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let g=Date.now();if(this._intervalId===void 0){let h=this._intervalEnd-g;if(h<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},h)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let g=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let h=this._queue.dequeue();return h?(this.emit("active"),h(),g&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(g){if(!(typeof g=="number"&&g>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${g}\` (${typeof g})`);this._concurrency=g,this._processQueue()}async add(g,h={}){return new Promise((d,c)=>{let y=n(async()=>{this._pendingCount++,this._intervalCount++;try{let b=this._timeout===void 0&&h.timeout===void 0?g():r.default(Promise.resolve(g()),h.timeout===void 0?this._timeout:h.timeout,()=>{(h.throwOnTimeout===void 0?this._throwOnTimeout:h.throwOnTimeout)&&c(l)});d(await b)}catch(b){c(b)}this._next()},"P");this._queue.enqueue(y,h),this._tryToStartAnother(),this.emit("add")})}async addAll(g,h){return Promise.all(g.map(async d=>this.add(d,h)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(g=>{let h=this._resolveEmpty;this._resolveEmpty=()=>{h(),g()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(g=>{let h=this._resolveIdle;this._resolveIdle=()=>{h(),g()}})}get size(){return this._queue.size}sizeBy(g){return this._queue.filter(g).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(g){this._timeout=g}}t.default=a}),Mf=tt((t,e)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:i,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Sf=tt((t,e)=>{var r=typeof process=="object"&&ln&&ln.NODE_DEBUG&&/\bsemver\b/i.test(ln.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};e.exports=r}),ol=tt((t,e)=>{var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=Mf(),l=Sf();t=e.exports={};var a=t.re=[],v=t.safeRe=[],g=t.src=[],h=t.safeSrc=[],d=t.t={},c=0,y="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",s],[y,i]],w=n(C=>{for(let[R,T]of b)C=C.split(`${R}*`).join(`${R}{0,${T}}`).split(`${R}+`).join(`${R}{1,${T}}`);return C},"xG"),S=n((C,R,T)=>{let P=w(R),O=c++;l(C,O,R),d[C]=O,g[O]=R,h[O]=P,a[O]=new RegExp(R,T?"g":void 0),v[O]=new RegExp(P,T?"g":void 0)},"H$");S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),S("MAINVERSION",`(${g[d.NUMERICIDENTIFIER]})\\.(${g[d.NUMERICIDENTIFIER]})\\.(${g[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${g[d.NUMERICIDENTIFIERLOOSE]})\\.(${g[d.NUMERICIDENTIFIERLOOSE]})\\.(${g[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${g[d.NONNUMERICIDENTIFIER]}|${g[d.NUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${g[d.NONNUMERICIDENTIFIER]}|${g[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASE",`(?:-(${g[d.PRERELEASEIDENTIFIER]}(?:\\.${g[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${g[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${y}+`),S("BUILD",`(?:\\+(${g[d.BUILDIDENTIFIER]}(?:\\.${g[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${g[d.MAINVERSION]}${g[d.PRERELEASE]}?${g[d.BUILD]}?`),S("FULL",`^${g[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${g[d.MAINVERSIONLOOSE]}${g[d.PRERELEASELOOSE]}?${g[d.BUILD]}?`),S("LOOSE",`^${g[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${g[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${g[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${g[d.XRANGEIDENTIFIER]})(?:\\.(${g[d.XRANGEIDENTIFIER]})(?:\\.(${g[d.XRANGEIDENTIFIER]})(?:${g[d.PRERELEASE]})?${g[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${g[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[d.XRANGEIDENTIFIERLOOSE]})(?:${g[d.PRERELEASELOOSE]})?${g[d.BUILD]}?)?)?`),S("XRANGE",`^${g[d.GTLT]}\\s*${g[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${g[d.GTLT]}\\s*${g[d.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${g[d.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",g[d.COERCEPLAIN]+`(?:${g[d.PRERELEASE]})?(?:${g[d.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",g[d.COERCE],!0),S("COERCERTLFULL",g[d.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${g[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",S("TILDE",`^${g[d.LONETILDE]}${g[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${g[d.LONETILDE]}${g[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${g[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",S("CARET",`^${g[d.LONECARET]}${g[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${g[d.LONECARET]}${g[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${g[d.GTLT]}\\s*(${g[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${g[d.GTLT]}\\s*(${g[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${g[d.GTLT]}\\s*(${g[d.LOOSEPLAIN]}|${g[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${g[d.XRANGEPLAIN]})\\s+-\\s+(${g[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${g[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),Lg=tt((t,e)=>{var r=Object.freeze({loose:!0}),i=Object.freeze({}),s=n(l=>l?typeof l!="object"?r:l:i,"cG");e.exports=s}),H8=tt((t,e)=>{var r=/^[0-9]+$/,i=n((l,a)=>{let v=r.test(l),g=r.test(a);return v&&g&&(l=+l,a=+a),l===a?0:v&&!g?-1:g&&!v?1:l<a?-1:1},"sO"),s=n((l,a)=>i(a,l),"lG");e.exports={compareIdentifiers:i,rcompareIdentifiers:s}}),Ir=tt((t,e)=>{var r=Sf(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=Mf(),{safeRe:l,t:a}=ol(),v=Lg(),{compareIdentifiers:g}=H8();class h{static{n(this,"E6")}constructor(c,y){if(y=v(y),c instanceof h){if(c.loose===!!y.loose&&c.includePrerelease===!!y.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>i)throw TypeError(`version is longer than ${i} characters`);r("SemVer",c,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;let b=c.trim().match(y.loose?l[a.LOOSE]:l[a.FULL]);if(!b)throw TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+b[1],this.minor=+b[2],this.patch=+b[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");b[4]?this.prerelease=b[4].split(".").map(w=>{if(/^[0-9]+$/.test(w)){let S=+w;if(S>=0&&S<s)return S}return w}):this.prerelease=[],this.build=b[5]?b[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(r("SemVer.compare",this.version,this.options,c),!(c instanceof h)){if(typeof c=="string"&&c===this.version)return 0;c=new h(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof h||(c=new h(c,this.options)),g(this.major,c.major)||g(this.minor,c.minor)||g(this.patch,c.patch)}comparePre(c){if(c instanceof h||(c=new h(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let y=0;do{let b=this.prerelease[y],w=c.prerelease[y];if(r("prerelease compare",y,b,w),b===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(b===void 0)return-1;if(b===w)continue;return g(b,w)}while(++y)}compareBuild(c){c instanceof h||(c=new h(c,this.options));let y=0;do{let b=this.build[y],w=c.build[y];if(r("build compare",y,b,w),b===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(b===void 0)return-1;if(b===w)continue;return g(b,w)}while(++y)}inc(c,y,b){if(c.startsWith("pre")){if(!y&&b===!1)throw Error("invalid increment argument: identifier is empty");if(y){let w=`-${y}`.match(this.options.loose?l[a.PRERELEASELOOSE]:l[a.PRERELEASE]);if(!w||w[1]!==y)throw Error(`invalid identifier: ${y}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,b),this.inc("pre",y,b);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,b),this.inc("pre",y,b);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let w=Number(b)?1:0;if(this.prerelease.length===0)this.prerelease=[w];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(y===this.prerelease.join(".")&&b===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(w)}}if(y){let S=[y,w];b===!1&&(S=[y]),g(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=h}),pa=tt((t,e)=>{var r=Ir(),i=n((s,l,a=!1)=>{if(s instanceof r)return s;try{return new r(s,l)}catch(v){if(!a)return null;throw v}},"oG");e.exports=i}),eC=tt((t,e)=>{var r=pa(),i=n((s,l)=>{let a=r(s,l);return a?a.version:null},"rG");e.exports=i}),tC=tt((t,e)=>{var r=pa(),i=n((s,l)=>{let a=r(s.trim().replace(/^[=v]+/,""),l);return a?a.version:null},"iG");e.exports=i}),rC=tt((t,e)=>{var r=Ir(),i=n((s,l,a,v,g)=>{typeof a=="string"&&(g=v,v=a,a=void 0);try{return new r(s instanceof r?s.version:s,a).inc(l,v,g).version}catch{return null}},"UG");e.exports=i}),iC=tt((t,e)=>{var r=pa(),i=n((s,l)=>{let a=r(s,null,!0),v=r(l,null,!0),g=a.compare(v);if(g===0)return null;let h=g>0,d=h?a:v,c=h?v:a,y=!!d.prerelease.length;if(c.prerelease.length&&!y){if(!c.patch&&!c.minor)return"major";if(c.compareMain(d)===0)return c.minor&&!c.patch?"minor":"patch"}let b=y?"pre":"";return a.major!==v.major?b+"major":a.minor!==v.minor?b+"minor":a.patch!==v.patch?b+"patch":"prerelease"},"FG");e.exports=i}),nC=tt((t,e)=>{var r=Ir(),i=n((s,l)=>new r(s,l).major,"QG");e.exports=i}),sC=tt((t,e)=>{var r=Ir(),i=n((s,l)=>new r(s,l).minor,"eG");e.exports=i}),aC=tt((t,e)=>{var r=Ir(),i=n((s,l)=>new r(s,l).patch,"qZ");e.exports=i}),oC=tt((t,e)=>{var r=pa(),i=n((s,l)=>{let a=r(s,l);return a&&a.prerelease.length?a.prerelease:null},"KZ");e.exports=i}),_i=tt((t,e)=>{var r=Ir(),i=n((s,l,a)=>new r(s,a).compare(new r(l,a)),"_Z");e.exports=i}),lC=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(l,s,a),"YZ");e.exports=i}),uC=tt((t,e)=>{var r=_i(),i=n((s,l)=>r(s,l,!0),"OZ");e.exports=i}),Dg=tt((t,e)=>{var r=Ir(),i=n((s,l,a)=>{let v=new r(s,a),g=new r(l,a);return v.compare(g)||v.compareBuild(g)},"WZ");e.exports=i}),fC=tt((t,e)=>{var r=Dg(),i=n((s,l)=>s.sort((a,v)=>r(a,v,l)),"zZ");e.exports=i}),cC=tt((t,e)=>{var r=Dg(),i=n((s,l)=>s.sort((a,v)=>r(v,a,l)),"vZ");e.exports=i}),Ef=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)>0,"TZ");e.exports=i}),Bg=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)<0,"fZ");e.exports=i}),Z8=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)===0,"kZ");e.exports=i}),V8=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)!==0,"ZZ");e.exports=i}),Fg=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)>=0,"MZ");e.exports=i}),Ug=tt((t,e)=>{var r=_i(),i=n((s,l,a)=>r(s,l,a)<=0,"CZ");e.exports=i}),G8=tt((t,e)=>{var r=Z8(),i=V8(),s=Ef(),l=Fg(),a=Bg(),v=Ug(),g=n((h,d,c,y)=>{switch(d){case"===":return typeof h=="object"&&(h=h.version),typeof c=="object"&&(c=c.version),h===c;case"!==":return typeof h=="object"&&(h=h.version),typeof c=="object"&&(c=c.version),h!==c;case"":case"=":case"==":return r(h,c,y);case"!=":return i(h,c,y);case">":return s(h,c,y);case">=":return l(h,c,y);case"<":return a(h,c,y);case"<=":return v(h,c,y);default:throw TypeError(`Invalid operator: ${d}`)}},"LZ");e.exports=g}),hC=tt((t,e)=>{var r=Ir(),i=pa(),{safeRe:s,t:l}=ol(),a=n((v,g)=>{if(v instanceof r)return v;if(typeof v=="number"&&(v=String(v)),typeof v!="string")return null;g=g||{};let h=null;if(!g.rtl)h=v.match(g.includePrerelease?s[l.COERCEFULL]:s[l.COERCE]);else{let S=g.includePrerelease?s[l.COERCERTLFULL]:s[l.COERCERTL],C;for(;(C=S.exec(v))&&(!h||h.index+h[0].length!==v.length);)(!h||C.index+C[0].length!==h.index+h[0].length)&&(h=C),S.lastIndex=C.index+C[1].length+C[2].length;S.lastIndex=-1}if(h===null)return null;let d=h[2],c=h[3]||"0",y=h[4]||"0",b=g.includePrerelease&&h[5]?`-${h[5]}`:"",w=g.includePrerelease&&h[6]?`+${h[6]}`:"";return i(`${d}.${c}.${y}${b}${w}`,g)},"yZ");e.exports=a}),dC=tt((t,e)=>{class r{static{n(this,"rW")}constructor(){this.max=1e3,this.map=new Map}get(s){let l=this.map.get(s);if(l!==void 0)return this.map.delete(s),this.map.set(s,l),l}delete(s){return this.map.delete(s)}set(s,l){if(!this.delete(s)&&l!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(s,l)}return this}}e.exports=r}),Mi=tt((t,e)=>{var r=/\s+/g;class i{static{n(this,"b7")}constructor(A,k){if(k=a(k),A instanceof i)return A.loose===!!k.loose&&A.includePrerelease===!!k.includePrerelease?A:new i(A.raw,k);if(A instanceof v)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=k,this.loose=!!k.loose,this.includePrerelease=!!k.includePrerelease,this.raw=A.trim().replace(r," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let M=this.set[0];if(this.set=this.set.filter(f=>!R(f[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(let f of this.set)if(f.length===1&&T(f[0])){this.set=[f];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){A>0&&(this.formatted+="||");let k=this.set[A];for(let M=0;M<k.length;M++)M>0&&(this.formatted+=" "),this.formatted+=k[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){let k=((this.options.includePrerelease&&S)|(this.options.loose&&C))+":"+A,M=l.get(k);if(M)return M;let f=this.options.loose,_=f?d[c.HYPHENRANGELOOSE]:d[c.HYPHENRANGE];A=A.replace(_,o(this.options.includePrerelease)),g("hyphen replace",A),A=A.replace(d[c.COMPARATORTRIM],y),g("comparator trim",A),A=A.replace(d[c.TILDETRIM],b),g("tilde trim",A),A=A.replace(d[c.CARETTRIM],w),g("caret trim",A);let E=A.split(" ").map(F=>O(F,this.options)).join(" ").split(/\s+/).map(F=>m(F,this.options));f&&(E=E.filter(F=>(g("loose invalid filter",F,this.options),!!F.match(d[c.COMPARATORLOOSE])))),g("range list",E);let I=new Map,L=E.map(F=>new v(F,this.options));for(let F of L){if(R(F))return[F];I.set(F.value,F)}I.size>1&&I.has("")&&I.delete("");let D=[...I.values()];return l.set(k,D),D}intersects(A,k){if(!(A instanceof i))throw TypeError("a Range is required");return this.set.some(M=>P(M,k)&&A.set.some(f=>P(f,k)&&M.every(_=>f.every(E=>_.intersects(E,k)))))}test(A){if(!A)return!1;if(typeof A=="string")try{A=new h(A,this.options)}catch{return!1}for(let k=0;k<this.set.length;k++)if(p(this.set[k],A,this.options))return!0;return!1}}e.exports=i;var s=dC(),l=new s,a=Lg(),v=Af(),g=Sf(),h=Ir(),{safeRe:d,t:c,comparatorTrimReplace:y,tildeTrimReplace:b,caretTrimReplace:w}=ol(),{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:C}=Mf(),R=n(x=>x.value==="<0.0.0-0","FW"),T=n(x=>x.value==="","rZ"),P=n((x,A)=>{let k=!0,M=x.slice(),f=M.pop();for(;k&&M.length;)k=M.every(_=>f.intersects(_,A)),f=M.pop();return k},"tW"),O=n((x,A)=>(g("comp",x,A),x=W(x,A),g("caret",x),x=B(x,A),g("tildes",x),x=$(x,A),g("xrange",x),x=u(x,A),g("stars",x),x),"BZ"),j=n(x=>!x||x.toLowerCase()==="x"||x==="*","m8"),B=n((x,A)=>x.trim().split(/\s+/).map(k=>Z(k,A)).join(" "),"iZ"),Z=n((x,A)=>{let k=A.loose?d[c.TILDELOOSE]:d[c.TILDE];return x.replace(k,(M,f,_,E,I)=>{g("tilde",x,M,f,_,E,I);let L;return j(f)?L="":j(_)?L=`>=${f}.0.0 <${+f+1}.0.0-0`:j(E)?L=`>=${f}.${_}.0 <${f}.${+_+1}.0-0`:I?(g("replaceTilde pr",I),L=`>=${f}.${_}.${E}-${I} <${f}.${+_+1}.0-0`):L=`>=${f}.${_}.${E} <${f}.${+_+1}.0-0`,g("tilde return",L),L})},"UZ"),W=n((x,A)=>x.trim().split(/\s+/).map(k=>ee(k,A)).join(" "),"FZ"),ee=n((x,A)=>{g("caret",x,A);let k=A.loose?d[c.CARETLOOSE]:d[c.CARET],M=A.includePrerelease?"-0":"";return x.replace(k,(f,_,E,I,L)=>{g("caret",x,f,_,E,I,L);let D;return j(_)?D="":j(E)?D=`>=${_}.0.0${M} <${+_+1}.0.0-0`:j(I)?_==="0"?D=`>=${_}.${E}.0${M} <${_}.${+E+1}.0-0`:D=`>=${_}.${E}.0${M} <${+_+1}.0.0-0`:L?(g("replaceCaret pr",L),_==="0"?E==="0"?D=`>=${_}.${E}.${I}-${L} <${_}.${E}.${+I+1}-0`:D=`>=${_}.${E}.${I}-${L} <${_}.${+E+1}.0-0`:D=`>=${_}.${E}.${I}-${L} <${+_+1}.0.0-0`):(g("no pr"),_==="0"?E==="0"?D=`>=${_}.${E}.${I}${M} <${_}.${E}.${+I+1}-0`:D=`>=${_}.${E}.${I}${M} <${_}.${+E+1}.0-0`:D=`>=${_}.${E}.${I} <${+_+1}.0.0-0`),g("caret return",D),D})},"tZ"),$=n((x,A)=>(g("replaceXRanges",x,A),x.split(/\s+/).map(k=>U(k,A)).join(" ")),"QZ"),U=n((x,A)=>{x=x.trim();let k=A.loose?d[c.XRANGELOOSE]:d[c.XRANGE];return x.replace(k,(M,f,_,E,I,L)=>{g("xRange",x,M,f,_,E,I,L);let D=j(_),F=D||j(E),z=F||j(I),H=z;return f==="="&&H&&(f=""),L=A.includePrerelease?"-0":"",D?f===">"||f==="<"?M="<0.0.0-0":M="*":f&&H?(F&&(E=0),I=0,f===">"?(f=">=",F?(_=+_+1,E=0,I=0):(E=+E+1,I=0)):f==="<="&&(f="<",F?_=+_+1:E=+E+1),f==="<"&&(L="-0"),M=`${f+_}.${E}.${I}${L}`):F?M=`>=${_}.0.0${L} <${+_+1}.0.0-0`:z&&(M=`>=${_}.${E}.0${L} <${_}.${+E+1}.0-0`),g("xRange return",M),M})},"aZ"),u=n((x,A)=>(g("replaceStars",x,A),x.trim().replace(d[c.STAR],"")),"eZ"),m=n((x,A)=>(g("replaceGTE0",x,A),x.trim().replace(d[A.includePrerelease?c.GTE0PRE:c.GTE0],"")),"sZ"),o=n(x=>(A,k,M,f,_,E,I,L,D,F,z,H)=>(j(M)?k="":j(f)?k=`>=${M}.0.0${x?"-0":""}`:j(_)?k=`>=${M}.${f}.0${x?"-0":""}`:E?k=`>=${k}`:k=`>=${k}${x?"-0":""}`,j(D)?L="":j(F)?L=`<${+D+1}.0.0-0`:j(z)?L=`<${D}.${+F+1}.0-0`:H?L=`<=${D}.${F}.${z}-${H}`:x?L=`<${D}.${F}.${+z+1}-0`:L=`<=${L}`,`${k} ${L}`.trim()),"qV"),p=n((x,A,k)=>{for(let M=0;M<x.length;M++)if(!x[M].test(A))return!1;if(A.prerelease.length&&!k.includePrerelease){for(let M=0;M<x.length;M++)if(g(x[M].semver),x[M].semver!==v.ANY&&x[M].semver.prerelease.length>0){let f=x[M].semver;if(f.major===A.major&&f.minor===A.minor&&f.patch===A.patch)return!0}return!1}return!0},"$V")}),Af=tt((t,e)=>{var r=Symbol("SemVer ANY");class i{static{n(this,"g9")}static get ANY(){return r}constructor(y,b){if(b=s(b),y instanceof i){if(y.loose===!!b.loose)return y;y=y.value}y=y.trim().split(/\s+/).join(" "),g("comparator",y,b),this.options=b,this.loose=!!b.loose,this.parse(y),this.semver===r?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}parse(y){let b=this.options.loose?l[a.COMPARATORLOOSE]:l[a.COMPARATOR],w=y.match(b);if(!w)throw TypeError(`Invalid comparator: ${y}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new h(w[2],this.options.loose):this.semver=r}toString(){return this.value}test(y){if(g("Comparator.test",y,this.options.loose),this.semver===r||y===r)return!0;if(typeof y=="string")try{y=new h(y,this.options)}catch{return!1}return v(y,this.operator,this.semver,this.options)}intersects(y,b){if(!(y instanceof i))throw TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(y.value,b).test(this.value):y.operator===""?y.value===""?!0:new d(this.value,b).test(y.semver):(b=s(b),b.includePrerelease&&(this.value==="<0.0.0-0"||y.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||y.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&y.operator.startsWith(">")||this.operator.startsWith("<")&&y.operator.startsWith("<")||this.semver.version===y.semver.version&&this.operator.includes("=")&&y.operator.includes("=")||v(this.semver,"<",y.semver,b)&&this.operator.startsWith(">")&&y.operator.startsWith("<")||v(this.semver,">",y.semver,b)&&this.operator.startsWith("<")&&y.operator.startsWith(">")))}}e.exports=i;var s=Lg(),{safeRe:l,t:a}=ol(),v=G8(),g=Sf(),h=Ir(),d=Mi()}),kf=tt((t,e)=>{var r=Mi(),i=n((s,l,a)=>{try{l=new r(l,a)}catch{return!1}return l.test(s)},"_V");e.exports=i}),pC=tt((t,e)=>{var r=Mi(),i=n((s,l)=>new r(s,l).set.map(a=>a.map(v=>v.value).join(" ").trim().split(" ")),"YV");e.exports=i}),mC=tt((t,e)=>{var r=Ir(),i=Mi(),s=n((l,a,v)=>{let g=null,h=null,d=null;try{d=new i(a,v)}catch{return null}return l.forEach(c=>{d.test(c)&&(!g||h.compare(c)===-1)&&(g=c,h=new r(g,v))}),g},"WV");e.exports=s}),gC=tt((t,e)=>{var r=Ir(),i=Mi(),s=n((l,a,v)=>{let g=null,h=null,d=null;try{d=new i(a,v)}catch{return null}return l.forEach(c=>{d.test(c)&&(!g||h.compare(c)===1)&&(g=c,h=new r(g,v))}),g},"JV");e.exports=s}),vC=tt((t,e)=>{var r=Ir(),i=Mi(),s=Ef(),l=n((a,v)=>{a=new i(a,v);let g=new r("0.0.0");if(a.test(g)||(g=new r("0.0.0-0"),a.test(g)))return g;g=null;for(let h=0;h<a.set.length;++h){let d=a.set[h],c=null;d.forEach(y=>{let b=new r(y.semver.version);switch(y.operator){case">":b.prerelease.length===0?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!c||s(b,c))&&(c=b);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${y.operator}`)}}),c&&(!g||s(g,c))&&(g=c)}return g&&a.test(g)?g:null},"wV");e.exports=l}),bC=tt((t,e)=>{var r=Mi(),i=n((s,l)=>{try{return new r(s,l).range||"*"}catch{return null}},"XV");e.exports=i}),zg=tt((t,e)=>{var r=Ir(),i=Af(),{ANY:s}=i,l=Mi(),a=kf(),v=Ef(),g=Bg(),h=Ug(),d=Fg(),c=n((y,b,w,S)=>{y=new r(y,S),b=new l(b,S);let C,R,T,P,O;switch(w){case">":C=v,R=h,T=g,P=">",O=">=";break;case"<":C=g,R=d,T=v,P="<",O="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(y,b,S))return!1;for(let j=0;j<b.set.length;++j){let B=b.set[j],Z=null,W=null;if(B.forEach(ee=>{ee.semver===s&&(ee=new i(">=0.0.0")),Z=Z||ee,W=W||ee,C(ee.semver,Z.semver,S)?Z=ee:T(ee.semver,W.semver,S)&&(W=ee)}),Z.operator===P||Z.operator===O||(!W.operator||W.operator===P)&&R(y,W.semver))return!1;if(W.operator===O&&T(y,W.semver))return!1}return!0},"MV");e.exports=c}),yC=tt((t,e)=>{var r=zg(),i=n((s,l,a)=>r(s,l,">",a),"CV");e.exports=i}),wC=tt((t,e)=>{var r=zg(),i=n((s,l,a)=>r(s,l,"<",a),"EV");e.exports=i}),xC=tt((t,e)=>{var r=Mi(),i=n((s,l,a)=>(s=new r(s,a),l=new r(l,a),s.intersects(l,a)),"RV");e.exports=i}),_C=tt((t,e)=>{var r=kf(),i=_i();e.exports=(s,l,a)=>{let v=[],g=null,h=null,d=s.sort((w,S)=>i(w,S,a));for(let w of d)r(w,l,a)?(h=w,!g&&(g=w)):(h&&v.push([g,h]),h=null,g=null);g&&v.push([g,null]);let c=[];for(let[w,S]of v)w===S?c.push(w):!S&&w===d[0]?c.push("*"):S?w===d[0]?c.push(`<=${S}`):c.push(`${w} - ${S}`):c.push(`>=${w}`);let y=c.join(" || "),b=typeof l.raw=="string"?l.raw:String(l);return y.length<b.length?y:l}}),MC=tt((t,e)=>{var r=Mi(),i=Af(),{ANY:s}=i,l=kf(),a=_i(),v=n((b,w,S={})=>{if(b===w)return!0;b=new r(b,S),w=new r(w,S);let C=!1;e:for(let R of b.set){for(let T of w.set){let P=d(R,T,S);if(C=C||P!==null,P)continue e}if(C)return!1}return!0},"IV"),g=[new i(">=0.0.0-0")],h=[new i(">=0.0.0")],d=n((b,w,S)=>{if(b===w)return!0;if(b.length===1&&b[0].semver===s){if(w.length===1&&w[0].semver===s)return!0;S.includePrerelease?b=g:b=h}if(w.length===1&&w[0].semver===s){if(S.includePrerelease)return!0;w=h}let C=new Set,R,T;for(let $ of b)$.operator===">"||$.operator===">="?R=c(R,$,S):$.operator==="<"||$.operator==="<="?T=y(T,$,S):C.add($.semver);if(C.size>1)return null;let P;if(R&&T){if(P=a(R.semver,T.semver,S),P>0)return null;if(P===0&&(R.operator!==">="||T.operator!=="<="))return null}for(let $ of C){if(R&&!l($,String(R),S)||T&&!l($,String(T),S))return null;for(let U of w)if(!l($,String(U),S))return!1;return!0}let O,j,B,Z,W=T&&!S.includePrerelease&&T.semver.prerelease.length?T.semver:!1,ee=R&&!S.includePrerelease&&R.semver.prerelease.length?R.semver:!1;W&&W.prerelease.length===1&&T.operator==="<"&&W.prerelease[0]===0&&(W=!1);for(let $ of w){if(Z=Z||$.operator===">"||$.operator===">=",B=B||$.operator==="<"||$.operator==="<=",R){if(ee&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===ee.major&&$.semver.minor===ee.minor&&$.semver.patch===ee.patch&&(ee=!1),$.operator===">"||$.operator===">="){if(O=c(R,$,S),O===$&&O!==R)return!1}else if(R.operator===">="&&!l(R.semver,String($),S))return!1}if(T){if(W&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===W.major&&$.semver.minor===W.minor&&$.semver.patch===W.patch&&(W=!1),$.operator==="<"||$.operator==="<="){if(j=y(T,$,S),j===$&&j!==T)return!1}else if(T.operator==="<="&&!l(T.semver,String($),S))return!1}if(!$.operator&&(T||R)&&P!==0)return!1}return!(R&&B&&!T&&P!==0||T&&Z&&!R&&P!==0||ee||W)},"bV"),c=n((b,w,S)=>{if(!b)return w;let C=a(b.semver,w.semver,S);return C>0?b:C<0||w.operator===">"&&b.operator===">="?w:b},"IH"),y=n((b,w,S)=>{if(!b)return w;let C=a(b.semver,w.semver,S);return C<0?b:C>0||w.operator==="<"&&b.operator==="<="?w:b},"LH");e.exports=v}),SC=tt((t,e)=>{var r=ol(),i=Mf(),s=Ir(),l=H8(),a=pa(),v=eC(),g=tC(),h=rC(),d=iC(),c=nC(),y=sC(),b=aC(),w=oC(),S=_i(),C=lC(),R=uC(),T=Dg(),P=fC(),O=cC(),j=Ef(),B=Bg(),Z=Z8(),W=V8(),ee=Fg(),$=Ug(),U=G8(),u=hC(),m=Af(),o=Mi(),p=kf(),x=pC(),A=mC(),k=gC(),M=vC(),f=bC(),_=zg(),E=yC(),I=wC(),L=xC(),D=_C(),F=MC();e.exports={parse:a,valid:v,clean:g,inc:h,diff:d,major:c,minor:y,patch:b,prerelease:w,compare:S,rcompare:C,compareLoose:R,compareBuild:T,sort:P,rsort:O,gt:j,lt:B,eq:Z,neq:W,gte:ee,lte:$,cmp:U,coerce:u,Comparator:m,Range:o,satisfies:p,toComparators:x,maxSatisfying:A,minSatisfying:k,minVersion:M,validRange:f,outside:_,gtr:E,ltr:I,intersects:L,simplifyRange:D,subset:F,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:l.compareIdentifiers,rcompareIdentifiers:l.rcompareIdentifiers}}),EC=tt((t,e)=>{e.exports=function(r,i){if(typeof r!="string")throw TypeError("Expected a string");return i=typeof i>"u"?"_":i,r.replace(/([a-z\d])([A-Z])/g,"$1"+i+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+i+"$2").toLowerCase()}}),AC=tt((t,e)=>{var r=/[\p{Lu}]/u,i=/[\p{Ll}]/u,s=/^[\p{Lu}](?![\p{Lu}])/gu,l=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,v=new RegExp("^"+a.source),g=new RegExp(a.source+l.source,"gu"),h=new RegExp("\\d+"+l.source,"gu"),d=n((w,S,C)=>{let R=!1,T=!1,P=!1;for(let O=0;O<w.length;O++){let j=w[O];R&&r.test(j)?(w=w.slice(0,O)+"-"+w.slice(O),R=!1,P=T,T=!0,O++):T&&P&&i.test(j)?(w=w.slice(0,O-1)+"-"+w.slice(O-1),P=T,T=!1,R=!0):(R=S(j)===j&&C(j)!==j,P=T,T=C(j)===j&&S(j)!==j)}return w},"cM"),c=n((w,S)=>(s.lastIndex=0,w.replace(s,C=>S(C))),"lM"),y=n((w,S)=>(g.lastIndex=0,h.lastIndex=0,w.replace(g,(C,R)=>S(R)).replace(h,C=>S(C))),"dM"),b=n((w,S)=>{if(!(typeof w=="string"||Array.isArray(w)))throw TypeError("Expected the input to be `string | string[]`");if(S={pascalCase:!1,preserveConsecutiveUppercase:!1,...S},Array.isArray(w)?w=w.map(T=>T.trim()).filter(T=>T.length).join("-"):w=w.trim(),w.length===0)return"";let C=S.locale===!1?T=>T.toLowerCase():T=>T.toLocaleLowerCase(S.locale),R=S.locale===!1?T=>T.toUpperCase():T=>T.toLocaleUpperCase(S.locale);return w.length===1?S.pascalCase?R(w):C(w):(w!==C(w)&&(w=d(w,C,R)),w=w.replace(v,""),S.preserveConsecutiveUppercase?w=c(w,C):w=C(w),S.pascalCase&&(w=R(w.charAt(0))+w.slice(1)),y(w,R))},"Yz");e.exports=b,e.exports.default=b}),kC=tt((t,e)=>{var r=n((l=0)=>a=>`\x1B[${38+l};5;${a}m`,"Tz"),i=n((l=0)=>(a,v,g)=>`\x1B[${38+l};2;${a};${v};${g}m`,"Xz");function s(){let l=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(let[v,g]of Object.entries(a)){for(let[h,d]of Object.entries(g))a[h]={open:`\x1B[${d[0]}m`,close:`\x1B[${d[1]}m`},g[h]=a[h],l.set(d[0],d[1]);Object.defineProperty(a,v,{value:g,enumerable:!1})}return Object.defineProperty(a,"codes",{value:l,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi256=r(),a.color.ansi16m=i(),a.bgColor.ansi256=r(10),a.bgColor.ansi16m=i(10),Object.defineProperties(a,{rgbToAnsi256:{value:n((v,g,h)=>v===g&&g===h?v<8?16:v>248?231:Math.round((v-8)/247*24)+232:16+36*Math.round(v/255*5)+6*Math.round(g/255*5)+Math.round(h/255*5),"value"),enumerable:!1},hexToRgb:{value:n(v=>{let g=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(v.toString(16));if(!g)return[0,0,0];let{colorString:h}=g.groups;h.length===3&&(h=h.split("").map(c=>c+c).join(""));let d=Number.parseInt(h,16);return[d>>16&255,d>>8&255,d&255]},"value"),enumerable:!1},hexToAnsi256:{value:n(v=>a.rgbToAnsi256(...a.hexToRgb(v)),"value"),enumerable:!1}}),a}n(s,"QM"),Object.defineProperty(e,"exports",{enumerable:!0,get:s})}),NC=tt(t=>{t.byteLength=g,t.toByteArray=d,t.fromByteArray=b;var e=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(l=0,a=s.length;l<a;++l)e[l]=s[l],r[s.charCodeAt(l)]=l;var l,a;r[45]=62,r[95]=63;function v(w){var S=w.length;if(S%4>0)throw Error("Invalid string. Length must be a multiple of 4");var C=w.indexOf("=");C===-1&&(C=S);var R=C===S?0:4-C%4;return[C,R]}n(v,"QJ");function g(w){var S=v(w),C=S[0],R=S[1];return(C+R)*3/4-R}n(g,"$0");function h(w,S,C){return(S+C)*3/4-C}n(h,"K0");function d(w){var S,C=v(w),R=C[0],T=C[1],P=new i(h(w,R,T)),O=0,j=T>0?R-4:R,B;for(B=0;B<j;B+=4)S=r[w.charCodeAt(B)]<<18|r[w.charCodeAt(B+1)]<<12|r[w.charCodeAt(B+2)]<<6|r[w.charCodeAt(B+3)],P[O++]=S>>16&255,P[O++]=S>>8&255,P[O++]=S&255;return T===2&&(S=r[w.charCodeAt(B)]<<2|r[w.charCodeAt(B+1)]>>4,P[O++]=S&255),T===1&&(S=r[w.charCodeAt(B)]<<10|r[w.charCodeAt(B+1)]<<4|r[w.charCodeAt(B+2)]>>2,P[O++]=S>>8&255,P[O++]=S&255),P}n(d,"_0");function c(w){return e[w>>18&63]+e[w>>12&63]+e[w>>6&63]+e[w&63]}n(c,"P0");function y(w,S,C){for(var R,T=[],P=S;P<C;P+=3)R=(w[P]<<16&16711680)+(w[P+1]<<8&65280)+(w[P+2]&255),T.push(c(R));return T.join("")}n(y,"Y0");function b(w){for(var S,C=w.length,R=C%3,T=[],P=16383,O=0,j=C-R;O<j;O+=P)T.push(y(w,O,O+P>j?j:O+P));return R===1?(S=w[C-1],T.push(e[S>>2]+e[S<<4&63]+"==")):R===2&&(S=(w[C-2]<<8)+w[C-1],T.push(e[S>>10]+e[S>>4&63]+e[S<<2&63]+"=")),T.join("")}n(b,"j0")}),Dr=tt(t=>{t.__esModule=!0,t.extend=l,t.indexOf=h,t.escapeExpression=d,t.isEmpty=c,t.createFrame=y,t.blockParams=b,t.appendContextPath=w;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function s(S){return e[S]}n(s,"V0");function l(S){for(var C=1;C<arguments.length;C++)for(var R in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],R)&&(S[R]=arguments[C][R]);return S}n(l,"qv");var a=Object.prototype.toString;t.toString=a;var v=n(function(S){return typeof S=="function"},"K2");v(/x/)&&(t.isFunction=v=n(function(S){return typeof S=="function"&&a.call(S)==="[object Function]"},"K2")),t.isFunction=v;var g=Array.isArray||function(S){return S&&typeof S=="object"?a.call(S)==="[object Array]":!1};t.isArray=g;function h(S,C){for(var R=0,T=S.length;R<T;R++)if(S[R]===C)return R;return-1}n(h,"M0");function d(S){if(typeof S!="string"){if(S&&S.toHTML)return S.toHTML();if(S==null)return"";if(!S)return S+"";S=""+S}return i.test(S)?S.replace(r,s):S}n(d,"S0");function c(S){return!S&&S!==0?!0:!!(g(S)&&S.length===0)}n(c,"C0");function y(S){var C=l({},S);return C._parent=S,C}n(y,"N0");function b(S,C){return S.path=C,S}n(b,"E0");function w(S,C){return(S?S+".":"")+C}n(w,"R0")}),Si=tt((t,e)=>{t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(s,l){var a=l&&l.loc,v=void 0,g=void 0,h=void 0,d=void 0;a&&(v=a.start.line,g=a.end.line,h=a.start.column,d=a.end.column,s+=" - "+v+":"+h);for(var c=Error.prototype.constructor.call(this,s),y=0;y<r.length;y++)this[r[y]]=c[r[y]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{a&&(this.lineNumber=v,this.endLineNumber=g,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:d,enumerable:!0})):(this.column=h,this.endColumn=d))}catch{}}n(i,"Y2"),i.prototype=Error(),t.default=i,e.exports=t.default}),CC=tt((t,e)=>{t.__esModule=!0;var r=Dr();t.default=function(i){i.registerHelper("blockHelperMissing",function(s,l){var{inverse:a,fn:v}=l;if(s===!0)return v(this);if(s===!1||s==null)return a(this);if(r.isArray(s))return s.length>0?(l.ids&&(l.ids=[l.name]),i.helpers.each(s,l)):a(this);if(l.data&&l.ids){var g=r.createFrame(l.data);g.contextPath=r.appendContextPath(l.data.contextPath,l.name),l={data:g}}return v(s,l)})},e.exports=t.default}),RC=tt((t,e)=>{t.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}n(r,"r0");var i=Dr(),s=Si(),l=r(s);t.default=function(a){a.registerHelper("each",function(v,g){if(!g)throw new l.default("Must pass iterator to #each");var{fn:h,inverse:d}=g,c=0,y="",b=void 0,w=void 0;g.data&&g.ids&&(w=i.appendContextPath(g.data.contextPath,g.ids[0])+"."),i.isFunction(v)&&(v=v.call(this)),g.data&&(b=i.createFrame(g.data));function S(O,j,B){b&&(b.key=O,b.index=j,b.first=j===0,b.last=!!B,w&&(b.contextPath=w+O)),y=y+h(v[O],{data:b,blockParams:i.blockParams([v[O],O],[w+O,null])})}if(n(S,"X"),v&&typeof v=="object")if(i.isArray(v))for(var C=v.length;c<C;c++)c in v&&S(c,c,c===v.length-1);else if(typeof Symbol=="function"&&v[Symbol.iterator]){for(var R=[],T=v[Symbol.iterator](),P=T.next();!P.done;P=T.next())R.push(P.value);v=R;for(var C=v.length;c<C;c++)S(c,c,c===v.length-1)}else(function(){var O=void 0;Object.keys(v).forEach(function(j){O!==void 0&&S(O,c-1),O=j,c++}),O!==void 0&&S(O,c-1,!0)})();return c===0&&(y=d(this)),y})},e.exports=t.default}),IC=tt((t,e)=>{t.__esModule=!0;function r(l){return l&&l.__esModule?l:{default:l}}n(r,"t0");var i=Si(),s=r(i);t.default=function(l){l.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new s.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default}),TC=tt((t,e)=>{t.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}n(r,"qC");var i=Dr(),s=Si(),l=r(s);t.default=function(a){a.registerHelper("if",function(v,g){if(arguments.length!=2)throw new l.default("#if requires exactly one argument");return i.isFunction(v)&&(v=v.call(this)),!g.hash.includeZero&&!v||i.isEmpty(v)?g.inverse(this):g.fn(this)}),a.registerHelper("unless",function(v,g){if(arguments.length!=2)throw new l.default("#unless requires exactly one argument");return a.helpers.if.call(this,v,{fn:g.inverse,inverse:g.fn,hash:g.hash})})},e.exports=t.default}),PC=tt((t,e)=>{t.__esModule=!0,t.default=function(r){r.registerHelper("log",function(){for(var i=[void 0],s=arguments[arguments.length-1],l=0;l<arguments.length-1;l++)i.push(arguments[l]);var a=1;s.hash.level!=null?a=s.hash.level:s.data&&s.data.level!=null&&(a=s.data.level),i[0]=a,r.log.apply(r,i)})},e.exports=t.default}),OC=tt((t,e)=>{t.__esModule=!0,t.default=function(r){r.registerHelper("lookup",function(i,s,l){return i&&l.lookupProperty(i,s)})},e.exports=t.default}),jC=tt((t,e)=>{t.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}n(r,"WC");var i=Dr(),s=Si(),l=r(s);t.default=function(a){a.registerHelper("with",function(v,g){if(arguments.length!=2)throw new l.default("#with requires exactly one argument");i.isFunction(v)&&(v=v.call(this));var h=g.fn;if(i.isEmpty(v))return g.inverse(this);var d=g.data;return g.data&&g.ids&&(d=i.createFrame(g.data),d.contextPath=i.appendContextPath(g.data.contextPath,g.ids[0])),h(v,{data:d,blockParams:i.blockParams([v],[d&&d.contextPath])})})},e.exports=t.default}),W8=tt(t=>{t.__esModule=!0,t.registerDefaultHelpers=C,t.moveHelperToHooks=R;function e(T){return T&&T.__esModule?T:{default:T}}n(e,"E_");var r=CC(),i=e(r),s=RC(),l=e(s),a=IC(),v=e(a),g=TC(),h=e(g),d=PC(),c=e(d),y=OC(),b=e(y),w=jC(),S=e(w);function C(T){i.default(T),l.default(T),v.default(T),h.default(T),c.default(T),b.default(T),S.default(T)}n(C,"RC");function R(T,P,O){T.helpers[P]&&(T.hooks[P]=T.helpers[P],!O&&delete T.helpers[P])}n(R,"hC")}),LC=tt((t,e)=>{t.__esModule=!0;var r=Dr();t.default=function(i){i.registerDecorator("inline",function(s,l,a,v){var g=s;return l.partials||(l.partials={},g=n(function(h,d){var c=a.partials;a.partials=r.extend({},c,l.partials);var y=s(h,d);return a.partials=c,y},"O")),l.partials[v.args[0]]=v.fn,g})},e.exports=t.default}),DC=tt(t=>{t.__esModule=!0,t.registerDefaultDecorators=s;function e(l){return l&&l.__esModule?l:{default:l}}n(e,"xC");var r=LC(),i=e(r);function s(l){i.default(l)}n(s,"cC")}),K8=tt((t,e)=>{t.__esModule=!0;var r=Dr(),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:n(function(s){if(typeof s=="string"){var l=r.indexOf(i.methodMap,s.toLowerCase());l>=0?s=l:s=parseInt(s,10)}return s},"lookupLevel"),log:n(function(s){if(s=i.lookupLevel(s),typeof console<"u"&&i.lookupLevel(i.level)<=s){var l=i.methodMap[s];console[l]||(l="log");for(var a=arguments.length,v=Array(a>1?a-1:0),g=1;g<a;g++)v[g-1]=arguments[g];console[l].apply(console,v)}},"log")};t.default=i,e.exports=t.default}),BC=tt(t=>{t.__esModule=!0,t.createNewLookupObject=r;var e=Dr();function r(){for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return e.extend.apply(void 0,[Object.create(null)].concat(s))}n(r,"UC")}),Y8=tt(t=>{t.__esModule=!0,t.createProtoAccessControl=a,t.resultIsAllowed=v,t.resetLoggedProperties=d;function e(c){return c&&c.__esModule?c:{default:c}}n(e,"aC");var r=BC(),i=K8(),s=e(i),l=Object.create(null);function a(c){var y=Object.create(null);y.constructor=!1,y.__defineGetter__=!1,y.__defineSetter__=!1,y.__lookupGetter__=!1;var b=Object.create(null);return b.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(b,c.allowedProtoProperties),defaultValue:c.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(y,c.allowedProtoMethods),defaultValue:c.allowProtoMethodsByDefault}}}n(a,"qN");function v(c,y,b){return g(typeof c=="function"?y.methods:y.properties,b)}n(v,"$N");function g(c,y){return c.whitelist[y]!==void 0?c.whitelist[y]===!0:c.defaultValue!==void 0?c.defaultValue:(h(y),!1)}n(g,"pv");function h(c){l[c]!==!0&&(l[c]=!0,s.default.log("error",'Handlebars: Access has been denied to resolve the property "'+c+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}n(h,"KN");function d(){Object.keys(l).forEach(function(c){delete l[c]})}n(d,"_N")}),$g=tt(t=>{t.__esModule=!0,t.HandlebarsEnvironment=S;function e(R){return R&&R.__esModule?R:{default:R}}n(e,"xv");var r=Dr(),i=Si(),s=e(i),l=W8(),a=DC(),v=K8(),g=e(v),h=Y8(),d="4.7.8";t.VERSION=d;var c=8;t.COMPILER_REVISION=c;var y=7;t.LAST_COMPATIBLE_COMPILER_REVISION=y;var b={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=b;var w="[object Object]";function S(R,T,P){this.helpers=R||{},this.partials=T||{},this.decorators=P||{},l.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}n(S,"v2"),S.prototype={constructor:S,logger:g.default,log:g.default.log,registerHelper:n(function(R,T){if(r.toString.call(R)===w){if(T)throw new s.default("Arg not supported with multiple helpers");r.extend(this.helpers,R)}else this.helpers[R]=T},"registerHelper"),unregisterHelper:n(function(R){delete this.helpers[R]},"unregisterHelper"),registerPartial:n(function(R,T){if(r.toString.call(R)===w)r.extend(this.partials,R);else{if(typeof T>"u")throw new s.default('Attempting to register a partial called "'+R+'" as undefined');this.partials[R]=T}},"registerPartial"),unregisterPartial:n(function(R){delete this.partials[R]},"unregisterPartial"),registerDecorator:n(function(R,T){if(r.toString.call(R)===w){if(T)throw new s.default("Arg not supported with multiple decorators");r.extend(this.decorators,R)}else this.decorators[R]=T},"registerDecorator"),unregisterDecorator:n(function(R){delete this.decorators[R]},"unregisterDecorator"),resetLoggedPropertyAccesses:n(function(){h.resetLoggedProperties()},"resetLoggedPropertyAccesses")};var C=g.default.log;t.log=C,t.createFrame=r.createFrame,t.logger=g.default}),FC=tt((t,e)=>{t.__esModule=!0;function r(i){this.string=i}n(r,"w2"),r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default}),UC=tt(t=>{t.__esModule=!0,t.wrapHelper=e;function e(r,i){if(typeof r!="function")return r;var s=n(function(){var l=arguments[arguments.length-1];return arguments[arguments.length-1]=i(l),r.apply(this,arguments)},"K");return s}n(e,"LN")}),zC=tt(t=>{t.__esModule=!0,t.checkRevision=c,t.template=y,t.wrapProgram=b,t.resolvePartial=w,t.invokePartial=S,t.noop=C;function e(j){return j&&j.__esModule?j:{default:j}}n(e,"pN");function r(j){if(j&&j.__esModule)return j;var B={};if(j!=null)for(var Z in j)Object.prototype.hasOwnProperty.call(j,Z)&&(B[Z]=j[Z]);return B.default=j,B}n(r,"xN");var i=Dr(),s=r(i),l=Si(),a=e(l),v=$g(),g=W8(),h=UC(),d=Y8();function c(j){var B=j&&j[0]||1,Z=v.COMPILER_REVISION;if(!(B>=v.LAST_COMPATIBLE_COMPILER_REVISION&&B<=v.COMPILER_REVISION))if(B<v.LAST_COMPATIBLE_COMPILER_REVISION){var W=v.REVISION_CHANGES[Z],ee=v.REVISION_CHANGES[B];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+W+") or downgrade your runtime to an older version ("+ee+").")}else throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+j[1]+").")}n(c,"lN");function y(j,B){if(!B)throw new a.default("No environment passed to template");if(!j||!j.main)throw new a.default("Unknown template object: "+typeof j);j.main.decorator=j.main_d,B.VM.checkRevision(j.compiler);var Z=j.compiler&&j.compiler[0]===7;function W(U,u,m){m.hash&&(u=s.extend({},u,m.hash),m.ids&&(m.ids[0]=!0)),U=B.VM.resolvePartial.call(this,U,u,m);var o=s.extend({},m,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),p=B.VM.invokePartial.call(this,U,u,o);if(p==null&&B.compile&&(m.partials[m.name]=B.compile(U,j.compilerOptions,B),p=m.partials[m.name](u,o)),p!=null){if(m.indent){for(var x=p.split(`
`),A=0,k=x.length;A<k&&!(!x[A]&&A+1===k);A++)x[A]=m.indent+x[A];p=x.join(`
`)}return p}else throw new a.default("The partial "+m.name+" could not be compiled when running in runtime-only mode")}n(W,"_");var ee={strict:n(function(U,u,m){if(!U||!(u in U))throw new a.default('"'+u+'" not defined in '+U,{loc:m});return ee.lookupProperty(U,u)},"strict"),lookupProperty:n(function(U,u){var m=U[u];if(m==null||Object.prototype.hasOwnProperty.call(U,u)||d.resultIsAllowed(m,ee.protoAccessControl,u))return m},"lookupProperty"),lookup:n(function(U,u){for(var m=U.length,o=0;o<m;o++){var p=U[o]&&ee.lookupProperty(U[o],u);if(p!=null)return U[o][u]}},"lookup"),lambda:n(function(U,u){return typeof U=="function"?U.call(u):U},"lambda"),escapeExpression:s.escapeExpression,invokePartial:W,fn:n(function(U){var u=j[U];return u.decorator=j[U+"_d"],u},"fn"),programs:[],program:n(function(U,u,m,o,p){var x=this.programs[U],A=this.fn(U);return u||p||o||m?x=b(this,U,A,u,m,o,p):x||(x=this.programs[U]=b(this,U,A)),x},"program"),data:n(function(U,u){for(;U&&u--;)U=U._parent;return U},"data"),mergeIfNeeded:n(function(U,u){var m=U||u;return U&&u&&U!==u&&(m=s.extend({},u,U)),m},"mergeIfNeeded"),nullContext:Object.seal({}),noop:B.VM.noop,compilerInfo:j.compiler};function $(U){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=u.data;$._setup(u),!u.partial&&j.useData&&(m=R(U,m));var o=void 0,p=j.useBlockParams?[]:void 0;j.useDepths&&(u.depths?o=U!=u.depths[0]?[U].concat(u.depths):u.depths:o=[U]);function x(A){return""+j.main(ee,A,ee.helpers,ee.partials,m,p,o)}return n(x,"k"),x=T(j.main,x,ee,u.depths||[],m,p),x(U,u)}return n($,"O"),$.isTop=!0,$._setup=function(U){if(U.partial)ee.protoAccessControl=U.protoAccessControl,ee.helpers=U.helpers,ee.partials=U.partials,ee.decorators=U.decorators,ee.hooks=U.hooks;else{var u=s.extend({},B.helpers,U.helpers);P(u,ee),ee.helpers=u,j.usePartial&&(ee.partials=ee.mergeIfNeeded(U.partials,B.partials)),(j.usePartial||j.useDecorators)&&(ee.decorators=s.extend({},B.decorators,U.decorators)),ee.hooks={},ee.protoAccessControl=d.createProtoAccessControl(U);var m=U.allowCallsToHelperMissing||Z;g.moveHelperToHooks(ee,"helperMissing",m),g.moveHelperToHooks(ee,"blockHelperMissing",m)}},$._child=function(U,u,m,o){if(j.useBlockParams&&!m)throw new a.default("must pass block params");if(j.useDepths&&!o)throw new a.default("must pass parent depths");return b(ee,U,j[U],u,0,m,o)},$}n(y,"dN");function b(j,B,Z,W,ee,$,U){function u(m){var o=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],p=U;return U&&m!=U[0]&&!(m===j.nullContext&&U[0]===null)&&(p=[m].concat(U)),Z(j,m,j.helpers,j.partials,o.data||W,$&&[o.blockParams].concat($),p)}return n(u,"H"),u=T(Z,u,j,U,W,$),u.program=B,u.depth=U?U.length:0,u.blockParams=ee||0,u}n(b,"V1");function w(j,B,Z){return j?!j.call&&!Z.name&&(Z.name=j,j=Z.partials[j]):Z.name==="@partial-block"?j=Z.data["partial-block"]:j=Z.partials[Z.name],j}n(w,"oN");function S(j,B,Z){var W=Z.data&&Z.data["partial-block"];Z.partial=!0,Z.ids&&(Z.data.contextPath=Z.ids[0]||Z.data.contextPath);var ee=void 0;if(Z.fn&&Z.fn!==C&&(function(){Z.data=v.createFrame(Z.data);var $=Z.fn;ee=Z.data["partial-block"]=function(U){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return u.data=v.createFrame(u.data),u.data["partial-block"]=W,$(U,u)},$.partials&&(Z.partials=s.extend({},Z.partials,$.partials))})(),j===void 0&&ee&&(j=ee),j===void 0)throw new a.default("The partial "+Z.name+" could not be found");if(j instanceof Function)return j(B,Z)}n(S,"nN");function C(){return""}n(C,"nv");function R(j,B){return(!B||!("root"in B))&&(B=B?v.createFrame(B):{},B.root=j),B}n(R,"rN");function T(j,B,Z,W,ee,$){if(j.decorator){var U={};B=j.decorator(B,U,Z,W&&W[0],ee,$,W),s.extend(B,U)}return B}n(T,"rv");function P(j,B){Object.keys(j).forEach(function(Z){var W=j[Z];j[Z]=O(W,B)})}n(P,"BN");function O(j,B){var Z=B.lookupProperty;return h.wrapHelper(j,function(W){return s.extend({lookupProperty:Z},W)})}n(O,"iN")}),X8=tt((t,e)=>{t.__esModule=!0,t.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var i=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=i),r}},e.exports=t.default}),$C=tt((t,e)=>{t.__esModule=!0;function r(T){return T&&T.__esModule?T:{default:T}}n(r,"f2");function i(T){if(T&&T.__esModule)return T;var P={};if(T!=null)for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(P[O]=T[O]);return P.default=T,P}n(i,"A2");var s=$g(),l=i(s),a=FC(),v=r(a),g=Si(),h=r(g),d=Dr(),c=i(d),y=zC(),b=i(y),w=X8(),S=r(w);function C(){var T=new l.HandlebarsEnvironment;return c.extend(T,l),T.SafeString=v.default,T.Exception=h.default,T.Utils=c,T.escapeExpression=c.escapeExpression,T.VM=b,T.template=function(P){return b.template(P,T)},T}n(C,"Qv");var R=C();R.create=C,S.default(R),R.default=R,t.default=R,e.exports=t.default}),Q8=tt((t,e)=>{t.__esModule=!0;var r={helpers:{helperExpression:n(function(i){return i.type==="SubExpression"||(i.type==="MustacheStatement"||i.type==="BlockStatement")&&!!(i.params&&i.params.length||i.hash)},"helperExpression"),scopedId:n(function(i){return/^\.|this\b/.test(i.original)},"scopedId"),simpleId:n(function(i){return i.parts.length===1&&!r.helpers.scopedId(i)&&!i.depth},"simpleId")}};t.default=r,e.exports=t.default}),HC=tt((t,e)=>{t.__esModule=!0;var r=(function(){var i={trace:n(function(){},"trace"),yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:n(function(a,v,g,h,d,c,y){var b=c.length-1;switch(d){case 1:return c[b-1];case 2:this.$=h.prepareProgram(c[b]);break;case 3:this.$=c[b];break;case 4:this.$=c[b];break;case 5:this.$=c[b];break;case 6:this.$=c[b];break;case 7:this.$=c[b];break;case 8:this.$=c[b];break;case 9:this.$={type:"CommentStatement",value:h.stripComment(c[b]),strip:h.stripFlags(c[b],c[b]),loc:h.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:c[b],value:c[b],loc:h.locInfo(this._$)};break;case 11:this.$=h.prepareRawBlock(c[b-2],c[b-1],c[b],this._$);break;case 12:this.$={path:c[b-3],params:c[b-2],hash:c[b-1]};break;case 13:this.$=h.prepareBlock(c[b-3],c[b-2],c[b-1],c[b],!1,this._$);break;case 14:this.$=h.prepareBlock(c[b-3],c[b-2],c[b-1],c[b],!0,this._$);break;case 15:this.$={open:c[b-5],path:c[b-4],params:c[b-3],hash:c[b-2],blockParams:c[b-1],strip:h.stripFlags(c[b-5],c[b])};break;case 16:this.$={path:c[b-4],params:c[b-3],hash:c[b-2],blockParams:c[b-1],strip:h.stripFlags(c[b-5],c[b])};break;case 17:this.$={path:c[b-4],params:c[b-3],hash:c[b-2],blockParams:c[b-1],strip:h.stripFlags(c[b-5],c[b])};break;case 18:this.$={strip:h.stripFlags(c[b-1],c[b-1]),program:c[b]};break;case 19:var w=h.prepareBlock(c[b-2],c[b-1],c[b],c[b],!1,this._$),S=h.prepareProgram([w],c[b-1].loc);S.chained=!0,this.$={strip:c[b-2].strip,program:S,chain:!0};break;case 20:this.$=c[b];break;case 21:this.$={path:c[b-1],strip:h.stripFlags(c[b-2],c[b])};break;case 22:this.$=h.prepareMustache(c[b-3],c[b-2],c[b-1],c[b-4],h.stripFlags(c[b-4],c[b]),this._$);break;case 23:this.$=h.prepareMustache(c[b-3],c[b-2],c[b-1],c[b-4],h.stripFlags(c[b-4],c[b]),this._$);break;case 24:this.$={type:"PartialStatement",name:c[b-3],params:c[b-2],hash:c[b-1],indent:"",strip:h.stripFlags(c[b-4],c[b]),loc:h.locInfo(this._$)};break;case 25:this.$=h.preparePartialBlock(c[b-2],c[b-1],c[b],this._$);break;case 26:this.$={path:c[b-3],params:c[b-2],hash:c[b-1],strip:h.stripFlags(c[b-4],c[b])};break;case 27:this.$=c[b];break;case 28:this.$=c[b];break;case 29:this.$={type:"SubExpression",path:c[b-3],params:c[b-2],hash:c[b-1],loc:h.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:c[b],loc:h.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:h.id(c[b-2]),value:c[b],loc:h.locInfo(this._$)};break;case 32:this.$=h.id(c[b-1]);break;case 33:this.$=c[b];break;case 34:this.$=c[b];break;case 35:this.$={type:"StringLiteral",value:c[b],original:c[b],loc:h.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(c[b]),original:Number(c[b]),loc:h.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:c[b]==="true",original:c[b]==="true",loc:h.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:h.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:h.locInfo(this._$)};break;case 40:this.$=c[b];break;case 41:this.$=c[b];break;case 42:this.$=h.preparePath(!0,c[b],this._$);break;case 43:this.$=h.preparePath(!1,c[b],this._$);break;case 44:c[b-2].push({part:h.id(c[b]),original:c[b],separator:c[b-1]}),this.$=c[b-2];break;case 45:this.$=[{part:h.id(c[b]),original:c[b]}];break;case 46:this.$=[];break;case 47:c[b-1].push(c[b]);break;case 48:this.$=[];break;case 49:c[b-1].push(c[b]);break;case 50:this.$=[];break;case 51:c[b-1].push(c[b]);break;case 58:this.$=[];break;case 59:c[b-1].push(c[b]);break;case 64:this.$=[];break;case 65:c[b-1].push(c[b]);break;case 70:this.$=[];break;case 71:c[b-1].push(c[b]);break;case 78:this.$=[];break;case 79:c[b-1].push(c[b]);break;case 82:this.$=[];break;case 83:c[b-1].push(c[b]);break;case 86:this.$=[];break;case 87:c[b-1].push(c[b]);break;case 90:this.$=[];break;case 91:c[b-1].push(c[b]);break;case 94:this.$=[];break;case 95:c[b-1].push(c[b]);break;case 98:this.$=[c[b]];break;case 99:c[b-1].push(c[b]);break;case 100:this.$=[c[b]];break;case 101:c[b-1].push(c[b]);break}},"performAction"),table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:n(function(a,v){throw Error(a)},"parseError"),parse:n(function(a){var v=this,g=[0],h=[null],d=[],c=this.table,y="",b=0,w=0,S=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var C=this.lexer.yylloc;d.push(C);var R=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function T(){var m=v.lexer.lex()||1;return typeof m!="number"&&(m=v.symbols_[m]||m),m}n(T,"g");for(var P,O,j,B,Z={},W,ee,$,U;;){if(O=g[g.length-1],this.defaultActions[O]?j=this.defaultActions[O]:((P===null||typeof P>"u")&&(P=T()),j=c[O]&&c[O][P]),typeof j>"u"||!j.length||!j[0]){var u="";{U=[];for(W in c[O])this.terminals_[W]&&W>2&&U.push("'"+this.terminals_[W]+"'");this.lexer.showPosition?u="Parse error on line "+(b+1)+`:
`+this.lexer.showPosition()+`
Expecting `+U.join(", ")+", got '"+(this.terminals_[P]||P)+"'":u="Parse error on line "+(b+1)+": Unexpected "+(P==1?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(u,{text:this.lexer.match,token:this.terminals_[P]||P,line:this.lexer.yylineno,loc:C,expected:U})}}if(j[0]instanceof Array&&j.length>1)throw Error("Parse Error: multiple actions possible at state: "+O+", token: "+P);switch(j[0]){case 1:g.push(P),h.push(this.lexer.yytext),d.push(this.lexer.yylloc),g.push(j[1]),P=null,w=this.lexer.yyleng,y=this.lexer.yytext,b=this.lexer.yylineno,C=this.lexer.yylloc,S>0;break;case 2:if(ee=this.productions_[j[1]][1],Z.$=h[h.length-ee],Z._$={first_line:d[d.length-(ee||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(ee||1)].first_column,last_column:d[d.length-1].last_column},R&&(Z._$.range=[d[d.length-(ee||1)].range[0],d[d.length-1].range[1]]),B=this.performAction.call(Z,y,w,b,this.yy,j[1],h,d),typeof B<"u")return B;ee&&(g=g.slice(0,-1*ee*2),h=h.slice(0,-1*ee),d=d.slice(0,-1*ee)),g.push(this.productions_[j[1]][0]),h.push(Z.$),d.push(Z._$),$=c[g[g.length-2]][g[g.length-1]],g.push($);break;case 3:return!0}}return!0},"parse")},s=(function(){var a={EOF:1,parseError:n(function(v,g){if(this.yy.parser)this.yy.parser.parseError(v,g);else throw Error(v)},"parseError"),setInput:n(function(v){return this._input=v,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:n(function(){var v=this._input[0];this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v;var g=v.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),v},"input"),unput:n(function(v){var g=v.length,h=v.split(/(?:\r\n?|\n)/g);this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g-1),this.offset-=g;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var c=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===d.length?this.yylloc.first_column:0)+d[d.length-h.length].length-h[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-g]),this},"unput"),more:n(function(){return this._more=!0,this},"more"),less:n(function(v){this.unput(this.match.slice(v))},"less"),pastInput:n(function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:n(function(){var v=this.match;return v.length<20&&(v+=this._input.substr(0,20-v.length)),(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:n(function(){var v=this.pastInput(),g=Array(v.length+1).join("-");return v+this.upcomingInput()+`
`+g+"^"},"showPosition"),next:n(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var v,g,h,d,c;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),b=0;b<y.length&&(h=this._input.match(this.rules[y[b]]),!(h&&(!g||h[0].length>g[0].length)&&(g=h,d=b,!this.options.flex)));b++);return g?(c=g[0].match(/(?:\r\n?|\n).*/g),c&&(this.yylineno+=c.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],v=this.performAction.call(this,this.yy,this,y[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:n(function(){var v=this.next();return typeof v<"u"?v:this.lex()},"lex"),begin:n(function(v){this.conditionStack.push(v)},"begin"),popState:n(function(){return this.conditionStack.pop()},"popState"),_currentRules:n(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:n(function(){return this.conditionStack[this.conditionStack.length-2]},"topState"),pushState:n(function(v){this.begin(v)},"pushState")};return a.options={},a.performAction=function(v,g,h,d){function c(y,b){return g.yytext=g.yytext.substring(y,g.yyleng-b+y)}switch(n(c,"X"),h){case 0:if(g.yytext.slice(-2)==="\\\\"?(c(0,1),this.begin("mu")):g.yytext.slice(-1)==="\\"?(c(0,1),this.begin("emu")):this.begin("mu"),g.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(c(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(g.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return g.yytext=c(1,2).replace(/\\"/g,'"'),80;case 32:return g.yytext=c(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return g.yytext=g.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a})();i.lexer=s;function l(){this.yy={}}return n(l,"K"),l.prototype=i,i.Parser=l,new l})();t.default=r,e.exports=t.default}),Hg=tt((t,e)=>{t.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}n(r,"GE");var i=Si(),s=r(i);function l(){this.parents=[]}n(l,"M1"),l.prototype={constructor:l,mutating:!1,acceptKey:n(function(h,d){var c=this.accept(h[d]);if(this.mutating){if(c&&!l.prototype[c.type])throw new s.default('Unexpected node type "'+c.type+'" found when accepting '+d+" on "+h.type);h[d]=c}},"acceptKey"),acceptRequired:n(function(h,d){if(this.acceptKey(h,d),!h[d])throw new s.default(h.type+" requires "+d)},"acceptRequired"),acceptArray:n(function(h){for(var d=0,c=h.length;d<c;d++)this.acceptKey(h,d),!h[d]&&(h.splice(d,1),d--,c--)},"acceptArray"),accept:n(function(h){if(h){if(!this[h.type])throw new s.default("Unknown type: "+h.type,h);this.current&&this.parents.unshift(this.current),this.current=h;var d=this[h.type](h);if(this.current=this.parents.shift(),!this.mutating||d)return d;if(d!==!1)return h}},"accept"),Program:n(function(h){this.acceptArray(h.body)},"Program"),MustacheStatement:a,Decorator:a,BlockStatement:v,DecoratorBlock:v,PartialStatement:g,PartialBlockStatement:n(function(h){g.call(this,h),this.acceptKey(h,"program")},"PartialBlockStatement"),ContentStatement:n(function(){},"ContentStatement"),CommentStatement:n(function(){},"CommentStatement"),SubExpression:a,PathExpression:n(function(){},"PathExpression"),StringLiteral:n(function(){},"StringLiteral"),NumberLiteral:n(function(){},"NumberLiteral"),BooleanLiteral:n(function(){},"BooleanLiteral"),UndefinedLiteral:n(function(){},"UndefinedLiteral"),NullLiteral:n(function(){},"NullLiteral"),Hash:n(function(h){this.acceptArray(h.pairs)},"Hash"),HashPair:n(function(h){this.acceptRequired(h,"value")},"HashPair")};function a(h){this.acceptRequired(h,"path"),this.acceptArray(h.params),this.acceptKey(h,"hash")}n(a,"S1");function v(h){a.call(this,h),this.acceptKey(h,"program"),this.acceptKey(h,"inverse")}n(v,"jw");function g(h){this.acceptRequired(h,"name"),this.acceptArray(h.params),this.acceptKey(h,"hash")}n(g,"Ow"),t.default=l,e.exports=t.default}),ZC=tt((t,e)=>{t.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}n(r,"SE");var i=Hg(),s=r(i);function l(){var d=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=d}n(l,"s6"),l.prototype=new s.default,l.prototype.Program=function(d){var c=!this.options.ignoreStandalone,y=!this.isRootSeen;this.isRootSeen=!0;for(var b=d.body,w=0,S=b.length;w<S;w++){var C=b[w],R=this.accept(C);if(R){var T=a(b,w,y),P=v(b,w,y),O=R.openStandalone&&T,j=R.closeStandalone&&P,B=R.inlineStandalone&&T&&P;R.close&&g(b,w,!0),R.open&&h(b,w,!0),c&&B&&(g(b,w),h(b,w)&&C.type==="PartialStatement"&&(C.indent=/([ \t]+$)/.exec(b[w-1].original)[1])),c&&O&&(g((C.program||C.inverse).body),h(b,w)),c&&j&&(g(b,w),h((C.inverse||C.program).body))}}return d},l.prototype.BlockStatement=l.prototype.DecoratorBlock=l.prototype.PartialBlockStatement=function(d){this.accept(d.program),this.accept(d.inverse);var c=d.program||d.inverse,y=d.program&&d.inverse,b=y,w=y;if(y&&y.chained)for(b=y.body[0].program;w.chained;)w=w.body[w.body.length-1].program;var S={open:d.openStrip.open,close:d.closeStrip.close,openStandalone:v(c.body),closeStandalone:a((b||c).body)};if(d.openStrip.close&&g(c.body,null,!0),y){var C=d.inverseStrip;C.open&&h(c.body,null,!0),C.close&&g(b.body,null,!0),d.closeStrip.open&&h(w.body,null,!0),!this.options.ignoreStandalone&&a(c.body)&&v(b.body)&&(h(c.body),g(b.body))}else d.closeStrip.open&&h(c.body,null,!0);return S},l.prototype.Decorator=l.prototype.MustacheStatement=function(d){return d.strip},l.prototype.PartialStatement=l.prototype.CommentStatement=function(d){var c=d.strip||{};return{inlineStandalone:!0,open:c.open,close:c.close}};function a(d,c,y){c===void 0&&(c=d.length);var b=d[c-1],w=d[c-2];if(!b)return y;if(b.type==="ContentStatement")return(w||!y?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(b.original)}n(a,"Z2");function v(d,c,y){c===void 0&&(c=-1);var b=d[c+1],w=d[c+2];if(!b)return y;if(b.type==="ContentStatement")return(w||!y?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(b.original)}n(v,"V2");function g(d,c,y){var b=d[c==null?0:c+1];if(!(!b||b.type!=="ContentStatement"||!y&&b.rightStripped)){var w=b.value;b.value=b.value.replace(y?/^\s+/:/^[ \t]*\r?\n?/,""),b.rightStripped=b.value!==w}}n(g,"h_");function h(d,c,y){var b=d[c==null?d.length-1:c-1];if(!(!b||b.type!=="ContentStatement"||!y&&b.leftStripped)){var w=b.value;return b.value=b.value.replace(y?/\s+$/:/[ \t]+$/,""),b.leftStripped=b.value!==w,b.leftStripped}}n(h,"FK"),t.default=l,e.exports=t.default}),VC=tt(t=>{t.__esModule=!0,t.SourceLocation=l,t.id=a,t.stripFlags=v,t.stripComment=g,t.preparePath=h,t.prepareMustache=d,t.prepareRawBlock=c,t.prepareBlock=y,t.prepareProgram=b,t.preparePartialBlock=w;function e(S){return S&&S.__esModule?S:{default:S}}n(e,"hE");var r=Si(),i=e(r);function s(S,C){if(C=C.path?C.path.original:C,S.path.original!==C){var R={loc:S.path.loc};throw new i.default(S.path.original+" doesn't match "+C,R)}}n(s,"S2");function l(S,C){this.source=S,this.start={line:C.first_line,column:C.first_column},this.end={line:C.last_line,column:C.last_column}}n(l,"IE");function a(S){return/^\[.*\]$/.test(S)?S.substring(1,S.length-1):S}n(a,"LE");function v(S,C){return{open:S.charAt(2)==="~",close:C.charAt(C.length-3)==="~"}}n(v,"bE");function g(S){return S.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}n(g,"gE");function h(S,C,R){R=this.locInfo(R);for(var T=S?"@":"",P=[],O=0,j=0,B=C.length;j<B;j++){var Z=C[j].part,W=C[j].original!==Z;if(T+=(C[j].separator||"")+Z,!W&&(Z===".."||Z==="."||Z==="this")){if(P.length>0)throw new i.default("Invalid path: "+T,{loc:R});Z===".."&&O++}else P.push(Z)}return{type:"PathExpression",data:S,depth:O,parts:P,original:T,loc:R}}n(h,"yE");function d(S,C,R,T,P,O){var j=T.charAt(3)||T.charAt(2),B=j!=="{"&&j!=="&",Z=/\*/.test(T);return{type:Z?"Decorator":"MustacheStatement",path:S,params:C,hash:R,escaped:B,strip:P,loc:this.locInfo(O)}}n(d,"pE");function c(S,C,R,T){s(S,R),T=this.locInfo(T);var P={type:"Program",body:C,strip:{},loc:T};return{type:"BlockStatement",path:S.path,params:S.params,hash:S.hash,program:P,openStrip:{},inverseStrip:{},closeStrip:{},loc:T}}n(c,"xE");function y(S,C,R,T,P,O){T&&T.path&&s(S,T);var j=/\*/.test(S.open);C.blockParams=S.blockParams;var B=void 0,Z=void 0;if(R){if(j)throw new i.default("Unexpected inverse block on decorator",R);R.chain&&(R.program.body[0].closeStrip=T.strip),Z=R.strip,B=R.program}return P&&(P=B,B=C,C=P),{type:j?"DecoratorBlock":"BlockStatement",path:S.path,params:S.params,hash:S.hash,program:C,inverse:B,openStrip:S.strip,inverseStrip:Z,closeStrip:T&&T.strip,loc:this.locInfo(O)}}n(y,"uE");function b(S,C){if(!C&&S.length){var R=S[0].loc,T=S[S.length-1].loc;R&&T&&(C={source:R.source,start:{line:R.start.line,column:R.start.column},end:{line:T.end.line,column:T.end.column}})}return{type:"Program",body:S,strip:{},loc:C}}n(b,"mE");function w(S,C,R,T){return s(S,R),{type:"PartialBlockStatement",name:S.path,params:S.params,hash:S.hash,program:C,openStrip:S.strip,closeStrip:R&&R.strip,loc:this.locInfo(T)}}n(w,"cE")}),GC=tt(t=>{t.__esModule=!0,t.parseWithoutProcessing=c,t.parse=y;function e(b){if(b&&b.__esModule)return b;var w={};if(b!=null)for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(w[S]=b[S]);return w.default=b,w}n(e,"eE");function r(b){return b&&b.__esModule?b:{default:b}}n(r,"Tw");var i=HC(),s=r(i),l=ZC(),a=r(l),v=VC(),g=e(v),h=Dr();t.parser=s.default;var d={};h.extend(d,g);function c(b,w){if(b.type==="Program")return b;s.default.yy=d,d.locInfo=function(C){return new d.SourceLocation(w&&w.srcName,C)};var S=s.default.parse(b);return S}n(c,"Xw");function y(b,w){var S=c(b,w),C=new a.default(w);return C.accept(S)}n(y,"YR")}),WC=tt(t=>{t.__esModule=!0,t.Compiler=g,t.precompile=h,t.compile=d;function e(b){return b&&b.__esModule?b:{default:b}}n(e,"kw");var r=Si(),i=e(r),s=Dr(),l=Q8(),a=e(l),v=[].slice;function g(){}n(g,"N2"),g.prototype={compiler:g,equals:n(function(b){var w=this.opcodes.length;if(b.opcodes.length!==w)return!1;for(var S=0;S<w;S++){var C=this.opcodes[S],R=b.opcodes[S];if(C.opcode!==R.opcode||!c(C.args,R.args))return!1}w=this.children.length;for(var S=0;S<w;S++)if(!this.children[S].equals(b.children[S]))return!1;return!0},"equals"),guid:0,compile:n(function(b,w){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=w,this.stringParams=w.stringParams,this.trackIds=w.trackIds,w.blockParams=w.blockParams||[],w.knownHelpers=s.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},w.knownHelpers),this.accept(b)},"compile"),compileProgram:n(function(b){var w=new this.compiler,S=w.compile(b,this.options),C=this.guid++;return this.usePartial=this.usePartial||S.usePartial,this.children[C]=S,this.useDepths=this.useDepths||S.useDepths,C},"compileProgram"),accept:n(function(b){if(!this[b.type])throw new i.default("Unknown type: "+b.type,b);this.sourceNode.unshift(b);var w=this[b.type](b);return this.sourceNode.shift(),w},"accept"),Program:n(function(b){this.options.blockParams.unshift(b.blockParams);for(var w=b.body,S=w.length,C=0;C<S;C++)this.accept(w[C]);return this.options.blockParams.shift(),this.isSimple=S===1,this.blockParams=b.blockParams?b.blockParams.length:0,this},"Program"),BlockStatement:n(function(b){y(b);var{program:w,inverse:S}=b;w=w&&this.compileProgram(w),S=S&&this.compileProgram(S);var C=this.classifySexpr(b);C==="helper"?this.helperSexpr(b,w,S):C==="simple"?(this.simpleSexpr(b),this.opcode("pushProgram",w),this.opcode("pushProgram",S),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):(this.ambiguousSexpr(b,w,S),this.opcode("pushProgram",w),this.opcode("pushProgram",S),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"BlockStatement"),DecoratorBlock:n(function(b){var w=b.program&&this.compileProgram(b.program),S=this.setupFullMustacheParams(b,w,void 0),C=b.path;this.useDecorators=!0,this.opcode("registerDecorator",S.length,C.original)},"DecoratorBlock"),PartialStatement:n(function(b){this.usePartial=!0;var w=b.program;w&&(w=this.compileProgram(b.program));var S=b.params;if(S.length>1)throw new i.default("Unsupported number of partial arguments: "+S.length,b);S.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):S.push({type:"PathExpression",parts:[],depth:0}));var C=b.name.original,R=b.name.type==="SubExpression";R&&this.accept(b.name),this.setupFullMustacheParams(b,w,void 0,!0);var T=b.indent||"";this.options.preventIndent&&T&&(this.opcode("appendContent",T),T=""),this.opcode("invokePartial",R,C,T),this.opcode("append")},"PartialStatement"),PartialBlockStatement:n(function(b){this.PartialStatement(b)},"PartialBlockStatement"),MustacheStatement:n(function(b){this.SubExpression(b),b.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"MustacheStatement"),Decorator:n(function(b){this.DecoratorBlock(b)},"Decorator"),ContentStatement:n(function(b){b.value&&this.opcode("appendContent",b.value)},"ContentStatement"),CommentStatement:n(function(){},"CommentStatement"),SubExpression:n(function(b){y(b);var w=this.classifySexpr(b);w==="simple"?this.simpleSexpr(b):w==="helper"?this.helperSexpr(b):this.ambiguousSexpr(b)},"SubExpression"),ambiguousSexpr:n(function(b,w,S){var C=b.path,R=C.parts[0],T=w!=null||S!=null;this.opcode("getContext",C.depth),this.opcode("pushProgram",w),this.opcode("pushProgram",S),C.strict=!0,this.accept(C),this.opcode("invokeAmbiguous",R,T)},"ambiguousSexpr"),simpleSexpr:n(function(b){var w=b.path;w.strict=!0,this.accept(w),this.opcode("resolvePossibleLambda")},"simpleSexpr"),helperSexpr:n(function(b,w,S){var C=this.setupFullMustacheParams(b,w,S),R=b.path,T=R.parts[0];if(this.options.knownHelpers[T])this.opcode("invokeKnownHelper",C.length,T);else{if(this.options.knownHelpersOnly)throw new i.default("You specified knownHelpersOnly, but used the unknown helper "+T,b);R.strict=!0,R.falsy=!0,this.accept(R),this.opcode("invokeHelper",C.length,R.original,a.default.helpers.simpleId(R))}},"helperSexpr"),PathExpression:n(function(b){this.addDepth(b.depth),this.opcode("getContext",b.depth);var w=b.parts[0],S=a.default.helpers.scopedId(b),C=!b.depth&&!S&&this.blockParamIndex(w);C?this.opcode("lookupBlockParam",C,b.parts):w?b.data?(this.options.data=!0,this.opcode("lookupData",b.depth,b.parts,b.strict)):this.opcode("lookupOnContext",b.parts,b.falsy,b.strict,S):this.opcode("pushContext")},"PathExpression"),StringLiteral:n(function(b){this.opcode("pushString",b.value)},"StringLiteral"),NumberLiteral:n(function(b){this.opcode("pushLiteral",b.value)},"NumberLiteral"),BooleanLiteral:n(function(b){this.opcode("pushLiteral",b.value)},"BooleanLiteral"),UndefinedLiteral:n(function(){this.opcode("pushLiteral","undefined")},"UndefinedLiteral"),NullLiteral:n(function(){this.opcode("pushLiteral","null")},"NullLiteral"),Hash:n(function(b){var w=b.pairs,S=0,C=w.length;for(this.opcode("pushHash");S<C;S++)this.pushParam(w[S].value);for(;S--;)this.opcode("assignToHash",w[S].key);this.opcode("popHash")},"Hash"),opcode:n(function(b){this.opcodes.push({opcode:b,args:v.call(arguments,1),loc:this.sourceNode[0].loc})},"opcode"),addDepth:n(function(b){b&&(this.useDepths=!0)},"addDepth"),classifySexpr:n(function(b){var w=a.default.helpers.simpleId(b.path),S=w&&!!this.blockParamIndex(b.path.parts[0]),C=!S&&a.default.helpers.helperExpression(b),R=!S&&(C||w);if(R&&!C){var T=b.path.parts[0],P=this.options;P.knownHelpers[T]?C=!0:P.knownHelpersOnly&&(R=!1)}return C?"helper":R?"ambiguous":"simple"},"classifySexpr"),pushParams:n(function(b){for(var w=0,S=b.length;w<S;w++)this.pushParam(b[w])},"pushParams"),pushParam:n(function(b){var w=b.value!=null?b.value:b.original||"";if(this.stringParams)w.replace&&(w=w.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",w,b.type),b.type==="SubExpression"&&this.accept(b);else{if(this.trackIds){var S=void 0;if(b.parts&&!a.default.helpers.scopedId(b)&&!b.depth&&(S=this.blockParamIndex(b.parts[0])),S){var C=b.parts.slice(1).join(".");this.opcode("pushId","BlockParam",S,C)}else w=b.original||w,w.replace&&(w=w.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",b.type,w)}this.accept(b)}},"pushParam"),setupFullMustacheParams:n(function(b,w,S,C){var R=b.params;return this.pushParams(R),this.opcode("pushProgram",w),this.opcode("pushProgram",S),b.hash?this.accept(b.hash):this.opcode("emptyHash",C),R},"setupFullMustacheParams"),blockParamIndex:n(function(b){for(var w=0,S=this.options.blockParams.length;w<S;w++){var C=this.options.blockParams[w],R=C&&s.indexOf(C,b);if(C&&R>=0)return[w,R]}},"blockParamIndex")};function h(b,w,S){if(b==null||typeof b!="string"&&b.type!=="Program")throw new i.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);w=w||{},!("data"in w)&&(w.data=!0),w.compat&&(w.useDepths=!0);var C=S.parse(b,w),R=new S.Compiler().compile(C,w);return new S.JavaScriptCompiler().compile(R,w)}n(h,"TR");function d(b,w,S){if(w===void 0&&(w={}),b==null||typeof b!="string"&&b.type!=="Program")throw new i.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);w=s.extend({},w),!("data"in w)&&(w.data=!0),w.compat&&(w.useDepths=!0);var C=void 0;function R(){var P=S.parse(b,w),O=new S.Compiler().compile(P,w),j=new S.JavaScriptCompiler().compile(O,w,void 0,!0);return S.template(j)}n(R,"P");function T(P,O){return C||(C=R()),C.call(this,P,O)}return n(T,"O"),T._setup=function(P){return C||(C=R()),C._setup(P)},T._child=function(P,O,j,B){return C||(C=R()),C._child(P,O,j,B)},T}n(d,"XR");function c(b,w){if(b===w)return!0;if(s.isArray(b)&&s.isArray(w)&&b.length===w.length){for(var S=0;S<b.length;S++)if(!c(b[S],w[S]))return!1;return!0}}n(c,"Gw");function y(b){if(!b.path.parts){var w=b.path;b.path={type:"PathExpression",data:!1,depth:0,parts:[w.original+""],original:w.original+"",loc:w.loc}}}n(y,"Aw")}),KC=tt(t=>{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(r){if(0<=r&&r<e.length)return e[r];throw TypeError("Must be between 0 and 63: "+r)},t.decode=function(r){var i=65,s=90,l=97,a=122,v=48,g=57,h=43,d=47,c=26,y=52;return i<=r&&r<=s?r-i:l<=r&&r<=a?r-l+c:v<=r&&r<=g?r-v+y:r==h?62:r==d?63:-1}}),J8=tt(t=>{var e=KC(),r=5,i=1<<r,s=i-1,l=i;function a(g){return g<0?(-g<<1)+1:(g<<1)+0}n(a,"CR");function v(g){var h=(g&1)===1,d=g>>1;return h?-d:d}n(v,"NR"),t.encode=function(g){var h="",d,c=a(g);do d=c&s,c>>>=r,c>0&&(d|=l),h+=e.encode(d);while(c>0);return h},t.decode=function(g,h,d){var c=g.length,y=0,b=0,w,S;do{if(h>=c)throw Error("Expected more digits in base 64 VLQ value.");if(S=e.decode(g.charCodeAt(h++)),S===-1)throw Error("Invalid base64 digit: "+g.charAt(h-1));w=!!(S&l),S&=s,y=y+(S<<b),b+=r}while(w);d.value=v(y),d.rest=h}}),ll=tt(t=>{function e(O,j,B){if(j in O)return O[j];if(arguments.length===3)return B;throw Error('"'+j+'" is a required argument.')}n(e,"DR"),t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(O){var j=O.match(r);return j?{scheme:j[1],auth:j[2],host:j[3],port:j[4],path:j[5]}:null}n(s,"AP"),t.urlParse=s;function l(O){var j="";return O.scheme&&(j+=O.scheme+":"),j+="//",O.auth&&(j+=O.auth+"@"),O.host&&(j+=O.host),O.port&&(j+=":"+O.port),O.path&&(j+=O.path),j}n(l,"R4"),t.urlGenerate=l;function a(O){var j=O,B=s(O);if(B){if(!B.path)return O;j=B.path}for(var Z=t.isAbsolute(j),W=j.split(/\/+/),ee,$=0,U=W.length-1;U>=0;U--)ee=W[U],ee==="."?W.splice(U,1):ee===".."?$++:$>0&&(ee===""?(W.splice(U+1,$),$=0):(W.splice(U,2),$--));return j=W.join("/"),j===""&&(j=Z?"/":"."),B?(B.path=j,l(B)):j}n(a,"h2"),t.normalize=a;function v(O,j){O===""&&(O="."),j===""&&(j=".");var B=s(j),Z=s(O);if(Z&&(O=Z.path||"/"),B&&!B.scheme)return Z&&(B.scheme=Z.scheme),l(B);if(B||j.match(i))return j;if(Z&&!Z.host&&!Z.path)return Z.host=j,l(Z);var W=j.charAt(0)==="/"?j:a(O.replace(/\/+$/,"")+"/"+j);return Z?(Z.path=W,l(Z)):W}n(v,"hw"),t.join=v,t.isAbsolute=function(O){return O.charAt(0)==="/"||r.test(O)};function g(O,j){O===""&&(O="."),O=O.replace(/\/$/,"");for(var B=0;j.indexOf(O+"/")!==0;){var Z=O.lastIndexOf("/");if(Z<0||(O=O.slice(0,Z),O.match(/^([^\/]+:\/)?\/*$/)))return j;++B}return Array(B+1).join("../")+j.substr(O.length+1)}n(g,"LR"),t.relative=g;var h=(function(){var O=Object.create(null);return!("__proto__"in O)})();function d(O){return O}n(d,"Iw");function c(O){return b(O)?"$"+O:O}n(c,"bR"),t.toSetString=h?d:c;function y(O){return b(O)?O.slice(1):O}n(y,"gR"),t.fromSetString=h?d:y;function b(O){if(!O)return!1;var j=O.length;if(j<9||O.charCodeAt(j-1)!==95||O.charCodeAt(j-2)!==95||O.charCodeAt(j-3)!==111||O.charCodeAt(j-4)!==116||O.charCodeAt(j-5)!==111||O.charCodeAt(j-6)!==114||O.charCodeAt(j-7)!==112||O.charCodeAt(j-8)!==95||O.charCodeAt(j-9)!==95)return!1;for(var B=j-10;B>=0;B--)if(O.charCodeAt(B)!==36)return!1;return!0}n(b,"Lw");function w(O,j,B){var Z=C(O.source,j.source);return Z!==0||(Z=O.originalLine-j.originalLine,Z!==0)||(Z=O.originalColumn-j.originalColumn,Z!==0||B)||(Z=O.generatedColumn-j.generatedColumn,Z!==0)||(Z=O.generatedLine-j.generatedLine,Z!==0)?Z:C(O.name,j.name)}n(w,"yR"),t.compareByOriginalPositions=w;function S(O,j,B){var Z=O.generatedLine-j.generatedLine;return Z!==0||(Z=O.generatedColumn-j.generatedColumn,Z!==0||B)||(Z=C(O.source,j.source),Z!==0)||(Z=O.originalLine-j.originalLine,Z!==0)||(Z=O.originalColumn-j.originalColumn,Z!==0)?Z:C(O.name,j.name)}n(S,"pR"),t.compareByGeneratedPositionsDeflated=S;function C(O,j){return O===j?0:O===null?1:j===null?-1:O>j?1:-1}n(C,"h4");function R(O,j){var B=O.generatedLine-j.generatedLine;return B!==0||(B=O.generatedColumn-j.generatedColumn,B!==0)||(B=C(O.source,j.source),B!==0)||(B=O.originalLine-j.originalLine,B!==0)||(B=O.originalColumn-j.originalColumn,B!==0)?B:C(O.name,j.name)}n(R,"xR"),t.compareByGeneratedPositionsInflated=R;function T(O){return JSON.parse(O.replace(/^\)]}'[^\n]*\n/,""))}n(T,"uR"),t.parseSourceMapInput=T;function P(O,j,B){if(j=j||"",O&&(O[O.length-1]!=="/"&&j[0]!=="/"&&(O+="/"),j=O+j),B){var Z=s(B);if(!Z)throw Error("sourceMapURL could not be parsed");if(Z.path){var W=Z.path.lastIndexOf("/");W>=0&&(Z.path=Z.path.substring(0,W+1))}j=v(l(Z),j)}return a(j)}n(P,"mR"),t.computeSourceURL=P}),q8=tt(t=>{var e=ll(),r=Object.prototype.hasOwnProperty,i=typeof Map<"u";function s(){this._array=[],this._set=i?new Map:Object.create(null)}n(s,"CK"),s.fromArray=function(l,a){for(var v=new s,g=0,h=l.length;g<h;g++)v.add(l[g],a);return v},s.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(l,a){var v=i?l:e.toSetString(l),g=i?this.has(l):r.call(this._set,v),h=this._array.length;(!g||a)&&this._array.push(l),g||(i?this._set.set(l,h):this._set[v]=h)},s.prototype.has=function(l){if(i)return this._set.has(l);var a=e.toSetString(l);return r.call(this._set,a)},s.prototype.indexOf=function(l){if(i){var a=this._set.get(l);if(a>=0)return a}else{var v=e.toSetString(l);if(r.call(this._set,v))return this._set[v]}throw Error('"'+l+'" is not in the set.')},s.prototype.at=function(l){if(l>=0&&l<this._array.length)return this._array[l];throw Error("No element indexed by "+l)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s}),YC=tt(t=>{var e=ll();function r(s,l){var a=s.generatedLine,v=l.generatedLine,g=s.generatedColumn,h=l.generatedColumn;return v>a||v==a&&h>=g||e.compareByGeneratedPositionsInflated(s,l)<=0}n(r,"Kh");function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(i,"E1"),i.prototype.unsortedForEach=function(s,l){this._array.forEach(s,l)},i.prototype.add=function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i}),e_=tt(t=>{var e=J8(),r=ll(),i=q8().ArraySet,s=YC().MappingList;function l(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}n(l,"k6"),l.prototype._version=3,l.fromSourceMap=function(a){var v=a.sourceRoot,g=new l({file:a.file,sourceRoot:v});return a.eachMapping(function(h){var d={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(d.source=h.source,v!=null&&(d.source=r.relative(v,d.source)),d.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(d.name=h.name)),g.addMapping(d)}),a.sources.forEach(function(h){var d=h;v!==null&&(d=r.relative(v,h)),g._sources.has(d)||g._sources.add(d);var c=a.sourceContentFor(h);c!=null&&g.setSourceContent(h,c)}),g},l.prototype.addMapping=function(a){var v=r.getArg(a,"generated"),g=r.getArg(a,"original",null),h=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(v,g,h,d),h!=null&&(h=String(h),!this._sources.has(h)&&this._sources.add(h)),d!=null&&(d=String(d),!this._names.has(d)&&this._names.add(d)),this._mappings.add({generatedLine:v.line,generatedColumn:v.column,originalLine:g!=null&&g.line,originalColumn:g!=null&&g.column,source:h,name:d})},l.prototype.setSourceContent=function(a,v){var g=a;this._sourceRoot!=null&&(g=r.relative(this._sourceRoot,g)),v!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(g)]=v):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(g)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},l.prototype.applySourceMap=function(a,v,g){var h=v;if(v==null){if(a.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=a.file}var d=this._sourceRoot;d!=null&&(h=r.relative(d,h));var c=new i,y=new i;this._mappings.unsortedForEach(function(b){if(b.source===h&&b.originalLine!=null){var w=a.originalPositionFor({line:b.originalLine,column:b.originalColumn});w.source!=null&&(b.source=w.source,g!=null&&(b.source=r.join(g,b.source)),d!=null&&(b.source=r.relative(d,b.source)),b.originalLine=w.line,b.originalColumn=w.column,w.name!=null&&(b.name=w.name))}var S=b.source;S!=null&&!c.has(S)&&c.add(S);var C=b.name;C!=null&&!y.has(C)&&y.add(C)},this),this._sources=c,this._names=y,a.sources.forEach(function(b){var w=a.sourceContentFor(b);w!=null&&(g!=null&&(b=r.join(g,b)),d!=null&&(b=r.relative(d,b)),this.setSourceContent(b,w))},this)},l.prototype._validateMapping=function(a,v,g,h){if(v&&typeof v.line!="number"&&typeof v.column!="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!v&&!g&&!h)){if(a&&"line"in a&&"column"in a&&v&&"line"in v&&"column"in v&&a.line>0&&a.column>=0&&v.line>0&&v.column>=0&&g)return;throw Error("Invalid mapping: "+JSON.stringify({generated:a,source:g,original:v,name:h}))}},l.prototype._serializeMappings=function(){for(var a=0,v=1,g=0,h=0,d=0,c=0,y="",b,w,S,C,R=this._mappings.toArray(),T=0,P=R.length;T<P;T++){if(w=R[T],b="",w.generatedLine!==v)for(a=0;w.generatedLine!==v;)b+=";",v++;else if(T>0){if(!r.compareByGeneratedPositionsInflated(w,R[T-1]))continue;b+=","}b+=e.encode(w.generatedColumn-a),a=w.generatedColumn,w.source!=null&&(C=this._sources.indexOf(w.source),b+=e.encode(C-c),c=C,b+=e.encode(w.originalLine-1-h),h=w.originalLine-1,b+=e.encode(w.originalColumn-g),g=w.originalColumn,w.name!=null&&(S=this._names.indexOf(w.name),b+=e.encode(S-d),d=S)),y+=b}return y},l.prototype._generateSourcesContent=function(a,v){return a.map(function(g){if(!this._sourcesContents)return null;v!=null&&(g=r.relative(v,g));var h=r.toSetString(g);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},l.prototype.toJSON=function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},l.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=l}),XC=tt(t=>{t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,i,s,l,a,v){var g=Math.floor((i-r)/2)+r,h=a(s,l[g],!0);return h===0?g:h>0?i-g>1?e(g,i,s,l,a,v):v==t.LEAST_UPPER_BOUND?i<l.length?i:-1:g:g-r>1?e(r,g,s,l,a,v):v==t.LEAST_UPPER_BOUND?g:r<0?-1:r}n(e,"g2"),t.search=function(r,i,s,l){if(i.length===0)return-1;var a=e(-1,i.length,r,i,s,l||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(i[a],i[a-1],!0)===0;)--a;return a}}),QC=tt(t=>{function e(s,l,a){var v=s[l];s[l]=s[a],s[a]=v}n(e,"p2");function r(s,l){return Math.round(s+Math.random()*(l-s))}n(r,"zh");function i(s,l,a,v){if(a<v){var g=r(a,v),h=a-1;e(s,g,v);for(var d=s[v],c=a;c<v;c++)l(s[c],d)<=0&&(h+=1,e(s,h,c));e(s,h+1,c);var y=h+1;i(s,l,a,y-1),i(s,l,y+1,v)}}n(i,"x2"),t.quickSort=function(s,l){i(s,l,0,s.length-1)}}),JC=tt(t=>{var e=ll(),r=XC(),i=q8().ArraySet,s=J8(),l=QC().quickSort;function a(d,c){var y=d;return typeof d=="string"&&(y=e.parseSourceMapInput(d)),y.sections!=null?new h(y,c):new v(y,c)}n(a,"b$"),a.fromSourceMap=function(d,c){return v.fromSourceMap(d,c)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")}),a.prototype._charIsMappingSeparator=function(d,c){var y=d.charAt(c);return y===";"||y===","},a.prototype._parseMappings=function(d,c){throw Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(d,c,y){var b=c||null,w=y||a.GENERATED_ORDER,S;switch(w){case a.GENERATED_ORDER:S=this._generatedMappings;break;case a.ORIGINAL_ORDER:S=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var C=this.sourceRoot;S.map(function(R){var T=R.source===null?null:this._sources.at(R.source);return T=e.computeSourceURL(C,T,this._sourceMapURL),{source:T,generatedLine:R.generatedLine,generatedColumn:R.generatedColumn,originalLine:R.originalLine,originalColumn:R.originalColumn,name:R.name===null?null:this._names.at(R.name)}},this).forEach(d,b)},a.prototype.allGeneratedPositionsFor=function(d){var c=e.getArg(d,"line"),y={source:e.getArg(d,"source"),originalLine:c,originalColumn:e.getArg(d,"column",0)};if(y.source=this._findSourceIndex(y.source),y.source<0)return[];var b=[],w=this._findMapping(y,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(w>=0){var S=this._originalMappings[w];if(d.column===void 0)for(var C=S.originalLine;S&&S.originalLine===C;)b.push({line:e.getArg(S,"generatedLine",null),column:e.getArg(S,"generatedColumn",null),lastColumn:e.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++w];else for(var R=S.originalColumn;S&&S.originalLine===c&&S.originalColumn==R;)b.push({line:e.getArg(S,"generatedLine",null),column:e.getArg(S,"generatedColumn",null),lastColumn:e.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++w]}return b},t.SourceMapConsumer=a;function v(d,c){var y=d;typeof d=="string"&&(y=e.parseSourceMapInput(d));var b=e.getArg(y,"version"),w=e.getArg(y,"sources"),S=e.getArg(y,"names",[]),C=e.getArg(y,"sourceRoot",null),R=e.getArg(y,"sourcesContent",null),T=e.getArg(y,"mappings"),P=e.getArg(y,"file",null);if(b!=this._version)throw Error("Unsupported version: "+b);C&&(C=e.normalize(C)),w=w.map(String).map(e.normalize).map(function(O){return C&&e.isAbsolute(C)&&e.isAbsolute(O)?e.relative(C,O):O}),this._names=i.fromArray(S.map(String),!0),this._sources=i.fromArray(w,!0),this._absoluteSources=this._sources.toArray().map(function(O){return e.computeSourceURL(C,O,c)}),this.sourceRoot=C,this.sourcesContent=R,this._mappings=T,this._sourceMapURL=c,this.file=P}n(v,"N8"),v.prototype=Object.create(a.prototype),v.prototype.consumer=a,v.prototype._findSourceIndex=function(d){var c=d;if(this.sourceRoot!=null&&(c=e.relative(this.sourceRoot,c)),this._sources.has(c))return this._sources.indexOf(c);var y;for(y=0;y<this._absoluteSources.length;++y)if(this._absoluteSources[y]==d)return y;return-1},v.fromSourceMap=function(d,c){var y=Object.create(v.prototype),b=y._names=i.fromArray(d._names.toArray(),!0),w=y._sources=i.fromArray(d._sources.toArray(),!0);y.sourceRoot=d._sourceRoot,y.sourcesContent=d._generateSourcesContent(y._sources.toArray(),y.sourceRoot),y.file=d._file,y._sourceMapURL=c,y._absoluteSources=y._sources.toArray().map(function(B){return e.computeSourceURL(y.sourceRoot,B,c)});for(var S=d._mappings.toArray().slice(),C=y.__generatedMappings=[],R=y.__originalMappings=[],T=0,P=S.length;T<P;T++){var O=S[T],j=new g;j.generatedLine=O.generatedLine,j.generatedColumn=O.generatedColumn,O.source&&(j.source=w.indexOf(O.source),j.originalLine=O.originalLine,j.originalColumn=O.originalColumn,O.name&&(j.name=b.indexOf(O.name)),R.push(j)),C.push(j)}return l(y.__originalMappings,e.compareByOriginalPositions),y},v.prototype._version=3,Object.defineProperty(v.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function g(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(g,"uw"),v.prototype._parseMappings=function(d,c){for(var y=1,b=0,w=0,S=0,C=0,R=0,T=d.length,P=0,O={},j={},B=[],Z=[],W,ee,$,U,u;P<T;)if(d.charAt(P)===";")y++,P++,b=0;else if(d.charAt(P)===",")P++;else{for(W=new g,W.generatedLine=y,U=P;U<T&&!this._charIsMappingSeparator(d,U);U++);if(ee=d.slice(P,U),$=O[ee],$)P+=ee.length;else{for($=[];P<U;)s.decode(d,P,j),u=j.value,P=j.rest,$.push(u);if($.length===2)throw Error("Found a source, but no line and column");if($.length===3)throw Error("Found a source and line, but no column");O[ee]=$}W.generatedColumn=b+$[0],b=W.generatedColumn,$.length>1&&(W.source=C+$[1],C+=$[1],W.originalLine=w+$[2],w=W.originalLine,W.originalLine+=1,W.originalColumn=S+$[3],S=W.originalColumn,$.length>4&&(W.name=R+$[4],R+=$[4])),Z.push(W),typeof W.originalLine=="number"&&B.push(W)}l(Z,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=Z,l(B,e.compareByOriginalPositions),this.__originalMappings=B},v.prototype._findMapping=function(d,c,y,b,w,S){if(d[y]<=0)throw TypeError("Line must be greater than or equal to 1, got "+d[y]);if(d[b]<0)throw TypeError("Column must be greater than or equal to 0, got "+d[b]);return r.search(d,c,w,S)},v.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var c=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var y=this._generatedMappings[d+1];if(c.generatedLine===y.generatedLine){c.lastGeneratedColumn=y.generatedColumn-1;continue}}c.lastGeneratedColumn=1/0}},v.prototype.originalPositionFor=function(d){var c={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},y=this._findMapping(c,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(y>=0){var b=this._generatedMappings[y];if(b.generatedLine===c.generatedLine){var w=e.getArg(b,"source",null);w!==null&&(w=this._sources.at(w),w=e.computeSourceURL(this.sourceRoot,w,this._sourceMapURL));var S=e.getArg(b,"name",null);return S!==null&&(S=this._names.at(S)),{source:w,line:e.getArg(b,"originalLine",null),column:e.getArg(b,"originalColumn",null),name:S}}}return{source:null,line:null,column:null,name:null}},v.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},v.prototype.sourceContentFor=function(d,c){if(!this.sourcesContent)return null;var y=this._findSourceIndex(d);if(y>=0)return this.sourcesContent[y];var b=d;this.sourceRoot!=null&&(b=e.relative(this.sourceRoot,b));var w;if(this.sourceRoot!=null&&(w=e.urlParse(this.sourceRoot))){var S=b.replace(/^file:\/\//,"");if(w.scheme=="file"&&this._sources.has(S))return this.sourcesContent[this._sources.indexOf(S)];if((!w.path||w.path=="/")&&this._sources.has("/"+b))return this.sourcesContent[this._sources.indexOf("/"+b)]}if(c)return null;throw Error('"'+b+'" is not in the SourceMap.')},v.prototype.generatedPositionFor=function(d){var c=e.getArg(d,"source");if(c=this._findSourceIndex(c),c<0)return{line:null,column:null,lastColumn:null};var y={source:c,originalLine:e.getArg(d,"line"),originalColumn:e.getArg(d,"column")},b=this._findMapping(y,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(b>=0){var w=this._originalMappings[b];if(w.source===y.source)return{line:e.getArg(w,"generatedLine",null),column:e.getArg(w,"generatedColumn",null),lastColumn:e.getArg(w,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=v;function h(d,c){var y=d;typeof d=="string"&&(y=e.parseSourceMapInput(d));var b=e.getArg(y,"version"),w=e.getArg(y,"sections");if(b!=this._version)throw Error("Unsupported version: "+b);this._sources=new i,this._names=new i;var S={line:-1,column:0};this._sections=w.map(function(C){if(C.url)throw Error("Support for url field in sections not implemented.");var R=e.getArg(C,"offset"),T=e.getArg(R,"line"),P=e.getArg(R,"column");if(T<S.line||T===S.line&&P<S.column)throw Error("Section offsets must be ordered and non-overlapping.");return S=R,{generatedOffset:{generatedLine:T+1,generatedColumn:P+1},consumer:new a(e.getArg(C,"map"),c)}})}n(h,"L6"),h.prototype=Object.create(a.prototype),h.prototype.constructor=a,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:n(function(){for(var d=[],c=0;c<this._sections.length;c++)for(var y=0;y<this._sections[c].consumer.sources.length;y++)d.push(this._sections[c].consumer.sources[y]);return d},"get")}),h.prototype.originalPositionFor=function(d){var c={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},y=r.search(c,this._sections,function(w,S){var C=w.generatedLine-S.generatedOffset.generatedLine;return C||w.generatedColumn-S.generatedOffset.generatedColumn}),b=this._sections[y];return b?b.consumer.originalPositionFor({line:c.generatedLine-(b.generatedOffset.generatedLine-1),column:c.generatedColumn-(b.generatedOffset.generatedLine===c.generatedLine?b.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},h.prototype.sourceContentFor=function(d,c){for(var y=0;y<this._sections.length;y++){var b=this._sections[y],w=b.consumer.sourceContentFor(d,!0);if(w)return w}if(c)return null;throw Error('"'+d+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(d){for(var c=0;c<this._sections.length;c++){var y=this._sections[c];if(y.consumer._findSourceIndex(e.getArg(d,"source"))!==-1){var b=y.consumer.generatedPositionFor(d);if(b){var w={line:b.line+(y.generatedOffset.generatedLine-1),column:b.column+(y.generatedOffset.generatedLine===b.line?y.generatedOffset.generatedColumn-1:0)};return w}}}return{line:null,column:null}},h.prototype._parseMappings=function(d,c){this.__generatedMappings=[],this.__originalMappings=[];for(var y=0;y<this._sections.length;y++)for(var b=this._sections[y],w=b.consumer._generatedMappings,S=0;S<w.length;S++){var C=w[S],R=b.consumer._sources.at(C.source);R=e.computeSourceURL(b.consumer.sourceRoot,R,this._sourceMapURL),this._sources.add(R),R=this._sources.indexOf(R);var T=null;C.name&&(T=b.consumer._names.at(C.name),this._names.add(T),T=this._names.indexOf(T));var P={source:R,generatedLine:C.generatedLine+(b.generatedOffset.generatedLine-1),generatedColumn:C.generatedColumn+(b.generatedOffset.generatedLine===C.generatedLine?b.generatedOffset.generatedColumn-1:0),originalLine:C.originalLine,originalColumn:C.originalColumn,name:T};this.__generatedMappings.push(P),typeof P.originalLine=="number"&&this.__originalMappings.push(P)}l(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),l(this.__originalMappings,e.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h}),qC=tt(t=>{var e=e_().SourceMapGenerator,r=ll(),i=/(\r?\n)/,s=10,l="$$$isSourceNode$$$";function a(v,g,h,d,c){this.children=[],this.sourceContents={},this.line=v??null,this.column=g??null,this.source=h??null,this.name=c??null,this[l]=!0,d!=null&&this.add(d)}n(a,"j6"),a.fromStringWithSourceMap=function(v,g,h){var d=new a,c=v.split(i),y=0,b=n(function(){var T=O(),P=O()||"";return T+P;function O(){return y<c.length?c[y++]:void 0}},"H"),w=1,S=0,C=null;return g.eachMapping(function(T){if(C!==null)if(w<T.generatedLine)R(C,b()),w++,S=0;else{var P=c[y]||"",O=P.substr(0,T.generatedColumn-S);c[y]=P.substr(T.generatedColumn-S),S=T.generatedColumn,R(C,O),C=T;return}for(;w<T.generatedLine;)d.add(b()),w++;if(S<T.generatedColumn){var P=c[y]||"";d.add(P.substr(0,T.generatedColumn)),c[y]=P.substr(T.generatedColumn),S=T.generatedColumn}C=T},this),y<c.length&&(C&&R(C,b()),d.add(c.splice(y).join(""))),g.sources.forEach(function(T){var P=g.sourceContentFor(T);P!=null&&(h!=null&&(T=r.join(h,T)),d.setSourceContent(T,P))}),d;function R(T,P){if(T===null||T.source===void 0)d.add(P);else{var O=h?r.join(h,T.source):T.source;d.add(new a(T.originalLine,T.originalColumn,O,P,T.name))}}n(R,"k")},a.prototype.add=function(v){if(Array.isArray(v))v.forEach(function(g){this.add(g)},this);else if(v[l]||typeof v=="string")v&&this.children.push(v);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+v);return this},a.prototype.prepend=function(v){if(Array.isArray(v))for(var g=v.length-1;g>=0;g--)this.prepend(v[g]);else if(v[l]||typeof v=="string")this.children.unshift(v);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+v);return this},a.prototype.walk=function(v){for(var g,h=0,d=this.children.length;h<d;h++)g=this.children[h],g[l]?g.walk(v):g!==""&&v(g,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(v){var g,h,d=this.children.length;if(d>0){for(g=[],h=0;h<d-1;h++)g.push(this.children[h]),g.push(v);g.push(this.children[h]),this.children=g}return this},a.prototype.replaceRight=function(v,g){var h=this.children[this.children.length-1];return h[l]?h.replaceRight(v,g):typeof h=="string"?this.children[this.children.length-1]=h.replace(v,g):this.children.push("".replace(v,g)),this},a.prototype.setSourceContent=function(v,g){this.sourceContents[r.toSetString(v)]=g},a.prototype.walkSourceContents=function(v){for(var g=0,h=this.children.length;g<h;g++)this.children[g][l]&&this.children[g].walkSourceContents(v);for(var d=Object.keys(this.sourceContents),g=0,h=d.length;g<h;g++)v(r.fromSetString(d[g]),this.sourceContents[d[g]])},a.prototype.toString=function(){var v="";return this.walk(function(g){v+=g}),v},a.prototype.toStringWithSourceMap=function(v){var g={code:"",line:1,column:0},h=new e(v),d=!1,c=null,y=null,b=null,w=null;return this.walk(function(S,C){g.code+=S,C.source!==null&&C.line!==null&&C.column!==null?((c!==C.source||y!==C.line||b!==C.column||w!==C.name)&&h.addMapping({source:C.source,original:{line:C.line,column:C.column},generated:{line:g.line,column:g.column},name:C.name}),c=C.source,y=C.line,b=C.column,w=C.name,d=!0):d&&(h.addMapping({generated:{line:g.line,column:g.column}}),c=null,d=!1);for(var R=0,T=S.length;R<T;R++)S.charCodeAt(R)===s?(g.line++,g.column=0,R+1===T?(c=null,d=!1):d&&h.addMapping({source:C.source,original:{line:C.line,column:C.column},generated:{line:g.line,column:g.column},name:C.name})):g.column++}),this.walkSourceContents(function(S,C){h.setSourceContent(S,C)}),{code:g.code,map:h}},t.SourceNode=a}),eR=tt(t=>{t.SourceMapGenerator=e_().SourceMapGenerator,t.SourceMapConsumer=JC().SourceMapConsumer,t.SourceNode=qC().SourceNode}),tR=tt((t,e)=>{t.__esModule=!0;var r=Dr(),i=void 0;try{(typeof define!="function"||!define.amd)&&(s=eR(),i=s.SourceNode)}catch{}var s;i||(i=n(function(v,g,h,d){this.src="",d&&this.add(d)},"I_"),i.prototype={add:n(function(v){r.isArray(v)&&(v=v.join("")),this.src+=v},"add"),prepend:n(function(v){r.isArray(v)&&(v=v.join("")),this.src=v+this.src},"prepend"),toStringWithSourceMap:n(function(){return{code:this.toString()}},"toStringWithSourceMap"),toString:n(function(){return this.src},"toString")});function l(v,g,h){if(r.isArray(v)){for(var d=[],c=0,y=v.length;c<y;c++)d.push(g.wrap(v[c],h));return d}else if(typeof v=="boolean"||typeof v=="number")return v+"";return v}n(l,"m2");function a(v){this.srcFile=v,this.source=[]}n(a,"dw"),a.prototype={isEmpty:n(function(){return!this.source.length},"isEmpty"),prepend:n(function(v,g){this.source.unshift(this.wrap(v,g))},"prepend"),push:n(function(v,g){this.source.push(this.wrap(v,g))},"push"),merge:n(function(){var v=this.empty();return this.each(function(g){v.add(["  ",g,`
`])}),v},"merge"),each:n(function(v){for(var g=0,h=this.source.length;g<h;g++)v(this.source[g])},"each"),empty:n(function(){var v=this.currentLocation||{start:{}};return new i(v.start.line,v.start.column,this.srcFile)},"empty"),wrap:n(function(v){var g=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return v instanceof i?v:(v=l(v,this,g),new i(g.start.line,g.start.column,this.srcFile,v))},"wrap"),functionCall:n(function(v,g,h){return h=this.generateList(h),this.wrap([v,g?"."+g+"(":"(",h,")"])},"functionCall"),quotedString:n(function(v){return'"'+(v+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"quotedString"),objectLiteral:n(function(v){var g=this,h=[];Object.keys(v).forEach(function(c){var y=l(v[c],g);y!=="undefined"&&h.push([g.quotedString(c),":",y])});var d=this.generateList(h);return d.prepend("{"),d.add("}"),d},"objectLiteral"),generateList:n(function(v){for(var g=this.empty(),h=0,d=v.length;h<d;h++)h&&g.add(","),g.add(l(v[h],this));return g},"generateList"),generateArray:n(function(v){var g=this.generateList(v);return g.prepend("["),g.add("]"),g},"generateArray")},t.default=a,e.exports=t.default}),rR=tt((t,e)=>{t.__esModule=!0;function r(y){return y&&y.__esModule?y:{default:y}}n(r,"Uw");var i=$g(),s=Si(),l=r(s),a=Dr(),v=tR(),g=r(v);function h(y){this.value=y}n(h,"b4");function d(){}n(d,"g4"),d.prototype={nameLookup:n(function(y,b){return this.internalNameLookup(y,b)},"nameLookup"),depthedLookup:n(function(y){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(y),")"]},"depthedLookup"),compilerInfo:n(function(){var y=i.COMPILER_REVISION,b=i.REVISION_CHANGES[y];return[y,b]},"compilerInfo"),appendToBuffer:n(function(y,b,w){return a.isArray(y)||(y=[y]),y=this.source.wrap(y,b),this.environment.isSimple?["return ",y,";"]:w?["buffer += ",y,";"]:(y.appendToBuffer=!0,y)},"appendToBuffer"),initializeBuffer:n(function(){return this.quotedString("")},"initializeBuffer"),internalNameLookup:n(function(y,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",y,",",JSON.stringify(b),")"]},"internalNameLookup"),lookupPropertyFunctionIsUsed:!1,compile:n(function(y,b,w,S){this.environment=y,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!S,this.name=this.environment.name,this.isChild=!!w,this.context=w||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(y,b),this.useDepths=this.useDepths||y.useDepths||y.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||y.useBlockParams;var C=y.opcodes,R=void 0,T=void 0,P=void 0,O=void 0;for(P=0,O=C.length;P<O;P++)R=C[P],this.source.currentLocation=R.loc,T=T||R.loc,this[R.opcode].apply(this,R.args);if(this.source.currentLocation=T,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),S?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var j=this.createFunctionContext(S);if(this.isChild)return j;var B={compiler:this.compilerInfo(),main:j};this.decorators&&(B.main_d=this.decorators,B.useDecorators=!0);var Z=this.context,W=Z.programs,ee=Z.decorators;for(P=0,O=W.length;P<O;P++)W[P]&&(B[P]=W[P],ee[P]&&(B[P+"_d"]=ee[P],B.useDecorators=!0));return this.environment.usePartial&&(B.usePartial=!0),this.options.data&&(B.useData=!0),this.useDepths&&(B.useDepths=!0),this.useBlockParams&&(B.useBlockParams=!0),this.options.compat&&(B.compat=!0),S?B.compilerOptions=this.options:(B.compiler=JSON.stringify(B.compiler),this.source.currentLocation={start:{line:1,column:0}},B=this.objectLiteral(B),b.srcName?(B=B.toStringWithSourceMap({file:b.destName}),B.map=B.map&&B.map.toString()):B=B.toString()),B},"compile"),preamble:n(function(){this.lastContext=0,this.source=new g.default(this.options.srcName),this.decorators=new g.default(this.options.srcName)},"preamble"),createFunctionContext:n(function(y){var b=this,w="",S=this.stackVars.concat(this.registers.list);S.length>0&&(w+=", "+S.join(", "));var C=0;Object.keys(this.aliases).forEach(function(P){var O=b.aliases[P];O.children&&O.referenceCount>1&&(w+=", alias"+ ++C+"="+P,O.children[0]="alias"+C)}),this.lookupPropertyFunctionIsUsed&&(w+=", "+this.lookupPropertyFunctionVarDeclaration());var R=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&R.push("blockParams"),this.useDepths&&R.push("depths");var T=this.mergeSource(w);return y?(R.push(T),Function.apply(this,R)):this.source.wrap(["function(",R.join(","),`) {
  `,T,"}"])},"createFunctionContext"),mergeSource:n(function(y){var b=this.environment.isSimple,w=!this.forceBuffer,S=void 0,C=void 0,R=void 0,T=void 0;return this.source.each(function(P){P.appendToBuffer?(R?P.prepend("  + "):R=P,T=P):(R&&(C?R.prepend("buffer += "):S=!0,T.add(";"),R=T=void 0),C=!0,!b&&(w=!1))}),w?R?(R.prepend("return "),T.add(";")):C||this.source.push('return "";'):(y+=", buffer = "+(S?"":this.initializeBuffer()),R?(R.prepend("return buffer + "),T.add(";")):this.source.push("return buffer;")),y&&this.source.prepend("var "+y.substring(2)+(S?"":`;
`)),this.source.merge()},"mergeSource"),lookupPropertyFunctionVarDeclaration:n(function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},"lookupPropertyFunctionVarDeclaration"),blockValue:n(function(y){var b=this.aliasable("container.hooks.blockHelperMissing"),w=[this.contextName(0)];this.setupHelperArgs(y,0,w);var S=this.popStack();w.splice(1,0,S),this.push(this.source.functionCall(b,"call",w))},"blockValue"),ambiguousBlockValue:n(function(){var y=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var w=this.topStack();b.splice(1,0,w),this.pushSource(["if (!",this.lastHelper,") { ",w," = ",this.source.functionCall(y,"call",b),"}"])},"ambiguousBlockValue"),appendContent:n(function(y){this.pendingContent?y=this.pendingContent+y:this.pendingLocation=this.source.currentLocation,this.pendingContent=y},"appendContent"),append:n(function(){if(this.isInline())this.replaceStack(function(b){return[" != null ? ",b,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var y=this.popStack();this.pushSource(["if (",y," != null) { ",this.appendToBuffer(y,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"append"),appendEscaped:n(function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},"appendEscaped"),getContext:n(function(y){this.lastContext=y},"getContext"),pushContext:n(function(){this.pushStackLiteral(this.contextName(this.lastContext))},"pushContext"),lookupOnContext:n(function(y,b,w,S){var C=0;!S&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(y[C++])):this.pushContext(),this.resolvePath("context",y,C,b,w)},"lookupOnContext"),lookupBlockParam:n(function(y,b){this.useBlockParams=!0,this.push(["blockParams[",y[0],"][",y[1],"]"]),this.resolvePath("context",b,1)},"lookupBlockParam"),lookupData:n(function(y,b,w){y?this.pushStackLiteral("container.data(data, "+y+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,w)},"lookupData"),resolvePath:n(function(y,b,w,S,C){var R=this;if(this.options.strict||this.options.assumeObjects){this.push(c(this.options.strict&&C,this,b,w,y));return}for(var T=b.length;w<T;w++)this.replaceStack(function(P){var O=R.nameLookup(P,b[w],y);return S?[" && ",O]:[" != null ? ",O," : ",P]})},"resolvePath"),resolvePossibleLambda:n(function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"resolvePossibleLambda"),pushStringParam:n(function(y,b){this.pushContext(),this.pushString(b),b!=="SubExpression"&&(typeof y=="string"?this.pushString(y):this.pushStackLiteral(y))},"pushStringParam"),emptyHash:n(function(y){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(y?"undefined":"{}")},"emptyHash"),pushHash:n(function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},"pushHash"),popHash:n(function(){var y=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(y.ids)),this.stringParams&&(this.push(this.objectLiteral(y.contexts)),this.push(this.objectLiteral(y.types))),this.push(this.objectLiteral(y.values))},"popHash"),pushString:n(function(y){this.pushStackLiteral(this.quotedString(y))},"pushString"),pushLiteral:n(function(y){this.pushStackLiteral(y)},"pushLiteral"),pushProgram:n(function(y){y!=null?this.pushStackLiteral(this.programExpression(y)):this.pushStackLiteral(null)},"pushProgram"),registerDecorator:n(function(y,b){var w=this.nameLookup("decorators",b,"decorator"),S=this.setupHelperArgs(b,y);this.decorators.push(["fn = ",this.decorators.functionCall(w,"",["fn","props","container",S])," || fn;"])},"registerDecorator"),invokeHelper:n(function(y,b,w){var S=this.popStack(),C=this.setupHelper(y,b),R=[];w&&R.push(C.name),R.push(S),!this.options.strict&&R.push(this.aliasable("container.hooks.helperMissing"));var T=["(",this.itemsSeparatedBy(R,"||"),")"],P=this.source.functionCall(T,"call",C.callParams);this.push(P)},"invokeHelper"),itemsSeparatedBy:n(function(y,b){var w=[];w.push(y[0]);for(var S=1;S<y.length;S++)w.push(b,y[S]);return w},"itemsSeparatedBy"),invokeKnownHelper:n(function(y,b){var w=this.setupHelper(y,b);this.push(this.source.functionCall(w.name,"call",w.callParams))},"invokeKnownHelper"),invokeAmbiguous:n(function(y,b){this.useRegister("helper");var w=this.popStack();this.emptyHash();var S=this.setupHelper(0,y,b),C=this.lastHelper=this.nameLookup("helpers",y,"helper"),R=["(","(helper = ",C," || ",w,")"];this.options.strict||(R[0]="(helper = ",R.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",R,S.paramsInit?["),(",S.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",S.callParams)," : helper))"])},"invokeAmbiguous"),invokePartial:n(function(y,b,w){var S=[],C=this.setupParams(b,1,S);y&&(b=this.popStack(),delete C.name),w&&(C.indent=JSON.stringify(w)),C.helpers="helpers",C.partials="partials",C.decorators="container.decorators",y?S.unshift(b):S.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(C.depths="depths"),C=this.objectLiteral(C),S.push(C),this.push(this.source.functionCall("container.invokePartial","",S))},"invokePartial"),assignToHash:n(function(y){var b=this.popStack(),w=void 0,S=void 0,C=void 0;this.trackIds&&(C=this.popStack()),this.stringParams&&(S=this.popStack(),w=this.popStack());var R=this.hash;w&&(R.contexts[y]=w),S&&(R.types[y]=S),C&&(R.ids[y]=C),R.values[y]=b},"assignToHash"),pushId:n(function(y,b,w){y==="BlockParam"?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(w?" + "+JSON.stringify("."+w):"")):y==="PathExpression"?this.pushString(b):y==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"pushId"),compiler:d,compileChildren:n(function(y,b){for(var w=y.children,S=void 0,C=void 0,R=0,T=w.length;R<T;R++){S=w[R],C=new this.compiler;var P=this.matchExistingProgram(S);if(P==null){this.context.programs.push("");var O=this.context.programs.length;S.index=O,S.name="program"+O,this.context.programs[O]=C.compile(S,b,this.context,!this.precompile),this.context.decorators[O]=C.decorators,this.context.environments[O]=S,this.useDepths=this.useDepths||C.useDepths,this.useBlockParams=this.useBlockParams||C.useBlockParams,S.useDepths=this.useDepths,S.useBlockParams=this.useBlockParams}else S.index=P.index,S.name="program"+P.index,this.useDepths=this.useDepths||P.useDepths,this.useBlockParams=this.useBlockParams||P.useBlockParams}},"compileChildren"),matchExistingProgram:n(function(y){for(var b=0,w=this.context.environments.length;b<w;b++){var S=this.context.environments[b];if(S&&S.equals(y))return S}},"matchExistingProgram"),programExpression:n(function(y){var b=this.environment.children[y],w=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&w.push("blockParams"),this.useDepths&&w.push("depths"),"container.program("+w.join(", ")+")"},"programExpression"),useRegister:n(function(y){this.registers[y]||(this.registers[y]=!0,this.registers.list.push(y))},"useRegister"),push:n(function(y){return y instanceof h||(y=this.source.wrap(y)),this.inlineStack.push(y),y},"push"),pushStackLiteral:n(function(y){this.push(new h(y))},"pushStackLiteral"),pushSource:n(function(y){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),y&&this.source.push(y)},"pushSource"),replaceStack:n(function(y){var b=["("],w=void 0,S=void 0,C=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var R=this.popStack(!0);if(R instanceof h)w=[R.value],b=["(",w],C=!0;else{S=!0;var T=this.incrStack();b=["((",this.push(T)," = ",R,")"],w=this.topStack()}var P=y.call(this,w);C||this.popStack(),S&&this.stackSlot--,this.push(b.concat(P,")"))},"replaceStack"),incrStack:n(function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"incrStack"),topStackName:n(function(){return"stack"+this.stackSlot},"topStackName"),flushInline:n(function(){var y=this.inlineStack;this.inlineStack=[];for(var b=0,w=y.length;b<w;b++){var S=y[b];if(S instanceof h)this.compileStack.push(S);else{var C=this.incrStack();this.pushSource([C," = ",S,";"]),this.compileStack.push(C)}}},"flushInline"),isInline:n(function(){return this.inlineStack.length},"isInline"),popStack:n(function(y){var b=this.isInline(),w=(b?this.inlineStack:this.compileStack).pop();if(!y&&w instanceof h)return w.value;if(!b){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return w},"popStack"),topStack:n(function(){var y=this.isInline()?this.inlineStack:this.compileStack,b=y[y.length-1];return b instanceof h?b.value:b},"topStack"),contextName:n(function(y){return this.useDepths&&y?"depths["+y+"]":"depth"+y},"contextName"),quotedString:n(function(y){return this.source.quotedString(y)},"quotedString"),objectLiteral:n(function(y){return this.source.objectLiteral(y)},"objectLiteral"),aliasable:n(function(y){var b=this.aliases[y];return b?(b.referenceCount++,b):(b=this.aliases[y]=this.source.wrap(y),b.aliasable=!0,b.referenceCount=1,b)},"aliasable"),setupHelper:n(function(y,b,w){var S=[],C=this.setupHelperArgs(b,y,S,w),R=this.nameLookup("helpers",b,"helper"),T=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:S,paramsInit:C,name:R,callParams:[T].concat(S)}},"setupHelper"),setupParams:n(function(y,b,w){var S={},C=[],R=[],T=[],P=!w,O=void 0;P&&(w=[]),S.name=this.quotedString(y),S.hash=this.popStack(),this.trackIds&&(S.hashIds=this.popStack()),this.stringParams&&(S.hashTypes=this.popStack(),S.hashContexts=this.popStack());var j=this.popStack(),B=this.popStack();(B||j)&&(S.fn=B||"container.noop",S.inverse=j||"container.noop");for(var Z=b;Z--;)O=this.popStack(),w[Z]=O,this.trackIds&&(T[Z]=this.popStack()),this.stringParams&&(R[Z]=this.popStack(),C[Z]=this.popStack());return P&&(S.args=this.source.generateArray(w)),this.trackIds&&(S.ids=this.source.generateArray(T)),this.stringParams&&(S.types=this.source.generateArray(R),S.contexts=this.source.generateArray(C)),this.options.data&&(S.data="data"),this.useBlockParams&&(S.blockParams="blockParams"),S},"setupParams"),setupHelperArgs:n(function(y,b,w,S){var C=this.setupParams(y,b,w);return C.loc=JSON.stringify(this.source.currentLocation),C=this.objectLiteral(C),S?(this.useRegister("options"),w.push("options"),["options=",C]):w?(w.push(C),""):C},"setupHelperArgs")},(function(){for(var y="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=d.RESERVED_WORDS={},w=0,S=y.length;w<S;w++)b[y[w]]=!0})(),d.isValidJavaScriptVariableName=function(y){return!d.RESERVED_WORDS[y]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(y)};function c(y,b,w,S,C){var R=b.popStack(),T=w.length;for(y&&T--;S<T;S++)R=b.nameLookup(R,w[S],C);return y?[b.aliasable("container.strict"),"(",R,", ",b.quotedString(w[S]),", ",JSON.stringify(b.source.currentLocation)," )"]:R}n(c,"bh"),t.default=d,e.exports=t.default}),iR=tt((t,e)=>{t.__esModule=!0;function r(T){return T&&T.__esModule?T:{default:T}}n(r,"ZP");var i=$C(),s=r(i),l=Q8(),a=r(l),v=GC(),g=WC(),h=rR(),d=r(h),c=Hg(),y=r(c),b=X8(),w=r(b),S=s.default.create;function C(){var T=S();return T.compile=function(P,O){return g.compile(P,O,T)},T.precompile=function(P,O){return g.precompile(P,O,T)},T.AST=a.default,T.Compiler=g.Compiler,T.JavaScriptCompiler=d.default,T.Parser=v.parser,T.parse=v.parse,T.parseWithoutProcessing=v.parseWithoutProcessing,T}n(C,"aw");var R=C();R.create=C,w.default(R),R.Visitor=y.default,R.default=R,t.default=R,e.exports=t.default}),nR=tt(t=>{t.__esModule=!0,t.print=s,t.PrintVisitor=l;function e(a){return a&&a.__esModule?a:{default:a}}n(e,"Fh");var r=Hg(),i=e(r);function s(a){return new l().accept(a)}n(s,"ah");function l(){this.padding=0}n(l,"d$"),l.prototype=new i.default,l.prototype.pad=function(a){for(var v="",g=0,h=this.padding;g<h;g++)v+="  ";return v+=a+`
`,v},l.prototype.Program=function(a){var v="",g=a.body,h=void 0,d=void 0;if(a.blockParams){var c="BLOCK PARAMS: [";for(h=0,d=a.blockParams.length;h<d;h++)c+=" "+a.blockParams[h];c+=" ]",v+=this.pad(c)}for(h=0,d=g.length;h<d;h++)v+=this.accept(g[h]);return this.padding--,v},l.prototype.MustacheStatement=function(a){return this.pad("{{ "+this.SubExpression(a)+" }}")},l.prototype.Decorator=function(a){return this.pad("{{ DIRECTIVE "+this.SubExpression(a)+" }}")},l.prototype.BlockStatement=l.prototype.DecoratorBlock=function(a){var v="";return v+=this.pad((a.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,v+=this.pad(this.SubExpression(a)),a.program&&(v+=this.pad("PROGRAM:"),this.padding++,v+=this.accept(a.program),this.padding--),a.inverse&&(a.program&&this.padding++,v+=this.pad("{{^}}"),this.padding++,v+=this.accept(a.inverse),this.padding--,a.program&&this.padding--),this.padding--,v},l.prototype.PartialStatement=function(a){var v="PARTIAL:"+a.name.original;return a.params[0]&&(v+=" "+this.accept(a.params[0])),a.hash&&(v+=" "+this.accept(a.hash)),this.pad("{{> "+v+" }}")},l.prototype.PartialBlockStatement=function(a){var v="PARTIAL BLOCK:"+a.name.original;return a.params[0]&&(v+=" "+this.accept(a.params[0])),a.hash&&(v+=" "+this.accept(a.hash)),v+=" "+this.pad("PROGRAM:"),this.padding++,v+=this.accept(a.program),this.padding--,this.pad("{{> "+v+" }}")},l.prototype.ContentStatement=function(a){return this.pad("CONTENT[ '"+a.value+"' ]")},l.prototype.CommentStatement=function(a){return this.pad("{{! '"+a.value+"' }}")},l.prototype.SubExpression=function(a){for(var v=a.params,g=[],h=void 0,d=0,c=v.length;d<c;d++)g.push(this.accept(v[d]));return v="["+g.join(", ")+"]",h=a.hash?" "+this.accept(a.hash):"",this.accept(a.path)+" "+v+h},l.prototype.PathExpression=function(a){var v=a.parts.join("/");return(a.data?"@":"")+"PATH:"+v},l.prototype.StringLiteral=function(a){return'"'+a.value+'"'},l.prototype.NumberLiteral=function(a){return"NUMBER{"+a.value+"}"},l.prototype.BooleanLiteral=function(a){return"BOOLEAN{"+a.value+"}"},l.prototype.UndefinedLiteral=function(){return"UNDEFINED"},l.prototype.NullLiteral=function(){return"NULL"},l.prototype.Hash=function(a){for(var v=a.pairs,g=[],h=0,d=v.length;h<d;h++)g.push(this.accept(v[h]));return"HASH{"+g.join(", ")+"}"},l.prototype.HashPair=function(a){return a.key+"="+this.accept(a.value)}}),sR=tt((t,e)=>{var r=iR().default,i=nR();r.PrintVisitor=i.PrintVisitor,r.print=i.print,e.exports=r;function s(l,a){var v=n((()=>({})),"K"),g=v.readFileSync(a,"utf8");l.exports=r.compile(g)}n(s,"KT"),h0.extensions&&(h0.extensions[".handlebars"]=s,h0.extensions[".hbs"]=s)}),aR=tt((t,e)=>{var r=String,i=n(function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}},"xT");e.exports=i(),e.exports.createColors=i}),t_={};$n(t_,{uptime:n(()=>fR,"uptime"),type:n(()=>pR,"type"),totalmem:n(()=>hR,"totalmem"),tmpdir:n(()=>n_,"tmpdir"),tmpDir:n(()=>s_,"tmpDir"),release:n(()=>mR,"release"),platform:n(()=>vR,"platform"),networkInterfaces:n(()=>i_,"networkInterfaces"),loadavg:n(()=>uR,"loadavg"),hostname:n(()=>lR,"hostname"),homedir:n(()=>yR,"homedir"),getNetworkInterfaces:n(()=>r_,"getNetworkInterfaces"),freemem:n(()=>cR,"freemem"),endianness:n(()=>oR,"endianness"),cpus:n(()=>dR,"cpus"),arch:n(()=>gR,"arch"),EOL:n(()=>bR,"EOL")});var oR=n(function(){return"LE"},"II"),lR=n(function(){return typeof location<"u"?location.hostname:""},"LI"),uR=n(function(){return[]},"bI"),fR=n(function(){return 0},"gI"),cR=n(function(){return Number.MAX_VALUE},"yI"),hR=n(function(){return Number.MAX_VALUE},"pI"),dR=n(function(){return[]},"xI"),pR=n(function(){return"Browser"},"uI"),mR=n(function(){return typeof navigator<"u"?navigator.appVersion:""},"mI"),r_=n(function(){return{}},"QT"),i_,gR=n(function(){return"javascript"},"lI"),vR=n(function(){return"browser"},"dI"),n_=n(function(){return"/tmp"},"aT"),s_,bR=`
`,yR=n(function(){return"/"},"rI"),wR=al(()=>{i_=r_,s_=n_}),gr={};$n(gr,{transcode:n(()=>k_,"transcode"),resolveObjectURL:n(()=>E_,"resolveObjectURL"),kStringMaxLength:n(()=>m_,"kStringMaxLength"),kMaxLength:n(()=>go,"kMaxLength"),isUtf8:n(()=>A_,"isUtf8"),isAscii:n(()=>WR,"isAscii"),default:n(()=>N_,"default"),constants:n(()=>w_,"constants"),btoa:n(()=>g_,"btoa"),atob:n(()=>v_,"atob"),INSPECT_MAX_BYTES:n(()=>p_,"INSPECT_MAX_BYTES"),File:n(()=>b_,"File"),Buffer:n(()=>Ye,"Buffer"),Blob:n(()=>y_,"Blob")});function xR(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}n(xR,"wL");function _R(t,e){return(t+e)*3/4-e}n(_R,"TL");function MR(t){var e,r=xR(t),i=r[0],s=r[1],l=new Uint8Array(_R(i,s)),a=0,v=s>0?i-4:i,g;for(g=0;g<v;g+=4)e=Hr[t.charCodeAt(g)]<<18|Hr[t.charCodeAt(g+1)]<<12|Hr[t.charCodeAt(g+2)]<<6|Hr[t.charCodeAt(g+3)],l[a++]=e>>16&255,l[a++]=e>>8&255,l[a++]=e&255;return s===2&&(e=Hr[t.charCodeAt(g)]<<2|Hr[t.charCodeAt(g+1)]>>4,l[a++]=e&255),s===1&&(e=Hr[t.charCodeAt(g)]<<10|Hr[t.charCodeAt(g+1)]<<4|Hr[t.charCodeAt(g+2)]>>2,l[a++]=e>>8&255,l[a++]=e&255),l}n(MR,"XL");function SR(t){return pi[t>>18&63]+pi[t>>12&63]+pi[t>>6&63]+pi[t&63]}n(SR,"fL");function ER(t,e,r){for(var i,s=[],l=e;l<r;l+=3)i=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(t[l+2]&255),s.push(SR(i));return s.join("")}n(ER,"AL");function O2(t){for(var e,r=t.length,i=r%3,s=[],l=16383,a=0,v=r-i;a<v;a+=l)s.push(ER(t,a,a+l>v?v:a+l));return i===1?(e=t[r-1],s.push(pi[e>>2]+pi[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],s.push(pi[e>>10]+pi[e>>4&63]+pi[e<<2&63]+"=")),s.join("")}n(O2,"XX");function Rl(t,e,r,i,s){var l,a,v=s*8-i-1,g=(1<<v)-1,h=g>>1,d=-7,c=r?s-1:0,y=r?-1:1,b=t[e+c];for(c+=y,l=b&(1<<-d)-1,b>>=-d,d+=v;d>0;l=l*256+t[e+c],c+=y,d-=8);for(a=l&(1<<-d)-1,l>>=-d,d+=i;d>0;a=a*256+t[e+c],c+=y,d-=8);if(l===0)l=1-h;else{if(l===g)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,i),l=l-h}return(b?-1:1)*a*Math.pow(2,l-i)}n(Rl,"Q1");function a_(t,e,r,i,s,l){var a,v,g,h=l*8-s-1,d=(1<<h)-1,c=d>>1,y=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:l-1,w=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(v=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-a))<1&&(a--,g*=2),a+c>=1?e+=y/g:e+=y*Math.pow(2,1-c),e*g>=2&&(a++,g/=2),a+c>=d?(v=0,a=d):a+c>=1?(v=(e*g-1)*Math.pow(2,s),a=a+c):(v=e*Math.pow(2,c-1)*Math.pow(2,s),a=0));s>=8;t[r+b]=v&255,b+=w,v/=256,s-=8);for(a=a<<s|v,h+=s;h>0;t[r+b]=a&255,b+=w,a/=256,h-=8);t[r+b-w]|=S*128}n(a_,"ZX");function hn(t){if(t>go)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,Ye.prototype),e}n(hn,"DK");function d0(t,e,r){return class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}n(d0,"L3");function Ye(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw TypeError('The "string" argument must be of type string. Received type number');return cm(t)}return o_(t,e,r)}n(Ye,"zq");function o_(t,e,r){if(typeof t=="string")return kR(t,e);if(ArrayBuffer.isView(t))return NR(t);if(t==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Pi(t,ArrayBuffer)||t&&Pi(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pi(t,SharedArrayBuffer)||t&&Pi(t.buffer,SharedArrayBuffer)))return dm(t,e,r);if(typeof t=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return Ye.from(i,e,r);let s=CR(t);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ye.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}n(o_,"SX");function l_(t){if(typeof t!="number")throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}n(l_,"CX");function AR(t,e,r){return l_(t),t<=0?hn(t):e!==void 0?typeof r=="string"?hn(t).fill(e,r):hn(t).fill(e):hn(t)}n(AR,"NL");function cm(t){return l_(t),hn(t<0?0:Zg(t)|0)}n(cm,"b3");function kR(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ye.isEncoding(e))throw TypeError("Unknown encoding: "+e);let r=u_(t,e)|0,i=hn(r),s=i.write(t,e);return s!==r&&(i=i.slice(0,s)),i}n(kR,"EL");function hm(t){let e=t.length<0?0:Zg(t.length)|0,r=hn(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}n(hm,"h3");function NR(t){if(Pi(t,Uint8Array)){let e=new Uint8Array(t);return dm(e.buffer,e.byteOffset,e.byteLength)}return hm(t)}n(NR,"RL");function dm(t,e,r){if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,Ye.prototype),i}n(dm,"D3");function CR(t){if(Ye.isBuffer(t)){let e=Zg(t.length)|0,r=hn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Number.isNaN(t.length)?hn(0):hm(t);if(t.type==="Buffer"&&Array.isArray(t.data))return hm(t.data)}n(CR,"hL");function Zg(t){if(t>=go)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+go.toString(16)+" bytes");return t|0}n(Zg,"g3");function u_(t,e){if(Ye.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Pi(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let s=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return pm(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return d_(t).length;default:if(s)return i?-1:pm(t).length;e=(""+e).toLowerCase(),s=!0}}n(u_,"NX");function RR(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return UR(this,e,r);case"utf8":case"utf-8":return f_(this,e,r);case"ascii":return BR(this,e,r);case"latin1":case"binary":return FR(this,e,r);case"base64":return LR(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zR(this,e,r);default:if(i)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}n(RR,"DL");function Xn(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}n(Xn,"m_");function j2(t,e,r,i,s){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Number.isNaN(r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0)if(s)r=0;else return-1;if(typeof e=="string"&&(e=Ye.from(e,i)),Ye.isBuffer(e))return e.length===0?-1:L2(t,e,r,i,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):L2(t,[e],r,i,s);throw TypeError("val must be string, number or Buffer")}n(j2,"EX");function L2(t,e,r,i,s){let l=1,a=t.length,v=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;l=2,a/=2,v/=2,r/=2}function g(d,c){return l===1?d[c]:d.readUInt16BE(c*l)}n(g,"v");let h;if(s){let d=-1;for(h=r;h<a;h++)if(g(t,h)===g(e,d===-1?0:h-d)){if(d===-1&&(d=h),h-d+1===v)return d*l}else d!==-1&&(h-=h-d),d=-1}else for(r+v>a&&(r=a-v),h=r;h>=0;h--){let d=!0;for(let c=0;c<v;c++)if(g(t,h+c)!==g(e,c)){d=!1;break}if(d)return h}return-1}n(L2,"AX");function IR(t,e,r,i){r=Number(r)||0;let s=t.length-r;i?(i=Number(i),i>s&&(i=s)):i=s;let l=e.length;i>l/2&&(i=l/2);let a;for(a=0;a<i;++a){let v=parseInt(e.substr(a*2,2),16);if(Number.isNaN(v))return a;t[r+a]=v}return a}n(IR,"IL");function TR(t,e,r,i){return Nf(pm(e,t.length-r),t,r,i)}n(TR,"LL");function PR(t,e,r,i){return Nf(ZR(e),t,r,i)}n(PR,"bL");function OR(t,e,r,i){return Nf(d_(e),t,r,i)}n(OR,"gL");function jR(t,e,r,i){return Nf(VR(e,t.length-r),t,r,i)}n(jR,"yL");function LR(t,e,r){return e===0&&r===t.length?O2(t):O2(t.slice(e,r))}n(LR,"pL");function f_(t,e,r){r=Math.min(t.length,r);let i=[],s=e;for(;s<r;){let l=t[s],a=null,v=l>239?4:l>223?3:l>191?2:1;if(s+v<=r){let g,h,d,c;switch(v){case 1:l<128&&(a=l);break;case 2:g=t[s+1],(g&192)===128&&(c=(l&31)<<6|g&63,c>127&&(a=c));break;case 3:g=t[s+1],h=t[s+2],(g&192)===128&&(h&192)===128&&(c=(l&15)<<12|(g&63)<<6|h&63,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:g=t[s+1],h=t[s+2],d=t[s+3],(g&192)===128&&(h&192)===128&&(d&192)===128&&(c=(l&15)<<18|(g&63)<<12|(h&63)<<6|d&63,c>65535&&c<1114112&&(a=c))}}a===null?(a=65533,v=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),s+=v}return DR(i)}n(f_,"RX");function DR(t){let e=t.length;if(e<=H2)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=H2));return r}n(DR,"xL");function BR(t,e,r){let i="";r=Math.min(t.length,r);for(let s=e;s<r;++s)i+=String.fromCharCode(t[s]&127);return i}n(BR,"uL");function FR(t,e,r){let i="";r=Math.min(t.length,r);for(let s=e;s<r;++s)i+=String.fromCharCode(t[s]);return i}n(FR,"mL");function UR(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let s="";for(let l=e;l<r;++l)s+=S_[t[l]];return s}n(UR,"cL");function zR(t,e,r){let i=t.slice(e,r),s="";for(let l=0;l<i.length-1;l+=2)s+=String.fromCharCode(i[l]+i[l+1]*256);return s}n(zR,"lL");function mr(t,e,r){if(t%1!==0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}n(mr,"v8");function Or(t,e,r,i,s,l){if(!Ye.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<l)throw RangeError('"value" argument is out of bounds');if(r+i>t.length)throw RangeError("Index out of range")}n(Or,"a8");function D2(t,e,r,i,s){h_(e,i,s,t,r,7);let l=Number(e&BigInt(4294967295));t[r++]=l,l=l>>8,t[r++]=l,l=l>>8,t[r++]=l,l=l>>8,t[r++]=l;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}n(D2,"hX");function B2(t,e,r,i,s){h_(e,i,s,t,r,7);let l=Number(e&BigInt(4294967295));t[r+7]=l,l=l>>8,t[r+6]=l,l=l>>8,t[r+5]=l,l=l>>8,t[r+4]=l;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}n(B2,"DX");function c_(t,e,r,i,s,l){if(r+i>t.length||r<0)throw RangeError("Index out of range")}n(c_,"IX");function F2(t,e,r,i,s){return e=+e,r=r>>>0,!s&&c_(t,e,r,4),a_(t,e,r,i,23,4),r+4}n(F2,"LX");function U2(t,e,r,i,s){return e=+e,r=r>>>0,!s&&c_(t,e,r,8),a_(t,e,r,i,52,8),r+8}n(U2,"bX");function z2(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}n(z2,"GX");function $R(t,e,r){Hs(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&qa(e,t.length-(r+1))}n($R,"dL");function h_(t,e,r,i,s,l){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",v;throw e===0||e===BigInt(0)?v=`>= 0${a} and < 2${a} ** ${(l+1)*8}${a}`:v=`>= -(2${a} ** ${(l+1)*8-1}${a}) and < 2 ** ${(l+1)*8-1}${a}`,new Su("value",v,t)}$R(i,s,l)}n(h_,"gX");function Hs(t,e){if(typeof t!="number")throw new __(e,"number",t)}n(Hs,"O7");function qa(t,e,r){throw Math.floor(t)!==t?(Hs(t,r),new Su("offset","an integer",t)):e<0?new x_:new Su("offset",`>= 0 and <= ${e}`,t)}n(qa,"lP");function HR(t){if(t=t.split("=")[0],t=t.trim().replace(M_,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}n(HR,"nL");function pm(t,e){e=e||1/0;let r,i=t.length,s=null,l=[];for(let a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&l.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&l.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&l.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(e-=3)>-1&&l.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;l.push(r)}else if(r<2048){if((e-=2)<0)break;l.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;l.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;l.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw Error("Invalid code point")}return l}n(pm,"I3");function ZR(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}n(ZR,"rL");function VR(t,e){let r,i,s,l=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,s=r%256,l.push(s),l.push(i);return l}n(VR,"BL");function d_(t){return MR(HR(t))}n(d_,"yX");function Nf(t,e,r,i){let s;for(s=0;s<i&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}n(Nf,"a1");function Pi(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}n(Pi,"YK");function yn(t){return typeof BigInt>"u"?GR:t}n(yn,"$_");function GR(){throw Error("BigInt not supported")}n(GR,"UL");function p0(t){return()=>{throw Error(t+" is not implemented for node:buffer browser polyfill")}}n(p0,"y3");var pi,Hr,m0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qn,$2,g0,p_=50,go=2147483647,m_=536870888,g_,v_,b_,y_,w_,x_,__,Su,H2=4096,M_,S_,E_,A_,WR=n(t=>{for(let e of t)if(e.charCodeAt(0)>127)return!1;return!0},"QL"),k_,N_,wr=al(()=>{for(pi=[],Hr=[],Qn=0,$2=m0.length;Qn<$2;++Qn)pi[Qn]=m0[Qn],Hr[m0.charCodeAt(Qn)]=Qn;Hr[45]=62,Hr[95]=63,g0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,g_=globalThis.btoa,v_=globalThis.atob,b_=globalThis.File,y_=globalThis.Blob,w_={MAX_LENGTH:go,MAX_STRING_LENGTH:m_},x_=d0("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),__=d0("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Su=d0("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,s=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?s=z2(String(r)):typeof r=="bigint"&&(s=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(s=z2(s)),s+="n"),i+=` It must be ${e}. Received ${s}`,i},RangeError),Object.defineProperty(Ye.prototype,"parent",{enumerable:!0,get:n(function(){if(Ye.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(Ye.prototype,"offset",{enumerable:!0,get:n(function(){if(Ye.isBuffer(this))return this.byteOffset},"get")}),Ye.poolSize=8192,Ye.from=function(t,e,r){return o_(t,e,r)},Object.setPrototypeOf(Ye.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ye,Uint8Array),Ye.alloc=function(t,e,r){return AR(t,e,r)},Ye.allocUnsafe=function(t){return cm(t)},Ye.allocUnsafeSlow=function(t){return cm(t)},Ye.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Ye.prototype},Ye.compare=function(t,e){if(Pi(t,Uint8Array)&&(t=Ye.from(t,t.offset,t.byteLength)),Pi(e,Uint8Array)&&(e=Ye.from(e,e.offset,e.byteLength)),!Ye.isBuffer(t)||!Ye.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let s=0,l=Math.min(r,i);s<l;++s)if(t[s]!==e[s]){r=t[s],i=e[s];break}return r<i?-1:i<r?1:0},Ye.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ye.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ye.alloc(0);let r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;let i=Ye.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){let l=t[r];if(Pi(l,Uint8Array))s+l.length>i.length?(Ye.isBuffer(l)||(l=Ye.from(l)),l.copy(i,s)):Uint8Array.prototype.set.call(i,l,s);else if(Ye.isBuffer(l))l.copy(i,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=l.length}return i},Ye.byteLength=u_,Ye.prototype._isBuffer=!0,Ye.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)Xn(this,e,e+1);return this},Ye.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)Xn(this,e,e+3),Xn(this,e+1,e+2);return this},Ye.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)Xn(this,e,e+7),Xn(this,e+1,e+6),Xn(this,e+2,e+5),Xn(this,e+3,e+4);return this},Ye.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?f_(this,0,t):RR.apply(this,arguments)},Ye.prototype.toLocaleString=Ye.prototype.toString,Ye.prototype.equals=function(t){if(!Ye.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t?!0:Ye.compare(this,t)===0},Ye.prototype.inspect=function(){let t="",e=p_;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},g0&&(Ye.prototype[g0]=Ye.prototype.inspect),Ye.prototype.compare=function(t,e,r,i,s){if(Pi(t,Uint8Array)&&(t=Ye.from(t,t.offset,t.byteLength)),!Ye.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),e<0||r>t.length||i<0||s>this.length)throw RangeError("out of range index");if(i>=s&&e>=r)return 0;if(i>=s)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,i>>>=0,s>>>=0,this===t)return 0;let l=s-i,a=r-e,v=Math.min(l,a),g=this.slice(i,s),h=t.slice(e,r);for(let d=0;d<v;++d)if(g[d]!==h[d]){l=g[d],a=h[d];break}return l<a?-1:a<l?1:0},Ye.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Ye.prototype.indexOf=function(t,e,r){return j2(this,t,e,r,!0)},Ye.prototype.lastIndexOf=function(t,e,r){return j2(this,t,e,r,!1)},Ye.prototype.write=function(t,e,r,i){if(e===void 0)i="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")i=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-e;if((r===void 0||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let l=!1;for(;;)switch(i){case"hex":return IR(this,t,e,r);case"utf8":case"utf-8":return TR(this,t,e,r);case"ascii":case"latin1":case"binary":return PR(this,t,e,r);case"base64":return OR(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jR(this,t,e,r);default:if(l)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},Ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Ye.prototype.slice=function(t,e){let r=this.length;t=~~t,e=e===void 0?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);let i=this.subarray(t,e);return Object.setPrototypeOf(i,Ye.prototype),i},Ye.prototype.readUintLE=Ye.prototype.readUIntLE=function(t,e,r){t=t>>>0,e=e>>>0,!r&&mr(t,e,this.length);let i=this[t],s=1,l=0;for(;++l<e&&(s*=256);)i+=this[t+l]*s;return i},Ye.prototype.readUintBE=Ye.prototype.readUIntBE=function(t,e,r){t=t>>>0,e=e>>>0,!r&&mr(t,e,this.length);let i=this[t+--e],s=1;for(;e>0&&(s*=256);)i+=this[t+--e]*s;return i},Ye.prototype.readUint8=Ye.prototype.readUInt8=function(t,e){return t=t>>>0,!e&&mr(t,1,this.length),this[t]},Ye.prototype.readUint16LE=Ye.prototype.readUInt16LE=function(t,e){return t=t>>>0,!e&&mr(t,2,this.length),this[t]|this[t+1]<<8},Ye.prototype.readUint16BE=Ye.prototype.readUInt16BE=function(t,e){return t=t>>>0,!e&&mr(t,2,this.length),this[t]<<8|this[t+1]},Ye.prototype.readUint32LE=Ye.prototype.readUInt32LE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},Ye.prototype.readUint32BE=Ye.prototype.readUInt32BE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ye.prototype.readBigUInt64LE=yn(function(t){t=t>>>0,Hs(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&qa(t,this.length-8);let i=e+this[++t]*256+this[++t]*65536+this[++t]*16777216,s=this[++t]+this[++t]*256+this[++t]*65536+r*16777216;return BigInt(i)+(BigInt(s)<<BigInt(32))}),Ye.prototype.readBigUInt64BE=yn(function(t){t=t>>>0,Hs(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&qa(t,this.length-8);let i=e*16777216+this[++t]*65536+this[++t]*256+this[++t],s=this[++t]*16777216+this[++t]*65536+this[++t]*256+r;return(BigInt(i)<<BigInt(32))+BigInt(s)}),Ye.prototype.readIntLE=function(t,e,r){t=t>>>0,e=e>>>0,!r&&mr(t,e,this.length);let i=this[t],s=1,l=0;for(;++l<e&&(s*=256);)i+=this[t+l]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*e)),i},Ye.prototype.readIntBE=function(t,e,r){t=t>>>0,e=e>>>0,!r&&mr(t,e,this.length);let i=e,s=1,l=this[t+--i];for(;i>0&&(s*=256);)l+=this[t+--i]*s;return s*=128,l>=s&&(l-=Math.pow(2,8*e)),l},Ye.prototype.readInt8=function(t,e){return t=t>>>0,!e&&mr(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},Ye.prototype.readInt16LE=function(t,e){t=t>>>0,!e&&mr(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r},Ye.prototype.readInt16BE=function(t,e){t=t>>>0,!e&&mr(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r},Ye.prototype.readInt32LE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ye.prototype.readInt32BE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ye.prototype.readBigInt64LE=yn(function(t){t=t>>>0,Hs(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&qa(t,this.length-8);let i=this[t+4]+this[t+5]*256+this[t+6]*65536+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*256+this[++t]*65536+this[++t]*16777216)}),Ye.prototype.readBigInt64BE=yn(function(t){t=t>>>0,Hs(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&qa(t,this.length-8);let i=(e<<24)+this[++t]*65536+this[++t]*256+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*16777216+this[++t]*65536+this[++t]*256+r)}),Ye.prototype.readFloatLE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),Rl(this,t,!0,23,4)},Ye.prototype.readFloatBE=function(t,e){return t=t>>>0,!e&&mr(t,4,this.length),Rl(this,t,!1,23,4)},Ye.prototype.readDoubleLE=function(t,e){return t=t>>>0,!e&&mr(t,8,this.length),Rl(this,t,!0,52,8)},Ye.prototype.readDoubleBE=function(t,e){return t=t>>>0,!e&&mr(t,8,this.length),Rl(this,t,!1,52,8)},Ye.prototype.writeUintLE=Ye.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e=e>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;Or(this,t,e,r,a,0)}let s=1,l=0;for(this[e]=t&255;++l<r&&(s*=256);)this[e+l]=t/s&255;return e+r},Ye.prototype.writeUintBE=Ye.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e=e>>>0,r=r>>>0,!i){let a=Math.pow(2,8*r)-1;Or(this,t,e,r,a,0)}let s=r-1,l=1;for(this[e+s]=t&255;--s>=0&&(l*=256);)this[e+s]=t/l&255;return e+r},Ye.prototype.writeUint8=Ye.prototype.writeUInt8=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,1,255,0),this[e]=t&255,e+1},Ye.prototype.writeUint16LE=Ye.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},Ye.prototype.writeUint16BE=Ye.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},Ye.prototype.writeUint32LE=Ye.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},Ye.prototype.writeUint32BE=Ye.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},Ye.prototype.writeBigUInt64LE=yn(function(t,e=0){return D2(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),Ye.prototype.writeBigUInt64BE=yn(function(t,e=0){return B2(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),Ye.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e=e>>>0,!i){let v=Math.pow(2,8*r-1);Or(this,t,e,r,v-1,-v)}let s=0,l=1,a=0;for(this[e]=t&255;++s<r&&(l*=256);)t<0&&a===0&&this[e+s-1]!==0&&(a=1),this[e+s]=(t/l>>0)-a&255;return e+r},Ye.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e=e>>>0,!i){let v=Math.pow(2,8*r-1);Or(this,t,e,r,v-1,-v)}let s=r-1,l=1,a=0;for(this[e+s]=t&255;--s>=0&&(l*=256);)t<0&&a===0&&this[e+s+1]!==0&&(a=1),this[e+s]=(t/l>>0)-a&255;return e+r},Ye.prototype.writeInt8=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},Ye.prototype.writeInt16LE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},Ye.prototype.writeInt16BE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},Ye.prototype.writeInt32LE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},Ye.prototype.writeInt32BE=function(t,e,r){return t=+t,e=e>>>0,!r&&Or(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},Ye.prototype.writeBigInt64LE=yn(function(t,e=0){return D2(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ye.prototype.writeBigInt64BE=yn(function(t,e=0){return B2(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ye.prototype.writeFloatLE=function(t,e,r){return F2(this,t,e,!0,r)},Ye.prototype.writeFloatBE=function(t,e,r){return F2(this,t,e,!1,r)},Ye.prototype.writeDoubleLE=function(t,e,r){return U2(this,t,e,!0,r)},Ye.prototype.writeDoubleBE=function(t,e,r){return U2(this,t,e,!1,r)},Ye.prototype.copy=function(t,e,r,i){if(!Ye.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);let s=i-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),s},Ye.prototype.fill=function(t,e,r,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw TypeError("encoding must be a string");if(typeof i=="string"&&!Ye.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(t.length===1){let l=t.charCodeAt(0);(i==="utf8"&&l<128||i==="latin1")&&(t=l)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,!t&&(t=0);let s;if(typeof t=="number")for(s=e;s<r;++s)this[s]=t;else{let l=Ye.isBuffer(t)?t:Ye.from(t,i),a=l.length;if(a===0)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=l[s%a]}return this},M_=/[^+/0-9A-Za-z-_]/g,S_=(function(){let t=Array(256);for(let e=0;e<16;++e){let r=e*16;for(let i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i]}return t})(),E_=p0("resolveObjectURL"),A_=p0("isUtf8"),k_=p0("transcode"),N_=Ye}),C_={};$n(C_,{types:n(()=>aI,"types"),promisify:n(()=>bm,"promisify"),log:n(()=>T_,"log"),isUndefined:n(()=>Xs,"isUndefined"),isSymbol:n(()=>rI,"isSymbol"),isString:n(()=>Rf,"isString"),isRegExp:n(()=>cu,"isRegExp"),isPrimitive:n(()=>iI,"isPrimitive"),isObject:n(()=>ma,"isObject"),isNumber:n(()=>I_,"isNumber"),isNullOrUndefined:n(()=>tI,"isNullOrUndefined"),isNull:n(()=>Cf,"isNull"),isFunction:n(()=>du,"isFunction"),isError:n(()=>hu,"isError"),isDate:n(()=>gm,"isDate"),isBuffer:n(()=>nI,"isBuffer"),isBoolean:n(()=>Gg,"isBoolean"),isArray:n(()=>R_,"isArray"),inspect:n(()=>kn,"inspect"),inherits:n(()=>P_,"inherits"),format:n(()=>Vg,"format"),deprecate:n(()=>KR,"deprecate"),default:n(()=>F_,"default"),debuglog:n(()=>D_,"debuglog"),callbackifyOnRejected:n(()=>Kg,"callbackifyOnRejected"),callbackify:n(()=>j_,"callbackify"),_extend:n(()=>vm,"_extend"),TextEncoder:n(()=>ym,"TextEncoder"),TextDecoder:n(()=>wm,"TextDecoder")});function Vg(t,...e){if(!Rf(t)){for(var r=[t],i=0;i<e.length;i++)r.push(kn(e[i]));return r.join(" ")}for(var i=0,s=e.length,l=String(t).replace(L_,function(v){if(v==="%%")return"%";if(i>=s)return v;switch(v){case"%s":return String(e[i++]);case"%d":return Number(e[i++]);case"%j":try{return JSON.stringify(e[i++])}catch{return"[Circular]"}default:return v}}),a=e[i];i<s;a=e[++i])Cf(a)||!ma(a)?l+=" "+a:l+=" "+kn(a);return l}n(Vg,"c3");function KR(t,e){if(typeof process>"u"||process?.noDeprecation===!0)return t;var r=!1;function i(...s){if(!r){if(process.throwDeprecation)throw Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,...s)}return n(i,"_"),i}n(KR,"qb");function YR(t,e){var r=kn.styles[e];return r?"\x1B["+kn.colors[r][0]+"m"+t+"\x1B["+kn.colors[r][1]+"m":t}n(YR,"Kb");function XR(t,e){return t}n(XR,"_b");function QR(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}n(QR,"Pb");function Eu(t,e,r){if(t.customInspect&&e&&du(e.inspect)&&e.inspect!==kn&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return Rf(i)||(i=Eu(t,i,r)),i}var s=JR(t,e);if(s)return s;var l=Object.keys(e),a=QR(l);if(t.showHidden&&(l=Object.getOwnPropertyNames(e)),hu(e)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return v0(e);if(l.length===0){if(du(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(cu(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(gm(e))return t.stylize(Date.prototype.toString.call(e),"date");if(hu(e))return v0(e)}var g="",h=!1,d=["{","}"];if(R_(e)&&(h=!0,d=["[","]"]),du(e)){var c=e.name?": "+e.name:"";g=" [Function"+c+"]"}if(cu(e)&&(g=" "+RegExp.prototype.toString.call(e)),gm(e)&&(g=" "+Date.prototype.toUTCString.call(e)),hu(e)&&(g=" "+v0(e)),l.length===0&&(!h||e.length==0))return d[0]+g+d[1];if(r<0)return cu(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var y;return h?y=qR(t,e,r,a,l):y=l.map(function(b){return mm(t,e,r,a,b,h)}),t.seen.pop(),eI(y,g,d)}n(Eu,"$5");function JR(t,e){if(Xs(e))return t.stylize("undefined","undefined");if(Rf(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(I_(e))return t.stylize(""+e,"number");if(Gg(e))return t.stylize(""+e,"boolean");if(Cf(e))return t.stylize("null","null")}n(JR,"Yb");function v0(t){return"["+Error.prototype.toString.call(t)+"]"}n(v0,"p3");function qR(t,e,r,i,s){for(var l=[],a=0,v=e.length;a<v;++a)O_(e,String(a))?l.push(mm(t,e,r,i,String(a),!0)):l.push("");return s.forEach(function(g){g.match(/^\d+$/)||l.push(mm(t,e,r,i,g,!0))}),l}n(qR,"jb");function mm(t,e,r,i,s,l){var a,v,g;if(g=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]},g.get?g.set?v=t.stylize("[Getter/Setter]","special"):v=t.stylize("[Getter]","special"):g.set&&(v=t.stylize("[Setter]","special")),O_(i,s)||(a="["+s+"]"),v||(t.seen.indexOf(g.value)<0?(Cf(r)?v=Eu(t,g.value,null):v=Eu(t,g.value,r-1),v.indexOf(`
`)>-1&&(l?v=v.split(`
`).map(function(h){return"  "+h}).join(`
`).slice(2):v=`
`+v.split(`
`).map(function(h){return"   "+h}).join(`
`))):v=t.stylize("[Circular]","special")),Xs(a)){if(l&&s.match(/^\d+$/))return v;a=JSON.stringify(""+s),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+v}n(mm,"u3");function eI(t,e,r){var i=t.reduce(function(s,l){return l.indexOf(`
`)>=0,s+l.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}n(eI,"Ob");function R_(t){return Array.isArray(t)}n(R_,"pX");function Gg(t){return typeof t=="boolean"}n(Gg,"l3");function Cf(t){return t===null}n(Cf,"K5");function tI(t){return t==null}n(tI,"Hb");function I_(t){return typeof t=="number"}n(I_,"xX");function Rf(t){return typeof t=="string"}n(Rf,"_5");function rI(t){return typeof t=="symbol"}n(rI,"zb");function Xs(t){return t===void 0}n(Xs,"W7");function cu(t){return ma(t)&&Wg(t)==="[object RegExp]"}n(cu,"e1");function ma(t){return typeof t=="object"&&t!==null}n(ma,"H7");function gm(t){return ma(t)&&Wg(t)==="[object Date]"}n(gm,"m3");function hu(t){return ma(t)&&(Wg(t)==="[object Error]"||t instanceof Error)}n(hu,"s1");function du(t){return typeof t=="function"}n(du,"q5");function iI(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}n(iI,"Jb");function nI(t){return t instanceof Buffer}n(nI,"vb");function Wg(t){return Object.prototype.toString.call(t)}n(Wg,"d3");function b0(t){return t<10?"0"+t.toString(10):t.toString(10)}n(b0,"x3");function sI(){var t=new Date,e=[b0(t.getHours()),b0(t.getMinutes()),b0(t.getSeconds())].join(":");return[t.getDate(),B_[t.getMonth()],e].join(" ")}n(sI,"Tb");function T_(...t){console.log("%s - %s",sI(),Vg.apply(null,t))}n(T_,"uX");function P_(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}n(P_,"mX");function vm(t,e){if(!e||!ma(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}n(vm,"o3");function O_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n(O_,"cX");function Kg(t,e){if(!t){var r=Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}n(Kg,"n3");function j_(t){if(typeof t!="function")throw TypeError('The "original" argument must be of type Function');function e(...r){var i=r.pop();if(typeof i!="function")throw TypeError("The last argument must be of type Function");var s=this,l=n(function(...a){return i.apply(s,...a)},"O");t.apply(this,r).then(function(a){process.nextTick(l.bind(null,null,a))},function(a){process.nextTick(Kg.bind(null,a,l))})}return n(e,"$"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),e}n(j_,"dX");var L_,D_,kn,aI=n(()=>{},"Wb"),B_,bm,ym,wm,F_,oI=al(()=>{L_=/%[sdj%]/g,D_=((t={},e={},r)=>((r=typeof process<"u"&&!1)&&(r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),e=new RegExp("^"+r+"$","i"),i=>(i=i.toUpperCase(),!t[i]&&(e.test(i)?t[i]=function(...s){console.error("%s: %s",i,pid,Vg.apply(null,...s))}:t[i]=function(){}),t[i])))(),kn=(t=>(t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.custom=Symbol.for("nodejs.util.inspect.custom"),t))(function(t,e,...r){var i={seen:[],stylize:XR};return r.length>=1&&(i.depth=r[0]),r.length>=2&&(i.colors=r[1]),Gg(e)?i.showHidden=e:e&&vm(i,e),Xs(i.showHidden)&&(i.showHidden=!1),Xs(i.depth)&&(i.depth=2),Xs(i.colors)&&(i.colors=!1),i.colors&&(i.stylize=YR),Eu(i,t,i.depth)}),B_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],bm=(t=>(t.custom=Symbol.for("nodejs.util.promisify.custom"),t))(function(t){if(typeof t!="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&t[kCustomPromisifiedSymbol]){var e=t[kCustomPromisifiedSymbol];if(typeof e!="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,kCustomPromisifiedSymbol,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(...r){var i,s,l=new Promise(function(a,v){i=a,s=v});r.push(function(a,v){a?s(a):i(v)});try{t.apply(this,r)}catch(a){s(a)}return l}return n(e,"K"),Object.setPrototypeOf(e,Object.getPrototypeOf(t)),kCustomPromisifiedSymbol&&Object.defineProperty(e,kCustomPromisifiedSymbol,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}),{TextEncoder:ym,TextDecoder:wm}=globalThis,F_={TextEncoder:ym,TextDecoder:wm,promisify:bm,log:T_,inherits:P_,_extend:vm,callbackifyOnRejected:Kg,callbackify:j_}}),eo={};$n(eo,{setMaxListeners:n(()=>H_,"setMaxListeners"),once:n(()=>z_,"once"),listenerCount:n(()=>Z_,"listenerCount"),init:n(()=>an,"init"),getMaxListeners:n(()=>G_,"getMaxListeners"),getEventListeners:n(()=>$_,"getEventListeners"),default:n(()=>K_,"default"),captureRejectionSymbol:n(()=>Sm,"captureRejectionSymbol"),addAbortListener:n(()=>W_,"addAbortListener"),EventEmitter:n(()=>an,"EventEmitter")});function U_(t,e){var{_events:r}=t;if(e[0]??=Error("Unhandled error."),!r)throw e[0];var i=r[_m];if(i)for(var s of Em.call(i))s.apply(t,e);var l=r.error;if(!l)throw e[0];for(var s of Em.call(l))s.apply(t,e);return!0}n(U_,"aX");function lI(t,e,r,i){e.then(void 0,function(s){queueMicrotask(()=>uI(t,s,r,i))})}n(lI,"kb");function uI(t,e,r,i){if(typeof t[Mm]=="function")t[Mm](e,r,...i);else try{t[Sn]=!1,t.emit("error",e)}finally{t[Sn]=!0}}n(uI,"Gb");function Z2(t,e,r){r.warned=!0;let i=Error(`Possible EventEmitter memory leak detected. ${r.length} ${String(e)} listeners added to [${t.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);i.name="MaxListenersExceededWarning",i.emitter=t,i.type=e,i.count=r.length,console.warn(i)}n(Z2,"eX");function V2(t,e,...r){this.removeListener(t,e),e.apply(this,r)}n(V2,"sX");function z_(t,e,r){var i=r?.signal;if(V_(i,"options.signal"),i?.aborted)throw new Am(void 0,{cause:i?.reason});let{resolve:s,reject:l,promise:a}=$newPromiseCapability(Promise),v=n(d=>{t.removeListener(e,g),i!=null&&Il(i,"abort",h),l(d)},"H"),g=n((...d)=>{typeof t.removeListener=="function"&&t.removeListener("error",v),i!=null&&Il(i,"abort",h),s(d)},"v");G2(t,e,g,{once:!0}),e!=="error"&&typeof t.once=="function"&&t.once("error",v);function h(){Il(t,e,g),Il(t,"error",v),l(new Am(void 0,{cause:i?.reason}))}return n(h,"X"),i!=null&&G2(i,"abort",h,{once:!0}),a}n(z_,"qf");function $_(t,e){return t.listeners(e)}n($_,"$f");function H_(t,...e){xm(t,"setMaxListeners",0);var r;if(e&&(r=e.length))for(let i=0;i<r;i++)e[i].setMaxListeners(t);else os=t}n(H_,"Kf");function Z_(t,e){return t.listenerCount(e)}n(Z_,"_f");function Il(t,e,r,i){typeof t.removeListener=="function"?t.removeListener(e,r):t.removeEventListener(e,r,i)}n(Il,"P5");function G2(t,e,r,i){typeof t.on=="function"?i.once?t.once(e,r):t.on(e,r):t.addEventListener(e,r,i)}n(G2,"FX");function ra(t,e,r){let i=TypeError(`The "${t}" argument must be of type ${e}. Received ${r}`);return i.code="ERR_INVALID_ARG_TYPE",i}n(ra,"z7");function fI(t,e,r){let i=RangeError(`The "${t}" argument is out of range. It must be ${e}. Received ${r}`);return i.code="ERR_OUT_OF_RANGE",i}n(fI,"Mb");function V_(t,e){if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw ra(e,"AbortSignal",t)}n(V_,"Pf");function xm(t,e,r,i){if(typeof t!="number")throw ra(e,"number",t);if(t<r||i!=null||Number.isNaN(t))throw fI(e,`${`>= ${r}`}`,t)}n(xm,"i3");function Ea(t){if(typeof t!="function")throw TypeError("The listener must be a function")}n(Ea,"dP");function cI(t,e){if(typeof t!="boolean")throw ra(e,"boolean",t)}n(cI,"Sb");function G_(t){return t?._maxListeners??os}n(G_,"Yf");function W_(t,e){if(t===void 0)throw ra("signal","AbortSignal",t);if(V_(t,"signal"),typeof e!="function")throw ra("listener","function",e);let r;return t.aborted?queueMicrotask(()=>e()):(t.addEventListener("abort",e,{__proto__:null,once:!0}),r=n(()=>{t.removeEventListener("abort",e)},"K")),{__proto__:null,[Symbol.dispose](){r?.()}}}n(W_,"jf");var Tl,Sn,_m,W2,K2,Mm,Sm,Em,os=10,an=n(function(t){(this._events===void 0||this._events===this.__proto__._events)&&(this._events={__proto__:null},this._eventsCount=0),this._maxListeners??=void 0,(this[Sn]=t?.captureRejections?!!t?.captureRejections:Qt[Sn])&&(this.emit=dI)},"K_"),Qt,hI=n(function(t,...e){if(t==="error")return U_(this,e);var{_events:r}=this;if(r===void 0)return!1;var i=r[t];if(i===void 0)return!1;let s=i.length>1?i.slice():i;for(let l=0,{length:a}=s;l<a;l++){let v=s[l];switch(e.length){case 0:v.call(this);break;case 1:v.call(this,e[0]);break;case 2:v.call(this,e[0],e[1]);break;case 3:v.call(this,e[0],e[1],e[2]);break;default:v.apply(this,e);break}}return!0},"Zb"),dI=n(function(t,...e){if(t==="error")return U_(this,e);var{_events:r}=this;if(r===void 0)return!1;var i=r[t];if(i===void 0)return!1;let s=i.length>1?i.slice():i;for(let l=0,{length:a}=s;l<a;l++){let v=s[l],g;switch(e.length){case 0:g=v.call(this);break;case 1:g=v.call(this,e[0]);break;case 2:g=v.call(this,e[0],e[1]);break;case 3:g=v.call(this,e[0],e[1],e[2]);break;default:g=v.apply(this,e);break}g!==void 0&&typeof g?.then=="function"&&g.then===Promise.prototype.then&&lI(this,g,t,e)}return!0},"Vb"),Am,K_,Pl=al(()=>{Tl=Symbol.for,Sn=Symbol("kCapture"),_m=Tl("events.errorMonitor"),W2=Symbol("events.maxEventTargetListeners"),K2=Symbol("events.maxEventTargetListenersWarned"),Mm=Tl("nodejs.rejection"),Sm=Tl("nodejs.rejection"),Em=Array.prototype.slice,Qt=an.prototype={},Qt._events=void 0,Qt._eventsCount=0,Qt._maxListeners=void 0,Qt.setMaxListeners=function(t){return xm(t,"setMaxListeners",0),this._maxListeners=t,this},Qt.constructor=an,Qt.getMaxListeners=function(){return this?._maxListeners??os},Qt.emit=hI,Qt.addListener=function(t,e){Ea(e);var r=this._events;r?r.newListener&&this.emit("newListener",t,e.listener??e):(r=this._events={__proto__:null},this._eventsCount=0);var i=r[t];if(!i)r[t]=[e],this._eventsCount++;else{i.push(e);var s=this._maxListeners??os;s>0&&i.length>s&&!i.warned&&Z2(this,t,i)}return this},Qt.on=Qt.addListener,Qt.prependListener=function(t,e){Ea(e);var r=this._events;r?r.newListener&&this.emit("newListener",t,e.listener??e):(r=this._events={__proto__:null},this._eventsCount=0);var i=r[t];if(!i)r[t]=[e],this._eventsCount++;else{i.unshift(e);var s=this._maxListeners??os;s>0&&i.length>s&&!i.warned&&Z2(this,t,i)}return this},Qt.once=function(t,e){Ea(e);let r=V2.bind(this,t,e);return r.listener=e,this.addListener(t,r),this},Qt.prependOnceListener=function(t,e){Ea(e);let r=V2.bind(this,t,e);return r.listener=e,this.prependListener(t,r),this},Qt.removeListener=function(t,e){Ea(e);var{_events:r}=this;if(!r)return this;var i=r[t];if(!i)return this;var s=i.length;let l=-1;for(let a=s-1;a>=0;a--)if(i[a]===e||i[a].listener===e){l=a;break}return l<0?this:(l===0?i.shift():i.splice(l,1),i.length===0&&(delete r[t],this._eventsCount--),this)},Qt.off=Qt.removeListener,Qt.removeAllListeners=function(t){var{_events:e}=this;return t&&e?e[t]&&(delete e[t],this._eventsCount--):this._events={__proto__:null},this},Qt.listeners=function(t){var{_events:e}=this;if(!e)return[];var r=e[t];return r?r.map(i=>i.listener??i):[]},Qt.rawListeners=function(t){var{_events:e}=this;if(!e)return[];var r=e[t];return r?r.slice():[]},Qt.listenerCount=function(t){var{_events:e}=this;return e?e[t]?.length??0:0},Qt.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},Qt[Sn]=!1,Am=class extends Error{static{n(this,"r3")}constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw ra("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}},Object.defineProperties(an,{captureRejections:{get(){return Qt[Sn]},set(t){cI(t,"EventEmitter.captureRejections"),Qt[Sn]=t},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:n(()=>os,"get"),set:n(t=>{xm(t,"defaultMaxListeners",0),os=t},"set")},kMaxEventTargetListeners:{value:W2,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:K2,enumerable:!1,configurable:!1,writable:!1}}),Object.assign(an,{once:z_,getEventListeners:$_,getMaxListeners:G_,setMaxListeners:H_,EventEmitter:an,usingDomains:!1,captureRejectionSymbol:Sm,errorMonitor:_m,addAbortListener:W_,init:an,listenerCount:Z_}),K_=an}),Y_=tt((t,e)=>{var r=n((A,k)=>()=>(k||A((k={exports:{}}).exports,k),k.exports),"R$"),i=r((A,k)=>{class M extends Error{static{n(this,"K")}constructor(_){if(!Array.isArray(_))throw TypeError(`Expected input to be an Array, got ${typeof _}`);let E="";for(let I=0;I<_.length;I++)E+=`    ${_[I].stack}
`;super(E),this.name="AggregateError",this.errors=_}}k.exports={AggregateError:M,ArrayIsArray(f){return Array.isArray(f)},ArrayPrototypeIncludes(f,_){return f.includes(_)},ArrayPrototypeIndexOf(f,_){return f.indexOf(_)},ArrayPrototypeJoin(f,_){return f.join(_)},ArrayPrototypeMap(f,_){return f.map(_)},ArrayPrototypePop(f,_){return f.pop(_)},ArrayPrototypePush(f,_){return f.push(_)},ArrayPrototypeSlice(f,_,E){return f.slice(_,E)},Error,FunctionPrototypeCall(f,_,...E){return f.call(_,...E)},FunctionPrototypeSymbolHasInstance(f,_){return Function.prototype[Symbol.hasInstance].call(f,_)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(f,_){return Object.defineProperties(f,_)},ObjectDefineProperty(f,_,E){return Object.defineProperty(f,_,E)},ObjectGetOwnPropertyDescriptor(f,_){return Object.getOwnPropertyDescriptor(f,_)},ObjectKeys(f){return Object.keys(f)},ObjectSetPrototypeOf(f,_){return Object.setPrototypeOf(f,_)},Promise,PromisePrototypeCatch(f,_){return f.catch(_)},PromisePrototypeThen(f,_,E){return f.then(_,E)},PromiseReject(f){return Promise.reject(f)},PromiseResolve(f){return Promise.resolve(f)},ReflectApply:Reflect.apply,RegExpPrototypeTest(f,_){return f.test(_)},SafeSet:Set,String,StringPrototypeSlice(f,_,E){return f.slice(_,E)},StringPrototypeToLowerCase(f){return f.toLowerCase()},StringPrototypeToUpperCase(f){return f.toUpperCase()},StringPrototypeTrim(f){return f.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(f,_,E){return f.set(_,E)},Boolean,Uint8Array}}),s=r((A,k)=>{k.exports={format(M,...f){return M.replace(/%([sdifj])/g,function(...[_,E]){let I=f.shift();return E==="f"?I.toFixed(6):E==="j"?JSON.stringify(I):E==="s"&&typeof I=="object"?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()})},inspect(M){switch(typeof M){case"string":if(M.includes("'"))if(M.includes('"')){if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}else return`"${M}"`;return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}}}}),l=r((A,k)=>{var{format:M,inspect:f}=s(),{AggregateError:_}=i(),E=globalThis.AggregateError||_,I=Symbol("kIsNodeError"),L=["string","function","number","object","Function","Object","boolean","bigint","symbol"],D=/^([A-Z][a-z0-9]*)+$/,F={};function z(ye,G){if(!ye)throw new F.ERR_INTERNAL_ASSERTION(G)}n(z,"Z");function H(ye){let G="",re=ye.length,X=ye[0]==="-"?1:0;for(;re>=X+4;re-=3)G=`_${ye.slice(re-3,re)}${G}`;return`${ye.slice(0,re)}${G}`}n(H,"k");function V(ye,G,re){if(typeof G=="function")return z(G.length<=re.length,`Code: ${ye}; The provided arguments length (${re.length}) does not match the required ones (${G.length}).`),G(...re);let X=(G.match(/%[dfijoOs]/g)||[]).length;return z(X===re.length,`Code: ${ye}; The provided arguments length (${re.length}) does not match the required ones (${X}).`),re.length===0?G:M(G,...re)}n(V,"G");function Y(ye,G,re){re||(re=Error);class X extends re{static{n(this,"y")}constructor(...le){super(V(ye,G,le))}toString(){return`${this.name} [${ye}]: ${this.message}`}}Object.defineProperties(X.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${ye}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),X.prototype.code=ye,X.prototype[I]=!0,F[ye]=X}n(Y,"S");function Me(ye){let G="__node_internal_"+ye.name;return Object.defineProperty(ye,"name",{value:G}),ye}n(Me,"N");function se(ye,G){if(ye&&G&&ye!==G){if(Array.isArray(G.errors))return G.errors.push(ye),G;let re=new E([G,ye],G.message);return re.code=G.code,re}return ye||G}n(se,"E");class ae extends Error{static{n(this,"h")}constructor(G="The operation was aborted",re=void 0){if(re!==void 0&&typeof re!="object")throw new F.ERR_INVALID_ARG_TYPE("options","Object",re);super(G,re),this.code="ABORT_ERR",this.name="AbortError"}}Y("ERR_ASSERTION","%s",Error),Y("ERR_INVALID_ARG_TYPE",(ye,G,re)=>{z(typeof ye=="string","'name' must be a string"),!Array.isArray(G)&&(G=[G]);let X="The ";ye.endsWith(" argument")?X+=`${ye} `:X+=`"${ye}" ${ye.includes(".")?"property":"argument"} `,X+="must be ";let Q=[],le=[],Ae=[];for(let fe of G)z(typeof fe=="string","All expected entries have to be of type string"),L.includes(fe)?Q.push(fe.toLowerCase()):D.test(fe)?le.push(fe):(z(fe!=="object",'The value "object" should be written as "Object"'),Ae.push(fe));if(le.length>0){let fe=Q.indexOf("object");fe!==-1&&(Q.splice(Q,fe,1),le.push("Object"))}if(Q.length>0){switch(Q.length){case 1:X+=`of type ${Q[0]}`;break;case 2:X+=`one of type ${Q[0]} or ${Q[1]}`;break;default:{let fe=Q.pop();X+=`one of type ${Q.join(", ")}, or ${fe}`}}(le.length>0||Ae.length>0)&&(X+=" or ")}if(le.length>0){switch(le.length){case 1:X+=`an instance of ${le[0]}`;break;case 2:X+=`an instance of ${le[0]} or ${le[1]}`;break;default:{let fe=le.pop();X+=`an instance of ${le.join(", ")}, or ${fe}`}}Ae.length>0&&(X+=" or ")}switch(Ae.length){case 0:break;case 1:Ae[0].toLowerCase()!==Ae[0]&&(X+="an "),X+=`${Ae[0]}`;break;case 2:X+=`one of ${Ae[0]} or ${Ae[1]}`;break;default:{let fe=Ae.pop();X+=`one of ${Ae.join(", ")}, or ${fe}`}}if(re==null)X+=`. Received ${re}`;else if(typeof re=="function"&&re.name)X+=`. Received function ${re.name}`;else if(typeof re=="object"){var pe;if((pe=re.constructor)!==null&&pe!==void 0&&pe.name)X+=`. Received an instance of ${re.constructor.name}`;else{let fe=f(re,{depth:-1});X+=`. Received ${fe}`}}else{let fe=f(re,{colors:!1});fe.length>25&&(fe=`${fe.slice(0,25)}...`),X+=`. Received type ${typeof re} (${fe})`}return X},TypeError),Y("ERR_INVALID_ARG_VALUE",(ye,G,re="is invalid")=>{let X=f(G);return X.length>128&&(X=X.slice(0,128)+"..."),`The ${ye.includes(".")?"property":"argument"} '${ye}' ${re}. Received ${X}`},TypeError),Y("ERR_INVALID_RETURN_VALUE",(ye,G,re)=>{var X;let Q=re!=null&&(X=re.constructor)!==null&&X!==void 0&&X.name?`instance of ${re.constructor.name}`:`type ${typeof re}`;return`Expected ${ye} to be returned from the "${G}" function but got ${Q}.`},TypeError),Y("ERR_MISSING_ARGS",(...ye)=>{z(ye.length>0,"At least one arg needs to be specified");let G,re=ye.length;switch(ye=(Array.isArray(ye)?ye:[ye]).map(X=>`"${X}"`).join(" or "),re){case 1:G+=`The ${ye[0]} argument`;break;case 2:G+=`The ${ye[0]} and ${ye[1]} arguments`;break;default:{let X=ye.pop();G+=`The ${ye.join(", ")}, and ${X} arguments`}break}return`${G} must be specified`},TypeError),Y("ERR_OUT_OF_RANGE",(ye,G,re)=>{z(G,'Missing "range" argument');let X;if(Number.isInteger(re)&&Math.abs(re)>4294967296)X=H(String(re));else if(typeof re=="bigint"){X=String(re);let Q=BigInt(2)**BigInt(32);(re>Q||re<-Q)&&(X=H(X)),X+="n"}else X=f(re);return`The value of "${ye}" is out of range. It must be ${G}. Received ${X}`},RangeError),Y("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),Y("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),Y("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),Y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),Y("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),Y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Y("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),Y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),Y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),Y("ERR_STREAM_WRITE_AFTER_END","write after end",Error),Y("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),k.exports={AbortError:ae,aggregateTwoErrors:Me(se),hideStackFrames:Me,codes:F}}),a=r((A,k)=>{Object.defineProperty(A,"__esModule",{value:!0});var M=new WeakMap,f=new WeakMap;function _(J){let q=M.get(J);return console.assert(q!=null,"'this' is expected an Event object, but got",J),q}n(_,"P");function E(J){if(J.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",J.passiveListener);return}J.event.cancelable&&(J.canceled=!0,typeof J.event.preventDefault=="function"&&J.event.preventDefault())}n(E,"O");function I(J,q){M.set(this,{eventTarget:J,event:q,eventPhase:2,currentTarget:J,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:q.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let te=Object.keys(q);for(let de=0;de<te.length;++de){let oe=te[de];oe in this||Object.defineProperty(this,oe,L(oe))}}n(I,"Y"),I.prototype={get type(){return _(this).event.type},get target(){return _(this).eventTarget},get currentTarget(){return _(this).currentTarget},composedPath(){let J=_(this).currentTarget;return J==null?[]:[J]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return _(this).eventPhase},stopPropagation(){let J=_(this);J.stopped=!0,typeof J.event.stopPropagation=="function"&&J.event.stopPropagation()},stopImmediatePropagation(){let J=_(this);J.stopped=!0,J.immediateStopped=!0,typeof J.event.stopImmediatePropagation=="function"&&J.event.stopImmediatePropagation()},get bubbles(){return!!_(this).event.bubbles},get cancelable(){return!!_(this).event.cancelable},preventDefault(){E(_(this))},get defaultPrevented(){return _(this).canceled},get composed(){return!!_(this).event.composed},get timeStamp(){return _(this).timeStamp},get srcElement(){return _(this).eventTarget},get cancelBubble(){return _(this).stopped},set cancelBubble(J){if(!J)return;let q=_(this);q.stopped=!0,typeof q.event.cancelBubble=="boolean"&&(q.event.cancelBubble=!0)},get returnValue(){return!_(this).canceled},set returnValue(J){J||E(_(this))},initEvent(){}},Object.defineProperty(I.prototype,"constructor",{value:I,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(I.prototype,window.Event.prototype),f.set(window.Event.prototype,I));function L(J){return{get(){return _(this).event[J]},set(q){_(this).event[J]=q},configurable:!0,enumerable:!0}}n(L,"H");function D(J){return{value(){let q=_(this).event;return q[J].apply(q,arguments)},configurable:!0,enumerable:!0}}n(D,"v");function F(J,q){let te=Object.keys(q);if(te.length===0)return J;function de(oe,ue){J.call(this,oe,ue)}n(de,"j"),de.prototype=Object.create(J.prototype,{constructor:{value:de,configurable:!0,writable:!0}});for(let oe=0;oe<te.length;++oe){let ue=te[oe];if(!(ue in J.prototype)){let Be=typeof Object.getOwnPropertyDescriptor(q,ue).value=="function";Object.defineProperty(de.prototype,ue,Be?D(ue):L(ue))}}return de}n(F,"X");function z(J){if(J==null||J===Object.prototype)return I;let q=f.get(J);return q==null&&(q=F(z(Object.getPrototypeOf(J)),J),f.set(J,q)),q}n(z,"Z");function H(J,q){return new(z(Object.getPrototypeOf(q)))(J,q)}n(H,"k");function V(J){return _(J).immediateStopped}n(V,"G");function Y(J,q){_(J).eventPhase=q}n(Y,"S");function Me(J,q){_(J).currentTarget=q}n(Me,"N");function se(J,q){_(J).passiveListener=q}n(se,"E");var ae=new WeakMap,ye=1,G=2,re=3;function X(J){return J!==null&&typeof J=="object"}n(X,"y");function Q(J){let q=ae.get(J);if(q==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return q}n(Q,"p");function le(J){return{get(){let q=Q(this).get(J);for(;q!=null;){if(q.listenerType===re)return q.listener;q=q.next}return null},set(q){typeof q!="function"&&!X(q)&&(q=null);let te=Q(this),de=null,oe=te.get(J);for(;oe!=null;)oe.listenerType===re?de!==null?de.next=oe.next:oe.next!==null?te.set(J,oe.next):te.delete(J):de=oe,oe=oe.next;if(q!==null){let ue={listener:q,listenerType:re,passive:!1,once:!1,next:null};de===null?te.set(J,ue):de.next=ue}},configurable:!0,enumerable:!0}}n(le,"m");function Ae(J,q){Object.defineProperty(J,`on${q}`,le(q))}n(Ae,"c");function pe(J){function q(){fe.call(this)}n(q,"n"),q.prototype=Object.create(fe.prototype,{constructor:{value:q,configurable:!0,writable:!0}});for(let te=0;te<J.length;++te)Ae(q.prototype,J[te]);return q}n(pe,"$q");function fe(){if(this instanceof fe){ae.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return pe(arguments[0]);if(arguments.length>0){let J=Array(arguments.length);for(let q=0;q<arguments.length;++q)J[q]=arguments[q];return pe(J)}throw TypeError("Cannot call a class as a function")}n(fe,"e"),fe.prototype={addEventListener(J,q,te){if(q==null)return;if(typeof q!="function"&&!X(q))throw TypeError("'listener' should be a function or an object.");let de=Q(this),oe=X(te),ue=(oe?te.capture:te)?ye:G,Be={listener:q,listenerType:ue,passive:oe&&!!te.passive,once:oe&&!!te.once,next:null},we=de.get(J);if(we===void 0){de.set(J,Be);return}let De=null;for(;we!=null;){if(we.listener===q&&we.listenerType===ue)return;De=we,we=we.next}De.next=Be},removeEventListener(J,q,te){if(q==null)return;let de=Q(this),oe=(X(te)?te.capture:te)?ye:G,ue=null,Be=de.get(J);for(;Be!=null;){if(Be.listener===q&&Be.listenerType===oe){ue!==null?ue.next=Be.next:Be.next!==null?de.set(J,Be.next):de.delete(J);return}ue=Be,Be=Be.next}},dispatchEvent(J){if(J==null||typeof J.type!="string")throw TypeError('"event.type" should be a string.');let q=Q(this),te=J.type,de=q.get(te);if(de==null)return!0;let oe=H(this,J),ue=null;for(;de!=null;){if(de.once?ue!==null?ue.next=de.next:de.next!==null?q.set(te,de.next):q.delete(te):ue=de,se(oe,de.passive?de.listener:null),typeof de.listener=="function")try{de.listener.call(this,oe)}catch(Be){typeof console<"u"&&typeof console.error=="function"&&console.error(Be)}else de.listenerType!==re&&typeof de.listener.handleEvent=="function"&&de.listener.handleEvent(oe);if(V(oe))break;de=de.next}return se(oe,null),Y(oe,0),Me(oe,null),!oe.defaultPrevented}},Object.defineProperty(fe.prototype,"constructor",{value:fe,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(fe.prototype,window.EventTarget.prototype),A.defineEventAttribute=Ae,A.EventTarget=fe,A.default=fe,k.exports=fe,k.exports.EventTarget=k.exports.default=fe,k.exports.defineEventAttribute=Ae}),v=r((A,k)=>{Object.defineProperty(A,"__esModule",{value:!0});var M=a();class f extends M.EventTarget{static{n(this,"_")}constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let H=I.get(this);if(typeof H!="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return H}}M.defineEventAttribute(f.prototype,"abort");function _(){let z=Object.create(f.prototype);return M.EventTarget.call(z),I.set(z,!1),z}n(_,"P");function E(z){I.get(z)===!1&&(I.set(z,!0),z.dispatchEvent({type:"abort"}))}n(E,"O");var I=new WeakMap;Object.defineProperties(f.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(f.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class L{static{n(this,"H")}constructor(){D.set(this,_())}get signal(){return F(this)}abort(){E(F(this))}}var D=new WeakMap;function F(z){let H=D.get(z);if(H==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${z===null?"null":typeof z}`);return H}n(F,"X"),Object.defineProperties(L.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(L.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),A.AbortController=L,A.AbortSignal=f,A.default=L,k.exports=L,k.exports.AbortController=k.exports.default=L,k.exports.AbortSignal=f}),g=r((A,k)=>{var M=(wr(),$t(gr)),{format:f,inspect:_}=s(),{codes:{ERR_INVALID_ARG_TYPE:E}}=l(),{kResistStopPropagation:I,AggregateError:L,SymbolDispose:D}=i(),F=globalThis.AbortSignal||v().AbortSignal,z=globalThis.AbortController||v().AbortController,H=Object.getPrototypeOf(async function(){}).constructor,V=globalThis.Blob||M.Blob,Y=typeof V<"u"?function(ae){return ae instanceof V}:function(ae){return!1},Me=n((ae,ye)=>{if(ae!==void 0&&(ae===null||typeof ae!="object"||!("aborted"in ae)))throw new E(ye,"AbortSignal",ae)},"N"),se=n((ae,ye)=>{if(typeof ae!="function")throw new E(ye,"Function",ae)},"E");k.exports={AggregateError:L,kEmptyObject:Object.freeze({}),once(ae){let ye=!1;return function(...G){ye||(ye=!0,ae.apply(this,G))}},createDeferredPromise:n(function(){let ae,ye;return{promise:new Promise((G,re)=>{ae=G,ye=re}),resolve:ae,reject:ye}},"createDeferredPromise"),promisify(ae){return new Promise((ye,G)=>{ae((re,...X)=>re?G(re):ye(...X))})},debuglog(){return function(){}},format:f,inspect:_,types:{isAsyncFunction(ae){return ae instanceof H},isArrayBufferView(ae){return ArrayBuffer.isView(ae)}},isBlob:Y,deprecate(ae,ye){return ae},addAbortListener:(Pl(),$t(eo)).addAbortListener||function(ae,ye){if(ae===void 0)throw new E("signal","AbortSignal",ae);Me(ae,"signal"),se(ye,"listener");let G;return ae.aborted?queueMicrotask(()=>ye()):(ae.addEventListener("abort",ye,{__proto__:null,once:!0,[I]:!0}),G=n(()=>{ae.removeEventListener("abort",ye)},"g")),{__proto__:null,[D](){var re;(re=G)===null||re===void 0||re()}}},AbortSignalAny:F.any||function(ae){if(ae.length===1)return ae[0];let ye=new z,G=n(()=>ye.abort(),"g");return ae.forEach(re=>{Me(re,"signals"),re.addEventListener("abort",G,{once:!0})}),ye.signal.addEventListener("abort",()=>{ae.forEach(re=>re.removeEventListener("abort",G))},{once:!0}),ye.signal}},k.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),h=r((A,k)=>{var{ArrayIsArray:M,ArrayPrototypeIncludes:f,ArrayPrototypeJoin:_,ArrayPrototypeMap:E,NumberIsInteger:I,NumberIsNaN:L,NumberMAX_SAFE_INTEGER:D,NumberMIN_SAFE_INTEGER:F,NumberParseInt:z,ObjectPrototypeHasOwnProperty:H,RegExpPrototypeExec:V,String:Y,StringPrototypeToUpperCase:Me,StringPrototypeTrim:se}=i(),{hideStackFrames:ae,codes:{ERR_SOCKET_BAD_PORT:ye,ERR_INVALID_ARG_TYPE:G,ERR_INVALID_ARG_VALUE:re,ERR_OUT_OF_RANGE:X,ERR_UNKNOWN_SIGNAL:Q}}=l(),{normalizeEncoding:le}=g(),{isAsyncFunction:Ae,isArrayBufferView:pe}=g().types,fe={};function J(ne){return ne===(ne|0)}n(J,"d");function q(ne){return ne===ne>>>0}n(q,"n");var te=/^[0-7]+$/,de="must be a 32-bit unsigned integer or an octal string";function oe(ne,Ne,$e){if(typeof ne>"u"&&(ne=$e),typeof ne=="string"){if(V(te,ne)===null)throw new re(Ne,ne,de);ne=z(ne,8)}return we(ne,Ne),ne}n(oe,"J");var ue=ae((ne,Ne,$e=F,ge=D)=>{if(typeof ne!="number")throw new G(Ne,"number",ne);if(!I(ne))throw new X(Ne,"an integer",ne);if(ne<$e||ne>ge)throw new X(Ne,`>= ${$e} && <= ${ge}`,ne)}),Be=ae((ne,Ne,$e=-2147483648,ge=2147483647)=>{if(typeof ne!="number")throw new G(Ne,"number",ne);if(!I(ne))throw new X(Ne,"an integer",ne);if(ne<$e||ne>ge)throw new X(Ne,`>= ${$e} && <= ${ge}`,ne)}),we=ae((ne,Ne,$e=!1)=>{if(typeof ne!="number")throw new G(Ne,"number",ne);if(!I(ne))throw new X(Ne,"an integer",ne);let ge=$e?1:0,Ge=4294967295;if(ne<ge||ne>Ge)throw new X(Ne,`>= ${ge} && <= ${Ge}`,ne)});function De(ne,Ne){if(typeof ne!="string")throw new G(Ne,"string",ne)}n(De,"V");function Xe(ne,Ne,$e=void 0,ge){if(typeof ne!="number")throw new G(Ne,"number",ne);if($e!=null&&ne<$e||ge!=null&&ne>ge||($e!=null||ge!=null)&&L(ne))throw new X(Ne,`${$e!=null?`>= ${$e}`:""}${$e!=null&&ge!=null?" && ":""}${ge!=null?`<= ${ge}`:""}`,ne)}n(Xe,"C");var ve=ae((ne,Ne,$e)=>{if(!f($e,ne)){let ge="must be one of: "+_(E($e,Ge=>typeof Ge=="string"?`'${Ge}'`:Y(Ge)),", ");throw new re(Ne,ne,ge)}});function Fe(ne,Ne){if(typeof ne!="boolean")throw new G(Ne,"boolean",ne)}n(Fe,"W");function ce(ne,Ne,$e){return ne==null||!H(ne,Ne)?$e:ne[Ne]}n(ce,"A");var be=ae((ne,Ne,$e=null)=>{let ge=ce($e,"allowArray",!1),Ge=ce($e,"allowFunction",!1);if(!ce($e,"nullable",!1)&&ne===null||!ge&&M(ne)||typeof ne!="object"&&(!Ge||typeof ne!="function"))throw new G(Ne,"Object",ne)}),Oe=ae((ne,Ne)=>{if(ne!=null&&typeof ne!="object"&&typeof ne!="function")throw new G(Ne,"a dictionary",ne)}),Te=ae((ne,Ne,$e=0)=>{if(!M(ne))throw new G(Ne,"Array",ne);if(ne.length<$e){let ge=`must be longer than ${$e}`;throw new re(Ne,ne,ge)}});function ke(ne,Ne){Te(ne,Ne);for(let $e=0;$e<ne.length;$e++)De(ne[$e],`${Ne}[${$e}]`)}n(ke,"l");function ze(ne,Ne){Te(ne,Ne);for(let $e=0;$e<ne.length;$e++)Fe(ne[$e],`${Ne}[${$e}]`)}n(ze,"B");function Je(ne,Ne){Te(ne,Ne);for(let $e=0;$e<ne.length;$e++){let ge=ne[$e],Ge=`${Ne}[${$e}]`;if(ge==null)throw new G(Ge,"AbortSignal",ge);He(ge,Ge)}}n(Je,"t");function Ce(ne,Ne="signal"){if(De(ne,Ne),fe[ne]===void 0)throw fe[Me(ne)]!==void 0?new Q(ne+" (signals must use all capital letters)"):new Q(ne)}n(Ce,"Wq");var Ee=ae((ne,Ne="buffer")=>{if(!pe(ne))throw new G(Ne,["Buffer","TypedArray","DataView"],ne)});function je(ne,Ne){let $e=le(Ne),ge=ne.length;if($e==="hex"&&ge%2!==0)throw new re("encoding",Ne,`is invalid for data of length ${ge}`)}n(je,"i");function _e(ne,Ne="Port",$e=!0){if(typeof ne!="number"&&typeof ne!="string"||typeof ne=="string"&&se(ne).length===0||+ne!==+ne>>>0||ne>65535||ne===0&&!$e)throw new ye(Ne,ne,$e);return ne|0}n(_e,"gq");var He=ae((ne,Ne)=>{if(ne!==void 0&&(ne===null||typeof ne!="object"||!("aborted"in ne)))throw new G(Ne,"AbortSignal",ne)}),Ke=ae((ne,Ne)=>{if(typeof ne!="function")throw new G(Ne,"Function",ne)}),ie=ae((ne,Ne)=>{if(typeof ne!="function"||Ae(ne))throw new G(Ne,"Function",ne)}),me=ae((ne,Ne)=>{if(ne!==void 0)throw new G(Ne,"undefined",ne)});function Ie(ne,Ne,$e){if(!f($e,ne))throw new G(Ne,`('${_($e,"|")}')`,ne)}n(Ie,"U");var xe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Pe(ne,Ne){if(typeof ne>"u"||!V(xe,ne))throw new re(Ne,ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}n(Pe,"qq");function Ze(ne){if(typeof ne=="string")return Pe(ne,"hints"),ne;if(M(ne)){let Ne=ne.length,$e="";if(Ne===0)return $e;for(let ge=0;ge<Ne;ge++){let Ge=ne[ge];Pe(Ge,"hints"),$e+=Ge,ge!==Ne-1&&($e+=", ")}return $e}throw new re("hints",ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}n(Ze,"s"),k.exports={isInt32:J,isUint32:q,parseFileMode:oe,validateArray:Te,validateStringArray:ke,validateBooleanArray:ze,validateAbortSignalArray:Je,validateBoolean:Fe,validateBuffer:Ee,validateDictionary:Oe,validateEncoding:je,validateFunction:Ke,validateInt32:Be,validateInteger:ue,validateNumber:Xe,validateObject:be,validateOneOf:ve,validatePlainFunction:ie,validatePort:_e,validateSignalName:Ce,validateString:De,validateUint32:we,validateUndefined:me,validateUnion:Ie,validateAbortSignal:He,validateLinkHeaderValue:Ze}}),d=r((A,k)=>{k.exports=globalThis.process}),c=r((A,k)=>{var{SymbolAsyncIterator:M,SymbolIterator:f,SymbolFor:_}=i(),E=_("nodejs.stream.destroyed"),I=_("nodejs.stream.errored"),L=_("nodejs.stream.readable"),D=_("nodejs.stream.writable"),F=_("nodejs.stream.disturbed"),z=_("nodejs.webstream.isClosedPromise"),H=_("nodejs.webstream.controllerErrorFunction");function V(ce,be=!1){var Oe;return!!(ce&&typeof ce.pipe=="function"&&typeof ce.on=="function"&&(!be||typeof ce.pause=="function"&&typeof ce.resume=="function")&&(!ce._writableState||((Oe=ce._readableState)===null||Oe===void 0?void 0:Oe.readable)!==!1)&&(!ce._writableState||ce._readableState))}n(V,"G");function Y(ce){var be;return!!(ce&&typeof ce.write=="function"&&typeof ce.on=="function"&&(!ce._readableState||((be=ce._writableState)===null||be===void 0?void 0:be.writable)!==!1))}n(Y,"S");function Me(ce){return!!(ce&&typeof ce.pipe=="function"&&ce._readableState&&typeof ce.on=="function"&&typeof ce.write=="function")}n(Me,"N");function se(ce){return ce&&(ce._readableState||ce._writableState||typeof ce.write=="function"&&typeof ce.on=="function"||typeof ce.pipe=="function"&&typeof ce.on=="function")}n(se,"E");function ae(ce){return!!(ce&&!se(ce)&&typeof ce.pipeThrough=="function"&&typeof ce.getReader=="function"&&typeof ce.cancel=="function")}n(ae,"h");function ye(ce){return!!(ce&&!se(ce)&&typeof ce.getWriter=="function"&&typeof ce.abort=="function")}n(ye,"D");function G(ce){return!!(ce&&!se(ce)&&typeof ce.readable=="object"&&typeof ce.writable=="object")}n(G,"I");function re(ce){return ae(ce)||ye(ce)||G(ce)}n(re,"g");function X(ce,be){return ce==null?!1:be===!0?typeof ce[M]=="function":be===!1?typeof ce[f]=="function":typeof ce[M]=="function"||typeof ce[f]=="function"}n(X,"y");function Q(ce){if(!se(ce))return null;let{_writableState:be,_readableState:Oe}=ce,Te=be||Oe;return!!(ce.destroyed||ce[E]||Te!=null&&Te.destroyed)}n(Q,"p");function le(ce){if(!Y(ce))return null;if(ce.writableEnded===!0)return!0;let be=ce._writableState;return be!=null&&be.errored?!1:typeof be?.ended!="boolean"?null:be.ended}n(le,"m");function Ae(ce,be){if(!Y(ce))return null;if(ce.writableFinished===!0)return!0;let Oe=ce._writableState;return Oe!=null&&Oe.errored?!1:typeof Oe?.finished!="boolean"?null:!!(Oe.finished||be===!1&&Oe.ended===!0&&Oe.length===0)}n(Ae,"c");function pe(ce){if(!V(ce))return null;if(ce.readableEnded===!0)return!0;let be=ce._readableState;return!be||be.errored?!1:typeof be?.ended!="boolean"?null:be.ended}n(pe,"$q");function fe(ce,be){if(!V(ce))return null;let Oe=ce._readableState;return Oe!=null&&Oe.errored?!1:typeof Oe?.endEmitted!="boolean"?null:!!(Oe.endEmitted||be===!1&&Oe.ended===!0&&Oe.length===0)}n(fe,"e");function J(ce){return ce&&ce[L]!=null?ce[L]:typeof ce?.readable!="boolean"?null:Q(ce)?!1:V(ce)&&ce.readable&&!fe(ce)}n(J,"d");function q(ce){return ce&&ce[D]!=null?ce[D]:typeof ce?.writable!="boolean"?null:Q(ce)?!1:Y(ce)&&ce.writable&&!le(ce)}n(q,"n");function te(ce,be){return se(ce)?Q(ce)?!0:!(be?.readable!==!1&&J(ce)||be?.writable!==!1&&q(ce)):null}n(te,"M");function de(ce){var be,Oe;return se(ce)?ce.writableErrored?ce.writableErrored:(be=(Oe=ce._writableState)===null||Oe===void 0?void 0:Oe.errored)!==null&&be!==void 0?be:null:null}n(de,"j");function oe(ce){var be,Oe;return se(ce)?ce.readableErrored?ce.readableErrored:(be=(Oe=ce._readableState)===null||Oe===void 0?void 0:Oe.errored)!==null&&be!==void 0?be:null:null}n(oe,"J");function ue(ce){if(!se(ce))return null;if(typeof ce.closed=="boolean")return ce.closed;let{_writableState:be,_readableState:Oe}=ce;return typeof be?.closed=="boolean"||typeof Oe?.closed=="boolean"?be?.closed||Oe?.closed:typeof ce._closed=="boolean"&&Be(ce)?ce._closed:null}n(ue,"w");function Be(ce){return typeof ce._closed=="boolean"&&typeof ce._defaultKeepAlive=="boolean"&&typeof ce._removedConnection=="boolean"&&typeof ce._removedContLen=="boolean"}n(Be,"z");function we(ce){return typeof ce._sent100=="boolean"&&Be(ce)}n(we,"T");function De(ce){var be;return typeof ce._consuming=="boolean"&&typeof ce._dumped=="boolean"&&((be=ce.req)===null||be===void 0?void 0:be.upgradeOrConnect)===void 0}n(De,"V");function Xe(ce){if(!se(ce))return null;let{_writableState:be,_readableState:Oe}=ce,Te=be||Oe;return!Te&&we(ce)||!!(Te&&Te.autoDestroy&&Te.emitClose&&Te.closed===!1)}n(Xe,"C");function ve(ce){var be;return!!(ce&&((be=ce[F])!==null&&be!==void 0?be:ce.readableDidRead||ce.readableAborted))}n(ve,"f");function Fe(ce){var be,Oe,Te,ke,ze,Je,Ce,Ee,je,_e;return!!(ce&&((be=(Oe=(Te=(ke=(ze=(Je=ce[I])!==null&&Je!==void 0?Je:ce.readableErrored)!==null&&ze!==void 0?ze:ce.writableErrored)!==null&&ke!==void 0?ke:(Ce=ce._readableState)===null||Ce===void 0?void 0:Ce.errorEmitted)!==null&&Te!==void 0?Te:(Ee=ce._writableState)===null||Ee===void 0?void 0:Ee.errorEmitted)!==null&&Oe!==void 0?Oe:(je=ce._readableState)===null||je===void 0?void 0:je.errored)!==null&&be!==void 0?be:!((_e=ce._writableState)===null||_e===void 0)&&_e.errored))}n(Fe,"W"),k.exports={isDestroyed:Q,kIsDestroyed:E,isDisturbed:ve,kIsDisturbed:F,isErrored:Fe,kIsErrored:I,isReadable:J,kIsReadable:L,kIsClosedPromise:z,kControllerErrorFunction:H,kIsWritable:D,isClosed:ue,isDuplexNodeStream:Me,isFinished:te,isIterable:X,isReadableNodeStream:V,isReadableStream:ae,isReadableEnded:pe,isReadableFinished:fe,isReadableErrored:oe,isNodeStream:se,isWebStream:re,isWritable:q,isWritableNodeStream:Y,isWritableStream:ye,isWritableEnded:le,isWritableFinished:Ae,isWritableErrored:de,isServerRequest:De,isServerResponse:we,willEmitClose:Xe,isTransformStream:G}}),y=r((A,k)=>{var M=d(),{AbortError:f,codes:_}=l(),{ERR_INVALID_ARG_TYPE:E,ERR_STREAM_PREMATURE_CLOSE:I}=_,{kEmptyObject:L,once:D}=g(),{validateAbortSignal:F,validateFunction:z,validateObject:H,validateBoolean:V}=h(),{Promise:Y,PromisePrototypeThen:Me,SymbolDispose:se}=i(),{isClosed:ae,isReadable:ye,isReadableNodeStream:G,isReadableStream:re,isReadableFinished:X,isReadableErrored:Q,isWritable:le,isWritableNodeStream:Ae,isWritableStream:pe,isWritableFinished:fe,isWritableErrored:J,isNodeStream:q,willEmitClose:te,kIsClosedPromise:de}=c(),oe;function ue(ve){return ve.setHeader&&typeof ve.abort=="function"}n(ue,"w");var Be=n(()=>{},"z");function we(ve,Fe,ce){var be,Oe;if(arguments.length===2?(ce=Fe,Fe=L):Fe==null?Fe=L:H(Fe,"options"),z(ce,"callback"),F(Fe.signal,"options.signal"),ce=D(ce),re(ve)||pe(ve))return De(ve,Fe,ce);if(!q(ve))throw new E("stream",["ReadableStream","WritableStream","Stream"],ve);let Te=(be=Fe.readable)!==null&&be!==void 0?be:G(ve),ke=(Oe=Fe.writable)!==null&&Oe!==void 0?Oe:Ae(ve),ze=ve._writableState,Je=ve._readableState,Ce=n(()=>{ve.writable||_e()},"Wq"),Ee=te(ve)&&G(ve)===Te&&Ae(ve)===ke,je=fe(ve,!1),_e=n(()=>{je=!0,ve.destroyed&&(Ee=!1),!(Ee&&(!ve.readable||Te))&&(!Te||He)&&ce.call(ve)},"gq"),He=X(ve,!1),Ke=n(()=>{He=!0,ve.destroyed&&(Ee=!1),!(Ee&&(!ve.writable||ke))&&(!ke||je)&&ce.call(ve)},"Oq"),ie=n(ne=>{ce.call(ve,ne)},"Q"),me=ae(ve),Ie=n(()=>{me=!0;let ne=J(ve)||Q(ve);if(ne&&typeof ne!="boolean")return ce.call(ve,ne);if(Te&&!He&&G(ve,!0)&&!X(ve,!1))return ce.call(ve,new I);if(ke&&!je&&!fe(ve,!1))return ce.call(ve,new I);ce.call(ve)},"U"),xe=n(()=>{me=!0;let ne=J(ve)||Q(ve);if(ne&&typeof ne!="boolean")return ce.call(ve,ne);ce.call(ve)},"yq"),Pe=n(()=>{ve.req.on("finish",_e)},"qq");ue(ve)?(ve.on("complete",_e),!Ee&&ve.on("abort",Ie),ve.req?Pe():ve.on("request",Pe)):ke&&!ze&&(ve.on("end",Ce),ve.on("close",Ce)),!Ee&&typeof ve.aborted=="boolean"&&ve.on("aborted",Ie),ve.on("end",Ke),ve.on("finish",_e),Fe.error!==!1&&ve.on("error",ie),ve.on("close",Ie),me?M.nextTick(Ie):ze!=null&&ze.errorEmitted||Je!=null&&Je.errorEmitted?Ee||M.nextTick(xe):(!Te&&(!Ee||ye(ve))&&(je||le(ve)===!1)||!ke&&(!Ee||le(ve))&&(He||ye(ve)===!1)||Je&&ve.req&&ve.aborted)&&M.nextTick(xe);let Ze=n(()=>{ce=Be,ve.removeListener("aborted",Ie),ve.removeListener("complete",_e),ve.removeListener("abort",Ie),ve.removeListener("request",Pe),ve.req&&ve.req.removeListener("finish",_e),ve.removeListener("end",Ce),ve.removeListener("close",Ce),ve.removeListener("finish",_e),ve.removeListener("end",Ke),ve.removeListener("error",ie),ve.removeListener("close",Ie)},"s");if(Fe.signal&&!me){let ne=n(()=>{let Ne=ce;Ze(),Ne.call(ve,new f(void 0,{cause:Fe.signal.reason}))},"a");if(Fe.signal.aborted)M.nextTick(ne);else{oe=oe||g().addAbortListener;let Ne=oe(Fe.signal,ne),$e=ce;ce=D((...ge)=>{Ne[se](),$e.apply(ve,ge)})}}return Ze}n(we,"T");function De(ve,Fe,ce){let be=!1,Oe=Be;if(Fe.signal)if(Oe=n(()=>{be=!0,ce.call(ve,new f(void 0,{cause:Fe.signal.reason}))},"R"),Fe.signal.aborted)M.nextTick(Oe);else{oe=oe||g().addAbortListener;let ke=oe(Fe.signal,Oe),ze=ce;ce=D((...Je)=>{ke[se](),ze.apply(ve,Je)})}let Te=n((...ke)=>{be||M.nextTick(()=>ce.apply(ve,ke))},"b");return Me(ve[de].promise,Te,Te),Be}n(De,"V");function Xe(ve,Fe){var ce;let be=!1;return Fe===null&&(Fe=L),(ce=Fe)!==null&&ce!==void 0&&ce.cleanup&&(V(Fe.cleanup,"cleanup"),be=Fe.cleanup),new Y((Oe,Te)=>{let ke=we(ve,Fe,ze=>{be&&ke(),ze?Te(ze):Oe()})})}n(Xe,"C"),k.exports=we,k.exports.finished=Xe}),b=r((A,k)=>{var M=d(),{aggregateTwoErrors:f,codes:{ERR_MULTIPLE_CALLBACK:_},AbortError:E}=l(),{Symbol:I}=i(),{kIsDestroyed:L,isDestroyed:D,isFinished:F,isServerRequest:z}=c(),H=I("kDestroy"),V=I("kConstruct");function Y(te,de,oe){te&&(te.stack,de&&!de.errored&&(de.errored=te),oe&&!oe.errored&&(oe.errored=te))}n(Y,"S");function Me(te,de){let oe=this._readableState,ue=this._writableState,Be=ue||oe;return ue!=null&&ue.destroyed||oe!=null&&oe.destroyed?(typeof de=="function"&&de(),this):(Y(te,ue,oe),ue&&(ue.destroyed=!0),oe&&(oe.destroyed=!0),Be.constructed?se(this,te,de):this.once(H,function(we){se(this,f(we,te),de)}),this)}n(Me,"N");function se(te,de,oe){let ue=!1;function Be(we){if(ue)return;ue=!0;let{_readableState:De,_writableState:Xe}=te;Y(we,Xe,De),Xe&&(Xe.closed=!0),De&&(De.closed=!0),typeof oe=="function"&&oe(we),we?M.nextTick(ae,te,we):M.nextTick(ye,te)}n(Be,"z");try{te._destroy(de||null,Be)}catch(we){Be(we)}}n(se,"E");function ae(te,de){G(te,de),ye(te)}n(ae,"h");function ye(te){let{_readableState:de,_writableState:oe}=te;oe&&(oe.closeEmitted=!0),de&&(de.closeEmitted=!0),(oe!=null&&oe.emitClose||de!=null&&de.emitClose)&&te.emit("close")}n(ye,"D");function G(te,de){let{_readableState:oe,_writableState:ue}=te;ue!=null&&ue.errorEmitted||oe!=null&&oe.errorEmitted||(ue&&(ue.errorEmitted=!0),oe&&(oe.errorEmitted=!0),te.emit("error",de))}n(G,"I");function re(){let te=this._readableState,de=this._writableState;te&&(te.constructed=!0,te.closed=!1,te.closeEmitted=!1,te.destroyed=!1,te.errored=null,te.errorEmitted=!1,te.reading=!1,te.ended=te.readable===!1,te.endEmitted=te.readable===!1),de&&(de.constructed=!0,de.destroyed=!1,de.closed=!1,de.closeEmitted=!1,de.errored=null,de.errorEmitted=!1,de.finalCalled=!1,de.prefinished=!1,de.ended=de.writable===!1,de.ending=de.writable===!1,de.finished=de.writable===!1)}n(re,"g");function X(te,de,oe){let{_readableState:ue,_writableState:Be}=te;if(Be!=null&&Be.destroyed||ue!=null&&ue.destroyed)return this;ue!=null&&ue.autoDestroy||Be!=null&&Be.autoDestroy?te.destroy(de):de&&(de.stack,Be&&!Be.errored&&(Be.errored=de),ue&&!ue.errored&&(ue.errored=de),oe?M.nextTick(G,te,de):G(te,de))}n(X,"y");function Q(te,de){if(typeof te._construct!="function")return;let{_readableState:oe,_writableState:ue}=te;oe&&(oe.constructed=!1),ue&&(ue.constructed=!1),te.once(V,de),!(te.listenerCount(V)>1)&&M.nextTick(le,te)}n(Q,"p");function le(te){let de=!1;function oe(ue){if(de){X(te,ue??new _);return}de=!0;let{_readableState:Be,_writableState:we}=te,De=we||Be;Be&&(Be.constructed=!0),we&&(we.constructed=!0),De.destroyed?te.emit(H,ue):ue?X(te,ue,!0):M.nextTick(Ae,te)}n(oe,"J");try{te._construct(ue=>{M.nextTick(oe,ue)})}catch(ue){M.nextTick(oe,ue)}}n(le,"m");function Ae(te){te.emit(V)}n(Ae,"c");function pe(te){return te?.setHeader&&typeof te.abort=="function"}n(pe,"$q");function fe(te){te.emit("close")}n(fe,"e");function J(te,de){te.emit("error",de),M.nextTick(fe,te)}n(J,"d");function q(te,de){!te||D(te)||(!de&&!F(te)&&(de=new E),z(te)?(te.socket=null,te.destroy(de)):pe(te)?te.abort():pe(te.req)?te.req.abort():typeof te.destroy=="function"?te.destroy(de):typeof te.close=="function"?te.close():de?M.nextTick(J,te,de):M.nextTick(fe,te),te.destroyed||(te[L]=!0))}n(q,"n"),k.exports={construct:Q,destroyer:q,destroy:Me,undestroy:re,errorOrDestroy:X}}),w=r((A,k)=>{var{ArrayIsArray:M,ObjectSetPrototypeOf:f}=i(),{EventEmitter:_}=(Pl(),$t(eo));function E(L){_.call(this,L)}n(E,"O"),f(E.prototype,_.prototype),f(E,_),E.prototype.pipe=function(L,D){let F=this;function z(ye){L.writable&&L.write(ye)===!1&&F.pause&&F.pause()}n(z,"Z"),F.on("data",z);function H(){F.readable&&F.resume&&F.resume()}n(H,"k"),L.on("drain",H),!L._isStdio&&(!D||D.end!==!1)&&(F.on("end",Y),F.on("close",Me));let V=!1;function Y(){V||(V=!0,L.end())}n(Y,"S");function Me(){V||(V=!0,typeof L.destroy=="function"&&L.destroy())}n(Me,"N");function se(ye){ae(),_.listenerCount(this,"error")===0&&this.emit("error",ye)}n(se,"E"),I(F,"error",se),I(L,"error",se);function ae(){F.removeListener("data",z),L.removeListener("drain",H),F.removeListener("end",Y),F.removeListener("close",Me),F.removeListener("error",se),L.removeListener("error",se),F.removeListener("end",ae),F.removeListener("close",ae),L.removeListener("close",ae)}return n(ae,"h"),F.on("end",ae),F.on("close",ae),L.on("close",ae),L.emit("pipe",F),L};function I(L,D,F){if(typeof L.prependListener=="function")return L.prependListener(D,F);!L._events||!L._events[D]?L.on(D,F):M(L._events[D])?L._events[D].unshift(F):L._events[D]=[F,L._events[D]]}n(I,"Y"),k.exports={Stream:E,prependListener:I}}),S=r((A,k)=>{var{SymbolDispose:M}=i(),{AbortError:f,codes:_}=l(),{isNodeStream:E,isWebStream:I,kControllerErrorFunction:L}=c(),D=y(),{ERR_INVALID_ARG_TYPE:F}=_,z,H=n((V,Y)=>{if(typeof V!="object"||!("aborted"in V))throw new F(Y,"AbortSignal",V)},"k");k.exports.addAbortSignal=function(V,Y){if(H(V,"signal"),!E(Y)&&!I(Y))throw new F("stream",["ReadableStream","WritableStream","Stream"],Y);return k.exports.addAbortSignalNoValidate(V,Y)},k.exports.addAbortSignalNoValidate=function(V,Y){if(typeof V!="object"||!("aborted"in V))return Y;let Me=E(Y)?()=>{Y.destroy(new f(void 0,{cause:V.reason}))}:()=>{Y[L](new f(void 0,{cause:V.reason}))};if(V.aborted)Me();else{z=z||g().addAbortListener;let se=z(V,Me);D(Y,se[M])}return Y}}),C=r((A,k)=>{var{StringPrototypeSlice:M,SymbolIterator:f,TypedArrayPrototypeSet:_,Uint8Array:E}=i(),{Buffer:I}=(wr(),$t(gr)),{inspect:L}=g();k.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(D){let F={data:D,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(D){let F={data:D,next:this.head};this.length===0&&(this.tail=F),this.head=F,++this.length}shift(){if(this.length===0)return;let D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}clear(){this.head=this.tail=null,this.length=0}join(D){if(this.length===0)return"";let F=this.head,z=""+F.data;for(;(F=F.next)!==null;)z+=D+F.data;return z}concat(D){if(this.length===0)return I.alloc(0);let F=I.allocUnsafe(D>>>0),z=this.head,H=0;for(;z;)_(F,z.data,H),H+=z.data.length,z=z.next;return F}consume(D,F){let z=this.head.data;if(D<z.length){let H=z.slice(0,D);return this.head.data=z.slice(D),H}return D===z.length?this.shift():F?this._getString(D):this._getBuffer(D)}first(){return this.head.data}*[f](){for(let D=this.head;D;D=D.next)yield D.data}_getString(D){let F="",z=this.head,H=0;do{let V=z.data;if(D>V.length)F+=V,D-=V.length;else{D===V.length?(F+=V,++H,z.next?this.head=z.next:this.head=this.tail=null):(F+=M(V,0,D),this.head=z,z.data=M(V,D));break}++H}while((z=z.next)!==null);return this.length-=H,F}_getBuffer(D){let F=I.allocUnsafe(D),z=D,H=this.head,V=0;do{let Y=H.data;if(D>Y.length)_(F,Y,z-D),D-=Y.length;else{D===Y.length?(_(F,Y,z-D),++V,H.next?this.head=H.next:this.head=this.tail=null):(_(F,new E(Y.buffer,Y.byteOffset,D),z-D),this.head=H,H.data=Y.slice(D));break}++V}while((H=H.next)!==null);return this.length-=V,F}[Symbol.for("nodejs.util.inspect.custom")](D,F){return L(this,{...F,depth:0,customInspect:!1})}}}),R=r((A,k)=>{var{MathFloor:M,NumberIsInteger:f}=i(),{validateInteger:_}=h(),{ERR_INVALID_ARG_VALUE:E}=l().codes,I=16384,L=16;function D(V,Y,Me){return V.highWaterMark!=null?V.highWaterMark:Y?V[Me]:null}n(D,"v");function F(V){return V?L:I}n(F,"X");function z(V,Y){_(Y,"value",0),V?L=Y:I=Y}n(z,"Z");function H(V,Y,Me,se){let ae=D(Y,se,Me);if(ae!=null){if(!f(ae)||ae<0){let ye=se?`options.${Me}`:"options.highWaterMark";throw new E(ye,ae)}return M(ae)}return F(V.objectMode)}n(H,"k"),k.exports={getHighWaterMark:H,getDefaultHighWaterMark:F,setDefaultHighWaterMark:z}}),T=r((A,k)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var M=(wr(),$t(gr)),f=M.Buffer;function _(I,L){for(var D in I)L[D]=I[D]}n(_,"P"),f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?k.exports=M:(_(M,A),A.Buffer=E);function E(I,L,D){return f(I,L,D)}n(E,"O"),E.prototype=Object.create(f.prototype),_(f,E),E.from=function(I,L,D){if(typeof I=="number")throw TypeError("Argument must not be a number");return f(I,L,D)},E.alloc=function(I,L,D){if(typeof I!="number")throw TypeError("Argument must be a number");var F=f(I);return L!==void 0?typeof D=="string"?F.fill(L,D):F.fill(L):F.fill(0),F},E.allocUnsafe=function(I){if(typeof I!="number")throw TypeError("Argument must be a number");return f(I)},E.allocUnsafeSlow=function(I){if(typeof I!="number")throw TypeError("Argument must be a number");return M.SlowBuffer(I)}}),P=r(A=>{var k=T().Buffer,M=k.isEncoding||function(G){switch(G=""+G,G&&G.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(G){if(!G)return"utf8";for(var re;;)switch(G){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return G;default:if(re)return;G=(""+G).toLowerCase(),re=!0}}n(f,"_");function _(G){var re=f(G);if(typeof re!="string"&&(k.isEncoding===M||!M(G)))throw Error("Unknown encoding: "+G);return re||G}n(_,"P"),A.StringDecoder=E;function E(G){this.encoding=_(G);var re;switch(this.encoding){case"utf16le":this.text=V,this.end=Y,re=4;break;case"utf8":this.fillLast=F,re=4;break;case"base64":this.text=Me,this.end=se,re=3;break;default:this.write=ae,this.end=ye;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(re)}n(E,"O"),E.prototype.write=function(G){if(G.length===0)return"";var re,X;if(this.lastNeed){if(re=this.fillLast(G),re===void 0)return"";X=this.lastNeed,this.lastNeed=0}else X=0;return X<G.length?re?re+this.text(G,X):this.text(G,X):re||""},E.prototype.end=H,E.prototype.text=z,E.prototype.fillLast=function(G){if(this.lastNeed<=G.length)return G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);G.copy(this.lastChar,this.lastTotal-this.lastNeed,0,G.length),this.lastNeed-=G.length};function I(G){return G<=127?0:G>>5===6?2:G>>4===14?3:G>>3===30?4:G>>6===2?-1:-2}n(I,"Y");function L(G,re,X){var Q=re.length-1;if(Q<X)return 0;var le=I(re[Q]);return le>=0?(le>0&&(G.lastNeed=le-1),le):--Q<X||le===-2?0:(le=I(re[Q]),le>=0?(le>0&&(G.lastNeed=le-2),le):--Q<X||le===-2?0:(le=I(re[Q]),le>=0?(le>0&&(le===2?le=0:G.lastNeed=le-3),le):0))}n(L,"H");function D(G,re,X){if((re[0]&192)!==128)return G.lastNeed=0,"";if(G.lastNeed>1&&re.length>1){if((re[1]&192)!==128)return G.lastNeed=1,"";if(G.lastNeed>2&&re.length>2&&(re[2]&192)!==128)return G.lastNeed=2,""}}n(D,"v");function F(G){var re=this.lastTotal-this.lastNeed,X=D(this,G);if(X!==void 0)return X;if(this.lastNeed<=G.length)return G.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);G.copy(this.lastChar,re,0,G.length),this.lastNeed-=G.length}n(F,"X");function z(G,re){var X=L(this,G,re);if(!this.lastNeed)return G.toString("utf8",re);this.lastTotal=X;var Q=G.length-(X-this.lastNeed);return G.copy(this.lastChar,0,Q),G.toString("utf8",re,Q)}n(z,"Z");function H(G){var re=G&&G.length?this.write(G):"";return this.lastNeed?re+"":re}n(H,"k");function V(G,re){if((G.length-re)%2===0){var X=G.toString("utf16le",re);if(X){var Q=X.charCodeAt(X.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=G[G.length-1],G.toString("utf16le",re,G.length-1)}n(V,"G");function Y(G){var re=G&&G.length?this.write(G):"";if(this.lastNeed){var X=this.lastTotal-this.lastNeed;return re+this.lastChar.toString("utf16le",0,X)}return re}n(Y,"S");function Me(G,re){var X=(G.length-re)%3;return X===0?G.toString("base64",re):(this.lastNeed=3-X,this.lastTotal=3,X===1?this.lastChar[0]=G[G.length-1]:(this.lastChar[0]=G[G.length-2],this.lastChar[1]=G[G.length-1]),G.toString("base64",re,G.length-X))}n(Me,"N");function se(G){var re=G&&G.length?this.write(G):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}n(se,"E");function ae(G){return G.toString(this.encoding)}n(ae,"h");function ye(G){return G&&G.length?this.write(G):""}n(ye,"D")}),O=r((A,k)=>{var M=d(),{PromisePrototypeThen:f,SymbolAsyncIterator:_,SymbolIterator:E}=i(),{Buffer:I}=(wr(),$t(gr)),{ERR_INVALID_ARG_TYPE:L,ERR_STREAM_NULL_VALUES:D}=l().codes;function F(z,H,V){let Y;if(typeof H=="string"||H instanceof I)return new z({objectMode:!0,...V,read(){this.push(H),this.push(null)}});let Me;if(H&&H[_])Me=!0,Y=H[_]();else if(H&&H[E])Me=!1,Y=H[E]();else throw new L("iterable",["Iterable"],H);let se=new z({objectMode:!0,highWaterMark:1,...V}),ae=!1;se._read=function(){ae||(ae=!0,G())},se._destroy=function(re,X){f(ye(re),()=>M.nextTick(X,re),Q=>M.nextTick(X,Q||re))};async function ye(re){let X=re!=null,Q=typeof Y.throw=="function";if(X&&Q){let{value:le,done:Ae}=await Y.throw(re);if(await le,Ae)return}if(typeof Y.return=="function"){let{value:le}=await Y.return();await le}}n(ye,"D");async function G(){for(;;){try{let{value:re,done:X}=Me?await Y.next():Y.next();if(X)se.push(null);else{let Q=re&&typeof re.then=="function"?await re:re;if(Q===null)throw ae=!1,new D;if(se.push(Q))continue;ae=!1}}catch(re){se.destroy(re)}break}}return n(G,"I"),se}n(F,"X"),k.exports=F}),j=r((A,k)=>{var M=d(),{ArrayPrototypeIndexOf:f,NumberIsInteger:_,NumberIsNaN:E,NumberParseInt:I,ObjectDefineProperties:L,ObjectKeys:D,ObjectSetPrototypeOf:F,Promise:z,SafeSet:H,SymbolAsyncDispose:V,SymbolAsyncIterator:Y,Symbol:Me}=i();k.exports=ge,ge.ReadableState=$e;var{EventEmitter:se}=(Pl(),$t(eo)),{Stream:ae,prependListener:ye}=w(),{Buffer:G}=(wr(),$t(gr)),{addAbortSignal:re}=S(),X=y(),Q=g().debuglog("stream",he=>{Q=he}),le=C(),Ae=b(),{getHighWaterMark:pe,getDefaultHighWaterMark:fe}=R(),{aggregateTwoErrors:J,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:te,ERR_OUT_OF_RANGE:de,ERR_STREAM_PUSH_AFTER_EOF:oe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ue},AbortError:Be}=l(),{validateObject:we}=h(),De=Me("kPaused"),{StringDecoder:Xe}=P(),ve=O();F(ge.prototype,ae.prototype),F(ge,ae);var Fe=n(()=>{},"W"),{errorOrDestroy:ce}=Ae,be=1,Oe=2,Te=4,ke=8,ze=16,Je=32,Ce=64,Ee=128,je=256,_e=512,He=1024,Ke=2048,ie=4096,me=8192,Ie=16384,xe=32768,Pe=65536,Ze=131072,ne=262144;function Ne(he){return{enumerable:!1,get(){return(this.state&he)!==0},set(Se){Se?this.state|=he:this.state&=~he}}}n(Ne,"F"),L($e.prototype,{objectMode:Ne(be),ended:Ne(Oe),endEmitted:Ne(Te),reading:Ne(ke),constructed:Ne(ze),sync:Ne(Je),needReadable:Ne(Ce),emittedReadable:Ne(Ee),readableListening:Ne(je),resumeScheduled:Ne(_e),errorEmitted:Ne(He),emitClose:Ne(Ke),autoDestroy:Ne(ie),destroyed:Ne(me),closed:Ne(Ie),closeEmitted:Ne(xe),multiAwaitDrain:Ne(Pe),readingMore:Ne(Ze),dataEmitted:Ne(ne)});function $e(he,Se,nt){typeof nt!="boolean"&&(nt=Se instanceof W()),this.state=Ke|ie|ze|Je,he&&he.objectMode&&(this.state|=be),nt&&he&&he.readableObjectMode&&(this.state|=be),this.highWaterMark=he?pe(this,he,"readableHighWaterMark",nt):fe(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[De]=null,he&&he.emitClose===!1&&(this.state&=~Ke),he&&he.autoDestroy===!1&&(this.state&=~ie),this.errored=null,this.defaultEncoding=he&&he.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,he&&he.encoding&&(this.decoder=new Xe(he.encoding),this.encoding=he.encoding)}n($e,"_q");function ge(he){if(!(this instanceof ge))return new ge(he);let Se=this instanceof W();this._readableState=new $e(he,this,Se),he&&(typeof he.read=="function"&&(this._read=he.read),typeof he.destroy=="function"&&(this._destroy=he.destroy),typeof he.construct=="function"&&(this._construct=he.construct),he.signal&&!Se&&re(he.signal,this)),ae.call(this,he),Ae.construct(this,()=>{this._readableState.needReadable&&ht(this,this._readableState)})}n(ge,"Tq"),ge.prototype.destroy=Ae.destroy,ge.prototype._undestroy=Ae.undestroy,ge.prototype._destroy=function(he,Se){Se(he)},ge.prototype[se.captureRejectionSymbol]=function(he){this.destroy(he)},ge.prototype[V]=function(){let he;return this.destroyed||(he=this.readableEnded?null:new Be,this.destroy(he)),new z((Se,nt)=>X(this,ut=>ut&&ut!==he?nt(ut):Se(null)))},ge.prototype.push=function(he,Se){return Ge(this,he,Se,!1)},ge.prototype.unshift=function(he,Se){return Ge(this,he,Se,!0)};function Ge(he,Se,nt,ut){Q("readableAddChunk",Se);let pt=he._readableState,Mr;if((pt.state&be)===0&&(typeof Se=="string"?(nt=nt||pt.defaultEncoding,pt.encoding!==nt&&(ut&&pt.encoding?Se=G.from(Se,nt).toString(pt.encoding):(Se=G.from(Se,nt),nt=""))):Se instanceof G?nt="":ae._isUint8Array(Se)?(Se=ae._uint8ArrayToBuffer(Se),nt=""):Se!=null&&(Mr=new q("chunk",["string","Buffer","Uint8Array"],Se))),Mr)ce(he,Mr);else if(Se===null)pt.state&=~ke,Ue(he,pt);else if((pt.state&be)!==0||Se&&Se.length>0)if(ut)if((pt.state&Te)!==0)ce(he,new ue);else{if(pt.destroyed||pt.errored)return!1;et(he,pt,Se,!0)}else if(pt.ended)ce(he,new oe);else{if(pt.destroyed||pt.errored)return!1;pt.state&=~ke,pt.decoder&&!nt?(Se=pt.decoder.write(Se),pt.objectMode||Se.length!==0?et(he,pt,Se,!1):ht(he,pt)):et(he,pt,Se,!1)}else ut||(pt.state&=~ke,ht(he,pt));return!pt.ended&&(pt.length<pt.highWaterMark||pt.length===0)}n(Ge,"Yq");function et(he,Se,nt,ut){Se.flowing&&Se.length===0&&!Se.sync&&he.listenerCount("data")>0?((Se.state&Pe)!==0?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null,Se.dataEmitted=!0,he.emit("data",nt)):(Se.length+=Se.objectMode?1:nt.length,ut?Se.buffer.unshift(nt):Se.buffer.push(nt),(Se.state&Ce)!==0&&at(he)),ht(he,Se)}n(et,"Jq"),ge.prototype.isPaused=function(){let he=this._readableState;return he[De]===!0||he.flowing===!1},ge.prototype.setEncoding=function(he){let Se=new Xe(he);this._readableState.decoder=Se,this._readableState.encoding=this._readableState.decoder.encoding;let nt=this._readableState.buffer,ut="";for(let pt of nt)ut+=Se.write(pt);return nt.clear(),ut!==""&&nt.push(ut),this._readableState.length=ut.length,this};var Le=1073741824;function Qe(he){if(he>Le)throw new de("size","<= 1GiB",he);return he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++,he}n(Qe,"Hq");function Re(he,Se){return he<=0||Se.length===0&&Se.ended?0:(Se.state&be)!==0?1:E(he)?Se.flowing&&Se.length?Se.buffer.first().length:Se.length:he<=Se.length?he:Se.ended?Se.length:0}n(Re,"Xq"),ge.prototype.read=function(he){Q("read",he),he===void 0?he=NaN:_(he)||(he=I(he,10));let Se=this._readableState,nt=he;if(he>Se.highWaterMark&&(Se.highWaterMark=Qe(he)),he!==0&&(Se.state&=~Ee),he===0&&Se.needReadable&&((Se.highWaterMark!==0?Se.length>=Se.highWaterMark:Se.length>0)||Se.ended))return Q("read: emitReadable",Se.length,Se.ended),Se.length===0&&Se.ended?Ut(this):at(this),null;if(he=Re(he,Se),he===0&&Se.ended)return Se.length===0&&Ut(this),null;let ut=(Se.state&Ce)!==0;if(Q("need readable",ut),(Se.length===0||Se.length-he<Se.highWaterMark)&&(ut=!0,Q("length less than watermark",ut)),Se.ended||Se.reading||Se.destroyed||Se.errored||!Se.constructed)ut=!1,Q("reading, ended or constructing",ut);else if(ut){Q("do read"),Se.state|=ke|Je,Se.length===0&&(Se.state|=Ce);try{this._read(Se.highWaterMark)}catch(Mr){ce(this,Mr)}Se.state&=~Je,!Se.reading&&(he=Re(nt,Se))}let pt;return he>0?pt=Dt(he,Se):pt=null,pt===null?(Se.needReadable=Se.length<=Se.highWaterMark,he=0):(Se.length-=he,Se.multiAwaitDrain?Se.awaitDrainWriters.clear():Se.awaitDrainWriters=null),Se.length===0&&(Se.ended||(Se.needReadable=!0),nt!==he&&Se.ended&&Ut(this)),pt!==null&&!Se.errorEmitted&&!Se.closeEmitted&&(Se.dataEmitted=!0,this.emit("data",pt)),pt};function Ue(he,Se){if(Q("onEofChunk"),!Se.ended){if(Se.decoder){let nt=Se.decoder.end();nt&&nt.length&&(Se.buffer.push(nt),Se.length+=Se.objectMode?1:nt.length)}Se.ended=!0,Se.sync?at(he):(Se.needReadable=!1,Se.emittedReadable=!0,bt(he))}}n(Ue,"N$");function at(he){let Se=he._readableState;Q("emitReadable",Se.needReadable,Se.emittedReadable),Se.needReadable=!1,!Se.emittedReadable&&(Q("emitReadable",Se.flowing),Se.emittedReadable=!0,M.nextTick(bt,he))}n(at,"vq");function bt(he){let Se=he._readableState;Q("emitReadable_",Se.destroyed,Se.length,Se.ended),!Se.destroyed&&!Se.errored&&(Se.length||Se.ended)&&(he.emit("readable"),Se.emittedReadable=!1),Se.needReadable=!Se.flowing&&!Se.ended&&Se.length<=Se.highWaterMark,Lt(he)}n(bt,"kq");function ht(he,Se){!Se.readingMore&&Se.constructed&&(Se.readingMore=!0,M.nextTick(St,he,Se))}n(ht,"o$");function St(he,Se){for(;!Se.reading&&!Se.ended&&(Se.length<Se.highWaterMark||Se.flowing&&Se.length===0);){let nt=Se.length;if(Q("maybeReadMore read 0"),he.read(0),nt===Se.length)break}Se.readingMore=!1}n(St,"fq"),ge.prototype._read=function(he){throw new te("_read()")},ge.prototype.pipe=function(he,Se){let nt=this,ut=this._readableState;ut.pipes.length===1&&(ut.multiAwaitDrain||(ut.multiAwaitDrain=!0,ut.awaitDrainWriters=new H(ut.awaitDrainWriters?[ut.awaitDrainWriters]:[]))),ut.pipes.push(he),Q("pipe count=%d opts=%j",ut.pipes.length,Se);let pt=(!Se||Se.end!==!1)&&he!==M.stdout&&he!==M.stderr?Qr:xa;ut.endEmitted?M.nextTick(pt):nt.once("end",pt),he.on("unpipe",Mr);function Mr(Gn,Gi){Q("onunpipe"),Gn===nt&&Gi&&Gi.hasUnpiped===!1&&(Gi.hasUnpiped=!0,lM())}n(Mr,"E$");function Qr(){Q("onend"),he.end()}n(Qr,"wq");let Vn,Dv=!1;function lM(){Q("cleanup"),he.removeListener("close",rc),he.removeListener("finish",ic),Vn&&he.removeListener("drain",Vn),he.removeListener("error",tc),he.removeListener("unpipe",Mr),nt.removeListener("end",Qr),nt.removeListener("end",xa),nt.removeListener("data",Fv),Dv=!0,Vn&&ut.awaitDrainWriters&&(!he._writableState||he._writableState.needDrain)&&Vn()}n(lM,"Lq");function Bv(){Dv||(ut.pipes.length===1&&ut.pipes[0]===he?(Q("false write response, pause",0),ut.awaitDrainWriters=he,ut.multiAwaitDrain=!1):ut.pipes.length>1&&ut.pipes.includes(he)&&(Q("false write response, pause",ut.awaitDrainWriters.size),ut.awaitDrainWriters.add(he)),nt.pause()),Vn||(Vn=Bt(nt,he),he.on("drain",Vn))}n(Bv,"Eq"),nt.on("data",Fv);function Fv(Gn){Q("ondata");let Gi=he.write(Gn);Q("dest.write",Gi),Gi===!1&&Bv()}n(Fv,"k8");function tc(Gn){if(Q("onerror",Gn),xa(),he.removeListener("error",tc),he.listenerCount("error")===0){let Gi=he._writableState||he._readableState;Gi&&!Gi.errorEmitted?ce(he,Gn):he.emit("error",Gn)}}n(tc,"Vq"),ye(he,"error",tc);function rc(){he.removeListener("finish",ic),xa()}n(rc,"Mq"),he.once("close",rc);function ic(){Q("onfinish"),he.removeListener("close",rc),xa()}n(ic,"m$"),he.once("finish",ic);function xa(){Q("unpipe"),nt.unpipe(he)}return n(xa,"J$"),he.emit("pipe",nt),he.writableNeedDrain===!0?Bv():ut.flowing||(Q("pipe resume"),nt.resume()),he};function Bt(he,Se){return function(){let nt=he._readableState;nt.awaitDrainWriters===Se?(Q("pipeOnDrain",1),nt.awaitDrainWriters=null):nt.multiAwaitDrain&&(Q("pipeOnDrain",nt.awaitDrainWriters.size),nt.awaitDrainWriters.delete(Se)),(!nt.awaitDrainWriters||nt.awaitDrainWriters.size===0)&&he.listenerCount("data")&&he.resume()}}n(Bt,"Rq"),ge.prototype.unpipe=function(he){let Se=this._readableState,nt={hasUnpiped:!1};if(Se.pipes.length===0)return this;if(!he){let pt=Se.pipes;Se.pipes=[],this.pause();for(let Mr=0;Mr<pt.length;Mr++)pt[Mr].emit("unpipe",this,{hasUnpiped:!1});return this}let ut=f(Se.pipes,he);return ut===-1?this:(Se.pipes.splice(ut,1),Se.pipes.length===0&&this.pause(),he.emit("unpipe",this,nt),this)},ge.prototype.on=function(he,Se){let nt=ae.prototype.on.call(this,he,Se),ut=this._readableState;return he==="data"?(ut.readableListening=this.listenerCount("readable")>0,ut.flowing!==!1&&this.resume()):he==="readable"&&!ut.endEmitted&&!ut.readableListening&&(ut.readableListening=ut.needReadable=!0,ut.flowing=!1,ut.emittedReadable=!1,Q("on readable",ut.length,ut.reading),ut.length?at(this):ut.reading||M.nextTick(Mt,this)),nt},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(he,Se){let nt=ae.prototype.removeListener.call(this,he,Se);return he==="readable"&&M.nextTick(Et,this),nt},ge.prototype.off=ge.prototype.removeListener,ge.prototype.removeAllListeners=function(he){let Se=ae.prototype.removeAllListeners.apply(this,arguments);return(he==="readable"||he===void 0)&&M.nextTick(Et,this),Se};function Et(he){let Se=he._readableState;Se.readableListening=he.listenerCount("readable")>0,Se.resumeScheduled&&Se[De]===!1?Se.flowing=!0:he.listenerCount("data")>0?he.resume():Se.readableListening||(Se.flowing=null)}n(Et,"X8");function Mt(he){Q("readable nexttick read 0"),he.read(0)}n(Mt,"hq"),ge.prototype.resume=function(){let he=this._readableState;return he.flowing||(Q("resume"),he.flowing=!he.readableListening,zt(this,he)),he[De]=!1,this};function zt(he,Se){Se.resumeScheduled||(Se.resumeScheduled=!0,M.nextTick(Ht,he,Se))}n(zt,"Dq");function Ht(he,Se){Q("resume",Se.reading),!Se.reading&&he.read(0),Se.resumeScheduled=!1,he.emit("resume"),Lt(he),Se.flowing&&!Se.reading&&he.read(0)}n(Ht,"h8"),ge.prototype.pause=function(){return Q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[De]=!0,this};function Lt(he){let Se=he._readableState;for(Q("flow",Se.flowing);Se.flowing&&he.read()!==null;);}n(Lt,"Sq"),ge.prototype.wrap=function(he){let Se=!1;he.on("data",ut=>{!this.push(ut)&&he.pause&&(Se=!0,he.pause())}),he.on("end",()=>{this.push(null)}),he.on("error",ut=>{ce(this,ut)}),he.on("close",()=>{this.destroy()}),he.on("destroy",()=>{this.destroy()}),this._read=()=>{Se&&he.resume&&(Se=!1,he.resume())};let nt=D(he);for(let ut=1;ut<nt.length;ut++){let pt=nt[ut];this[pt]===void 0&&typeof he[pt]=="function"&&(this[pt]=he[pt].bind(he))}return this},ge.prototype[Y]=function(){return Ft(this)},ge.prototype.iterator=function(he){return he!==void 0&&we(he,"options"),Ft(this,he)};function Ft(he,Se){typeof he.read!="function"&&(he=ge.wrap(he,{objectMode:!0}));let nt=Nt(he,Se);return nt.stream=he,nt}n(Ft,"Cq");async function*Nt(he,Se){let nt=Fe;function ut(Qr){this===he?(nt(),nt=Fe):nt=Qr}n(ut,"Kq"),he.on("readable",ut);let pt,Mr=X(he,{writable:!1},Qr=>{pt=Qr?J(pt,Qr):null,nt(),nt=Fe});try{for(;;){let Qr=he.destroyed?null:he.read();if(Qr!==null)yield Qr;else{if(pt)throw pt;if(pt===null)return;await new z(ut)}}}catch(Qr){throw pt=J(pt,Qr),pt}finally{(pt||Se?.destroyOnReturn!==!1)&&(pt===void 0||he._readableState.autoDestroy)?Ae.destroyer(he,null):(he.off("readable",ut),Mr())}}n(Nt,"D8"),L(ge.prototype,{readable:{__proto__:null,get(){let he=this._readableState;return!!he&&he.readable!==!1&&!he.destroyed&&!he.errorEmitted&&!he.endEmitted},set(he){this._readableState&&(this._readableState.readable=!!he)}},readableDidRead:{__proto__:null,enumerable:!1,get:n(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:n(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:n(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:n(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:n(function(){return this._readableState.flowing},"get"),set:n(function(he){this._readableState&&(this._readableState.flowing=he)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(he){this._readableState&&(this._readableState.destroyed=he)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),L($e.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[De]!==!1},set(he){this[De]=!!he}}}),ge._fromList=Dt;function Dt(he,Se){if(Se.length===0)return null;let nt;return Se.objectMode?nt=Se.buffer.shift():!he||he>=Se.length?(Se.decoder?nt=Se.buffer.join(""):Se.buffer.length===1?nt=Se.buffer.first():nt=Se.buffer.concat(Se.length),Se.buffer.clear()):nt=Se.buffer.consume(he,Se.decoder),nt}n(Dt,"Nq");function Ut(he){let Se=he._readableState;Q("endReadable",Se.endEmitted),!Se.endEmitted&&(Se.ended=!0,M.nextTick(Zt,Se,he))}n(Ut,"Gq");function Zt(he,Se){if(Q("endReadableNT",he.endEmitted,he.length),!he.errored&&!he.closeEmitted&&!he.endEmitted&&he.length===0){if(he.endEmitted=!0,Se.emit("end"),Se.writable&&Se.allowHalfOpen===!1)M.nextTick(Vt,Se);else if(he.autoDestroy){let nt=Se._writableState;(!nt||nt.autoDestroy&&(nt.finished||nt.writable===!1))&&Se.destroy()}}}n(Zt,"I8");function Vt(he){he.writable&&!he.writableEnded&&!he.destroyed&&he.end()}n(Vt,"Iq"),ge.from=function(he,Se){return ve(ge,he,Se)};var Gt;function Pr(){return Gt===void 0&&(Gt={}),Gt}n(Pr,"f8"),ge.fromWeb=function(he,Se){return Pr().newStreamReadableFromReadableStream(he,Se)},ge.toWeb=function(he,Se){return Pr().newReadableStreamFromStreamReadable(he,Se)},ge.wrap=function(he,Se){var nt,ut;return new ge({objectMode:(nt=(ut=he.readableObjectMode)!==null&&ut!==void 0?ut:he.objectMode)!==null&&nt!==void 0?nt:!0,...Se,destroy(pt,Mr){Ae.destroyer(he,pt),Mr(pt)}}).wrap(he)}}),B=r((A,k)=>{var M=d(),{ArrayPrototypeSlice:f,Error:_,FunctionPrototypeSymbolHasInstance:E,ObjectDefineProperty:I,ObjectDefineProperties:L,ObjectSetPrototypeOf:D,StringPrototypeToLowerCase:F,Symbol:z,SymbolHasInstance:H}=i();k.exports=we,we.WritableState=ue;var{EventEmitter:V}=(Pl(),$t(eo)),Y=w().Stream,{Buffer:Me}=(wr(),$t(gr)),se=b(),{addAbortSignal:ae}=S(),{getHighWaterMark:ye,getDefaultHighWaterMark:G}=R(),{ERR_INVALID_ARG_TYPE:re,ERR_METHOD_NOT_IMPLEMENTED:X,ERR_MULTIPLE_CALLBACK:Q,ERR_STREAM_CANNOT_PIPE:le,ERR_STREAM_DESTROYED:Ae,ERR_STREAM_ALREADY_FINISHED:pe,ERR_STREAM_NULL_VALUES:fe,ERR_STREAM_WRITE_AFTER_END:J,ERR_UNKNOWN_ENCODING:q}=l().codes,{errorOrDestroy:te}=se;D(we.prototype,Y.prototype),D(we,Y);function de(){}n(de,"j");var oe=z("kOnFinished");function ue(ie,me,Ie){typeof Ie!="boolean"&&(Ie=me instanceof W()),this.objectMode=!!(ie&&ie.objectMode),Ie&&(this.objectMode=this.objectMode||!!(ie&&ie.writableObjectMode)),this.highWaterMark=ie?ye(this,ie,"writableHighWaterMark",Ie):G(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let xe=!!(ie&&ie.decodeStrings===!1);this.decodeStrings=!xe,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ce.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Be(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[oe]=[]}n(ue,"w");function Be(ie){ie.buffered=[],ie.bufferedIndex=0,ie.allBuffers=!0,ie.allNoop=!0}n(Be,"z"),ue.prototype.getBuffer=function(){return f(this.buffered,this.bufferedIndex)},I(ue.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function we(ie){let me=this instanceof W();if(!me&&!E(we,this))return new we(ie);this._writableState=new ue(ie,this,me),ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&ae(ie.signal,this)),Y.call(this,ie),se.construct(this,()=>{let Ie=this._writableState;Ie.writing||ke(this,Ie),Ee(this,Ie)})}n(we,"T"),I(we,H,{__proto__:null,value:n(function(ie){return E(this,ie)?!0:this!==we?!1:ie&&ie._writableState instanceof ue},"value")}),we.prototype.pipe=function(){te(this,new le)};function De(ie,me,Ie,xe){let Pe=ie._writableState;if(typeof Ie=="function")xe=Ie,Ie=Pe.defaultEncoding;else{if(!Ie)Ie=Pe.defaultEncoding;else if(Ie!=="buffer"&&!Me.isEncoding(Ie))throw new q(Ie);typeof xe!="function"&&(xe=de)}if(me===null)throw new fe;if(!Pe.objectMode)if(typeof me=="string")Pe.decodeStrings!==!1&&(me=Me.from(me,Ie),Ie="buffer");else if(me instanceof Me)Ie="buffer";else if(Y._isUint8Array(me))me=Y._uint8ArrayToBuffer(me),Ie="buffer";else throw new re("chunk",["string","Buffer","Uint8Array"],me);let Ze;return Pe.ending?Ze=new J:Pe.destroyed&&(Ze=new Ae("write")),Ze?(M.nextTick(xe,Ze),te(ie,Ze,!0),Ze):(Pe.pendingcb++,Xe(ie,Pe,me,Ie,xe))}n(De,"V"),we.prototype.write=function(ie,me,Ie){return De(this,ie,me,Ie)===!0},we.prototype.cork=function(){this._writableState.corked++},we.prototype.uncork=function(){let ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&ke(this,ie))},we.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=F(ie)),!Me.isEncoding(ie))throw new q(ie);return this._writableState.defaultEncoding=ie,this};function Xe(ie,me,Ie,xe,Pe){let Ze=me.objectMode?1:Ie.length;me.length+=Ze;let ne=me.length<me.highWaterMark;return ne||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:Ie,encoding:xe,callback:Pe}),me.allBuffers&&xe!=="buffer"&&(me.allBuffers=!1),me.allNoop&&Pe!==de&&(me.allNoop=!1)):(me.writelen=Ze,me.writecb=Pe,me.writing=!0,me.sync=!0,ie._write(Ie,xe,me.onwrite),me.sync=!1),ne&&!me.errored&&!me.destroyed}n(Xe,"C");function ve(ie,me,Ie,xe,Pe,Ze,ne){me.writelen=xe,me.writecb=ne,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new Ae("write")):Ie?ie._writev(Pe,me.onwrite):ie._write(Pe,Ze,me.onwrite),me.sync=!1}n(ve,"f");function Fe(ie,me,Ie,xe){--me.pendingcb,xe(Ie),Te(me),te(ie,Ie)}n(Fe,"W");function ce(ie,me){let Ie=ie._writableState,xe=Ie.sync,Pe=Ie.writecb;if(typeof Pe!="function"){te(ie,new Q);return}Ie.writing=!1,Ie.writecb=null,Ie.length-=Ie.writelen,Ie.writelen=0,me?(me.stack,!Ie.errored&&(Ie.errored=me),ie._readableState&&!ie._readableState.errored&&(ie._readableState.errored=me),xe?M.nextTick(Fe,ie,Ie,me,Pe):Fe(ie,Ie,me,Pe)):(Ie.buffered.length>Ie.bufferedIndex&&ke(ie,Ie),xe?Ie.afterWriteTickInfo!==null&&Ie.afterWriteTickInfo.cb===Pe?Ie.afterWriteTickInfo.count++:(Ie.afterWriteTickInfo={count:1,cb:Pe,stream:ie,state:Ie},M.nextTick(be,Ie.afterWriteTickInfo)):Oe(ie,Ie,1,Pe))}n(ce,"A");function be({stream:ie,state:me,count:Ie,cb:xe}){return me.afterWriteTickInfo=null,Oe(ie,me,Ie,xe)}n(be,"L");function Oe(ie,me,Ie,xe){for(!me.ending&&!ie.destroyed&&me.length===0&&me.needDrain&&(me.needDrain=!1,ie.emit("drain"));Ie-- >0;)me.pendingcb--,xe();me.destroyed&&Te(me),Ee(ie,me)}n(Oe,"R");function Te(ie){if(ie.writing)return;for(let Pe=ie.bufferedIndex;Pe<ie.buffered.length;++Pe){var me;let{chunk:Ze,callback:ne}=ie.buffered[Pe],Ne=ie.objectMode?1:Ze.length;ie.length-=Ne,ne((me=ie.errored)!==null&&me!==void 0?me:new Ae("write"))}let Ie=ie[oe].splice(0);for(let Pe=0;Pe<Ie.length;Pe++){var xe;Ie[Pe]((xe=ie.errored)!==null&&xe!==void 0?xe:new Ae("end"))}Be(ie)}n(Te,"b");function ke(ie,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;let{buffered:Ie,bufferedIndex:xe,objectMode:Pe}=me,Ze=Ie.length-xe;if(!Ze)return;let ne=xe;if(me.bufferProcessing=!0,Ze>1&&ie._writev){me.pendingcb-=Ze-1;let Ne=me.allNoop?de:ge=>{for(let Ge=ne;Ge<Ie.length;++Ge)Ie[Ge].callback(ge)},$e=me.allNoop&&ne===0?Ie:f(Ie,ne);$e.allBuffers=me.allBuffers,ve(ie,me,!0,me.length,$e,"",Ne),Be(me)}else{do{let{chunk:Ne,encoding:$e,callback:ge}=Ie[ne];Ie[ne++]=null;let Ge=Pe?1:Ne.length;ve(ie,me,!1,Ge,Ne,$e,ge)}while(ne<Ie.length&&!me.writing);ne===Ie.length?Be(me):ne>256?(Ie.splice(0,ne),me.bufferedIndex=0):me.bufferedIndex=ne}me.bufferProcessing=!1}n(ke,"l"),we.prototype._write=function(ie,me,Ie){if(this._writev)this._writev([{chunk:ie,encoding:me}],Ie);else throw new X("_write()")},we.prototype._writev=null,we.prototype.end=function(ie,me,Ie){let xe=this._writableState;typeof ie=="function"?(Ie=ie,ie=null,me=null):typeof me=="function"&&(Ie=me,me=null);let Pe;if(ie!=null){let Ze=De(this,ie,me);Ze instanceof _&&(Pe=Ze)}return xe.corked&&(xe.corked=1,this.uncork()),Pe||(!xe.errored&&!xe.ending?(xe.ending=!0,Ee(this,xe,!0),xe.ended=!0):xe.finished?Pe=new pe("end"):xe.destroyed&&(Pe=new Ae("end"))),typeof Ie=="function"&&(Pe||xe.finished?M.nextTick(Ie,Pe):xe[oe].push(Ie)),this};function ze(ie){return ie.ending&&!ie.destroyed&&ie.constructed&&ie.length===0&&!ie.errored&&ie.buffered.length===0&&!ie.finished&&!ie.writing&&!ie.errorEmitted&&!ie.closeEmitted}n(ze,"B");function Je(ie,me){let Ie=!1;function xe(Pe){if(Ie){te(ie,Pe??Q());return}if(Ie=!0,me.pendingcb--,Pe){let Ze=me[oe].splice(0);for(let ne=0;ne<Ze.length;ne++)Ze[ne](Pe);te(ie,Pe,me.sync)}else ze(me)&&(me.prefinished=!0,ie.emit("prefinish"),me.pendingcb++,M.nextTick(je,ie,me))}n(xe,"yq"),me.sync=!0,me.pendingcb++;try{ie._final(xe)}catch(Pe){xe(Pe)}me.sync=!1}n(Je,"t");function Ce(ie,me){!me.prefinished&&!me.finalCalled&&(typeof ie._final=="function"&&!me.destroyed?(me.finalCalled=!0,Je(ie,me)):(me.prefinished=!0,ie.emit("prefinish")))}n(Ce,"Wq");function Ee(ie,me,Ie){ze(me)&&(Ce(ie,me),me.pendingcb===0&&(Ie?(me.pendingcb++,M.nextTick((xe,Pe)=>{ze(Pe)?je(xe,Pe):Pe.pendingcb--},ie,me)):ze(me)&&(me.pendingcb++,je(ie,me))))}n(Ee,"r");function je(ie,me){me.pendingcb--,me.finished=!0;let Ie=me[oe].splice(0);for(let xe=0;xe<Ie.length;xe++)Ie[xe]();if(ie.emit("finish"),me.autoDestroy){let xe=ie._readableState;(!xe||xe.autoDestroy&&(xe.endEmitted||xe.readable===!1))&&ie.destroy()}}n(je,"i"),L(we.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ie){this._writableState&&(this._writableState.destroyed=ie)}},writable:{__proto__:null,get(){let ie=this._writableState;return!!ie&&ie.writable!==!1&&!ie.destroyed&&!ie.errored&&!ie.ending&&!ie.ended},set(ie){this._writableState&&(this._writableState.writable=!!ie)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ie=this._writableState;return ie?!ie.destroyed&&!ie.ending&&ie.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:n(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var _e=se.destroy;we.prototype.destroy=function(ie,me){let Ie=this._writableState;return!Ie.destroyed&&(Ie.bufferedIndex<Ie.buffered.length||Ie[oe].length)&&M.nextTick(Te,Ie),_e.call(this,ie,me),this},we.prototype._undestroy=se.undestroy,we.prototype._destroy=function(ie,me){me(ie)},we.prototype[V.captureRejectionSymbol]=function(ie){this.destroy(ie)};var He;function Ke(){return He===void 0&&(He={}),He}n(Ke,"Oq"),we.fromWeb=function(ie,me){return Ke().newStreamWritableFromWritableStream(ie,me)},we.toWeb=function(ie){return Ke().newWritableStreamFromStreamWritable(ie)}}),Z=r((A,k)=>{var M=d(),f=(wr(),$t(gr)),{isReadable:_,isWritable:E,isIterable:I,isNodeStream:L,isReadableNodeStream:D,isWritableNodeStream:F,isDuplexNodeStream:z,isReadableStream:H,isWritableStream:V}=c(),Y=y(),{AbortError:Me,codes:{ERR_INVALID_ARG_TYPE:se,ERR_INVALID_RETURN_VALUE:ae}}=l(),{destroyer:ye}=b(),G=W(),re=j(),X=B(),{createDeferredPromise:Q}=g(),le=O(),Ae=globalThis.Blob||f.Blob,pe=typeof Ae<"u"?function(oe){return oe instanceof Ae}:function(oe){return!1},fe=globalThis.AbortController||v().AbortController,{FunctionPrototypeCall:J}=i();class q extends G{static{n(this,"n")}constructor(ue){super(ue),ue?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ue?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}k.exports=n(function oe(ue,Be){if(z(ue))return ue;if(D(ue))return de({readable:ue});if(F(ue))return de({writable:ue});if(L(ue))return de({writable:!1,readable:!1});if(H(ue))return de({readable:re.fromWeb(ue)});if(V(ue))return de({writable:X.fromWeb(ue)});if(typeof ue=="function"){let{value:De,write:Xe,final:ve,destroy:Fe}=te(ue);if(I(De))return le(q,De,{objectMode:!0,write:Xe,final:ve,destroy:Fe});let ce=De?.then;if(typeof ce=="function"){let be,Oe=J(ce,De,Te=>{if(Te!=null)throw new ae("nully","body",Te)},Te=>{ye(be,Te)});return be=new q({objectMode:!0,readable:!1,write:Xe,final(Te){ve(async()=>{try{await Oe,M.nextTick(Te,null)}catch(ke){M.nextTick(Te,ke)}})},destroy:Fe})}throw new ae("Iterable, AsyncIterable or AsyncFunction",Be,De)}if(pe(ue))return oe(ue.arrayBuffer());if(I(ue))return le(q,ue,{objectMode:!0,writable:!1});if(H(ue?.readable)&&V(ue?.writable))return q.fromWeb(ue);if(typeof ue?.writable=="object"||typeof ue?.readable=="object"){let De=ue!=null&&ue.readable?D(ue?.readable)?ue?.readable:oe(ue.readable):void 0,Xe=ue!=null&&ue.writable?F(ue?.writable)?ue?.writable:oe(ue.writable):void 0;return de({readable:De,writable:Xe})}let we=ue?.then;if(typeof we=="function"){let De;return J(we,ue,Xe=>{Xe!=null&&De.push(Xe),De.push(null)},Xe=>{ye(De,Xe)}),De=new q({objectMode:!0,writable:!1,read(){}})}throw new se(Be,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ue)},"J");function te(oe){let{promise:ue,resolve:Be}=Q(),we=new fe,De=we.signal;return{value:oe((async function*(){for(;;){let Xe=ue;ue=null;let{chunk:ve,done:Fe,cb:ce}=await Xe;if(M.nextTick(ce),Fe)return;if(De.aborted)throw new Me(void 0,{cause:De.reason});({promise:ue,resolve:Be}=Q()),yield ve}})(),{signal:De}),write(Xe,ve,Fe){let ce=Be;Be=null,ce({chunk:Xe,done:!1,cb:Fe})},final(Xe){let ve=Be;Be=null,ve({done:!0,cb:Xe})},destroy(Xe,ve){we.abort(),ve(Xe)}}}n(te,"M");function de(oe){let ue=oe.readable&&typeof oe.readable.read!="function"?re.wrap(oe.readable):oe.readable,Be=oe.writable,we=!!_(ue),De=!!E(Be),Xe,ve,Fe,ce,be;function Oe(Te){let ke=ce;ce=null,ke?ke(Te):Te&&be.destroy(Te)}return n(Oe,"R"),be=new q({readableObjectMode:!!(ue!=null&&ue.readableObjectMode),writableObjectMode:!!(Be!=null&&Be.writableObjectMode),readable:we,writable:De}),De&&(Y(Be,Te=>{De=!1,Te&&ye(ue,Te),Oe(Te)}),be._write=function(Te,ke,ze){Be.write(Te,ke)?ze():Xe=ze},be._final=function(Te){Be.end(),ve=Te},Be.on("drain",function(){if(Xe){let Te=Xe;Xe=null,Te()}}),Be.on("finish",function(){if(ve){let Te=ve;ve=null,Te()}})),we&&(Y(ue,Te=>{we=!1,Te&&ye(ue,Te),Oe(Te)}),ue.on("readable",function(){if(Fe){let Te=Fe;Fe=null,Te()}}),ue.on("end",function(){be.push(null)}),be._read=function(){for(;;){let Te=ue.read();if(Te===null){Fe=be._read;return}if(!be.push(Te))return}}),be._destroy=function(Te,ke){!Te&&ce!==null&&(Te=new Me),Fe=null,Xe=null,ve=null,ce===null?ke(Te):(ce=ke,ye(Be,Te),ye(ue,Te))},be}n(de,"j")}),W=r((A,k)=>{var{ObjectDefineProperties:M,ObjectGetOwnPropertyDescriptor:f,ObjectKeys:_,ObjectSetPrototypeOf:E}=i();k.exports=D;var I=j(),L=B();E(D.prototype,I.prototype),E(D,I);{let V=_(L.prototype);for(let Y=0;Y<V.length;Y++){let Me=V[Y];D.prototype[Me]||(D.prototype[Me]=L.prototype[Me])}}function D(V){if(!(this instanceof D))return new D(V);I.call(this,V),L.call(this,V),V?(this.allowHalfOpen=V.allowHalfOpen!==!1,V.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),V.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(D,"v"),M(D.prototype,{writable:{__proto__:null,...f(L.prototype,"writable")},writableHighWaterMark:{__proto__:null,...f(L.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...f(L.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...f(L.prototype,"writableBuffer")},writableLength:{__proto__:null,...f(L.prototype,"writableLength")},writableFinished:{__proto__:null,...f(L.prototype,"writableFinished")},writableCorked:{__proto__:null,...f(L.prototype,"writableCorked")},writableEnded:{__proto__:null,...f(L.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...f(L.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(V){this._readableState&&this._writableState&&(this._readableState.destroyed=V,this._writableState.destroyed=V)}}});var F;function z(){return F===void 0&&(F={}),F}n(z,"Z"),D.fromWeb=function(V,Y){return z().newStreamDuplexFromReadableWritablePair(V,Y)},D.toWeb=function(V){return z().newReadableWritablePairFromDuplex(V)};var H;D.from=function(V){return H||(H=Z()),H(V,"body")}}),ee=r((A,k)=>{var{ObjectSetPrototypeOf:M,Symbol:f}=i();k.exports=D;var{ERR_METHOD_NOT_IMPLEMENTED:_}=l().codes,E=W(),{getHighWaterMark:I}=R();M(D.prototype,E.prototype),M(D,E);var L=f("kCallback");function D(H){if(!(this instanceof D))return new D(H);let V=H?I(this,H,"readableHighWaterMark",!0):null;V===0&&(H={...H,highWaterMark:null,readableHighWaterMark:V,writableHighWaterMark:H.writableHighWaterMark||0}),E.call(this,H),this._readableState.sync=!1,this[L]=null,H&&(typeof H.transform=="function"&&(this._transform=H.transform),typeof H.flush=="function"&&(this._flush=H.flush)),this.on("prefinish",z)}n(D,"v");function F(H){typeof this._flush=="function"&&!this.destroyed?this._flush((V,Y)=>{if(V){H?H(V):this.destroy(V);return}Y!=null&&this.push(Y),this.push(null),H&&H()}):(this.push(null),H&&H())}n(F,"X");function z(){this._final!==F&&F.call(this)}n(z,"Z"),D.prototype._final=F,D.prototype._transform=function(H,V,Y){throw new _("_transform()")},D.prototype._write=function(H,V,Y){let Me=this._readableState,se=this._writableState,ae=Me.length;this._transform(H,V,(ye,G)=>{if(ye){Y(ye);return}G!=null&&this.push(G),se.ended||ae===Me.length||Me.length<Me.highWaterMark?Y():this[L]=Y})},D.prototype._read=function(){if(this[L]){let H=this[L];this[L]=null,H()}}}),$=r((A,k)=>{var{ObjectSetPrototypeOf:M}=i();k.exports=_;var f=ee();M(_.prototype,f.prototype),M(_,f);function _(E){if(!(this instanceof _))return new _(E);f.call(this,E)}n(_,"P"),_.prototype._transform=function(E,I,L){L(null,E)}}),U=r((A,k)=>{var M=d(),{ArrayIsArray:f,Promise:_,SymbolAsyncIterator:E,SymbolDispose:I}=i(),L=y(),{once:D}=g(),F=b(),z=W(),{aggregateTwoErrors:H,codes:{ERR_INVALID_ARG_TYPE:V,ERR_INVALID_RETURN_VALUE:Y,ERR_MISSING_ARGS:Me,ERR_STREAM_DESTROYED:se,ERR_STREAM_PREMATURE_CLOSE:ae},AbortError:ye}=l(),{validateFunction:G,validateAbortSignal:re}=h(),{isIterable:X,isReadable:Q,isReadableNodeStream:le,isNodeStream:Ae,isTransformStream:pe,isWebStream:fe,isReadableStream:J,isReadableFinished:q}=c(),te=globalThis.AbortController||v().AbortController,de,oe,ue;function Be(Te,ke,ze){let Je=!1;Te.on("close",()=>{Je=!0});let Ce=L(Te,{readable:ke,writable:ze},Ee=>{Je=!Ee});return{destroy:n(Ee=>{Je||(Je=!0,F.destroyer(Te,Ee||new se("pipe")))},"destroy"),cleanup:Ce}}n(Be,"z");function we(Te){return G(Te[Te.length-1],"streams[stream.length - 1]"),Te.pop()}n(we,"T");function De(Te){if(X(Te))return Te;if(le(Te))return Xe(Te);throw new V("val",["Readable","Iterable","AsyncIterable"],Te)}n(De,"V");async function*Xe(Te){oe||(oe=j()),yield*oe.prototype[E].call(Te)}n(Xe,"C");async function ve(Te,ke,ze,{end:Je}){let Ce,Ee=null,je=n(Ke=>{if(Ke&&(Ce=Ke),Ee){let ie=Ee;Ee=null,ie()}},"i"),_e=n(()=>new _((Ke,ie)=>{Ce?ie(Ce):Ee=n(()=>{Ce?ie(Ce):Ke()},"r")}),"gq");ke.on("drain",je);let He=L(ke,{readable:!1},je);try{ke.writableNeedDrain&&await _e();for await(let Ke of Te)ke.write(Ke)||await _e();Je&&(ke.end(),await _e()),ze()}catch(Ke){ze(Ce!==Ke?H(Ce,Ke):Ke)}finally{He(),ke.off("drain",je)}}n(ve,"f");async function Fe(Te,ke,ze,{end:Je}){pe(ke)&&(ke=ke.writable);let Ce=ke.getWriter();try{for await(let Ee of Te)await Ce.ready,Ce.write(Ee).catch(()=>{});await Ce.ready,Je&&await Ce.close(),ze()}catch(Ee){try{await Ce.abort(Ee),ze(Ee)}catch(je){ze(je)}}}n(Fe,"W");function ce(...Te){return be(Te,D(we(Te)))}n(ce,"A");function be(Te,ke,ze){if(Te.length===1&&f(Te[0])&&(Te=Te[0]),Te.length<2)throw new Me("streams");let Je=new te,Ce=Je.signal,Ee=ze?.signal,je=[];re(Ee,"options.signal");function _e(){Pe(new ye)}n(_e,"gq"),ue=ue||g().addAbortListener;let He;Ee&&(He=ue(Ee,_e));let Ke,ie,me=[],Ie=0;function xe($e){Pe($e,--Ie===0)}n(xe,"yq");function Pe($e,ge){var Ge;if($e&&(!Ke||Ke.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ke=$e),!(!Ke&&!ge)){for(;me.length;)me.shift()(Ke);(Ge=He)===null||Ge===void 0||Ge[I](),Je.abort(),ge&&(Ke||je.forEach(et=>et()),M.nextTick(ke,Ke,ie))}}n(Pe,"qq");let Ze;for(let $e=0;$e<Te.length;$e++){let ge=Te[$e],Ge=$e<Te.length-1,et=$e>0,Le=Ge||ze?.end!==!1,Qe=$e===Te.length-1;if(Ae(ge)){let Re=n(function(Ue){Ue&&Ue.name!=="AbortError"&&Ue.code!=="ERR_STREAM_PREMATURE_CLOSE"&&xe(Ue)},"N$");if(Le){let{destroy:Ue,cleanup:at}=Be(ge,Ge,et);me.push(Ue),Q(ge)&&Qe&&je.push(at)}ge.on("error",Re),Q(ge)&&Qe&&je.push(()=>{ge.removeListener("error",Re)})}if($e===0)if(typeof ge=="function"){if(Ze=ge({signal:Ce}),!X(Ze))throw new Y("Iterable, AsyncIterable or Stream","source",Ze)}else X(ge)||le(ge)||pe(ge)?Ze=ge:Ze=z.from(ge);else if(typeof ge=="function"){if(pe(Ze)){var ne;Ze=De((ne=Ze)===null||ne===void 0?void 0:ne.readable)}else Ze=De(Ze);if(Ze=ge(Ze,{signal:Ce}),Ge){if(!X(Ze,!0))throw new Y("AsyncIterable",`transform[${$e-1}]`,Ze)}else{var Ne;de||(de=$());let Re=new de({objectMode:!0}),Ue=(Ne=Ze)===null||Ne===void 0?void 0:Ne.then;if(typeof Ue=="function")Ie++,Ue.call(Ze,ht=>{ie=ht,ht!=null&&Re.write(ht),Le&&Re.end(),M.nextTick(xe)},ht=>{Re.destroy(ht),M.nextTick(xe,ht)});else if(X(Ze,!0))Ie++,ve(Ze,Re,xe,{end:Le});else if(J(Ze)||pe(Ze)){let ht=Ze.readable||Ze;Ie++,ve(ht,Re,xe,{end:Le})}else throw new Y("AsyncIterable or Promise","destination",Ze);Ze=Re;let{destroy:at,cleanup:bt}=Be(Ze,!1,!0);me.push(at),Qe&&je.push(bt)}}else if(Ae(ge)){if(le(Ze)){Ie+=2;let Re=Oe(Ze,ge,xe,{end:Le});Q(ge)&&Qe&&je.push(Re)}else if(pe(Ze)||J(Ze)){let Re=Ze.readable||Ze;Ie++,ve(Re,ge,xe,{end:Le})}else if(X(Ze))Ie++,ve(Ze,ge,xe,{end:Le});else throw new V("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ze);Ze=ge}else if(fe(ge)){if(le(Ze))Ie++,Fe(De(Ze),ge,xe,{end:Le});else if(J(Ze)||X(Ze))Ie++,Fe(Ze,ge,xe,{end:Le});else if(pe(Ze))Ie++,Fe(Ze.readable,ge,xe,{end:Le});else throw new V("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ze);Ze=ge}else Ze=z.from(ge)}return(Ce!=null&&Ce.aborted||Ee!=null&&Ee.aborted)&&M.nextTick(_e),Ze}n(be,"L");function Oe(Te,ke,ze,{end:Je}){let Ce=!1;if(ke.on("close",()=>{Ce||ze(new ae)}),Te.pipe(ke,{end:!1}),Je){let Ee=n(function(){Ce=!0,ke.end()},"i");q(Te)?M.nextTick(Ee):Te.once("end",Ee)}else ze();return L(Te,{readable:!0,writable:!1},Ee=>{let je=Te._readableState;Ee&&Ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&je&&je.ended&&!je.errored&&!je.errorEmitted?Te.once("end",ze).once("error",ze):ze(Ee)}),L(ke,{readable:!1,writable:!0},ze)}n(Oe,"R"),k.exports={pipelineImpl:be,pipeline:ce}}),u=r((A,k)=>{var{pipeline:M}=U(),f=W(),{destroyer:_}=b(),{isNodeStream:E,isReadable:I,isWritable:L,isWebStream:D,isTransformStream:F,isWritableStream:z,isReadableStream:H}=c(),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:Y,ERR_MISSING_ARGS:Me}}=l(),se=y();k.exports=function(...ae){if(ae.length===0)throw new Me("streams");if(ae.length===1)return f.from(ae[0]);let ye=[...ae];if(typeof ae[0]=="function"&&(ae[0]=f.from(ae[0])),typeof ae[ae.length-1]=="function"){let te=ae.length-1;ae[te]=f.from(ae[te])}for(let te=0;te<ae.length;++te)if(!(!E(ae[te])&&!D(ae[te]))){if(te<ae.length-1&&!(I(ae[te])||H(ae[te])||F(ae[te])))throw new Y(`streams[${te}]`,ye[te],"must be readable");if(te>0&&!(L(ae[te])||z(ae[te])||F(ae[te])))throw new Y(`streams[${te}]`,ye[te],"must be writable")}let G,re,X,Q,le;function Ae(te){let de=Q;Q=null,de?de(te):te?le.destroy(te):!q&&!J&&le.destroy()}n(Ae,"$q");let pe=ae[0],fe=M(ae,Ae),J=!!(L(pe)||z(pe)||F(pe)),q=!!(I(fe)||H(fe)||F(fe));if(le=new f({writableObjectMode:!!(pe!=null&&pe.writableObjectMode),readableObjectMode:!!(fe!=null&&fe.readableObjectMode),writable:J,readable:q}),J){if(E(pe))le._write=function(de,oe,ue){pe.write(de,oe)?ue():G=ue},le._final=function(de){pe.end(),re=de},pe.on("drain",function(){if(G){let de=G;G=null,de()}});else if(D(pe)){let de=(F(pe)?pe.writable:pe).getWriter();le._write=async function(oe,ue,Be){try{await de.ready,de.write(oe).catch(()=>{}),Be()}catch(we){Be(we)}},le._final=async function(oe){try{await de.ready,de.close().catch(()=>{}),re=oe}catch(ue){oe(ue)}}}let te=F(fe)?fe.readable:fe;se(te,()=>{if(re){let de=re;re=null,de()}})}if(q){if(E(fe))fe.on("readable",function(){if(X){let te=X;X=null,te()}}),fe.on("end",function(){le.push(null)}),le._read=function(){for(;;){let te=fe.read();if(te===null){X=le._read;return}if(!le.push(te))return}};else if(D(fe)){let te=(F(fe)?fe.readable:fe).getReader();le._read=async function(){for(;;)try{let{value:de,done:oe}=await te.read();if(!le.push(de))return;if(oe){le.push(null);return}}catch{return}}}}return le._destroy=function(te,de){!te&&Q!==null&&(te=new V),X=null,G=null,re=null,Q===null?de(te):(Q=de,E(fe)&&_(fe,te))},le}}),m=r((A,k)=>{var M=globalThis.AbortController||v().AbortController,{codes:{ERR_INVALID_ARG_VALUE:f,ERR_INVALID_ARG_TYPE:_,ERR_MISSING_ARGS:E,ERR_OUT_OF_RANGE:I},AbortError:L}=l(),{validateAbortSignal:D,validateInteger:F,validateObject:z}=h(),H=i().Symbol("kWeak"),V=i().Symbol("kResistStopPropagation"),{finished:Y}=y(),Me=u(),{addAbortSignalNoValidate:se}=S(),{isWritable:ae,isNodeStream:ye}=c(),{deprecate:G}=g(),{ArrayPrototypePush:re,Boolean:X,MathFloor:Q,Number:le,NumberIsNaN:Ae,Promise:pe,PromiseReject:fe,PromiseResolve:J,PromisePrototypeThen:q,Symbol:te}=i(),de=te("kEmpty"),oe=te("kEof");function ue(Ee,je){if(je!=null&&z(je,"options"),je?.signal!=null&&D(je.signal,"options.signal"),ye(Ee)&&!ae(Ee))throw new f("stream",Ee,"must be writable");let _e=Me(this,Ee);return je!=null&&je.signal&&se(je.signal,_e),_e}n(ue,"w");function Be(Ee,je){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);je!=null&&z(je,"options"),je?.signal!=null&&D(je.signal,"options.signal");let _e=1;je?.concurrency!=null&&(_e=Q(je.concurrency));let He=_e-1;return je?.highWaterMark!=null&&(He=Q(je.highWaterMark)),F(_e,"options.concurrency",1),F(He,"options.highWaterMark",0),He+=_e,async function*(){let Ke=g().AbortSignalAny([je?.signal].filter(X)),ie=this,me=[],Ie={signal:Ke},xe,Pe,Ze=!1,ne=0;function Ne(){Ze=!0,$e()}n(Ne,"_q");function $e(){ne-=1,ge()}n($e,"Tq");function ge(){Pe&&!Ze&&ne<_e&&me.length<He&&(Pe(),Pe=null)}n(ge,"Yq");async function Ge(){try{for await(let et of ie){if(Ze)return;if(Ke.aborted)throw new L;try{if(et=Ee(et,Ie),et===de)continue;et=J(et)}catch(Le){et=fe(Le)}ne+=1,q(et,$e,Ne),me.push(et),xe&&(xe(),xe=null),!Ze&&(me.length>=He||ne>=_e)&&await new pe(Le=>{Pe=Le})}me.push(oe)}catch(et){let Le=fe(et);q(Le,$e,Ne),me.push(Le)}finally{Ze=!0,xe&&(xe(),xe=null)}}n(Ge,"Jq"),Ge();try{for(;;){for(;me.length>0;){let et=await me[0];if(et===oe)return;if(Ke.aborted)throw new L;et!==de&&(yield et),me.shift(),ge()}await new pe(et=>{xe=et})}}finally{Ze=!0,Pe&&(Pe(),Pe=null)}}.call(this)}n(Be,"z");function we(Ee=void 0){return Ee!=null&&z(Ee,"options"),Ee?.signal!=null&&D(Ee.signal,"options.signal"),async function*(){let je=0;for await(let He of this){var _e;if(Ee!=null&&(_e=Ee.signal)!==null&&_e!==void 0&&_e.aborted)throw new L({cause:Ee.signal.reason});yield[je++,He]}}.call(this)}n(we,"T");async function De(Ee,je=void 0){for await(let _e of ce.call(this,Ee,je))return!0;return!1}n(De,"V");async function Xe(Ee,je=void 0){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);return!await De.call(this,async(..._e)=>!await Ee(..._e),je)}n(Xe,"C");async function ve(Ee,je){for await(let _e of ce.call(this,Ee,je))return _e}n(ve,"f");async function Fe(Ee,je){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);async function _e(He,Ke){return await Ee(He,Ke),de}n(_e,"gq");for await(let He of Be.call(this,_e,je));}n(Fe,"W");function ce(Ee,je){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);async function _e(He,Ke){return await Ee(He,Ke)?He:de}return n(_e,"gq"),Be.call(this,_e,je)}n(ce,"A");class be extends E{static{n(this,"L")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Oe(Ee,je,_e){var He;if(typeof Ee!="function")throw new _("reducer",["Function","AsyncFunction"],Ee);_e!=null&&z(_e,"options"),_e?.signal!=null&&D(_e.signal,"options.signal");let Ke=arguments.length>1;if(_e!=null&&(He=_e.signal)!==null&&He!==void 0&&He.aborted){let Pe=new L(void 0,{cause:_e.signal.reason});throw this.once("error",()=>{}),await Y(this.destroy(Pe)),Pe}let ie=new M,me=ie.signal;if(_e!=null&&_e.signal){let Pe={once:!0,[H]:this,[V]:!0};_e.signal.addEventListener("abort",()=>ie.abort(),Pe)}let Ie=!1;try{for await(let Pe of this){var xe;if(Ie=!0,_e!=null&&(xe=_e.signal)!==null&&xe!==void 0&&xe.aborted)throw new L;Ke?je=await Ee(je,Pe,{signal:me}):(je=Pe,Ke=!0)}if(!Ie&&!Ke)throw new be}finally{ie.abort()}return je}n(Oe,"R");async function Te(Ee){Ee!=null&&z(Ee,"options"),Ee?.signal!=null&&D(Ee.signal,"options.signal");let je=[];for await(let He of this){var _e;if(Ee!=null&&(_e=Ee.signal)!==null&&_e!==void 0&&_e.aborted)throw new L(void 0,{cause:Ee.signal.reason});re(je,He)}return je}n(Te,"b");function ke(Ee,je){let _e=Be.call(this,Ee,je);return async function*(){for await(let He of _e)yield*He}.call(this)}n(ke,"l");function ze(Ee){if(Ee=le(Ee),Ae(Ee))return 0;if(Ee<0)throw new I("number",">= 0",Ee);return Ee}n(ze,"B");function Je(Ee,je=void 0){return je!=null&&z(je,"options"),je?.signal!=null&&D(je.signal,"options.signal"),Ee=ze(Ee),async function*(){var _e;if(je!=null&&(_e=je.signal)!==null&&_e!==void 0&&_e.aborted)throw new L;for await(let Ke of this){var He;if(je!=null&&(He=je.signal)!==null&&He!==void 0&&He.aborted)throw new L;Ee--<=0&&(yield Ke)}}.call(this)}n(Je,"t");function Ce(Ee,je=void 0){return je!=null&&z(je,"options"),je?.signal!=null&&D(je.signal,"options.signal"),Ee=ze(Ee),async function*(){var _e;if(je!=null&&(_e=je.signal)!==null&&_e!==void 0&&_e.aborted)throw new L;for await(let Ke of this){var He;if(je!=null&&(He=je.signal)!==null&&He!==void 0&&He.aborted)throw new L;if(Ee-- >0&&(yield Ke),Ee<=0)return}}.call(this)}n(Ce,"Wq"),k.exports.streamReturningOperators={asIndexedPairs:G(we,"readable.asIndexedPairs will be removed in a future version."),drop:Je,filter:ce,flatMap:ke,map:Be,take:Ce,compose:ue},k.exports.promiseReturningOperators={every:Xe,forEach:Fe,reduce:Oe,toArray:Te,some:De,find:ve}}),o=r((A,k)=>{var{ArrayPrototypePop:M,Promise:f}=i(),{isIterable:_,isNodeStream:E,isWebStream:I}=c(),{pipelineImpl:L}=U(),{finished:D}=y();p();function F(...z){return new f((H,V)=>{let Y,Me,se=z[z.length-1];if(se&&typeof se=="object"&&!E(se)&&!_(se)&&!I(se)){let ae=M(z);Y=ae.signal,Me=ae.end}L(z,(ae,ye)=>{ae?V(ae):H(ye)},{signal:Y,end:Me})})}n(F,"X"),k.exports={finished:D,pipeline:F}}),p=r((A,k)=>{var{Buffer:M}=(wr(),$t(gr)),{ObjectDefineProperty:f,ObjectKeys:_,ReflectApply:E}=i(),{promisify:{custom:I}}=g(),{streamReturningOperators:L,promiseReturningOperators:D}=m(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:F}}=l(),z=u(),{setDefaultHighWaterMark:H,getDefaultHighWaterMark:V}=R(),{pipeline:Y}=U(),{destroyer:Me}=b(),se=y(),ae=o(),ye=c(),G=k.exports=w().Stream;G.isDestroyed=ye.isDestroyed,G.isDisturbed=ye.isDisturbed,G.isErrored=ye.isErrored,G.isReadable=ye.isReadable,G.isWritable=ye.isWritable,G.Readable=j();for(let X of _(L)){let Q=n(function(...Ae){if(new.target)throw F();return G.Readable.from(E(le,this,Ae))},"p"),le=L[X];f(Q,"name",{__proto__:null,value:le.name}),f(Q,"length",{__proto__:null,value:le.length}),f(G.Readable.prototype,X,{__proto__:null,value:Q,enumerable:!1,configurable:!0,writable:!0})}for(let X of _(D)){let Q=n(function(...Ae){if(new.target)throw F();return E(le,this,Ae)},"p"),le=D[X];f(Q,"name",{__proto__:null,value:le.name}),f(Q,"length",{__proto__:null,value:le.length}),f(G.Readable.prototype,X,{__proto__:null,value:Q,enumerable:!1,configurable:!0,writable:!0})}G.Writable=B(),G.Duplex=W(),G.Transform=ee(),G.PassThrough=$(),G.pipeline=Y;var{addAbortSignal:re}=S();G.addAbortSignal=re,G.finished=se,G.destroy=Me,G.compose=z,G.setDefaultHighWaterMark=H,G.getDefaultHighWaterMark=V,f(G,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return ae}}),f(Y,I,{__proto__:null,enumerable:!0,get(){return ae.pipeline}}),f(se,I,{__proto__:null,enumerable:!0,get(){return ae.finished}}),G.Stream=G,G._isUint8Array=function(X){return X instanceof Uint8Array},G._uint8ArrayToBuffer=function(X){return M.from(X.buffer,X.byteOffset,X.byteLength)}}),x=r((A,k)=>{Y_();{let M=p(),f=o(),_=M.Readable.destroy;k.exports=M.Readable,k.exports._uint8ArrayToBuffer=M._uint8ArrayToBuffer,k.exports._isUint8Array=M._isUint8Array,k.exports.isDisturbed=M.isDisturbed,k.exports.isErrored=M.isErrored,k.exports.isReadable=M.isReadable,k.exports.Readable=M.Readable,k.exports.Writable=M.Writable,k.exports.Duplex=M.Duplex,k.exports.Transform=M.Transform,k.exports.PassThrough=M.PassThrough,k.exports.addAbortSignal=M.addAbortSignal,k.exports.finished=M.finished,k.exports.destroy=M.destroy,k.exports.destroy=_,k.exports.pipeline=M.pipeline,k.exports.compose=M.compose,Object.defineProperty(M,"promises",{configurable:!0,enumerable:!0,get(){return f}}),k.exports.Stream=M.Stream}k.exports.default=k.exports});e.exports=x()}),Lr={};$n(Lr,{webcrypto:n(()=>U5,"webcrypto"),rng:n(()=>r5,"rng"),randomUUID:n(()=>bI,"randomUUID"),randomFillSync:n(()=>L5,"randomFillSync"),randomFill:n(()=>j5,"randomFill"),randomBytes:n(()=>i5,"randomBytes"),publicEncrypt:n(()=>I5,"publicEncrypt"),publicDecrypt:n(()=>P5,"publicDecrypt"),pseudoRandomBytes:n(()=>t5,"pseudoRandomBytes"),prng:n(()=>e5,"prng"),privateEncrypt:n(()=>T5,"privateEncrypt"),privateDecrypt:n(()=>O5,"privateDecrypt"),pbkdf2Sync:n(()=>f5,"pbkdf2Sync"),pbkdf2:n(()=>u5,"pbkdf2"),listCiphers:n(()=>w5,"listCiphers"),getRandomValues:n(()=>vI,"getRandomValues"),getHashes:n(()=>l5,"getHashes"),getDiffieHellman:n(()=>M5,"getDiffieHellman"),getCurves:n(()=>pI,"getCurves"),getCiphers:n(()=>y5,"getCiphers"),default:n(()=>z5,"default"),createVerify:n(()=>N5,"createVerify"),createSign:n(()=>A5,"createSign"),createHmac:n(()=>o5,"createHmac"),createHash:n(()=>s5,"createHash"),createECDH:n(()=>R5,"createECDH"),createDiffieHellmanGroup:n(()=>_5,"createDiffieHellmanGroup"),createDiffieHellman:n(()=>S5,"createDiffieHellman"),createDecipheriv:n(()=>b5,"createDecipheriv"),createDecipher:n(()=>g5,"createDecipher"),createCredentials:n(()=>D5,"createCredentials"),createCipheriv:n(()=>p5,"createCipheriv"),createCipher:n(()=>h5,"createCipher"),constants:n(()=>B5,"constants"),Verify:n(()=>C5,"Verify"),Sign:n(()=>k5,"Sign"),Hmac:n(()=>a5,"Hmac"),Hash:n(()=>n5,"Hash"),DiffieHellmanGroup:n(()=>x5,"DiffieHellmanGroup"),DiffieHellman:n(()=>E5,"DiffieHellman"),Decipheriv:n(()=>v5,"Decipheriv"),Decipher:n(()=>m5,"Decipher"),DEFAULT_ENCODING:n(()=>gI,"DEFAULT_ENCODING"),Cipheriv:n(()=>d5,"Cipheriv"),Cipher:n(()=>c5,"Cipher")});function pI(){return F5}n(pI,"Sy");var X_,Q_,km,J_,q_,mI=n((t,e,r)=>{r=t!=null?X_(Q_(t)):{};let i=e||!t||!t.__esModule?km(r,"default",{value:t,enumerable:!0}):r;for(let s of J_(t))q_.call(i,s)||km(i,s,{get:n(()=>t[s],"get"),enumerable:!0});return i},"xb"),st=n((t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),"lq"),Aa,ka,y0,Y2,Ol,jl,kr,Ll,w0,X2,x0,Q2,J2,q2,e6,Ci,Ki,_0,Fr,M0,Na,t6,jr,r6,i6,n6,S0,li,Ps,E0,s6,A0,a6,k0,o6,l6,u6,f6,Dl,c6,Bl,h6,d6,p6,m6,g6,v6,b6,y6,w6,x6,_6,M6,S6,E6,N0,A6,Os,k6,C0,R0,N6,C6,I0,R6,I6,js,T6,P6,O6,j6,L6,D6,T0,B6,P0,O0,j0,Fl,L0,F6,D0,U6,z6,Ul,$6,H6,Z6,V6,It,e5,t5,r5,i5,n5,s5,a5,o5,l5,u5,f5,c5,h5,d5,p5,m5,g5,v5,b5,y5,w5,x5,_5,M5,S5,E5,A5,k5,N5,C5,R5,I5,T5,P5,O5,j5,L5,D5,B5,gI="buffer",vI=n(t=>crypto.getRandomValues(t),"Zy"),bI=n(()=>crypto.randomUUID(),"Vy"),F5,U5,z5,$r=al(()=>{X_=Object.create,{getPrototypeOf:Q_,defineProperty:km,getOwnPropertyNames:J_}=Object,q_=Object.prototype.hasOwnProperty,Aa=st((t,e)=>{e.exports=($r(),$t(Lr)).randomBytes}),ka=st((t,e)=>{e.exports=($r(),$t(Lr)).createHash}),y0=st((t,e)=>{e.exports=($r(),$t(Lr)).createHmac}),Y2=st((t,e)=>{e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),Ol=st((t,e)=>{var r=Math.pow(2,30)-1;e.exports=function(i,s){if(typeof i!="number")throw TypeError("Iterations not a number");if(i<0)throw TypeError("Bad iterations");if(typeof s!="number")throw TypeError("Key length not a number");if(s<0||s>r||s!==s)throw TypeError("Bad key length")}}),jl=st((t,e)=>{var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(i=parseInt(process.version.split(".")[0].slice(1),10),r=i>=6?"utf-8":"binary"):r="utf-8";var i;e.exports=r}),kr=st((t,e)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=(wr(),$t(gr)),i=r.Buffer;function s(a,v){for(var g in a)v[g]=a[g]}n(s,"P"),i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=l);function l(a,v,g){return i(a,v,g)}n(l,"O"),l.prototype=Object.create(i.prototype),s(i,l),l.from=function(a,v,g){if(typeof a=="number")throw TypeError("Argument must not be a number");return i(a,v,g)},l.alloc=function(a,v,g){if(typeof a!="number")throw TypeError("Argument must be a number");var h=i(a);return v!==void 0?typeof g=="string"?h.fill(v,g):h.fill(v):h.fill(0),h},l.allocUnsafe=function(a){if(typeof a!="number")throw TypeError("Argument must be a number");return i(a)},l.allocUnsafeSlow=function(a){if(typeof a!="number")throw TypeError("Argument must be a number");return r.SlowBuffer(a)}}),Ll=st((t,e)=>{var r=kr().Buffer;e.exports=function(i,s,l){if(r.isBuffer(i))return i;if(typeof i=="string")return r.from(i,s);if(ArrayBuffer.isView(i))return r.from(i.buffer);throw TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}}),w0=st((t,e)=>{var r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},i=y0(),s=kr().Buffer,l=Ol(),a=jl(),v=Ll();function g(h,d,c,y,b){l(c,y),h=v(h,a,"Password"),d=v(d,a,"Salt"),b=b||"sha1";var w=s.allocUnsafe(y),S=s.allocUnsafe(d.length+4);d.copy(S,0,0,d.length);for(var C=0,R=r[b],T=Math.ceil(y/R),P=1;P<=T;P++){S.writeUInt32BE(P,d.length);for(var O=i(b,h).update(S).digest(),j=O,B=1;B<c;B++){j=i(b,h).update(j).digest();for(var Z=0;Z<R;Z++)O[Z]^=j[Z]}O.copy(w,C),C+=R}return w}n(g,"v"),e.exports=g}),X2=st((t,e)=>{var r=kr().Buffer,i=Ol(),s=jl(),l=w0(),a=Ll(),v,g=globalThis.crypto&&globalThis.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function c(C){if(globalThis.process&&!globalThis.process.browser||!g||!g.importKey||!g.deriveBits)return Promise.resolve(!1);if(d[C]!==void 0)return d[C];v=v||r.alloc(8);var R=w(v,v,10,128,C).then(function(){return!0}).catch(function(){return!1});return d[C]=R,R}n(c,"k");var y;function b(){return y||(globalThis.process&&globalThis.process.nextTick?y=globalThis.process.nextTick:globalThis.queueMicrotask?y=globalThis.queueMicrotask:globalThis.setImmediate?y=globalThis.setImmediate:y=globalThis.setTimeout,y)}n(b,"S");function w(C,R,T,P,O){return g.importKey("raw",C,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return g.deriveBits({name:"PBKDF2",salt:R,iterations:T,hash:{name:O}},j,P<<3)}).then(function(j){return r.from(j)})}n(w,"N");function S(C,R){C.then(function(T){b()(function(){R(null,T)})},function(T){b()(function(){R(T)})})}n(S,"E"),e.exports=function(C,R,T,P,O,j){typeof O=="function"&&(j=O,O=void 0),O=O||"sha1";var B=h[O.toLowerCase()];if(!B||typeof globalThis.Promise!="function"){b()(function(){var Z;try{Z=l(C,R,T,P,O)}catch(W){return j(W)}j(null,Z)});return}if(i(T,P),C=a(C,s,"Password"),R=a(R,s,"Salt"),typeof j!="function")throw Error("No callback provided to pbkdf2");S(c(B).then(function(Z){return Z?w(C,R,T,P,B):l(C,R,T,P,O)}),j)}}),x0=st(t=>{var e=($r(),$t(Lr)),r=Ol(),i=jl(),s=Ll();function l(v,g,h,d,c,y){if(r(h,d),v=s(v,i,"Password"),g=s(g,i,"Salt"),typeof c=="function"&&(y=c,c="sha1"),typeof y!="function")throw Error("No callback provided to pbkdf2");return e.pbkdf2(v,g,h,d,c,y)}n(l,"O");function a(v,g,h,d,c){return r(h,d),v=s(v,i,"Password"),g=s(g,i,"Salt"),c=c||"sha1",e.pbkdf2Sync(v,g,h,d,c)}n(a,"Y"),!e.pbkdf2Sync||e.pbkdf2Sync.toString().indexOf("keylen, digest")===-1?(t.pbkdf2Sync=w0(),t.pbkdf2=X2()):(t.pbkdf2Sync=a,t.pbkdf2=l)}),Q2=st(t=>{var e=($r(),$t(Lr));t.createCipher=t.Cipher=e.createCipher,t.createCipheriv=t.Cipheriv=e.createCipheriv,t.createDecipher=t.Decipher=e.createDecipher,t.createDecipheriv=t.Decipheriv=e.createDecipheriv,t.listCiphers=t.getCiphers=e.getCiphers}),J2=st(t=>{var e=($r(),$t(Lr));t.DiffieHellmanGroup=e.DiffieHellmanGroup,t.createDiffieHellmanGroup=e.createDiffieHellmanGroup,t.getDiffieHellman=e.getDiffieHellman,t.createDiffieHellman=e.createDiffieHellman,t.DiffieHellman=e.DiffieHellman}),q2=st(t=>{var e=($r(),$t(Lr));t.createSign=e.createSign,t.Sign=e.Sign,t.createVerify=e.createVerify,t.Verify=e.Verify}),e6=st((t,e)=>{e.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),Ci=st((t,e)=>{(function(r,i){function s(u,m){if(!u)throw Error(m||"Assertion failed")}n(s,"P");function l(u,m){u.super_=m;var o=n(function(){},"J");o.prototype=m.prototype,u.prototype=new o,u.prototype.constructor=u}n(l,"O");function a(u,m,o){if(a.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((m==="le"||m==="be")&&(o=m,m=10),this._init(u||0,m||10,o||"be"))}n(a,"Y"),typeof r=="object"?r.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=(wr(),$t(gr)).Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,m){return u.cmp(m)>0?u:m},a.min=function(u,m){return u.cmp(m)<0?u:m},a.prototype._init=function(u,m,o){if(typeof u=="number")return this._initNumber(u,m,o);if(typeof u=="object")return this._initArray(u,m,o);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),u=u.toString().replace(/\s+/g,"");var p=0;u[0]==="-"&&(p++,this.negative=1),p<u.length&&(m===16?this._parseHex(u,p,o):(this._parseBase(u,m,p),o==="le"&&this._initArray(this.toArray(),m,o)))},a.prototype._initNumber=function(u,m,o){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(s(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),m,o)},a.prototype._initArray=function(u,m,o){if(s(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,A,k=0;if(o==="be")for(p=u.length-1,x=0;p>=0;p-=3)A=u[p]|u[p-1]<<8|u[p-2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);else if(o==="le")for(p=0,x=0;p<u.length;p+=3)A=u[p]|u[p+1]<<8|u[p+2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);return this.strip()};function g(u,m){var o=u.charCodeAt(m);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}n(g,"v");function h(u,m,o){var p=g(u,o);return o-1>=m&&(p|=g(u,o-1)<<4),p}n(h,"X"),a.prototype._parseHex=function(u,m,o){this.length=Math.ceil((u.length-m)/6),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,A=0,k;if(o==="be")for(p=u.length-1;p>=m;p-=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8;else{var M=u.length-m;for(p=M%2===0?m+1:m;p<u.length;p+=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8}this.strip()};function d(u,m,o,p){for(var x=0,A=Math.min(u.length,o),k=m;k<A;k++){var M=u.charCodeAt(k)-48;x*=p,M>=49?x+=M-49+10:M>=17?x+=M-17+10:x+=M}return x}n(d,"Z"),a.prototype._parseBase=function(u,m,o){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=m)p++;p--,x=x/m|0;for(var A=u.length-o,k=A%p,M=Math.min(A,A-k)+o,f=0,_=o;_<M;_+=p)f=d(u,_,_+p,m),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var E=1;for(f=d(u,_,u.length,m),_=0;_<k;_++)E*=m;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},a.prototype.copy=function(u){u.words=Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,m){u=u||10,m=m|0||1;var o;if(u===16||u==="hex"){o="";for(var p=0,x=0,A=0;A<this.length;A++){var k=this.words[A],M=((k<<p|x)&16777215).toString(16);x=k>>>24-p&16777215,p+=2,p>=26&&(p-=26,A--),x!==0||A!==this.length-1?o=c[6-M.length]+M+o:o=M+o}for(x!==0&&(o=x.toString(16)+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];o="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?o=I+o:o=c[f-I.length]+I+o}for(this.isZero()&&(o="0"+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(u,m){return s(typeof v<"u"),this.toArrayLike(v,u,m)},a.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},a.prototype.toArrayLike=function(u,m,o){var p=this.byteLength(),x=o||Math.max(1,p);s(p<=x,"byte array longer than desired length"),s(x>0,"Requested array length <= 0"),this.strip();var A=m==="le",k=new u(x),M,f,_=this.clone();if(A){for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[f]=M;for(;f<x;f++)k[f]=0}else{for(f=0;f<x-p;f++)k[f]=0;for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[x-f-1]=M}return k},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var m=u,o=0;return m>=4096&&(o+=13,m>>>=13),m>=64&&(o+=7,m>>>=7),m>=8&&(o+=4,m>>>=4),m>=2&&(o+=2,m>>>=2),o+m},a.prototype._zeroBits=function(u){if(u===0)return 26;var m=u,o=0;return(m&8191)===0&&(o+=13,m>>>=13),(m&127)===0&&(o+=7,m>>>=7),(m&15)===0&&(o+=4,m>>>=4),(m&3)===0&&(o+=2,m>>>=2),(m&1)===0&&o++,o},a.prototype.bitLength=function(){var u=this.words[this.length-1],m=this._countBits(u);return(this.length-1)*26+m};function w(u){for(var m=Array(u.bitLength()),o=0;o<m.length;o++){var p=o/26|0,x=o%26;m[o]=(u.words[p]&1<<x)>>>x}return m}n(w,"N"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var o=this._zeroBits(this.words[m]);if(u+=o,o!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},a.prototype.ior=function(u){return s((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var m;this.length>u.length?m=u:m=this;for(var o=0;o<m.length;o++)this.words[o]=this.words[o]&u.words[o];return this.length=m.length,this.strip()},a.prototype.iand=function(u){return s((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var m,o;this.length>u.length?(m=this,o=u):(m=u,o=this);for(var p=0;p<o.length;p++)this.words[p]=m.words[p]^o.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},a.prototype.ixor=function(u){return s((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){s(typeof u=="number"&&u>=0);var m=Math.ceil(u/26)|0,o=u%26;this._expand(m),o>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return o>0&&(this.words[p]=~this.words[p]&67108863>>26-o),this.strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,m){s(typeof u=="number"&&u>=0);var o=u/26|0,p=u%26;return this._expand(o+1),m?this.words[o]=this.words[o]|1<<p:this.words[o]=this.words[o]&~(1<<p),this.strip()},a.prototype.iadd=function(u){var m;if(this.negative!==0&&u.negative===0)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();var o,p;this.length>u.length?(o=this,p=u):(o=u,p=this);for(var x=0,A=0;A<p.length;A++)m=(o.words[A]|0)+(p.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;for(;x!==0&&A<o.length;A++)m=(o.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;if(this.length=o.length,x!==0)this.words[this.length]=x,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},a.prototype.add=function(u){var m;return u.negative!==0&&this.negative===0?(u.negative=0,m=this.sub(u),u.negative^=1,m):u.negative===0&&this.negative!==0?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var o=this.cmp(u);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;o>0?(p=this,x=u):(p=u,x=this);for(var A=0,k=0;k<x.length;k++)m=(p.words[k]|0)-(x.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;for(;A!==0&&k<p.length;k++)m=(p.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;if(A===0&&k<p.length&&p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=Math.max(this.length,k),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function S(u,m,o){o.negative=m.negative^u.negative;var p=u.length+m.length|0;o.length=p,p=p-1|0;var x=u.words[0]|0,A=m.words[0]|0,k=x*A,M=k&67108863,f=k/67108864|0;o.words[0]=M;for(var _=1;_<p;_++){for(var E=f>>>26,I=f&67108863,L=Math.min(_,m.length-1),D=Math.max(0,_-u.length+1);D<=L;D++){var F=_-D|0;x=u.words[F]|0,A=m.words[D]|0,k=x*A+I,E+=k/67108864|0,I=k&67108863}o.words[_]=I|0,f=E|0}return f!==0?o.words[_]=f|0:o.length--,o.strip()}n(S,"E");var C=n(function(u,m,o){var p=u.words,x=m.words,A=o.words,k=0,M,f,_,E=p[0]|0,I=E&8191,L=E>>>13,D=p[1]|0,F=D&8191,z=D>>>13,H=p[2]|0,V=H&8191,Y=H>>>13,Me=p[3]|0,se=Me&8191,ae=Me>>>13,ye=p[4]|0,G=ye&8191,re=ye>>>13,X=p[5]|0,Q=X&8191,le=X>>>13,Ae=p[6]|0,pe=Ae&8191,fe=Ae>>>13,J=p[7]|0,q=J&8191,te=J>>>13,de=p[8]|0,oe=de&8191,ue=de>>>13,Be=p[9]|0,we=Be&8191,De=Be>>>13,Xe=x[0]|0,ve=Xe&8191,Fe=Xe>>>13,ce=x[1]|0,be=ce&8191,Oe=ce>>>13,Te=x[2]|0,ke=Te&8191,ze=Te>>>13,Je=x[3]|0,Ce=Je&8191,Ee=Je>>>13,je=x[4]|0,_e=je&8191,He=je>>>13,Ke=x[5]|0,ie=Ke&8191,me=Ke>>>13,Ie=x[6]|0,xe=Ie&8191,Pe=Ie>>>13,Ze=x[7]|0,ne=Ze&8191,Ne=Ze>>>13,$e=x[8]|0,ge=$e&8191,Ge=$e>>>13,et=x[9]|0,Le=et&8191,Qe=et>>>13;o.negative=u.negative^m.negative,o.length=19,M=Math.imul(I,ve),f=Math.imul(I,Fe),f=f+Math.imul(L,ve)|0,_=Math.imul(L,Fe);var Re=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(F,ve),f=Math.imul(F,Fe),f=f+Math.imul(z,ve)|0,_=Math.imul(z,Fe),M=M+Math.imul(I,be)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(L,be)|0,_=_+Math.imul(L,Oe)|0;var Ue=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,M=Math.imul(V,ve),f=Math.imul(V,Fe),f=f+Math.imul(Y,ve)|0,_=Math.imul(Y,Fe),M=M+Math.imul(F,be)|0,f=f+Math.imul(F,Oe)|0,f=f+Math.imul(z,be)|0,_=_+Math.imul(z,Oe)|0,M=M+Math.imul(I,ke)|0,f=f+Math.imul(I,ze)|0,f=f+Math.imul(L,ke)|0,_=_+Math.imul(L,ze)|0;var at=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(at>>>26)|0,at&=67108863,M=Math.imul(se,ve),f=Math.imul(se,Fe),f=f+Math.imul(ae,ve)|0,_=Math.imul(ae,Fe),M=M+Math.imul(V,be)|0,f=f+Math.imul(V,Oe)|0,f=f+Math.imul(Y,be)|0,_=_+Math.imul(Y,Oe)|0,M=M+Math.imul(F,ke)|0,f=f+Math.imul(F,ze)|0,f=f+Math.imul(z,ke)|0,_=_+Math.imul(z,ze)|0,M=M+Math.imul(I,Ce)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ee)|0;var bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,M=Math.imul(G,ve),f=Math.imul(G,Fe),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Fe),M=M+Math.imul(se,be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(ae,be)|0,_=_+Math.imul(ae,Oe)|0,M=M+Math.imul(V,ke)|0,f=f+Math.imul(V,ze)|0,f=f+Math.imul(Y,ke)|0,_=_+Math.imul(Y,ze)|0,M=M+Math.imul(F,Ce)|0,f=f+Math.imul(F,Ee)|0,f=f+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ee)|0,M=M+Math.imul(I,_e)|0,f=f+Math.imul(I,He)|0,f=f+Math.imul(L,_e)|0,_=_+Math.imul(L,He)|0;var ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,M=Math.imul(Q,ve),f=Math.imul(Q,Fe),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Fe),M=M+Math.imul(G,be)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Oe)|0,M=M+Math.imul(se,ke)|0,f=f+Math.imul(se,ze)|0,f=f+Math.imul(ae,ke)|0,_=_+Math.imul(ae,ze)|0,M=M+Math.imul(V,Ce)|0,f=f+Math.imul(V,Ee)|0,f=f+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Ee)|0,M=M+Math.imul(F,_e)|0,f=f+Math.imul(F,He)|0,f=f+Math.imul(z,_e)|0,_=_+Math.imul(z,He)|0,M=M+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(L,ie)|0,_=_+Math.imul(L,me)|0;var St=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(St>>>26)|0,St&=67108863,M=Math.imul(pe,ve),f=Math.imul(pe,Fe),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Fe),M=M+Math.imul(Q,be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Oe)|0,M=M+Math.imul(G,ke)|0,f=f+Math.imul(G,ze)|0,f=f+Math.imul(re,ke)|0,_=_+Math.imul(re,ze)|0,M=M+Math.imul(se,Ce)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Ee)|0,M=M+Math.imul(V,_e)|0,f=f+Math.imul(V,He)|0,f=f+Math.imul(Y,_e)|0,_=_+Math.imul(Y,He)|0,M=M+Math.imul(F,ie)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(z,ie)|0,_=_+Math.imul(z,me)|0,M=M+Math.imul(I,xe)|0,f=f+Math.imul(I,Pe)|0,f=f+Math.imul(L,xe)|0,_=_+Math.imul(L,Pe)|0;var Bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,M=Math.imul(q,ve),f=Math.imul(q,Fe),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Fe),M=M+Math.imul(pe,be)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Oe)|0,M=M+Math.imul(Q,ke)|0,f=f+Math.imul(Q,ze)|0,f=f+Math.imul(le,ke)|0,_=_+Math.imul(le,ze)|0,M=M+Math.imul(G,Ce)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ee)|0,M=M+Math.imul(se,_e)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(ae,_e)|0,_=_+Math.imul(ae,He)|0,M=M+Math.imul(V,ie)|0,f=f+Math.imul(V,me)|0,f=f+Math.imul(Y,ie)|0,_=_+Math.imul(Y,me)|0,M=M+Math.imul(F,xe)|0,f=f+Math.imul(F,Pe)|0,f=f+Math.imul(z,xe)|0,_=_+Math.imul(z,Pe)|0,M=M+Math.imul(I,ne)|0,f=f+Math.imul(I,Ne)|0,f=f+Math.imul(L,ne)|0,_=_+Math.imul(L,Ne)|0;var Et=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,M=Math.imul(oe,ve),f=Math.imul(oe,Fe),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Fe),M=M+Math.imul(q,be)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Oe)|0,M=M+Math.imul(pe,ke)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(fe,ke)|0,_=_+Math.imul(fe,ze)|0,M=M+Math.imul(Q,Ce)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ee)|0,M=M+Math.imul(G,_e)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(re,_e)|0,_=_+Math.imul(re,He)|0,M=M+Math.imul(se,ie)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(ae,ie)|0,_=_+Math.imul(ae,me)|0,M=M+Math.imul(V,xe)|0,f=f+Math.imul(V,Pe)|0,f=f+Math.imul(Y,xe)|0,_=_+Math.imul(Y,Pe)|0,M=M+Math.imul(F,ne)|0,f=f+Math.imul(F,Ne)|0,f=f+Math.imul(z,ne)|0,_=_+Math.imul(z,Ne)|0,M=M+Math.imul(I,ge)|0,f=f+Math.imul(I,Ge)|0,f=f+Math.imul(L,ge)|0,_=_+Math.imul(L,Ge)|0;var Mt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(we,ve),f=Math.imul(we,Fe),f=f+Math.imul(De,ve)|0,_=Math.imul(De,Fe),M=M+Math.imul(oe,be)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Oe)|0,M=M+Math.imul(q,ke)|0,f=f+Math.imul(q,ze)|0,f=f+Math.imul(te,ke)|0,_=_+Math.imul(te,ze)|0,M=M+Math.imul(pe,Ce)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,Ee)|0,M=M+Math.imul(Q,_e)|0,f=f+Math.imul(Q,He)|0,f=f+Math.imul(le,_e)|0,_=_+Math.imul(le,He)|0,M=M+Math.imul(G,ie)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,M=M+Math.imul(se,xe)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(ae,xe)|0,_=_+Math.imul(ae,Pe)|0,M=M+Math.imul(V,ne)|0,f=f+Math.imul(V,Ne)|0,f=f+Math.imul(Y,ne)|0,_=_+Math.imul(Y,Ne)|0,M=M+Math.imul(F,ge)|0,f=f+Math.imul(F,Ge)|0,f=f+Math.imul(z,ge)|0,_=_+Math.imul(z,Ge)|0,M=M+Math.imul(I,Le)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(L,Le)|0,_=_+Math.imul(L,Qe)|0;var zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,M=Math.imul(we,be),f=Math.imul(we,Oe),f=f+Math.imul(De,be)|0,_=Math.imul(De,Oe),M=M+Math.imul(oe,ke)|0,f=f+Math.imul(oe,ze)|0,f=f+Math.imul(ue,ke)|0,_=_+Math.imul(ue,ze)|0,M=M+Math.imul(q,Ce)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(te,Ce)|0,_=_+Math.imul(te,Ee)|0,M=M+Math.imul(pe,_e)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(fe,_e)|0,_=_+Math.imul(fe,He)|0,M=M+Math.imul(Q,ie)|0,f=f+Math.imul(Q,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,M=M+Math.imul(G,xe)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Pe)|0,M=M+Math.imul(se,ne)|0,f=f+Math.imul(se,Ne)|0,f=f+Math.imul(ae,ne)|0,_=_+Math.imul(ae,Ne)|0,M=M+Math.imul(V,ge)|0,f=f+Math.imul(V,Ge)|0,f=f+Math.imul(Y,ge)|0,_=_+Math.imul(Y,Ge)|0,M=M+Math.imul(F,Le)|0,f=f+Math.imul(F,Qe)|0,f=f+Math.imul(z,Le)|0,_=_+Math.imul(z,Qe)|0;var Ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,M=Math.imul(we,ke),f=Math.imul(we,ze),f=f+Math.imul(De,ke)|0,_=Math.imul(De,ze),M=M+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,Ee)|0,M=M+Math.imul(q,_e)|0,f=f+Math.imul(q,He)|0,f=f+Math.imul(te,_e)|0,_=_+Math.imul(te,He)|0,M=M+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,M=M+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Pe)|0,M=M+Math.imul(G,ne)|0,f=f+Math.imul(G,Ne)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,Ne)|0,M=M+Math.imul(se,ge)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(ae,ge)|0,_=_+Math.imul(ae,Ge)|0,M=M+Math.imul(V,Le)|0,f=f+Math.imul(V,Qe)|0,f=f+Math.imul(Y,Le)|0,_=_+Math.imul(Y,Qe)|0;var Lt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,M=Math.imul(we,Ce),f=Math.imul(we,Ee),f=f+Math.imul(De,Ce)|0,_=Math.imul(De,Ee),M=M+Math.imul(oe,_e)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(ue,_e)|0,_=_+Math.imul(ue,He)|0,M=M+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,M=M+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Pe)|0,M=M+Math.imul(Q,ne)|0,f=f+Math.imul(Q,Ne)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,Ne)|0,M=M+Math.imul(G,ge)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Ge)|0,M=M+Math.imul(se,Le)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(ae,Le)|0,_=_+Math.imul(ae,Qe)|0;var Ft=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(we,_e),f=Math.imul(we,He),f=f+Math.imul(De,_e)|0,_=Math.imul(De,He),M=M+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,M=M+Math.imul(q,xe)|0,f=f+Math.imul(q,Pe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Pe)|0,M=M+Math.imul(pe,ne)|0,f=f+Math.imul(pe,Ne)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,Ne)|0,M=M+Math.imul(Q,ge)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Ge)|0,M=M+Math.imul(G,Le)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(re,Le)|0,_=_+Math.imul(re,Qe)|0;var Nt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,M=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(De,ie)|0,_=Math.imul(De,me),M=M+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Pe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Pe)|0,M=M+Math.imul(q,ne)|0,f=f+Math.imul(q,Ne)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,Ne)|0,M=M+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Ge)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Ge)|0,M=M+Math.imul(Q,Le)|0,f=f+Math.imul(Q,Qe)|0,f=f+Math.imul(le,Le)|0,_=_+Math.imul(le,Qe)|0;var Dt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,M=Math.imul(we,xe),f=Math.imul(we,Pe),f=f+Math.imul(De,xe)|0,_=Math.imul(De,Pe),M=M+Math.imul(oe,ne)|0,f=f+Math.imul(oe,Ne)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,Ne)|0,M=M+Math.imul(q,ge)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Ge)|0,M=M+Math.imul(pe,Le)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,M=Math.imul(we,ne),f=Math.imul(we,Ne),f=f+Math.imul(De,ne)|0,_=Math.imul(De,Ne),M=M+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Ge)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Ge)|0,M=M+Math.imul(q,Le)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(te,Le)|0,_=_+Math.imul(te,Qe)|0;var Zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,M=Math.imul(we,ge),f=Math.imul(we,Ge),f=f+Math.imul(De,ge)|0,_=Math.imul(De,Ge),M=M+Math.imul(oe,Le)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,Le)|0,_=_+Math.imul(ue,Qe)|0;var Vt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,M=Math.imul(we,Le),f=Math.imul(we,Qe),f=f+Math.imul(De,Le)|0,_=Math.imul(De,Qe);var Gt=(k+M|0)+((f&8191)<<13)|0;return k=(_+(f>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A[0]=Re,A[1]=Ue,A[2]=at,A[3]=bt,A[4]=ht,A[5]=St,A[6]=Bt,A[7]=Et,A[8]=Mt,A[9]=zt,A[10]=Ht,A[11]=Lt,A[12]=Ft,A[13]=Nt,A[14]=Dt,A[15]=Ut,A[16]=Zt,A[17]=Vt,A[18]=Gt,k!==0&&(A[19]=k,o.length++),o},"h");Math.imul||(C=S);function R(u,m,o){o.negative=m.negative^u.negative,o.length=u.length+m.length;for(var p=0,x=0,A=0;A<o.length-1;A++){var k=x;x=0;for(var M=p&67108863,f=Math.min(A,m.length-1),_=Math.max(0,A-u.length+1);_<=f;_++){var E=A-_,I=u.words[E]|0,L=m.words[_]|0,D=I*L,F=D&67108863;k=k+(D/67108864|0)|0,F=F+M|0,M=F&67108863,k=k+(F>>>26)|0,x+=k>>>26,k&=67108863}o.words[A]=M,p=k,k=x}return p!==0?o.words[A]=p:o.length--,o.strip()}n(R,"D");function T(u,m,o){var p=new P;return p.mulp(u,m,o)}n(T,"I"),a.prototype.mulTo=function(u,m){var o,p=this.length+u.length;return this.length===10&&u.length===10?o=C(this,u,m):p<63?o=S(this,u,m):p<1024?o=R(this,u,m):o=T(this,u,m),o};function P(u,m){this.x=u,this.y=m}n(P,"g"),P.prototype.makeRBT=function(u){for(var m=Array(u),o=a.prototype._countBits(u)-1,p=0;p<u;p++)m[p]=this.revBin(p,o,u);return m},P.prototype.revBin=function(u,m,o){if(u===0||u===o-1)return u;for(var p=0,x=0;x<m;x++)p|=(u&1)<<m-x-1,u>>=1;return p},P.prototype.permute=function(u,m,o,p,x,A){for(var k=0;k<A;k++)p[k]=m[u[k]],x[k]=o[u[k]]},P.prototype.transform=function(u,m,o,p,x,A){this.permute(A,u,m,o,p,x);for(var k=1;k<x;k<<=1)for(var M=k<<1,f=Math.cos(2*Math.PI/M),_=Math.sin(2*Math.PI/M),E=0;E<x;E+=M)for(var I=f,L=_,D=0;D<k;D++){var F=o[E+D],z=p[E+D],H=o[E+D+k],V=p[E+D+k],Y=I*H-L*V;V=I*V+L*H,H=Y,o[E+D]=F+H,p[E+D]=z+V,o[E+D+k]=F-H,p[E+D+k]=z-V,D!==M&&(Y=f*I-_*L,L=f*L+_*I,I=Y)}},P.prototype.guessLen13b=function(u,m){var o=Math.max(m,u)|1,p=o&1,x=0;for(o=o/2|0;o;o=o>>>1)x++;return 1<<x+1+p},P.prototype.conjugate=function(u,m,o){if(!(o<=1))for(var p=0;p<o/2;p++){var x=u[p];u[p]=u[o-p-1],u[o-p-1]=x,x=m[p],m[p]=-m[o-p-1],m[o-p-1]=-x}},P.prototype.normalize13b=function(u,m){for(var o=0,p=0;p<m/2;p++){var x=Math.round(u[2*p+1]/m)*8192+Math.round(u[2*p]/m)+o;u[p]=x&67108863,x<67108864?o=0:o=x/67108864|0}return u},P.prototype.convert13b=function(u,m,o,p){for(var x=0,A=0;A<m;A++)x=x+(u[A]|0),o[2*A]=x&8191,x=x>>>13,o[2*A+1]=x&8191,x=x>>>13;for(A=2*m;A<p;++A)o[A]=0;s(x===0),s((x&-8192)===0)},P.prototype.stub=function(u){for(var m=Array(u),o=0;o<u;o++)m[o]=0;return m},P.prototype.mulp=function(u,m,o){var p=2*this.guessLen13b(u.length,m.length),x=this.makeRBT(p),A=this.stub(p),k=Array(p),M=Array(p),f=Array(p),_=Array(p),E=Array(p),I=Array(p),L=o.words;L.length=p,this.convert13b(u.words,u.length,k,p),this.convert13b(m.words,m.length,_,p),this.transform(k,A,M,f,p,x),this.transform(_,A,E,I,p,x);for(var D=0;D<p;D++){var F=M[D]*E[D]-f[D]*I[D];f[D]=M[D]*I[D]+f[D]*E[D],M[D]=F}return this.conjugate(M,f,p),this.transform(M,f,L,A,p,x),this.conjugate(L,A,p),this.normalize13b(L,p),o.negative=u.negative^m.negative,o.length=u.length+m.length,o.strip()},a.prototype.mul=function(u){var m=new a(null);return m.words=Array(this.length+u.length),this.mulTo(u,m)},a.prototype.mulf=function(u){var m=new a(null);return m.words=Array(this.length+u.length),T(this,u,m)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){s(typeof u=="number"),s(u<67108864);for(var m=0,o=0;o<this.length;o++){var p=(this.words[o]|0)*u,x=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=x>>>26,this.words[o]=x&67108863}return m!==0&&(this.words[o]=m,this.length++),this.length=u===0?1:this.length,this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var m=w(u);if(m.length===0)return new a(1);for(var o=this,p=0;p<m.length&&m[p]===0;p++,o=o.sqr());if(++p<m.length)for(var x=o.sqr();p<m.length;p++,x=x.sqr())m[p]!==0&&(o=o.mul(x));return o},a.prototype.iushln=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=67108863>>>26-m<<26-m,x;if(m!==0){var A=0;for(x=0;x<this.length;x++){var k=this.words[x]&p,M=(this.words[x]|0)-k<<m;this.words[x]=M|A,A=k>>>26-m}A&&(this.words[x]=A,this.length++)}if(o!==0){for(x=this.length-1;x>=0;x--)this.words[x+o]=this.words[x];for(x=0;x<o;x++)this.words[x]=0;this.length+=o}return this.strip()},a.prototype.ishln=function(u){return s(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,m,o){s(typeof u=="number"&&u>=0);var p;m?p=(m-m%26)/26:p=0;var x=u%26,A=Math.min((u-x)/26,this.length),k=67108863^67108863>>>x<<x,M=o;if(p-=A,p=Math.max(0,p),M){for(var f=0;f<A;f++)M.words[f]=this.words[f];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=p);f--){var E=this.words[f]|0;this.words[f]=_<<26-x|E>>>x,_=E&k}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(u,m,o){return s(this.negative===0),this.iushrn(u,m,o)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return!1;var x=this.words[o];return!!(x&p)},a.prototype.imaskn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(m!==0&&o++,this.length=Math.min(o,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return s(typeof u=="number"),s(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(u){if(s(typeof u=="number"),s(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,m,o){var p=u.length+o,x;this._expand(p);var A,k=0;for(x=0;x<u.length;x++){A=(this.words[x+o]|0)+k;var M=(u.words[x]|0)*m;A-=M&67108863,k=(A>>26)-(M/67108864|0),this.words[x+o]=A&67108863}for(;x<this.length-o;x++)A=(this.words[x+o]|0)+k,k=A>>26,this.words[x+o]=A&67108863;if(k===0)return this.strip();for(s(k===-1),k=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+k,k=A>>26,this.words[x]=A&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(u,m){var o=this.length-u.length,p=this.clone(),x=u,A=x.words[x.length-1]|0,k=this._countBits(A);o=26-k,o!==0&&(x=x.ushln(o),p.iushln(o),A=x.words[x.length-1]|0);var M=p.length-x.length,f;if(m!=="mod"){f=new a(null),f.length=M+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=p.clone()._ishlnsubmul(x,1,M);E.negative===0&&(p=E,f&&(f.words[M]=1));for(var I=M-1;I>=0;I--){var L=(p.words[x.length+I]|0)*67108864+(p.words[x.length+I-1]|0);for(L=Math.min(L/A|0,67108863),p._ishlnsubmul(x,L,I);p.negative!==0;)L--,p.negative=0,p._ishlnsubmul(x,1,I),!p.isZero()&&(p.negative^=1);f&&(f.words[I]=L)}return f&&f.strip(),p.strip(),m!=="div"&&o!==0&&p.iushrn(o),{div:f||null,mod:p}},a.prototype.divmod=function(u,m,o){if(s(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,m),m!=="mod"&&(p=A.div.neg()),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.iadd(u)),{div:p,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),m),m!=="mod"&&(p=A.div.neg()),{div:p,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),m),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?m==="div"?{div:this.divn(u.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modn(u.words[0]))}:this._wordDiv(u,m)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var o=m.div.negative!==0?m.mod.isub(u):m.mod,p=u.ushrn(1),x=u.andln(1),A=o.cmp(p);return A<0||x===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(u){s(u<=67108863);for(var m=67108864%u,o=0,p=this.length-1;p>=0;p--)o=(m*o+(this.words[p]|0))%u;return o},a.prototype.idivn=function(u){s(u<=67108863);for(var m=0,o=this.length-1;o>=0;o--){var p=(this.words[o]|0)+m*67108864;this.words[o]=p/u|0,m=p%u}return this.strip()},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=new a(0),k=new a(1),M=0;m.isEven()&&o.isEven();)m.iushrn(1),o.iushrn(1),++M;for(var f=o.clone(),_=m.clone();!m.isZero();){for(var E=0,I=1;(m.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(m.iushrn(E);E-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(f),x.isub(_)),p.iushrn(1),x.iushrn(1);for(var L=0,D=1;(o.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(o.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(f),k.isub(_)),A.iushrn(1),k.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(A),x.isub(k)):(o.isub(m),A.isub(p),k.isub(x))}return{a:A,b:k,gcd:o.iushln(M)}},a.prototype._invmp=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=o.clone();m.cmpn(1)>0&&o.cmpn(1)>0;){for(var k=0,M=1;(m.words[0]&M)===0&&k<26;++k,M<<=1);if(k>0)for(m.iushrn(k);k-- >0;)p.isOdd()&&p.iadd(A),p.iushrn(1);for(var f=0,_=1;(o.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(o.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(x)):(o.isub(m),x.isub(p))}var E;return m.cmpn(1)===0?E=p:E=x,E.cmpn(0)<0&&E.iadd(u),E},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),o=u.clone();m.negative=0,o.negative=0;for(var p=0;m.isEven()&&o.isEven();p++)m.iushrn(1),o.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;o.isEven();)o.iushrn(1);var x=m.cmp(o);if(x<0){var A=m;m=o,o=A}else if(x===0||o.cmpn(1)===0)break;m.isub(o)}while(!0);return o.iushln(p)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){s(typeof u=="number");var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return this._expand(o+1),this.words[o]|=p,this;for(var x=p,A=o;x!==0&&A<this.length;A++){var k=this.words[A]|0;k+=x,x=k>>>26,k&=67108863,this.words[A]=k}return x!==0&&(this.words[A]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var m=u<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var o;if(this.length>1)o=1;else{m&&(u=-u),s(u<=67108863,"Number is too big");var p=this.words[0]|0;o=p===u?0:p<u?-1:1}return this.negative!==0?-o|0:o},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var m=this.ucmp(u);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,o=this.length-1;o>=0;o--){var p=this.words[o]|0,x=u.words[o]|0;if(p!==x){p<x?m=-1:p>x&&(m=1);break}}return m},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new $(u)},a.prototype.toRed=function(u){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return s(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return s(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var O={k256:null,p224:null,p192:null,p25519:null};function j(u,m){this.name=u,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(j,"p"),j.prototype._tmp=function(){var u=new a(null);return u.words=Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var m=u,o;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),o=m.bitLength();while(o>this.n);var p=o<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},j.prototype.split=function(u,m){u.iushrn(this.n,0,m)},j.prototype.imulK=function(u){return u.imul(this.k)};function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(B,"m"),l(B,j),B.prototype.split=function(u,m){for(var o=4194303,p=Math.min(u.length,9),x=0;x<p;x++)m.words[x]=u.words[x];if(m.length=p,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(m.words[m.length++]=A&o,x=10;x<u.length;x++){var k=u.words[x]|0;u.words[x-10]=(k&o)<<4|A>>>22,A=k}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},B.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,o=0;o<u.length;o++){var p=u.words[o]|0;m+=p*977,u.words[o]=m&67108863,m=p*64+(m/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Z,"c"),l(Z,j);function W(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,"$q"),l(W,j);function ee(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ee,"e"),l(ee,j),ee.prototype.imulK=function(u){for(var m=0,o=0;o<u.length;o++){var p=(u.words[o]|0)*19+m,x=p&67108863;p>>>=26,u.words[o]=x,m=p}return m!==0&&(u.words[u.length++]=m),u},a._prime=function(u){if(O[u])return O[u];var m;if(u==="k256")m=new B;else if(u==="p224")m=new Z;else if(u==="p192")m=new W;else if(u==="p25519")m=new ee;else throw Error("Unknown prime "+u);return O[u]=m,m};function $(u){if(typeof u=="string"){var m=a._prime(u);this.m=m.p,this.prime=m}else s(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}n($,"d"),$.prototype._verify1=function(u){s(u.negative===0,"red works only with positives"),s(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,m){s((u.negative|m.negative)===0,"red works only with positives"),s(u.red&&u.red===m.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,m){this._verify2(u,m);var o=u.add(m);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},$.prototype.iadd=function(u,m){this._verify2(u,m);var o=u.iadd(m);return o.cmp(this.m)>=0&&o.isub(this.m),o},$.prototype.sub=function(u,m){this._verify2(u,m);var o=u.sub(m);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},$.prototype.isub=function(u,m){this._verify2(u,m);var o=u.isub(m);return o.cmpn(0)<0&&o.iadd(this.m),o},$.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},$.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},$.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var o=this.m.add(new a(1)).iushrn(2);return this.pow(u,o)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);s(!p.isZero());var A=new a(1).toRed(this),k=A.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);this.pow(f,M).cmp(k)!==0;)f.redIAdd(k);for(var _=this.pow(f,p),E=this.pow(u,p.addn(1).iushrn(1)),I=this.pow(u,p),L=x;I.cmp(A)!==0;){for(var D=I,F=0;D.cmp(A)!==0;F++)D=D.redSqr();s(F<L);var z=this.pow(_,new a(1).iushln(L-F-1));E=E.redMul(z),_=z.redSqr(),I=I.redMul(_),L=F}return E},$.prototype.invm=function(u){var m=u._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},$.prototype.pow=function(u,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return u.clone();var o=4,p=Array(1<<o);p[0]=new a(1).toRed(this),p[1]=u;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],u);var A=p[0],k=0,M=0,f=m.bitLength()%26;for(f===0&&(f=26),x=m.length-1;x>=0;x--){for(var _=m.words[x],E=f-1;E>=0;E--){var I=_>>E&1;if(A!==p[0]&&(A=this.sqr(A)),I===0&&k===0){M=0;continue}k<<=1,k|=I,M++,!(M!==o&&(x!==0||E!==0))&&(A=this.mul(A,p[k]),M=0,k=0)}f=26}return A},$.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},$.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},a.mont=function(u){return new U(u)};function U(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(U,"n"),l(U,$),U.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},U.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var o=u.imul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new a(0)._forceRed(this);var o=u.mul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(u){var m=this.imod(u._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof e>"u"||e,t)}),Ki=st((t,e)=>{e.exports=r;function r(i,s){if(!i)throw Error(s||"Assertion failed")}n(r,"K"),r.equal=function(i,s,l){if(i!=s)throw Error(l||"Assertion failed: "+i+" != "+s)}}),_0=st(t=>{var e=t;function r(l,a){if(Array.isArray(l))return l.slice();if(!l)return[];var v=[];if(typeof l!="string"){for(var g=0;g<l.length;g++)v[g]=l[g]|0;return v}if(a==="hex"){l=l.replace(/[^a-z0-9]+/ig,""),l.length%2!==0&&(l="0"+l);for(var g=0;g<l.length;g+=2)v.push(parseInt(l[g]+l[g+1],16))}else for(var g=0;g<l.length;g++){var h=l.charCodeAt(g),d=h>>8,c=h&255;d?v.push(d,c):v.push(c)}return v}n(r,"K"),e.toArray=r;function i(l){return l.length===1?"0"+l:l}n(i,"_"),e.zero2=i;function s(l){for(var a="",v=0;v<l.length;v++)a+=i(l[v].toString(16));return a}n(s,"P"),e.toHex=s,e.encode=function(l,a){return a==="hex"?s(l):l}}),Fr=st(t=>{var e=t,r=Ci(),i=Ki(),s=_0();e.assert=i,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function l(d,c,y){var b=Array(Math.max(d.bitLength(),y)+1),w;for(w=0;w<b.length;w+=1)b[w]=0;var S=1<<c+1,C=d.clone();for(w=0;w<b.length;w++){var R,T=C.andln(S-1);C.isOdd()?(T>(S>>1)-1?R=(S>>1)-T:R=T,C.isubn(R)):R=0,b[w]=R,C.iushrn(1)}return b}n(l,"O"),e.getNAF=l;function a(d,c){var y=[[],[]];d=d.clone(),c=c.clone();for(var b=0,w=0,S;d.cmpn(-b)>0||c.cmpn(-w)>0;){var C=d.andln(3)+b&3,R=c.andln(3)+w&3;C===3&&(C=-1),R===3&&(R=-1);var T;(C&1)===0?T=0:(S=d.andln(7)+b&7,(S===3||S===5)&&R===2?T=-C:T=C),y[0].push(T);var P;(R&1)===0?P=0:(S=c.andln(7)+w&7,(S===3||S===5)&&C===2?P=-R:P=R),y[1].push(P),2*b===T+1&&(b=1-b),2*w===P+1&&(w=1-w),d.iushrn(1),c.iushrn(1)}return y}n(a,"Y"),e.getJSF=a;function v(d,c,y){var b="_"+c;d.prototype[c]=function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)}}n(v,"H"),e.cachedProperty=v;function g(d){return typeof d=="string"?e.toArray(d,"hex"):d}n(g,"v"),e.parseBytes=g;function h(d){return new r(d,"hex","le")}n(h,"X"),e.intFromLE=h}),M0=st((t,e)=>{var r;e.exports=function(l){return r||(r=new i(null)),r.generate(l)};function i(l){this.rand=l}if(n(i,"_"),e.exports.Rand=i,i.prototype.generate=function(l){return this._rand(l)},i.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var a=new Uint8Array(l),v=0;v<a.length;v++)a[v]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(l){var a=new Uint8Array(l);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(l){var a=new Uint8Array(l);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(i.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(s=($r(),$t(Lr)),typeof s.randomBytes!="function")throw Error("Not supported");i.prototype._rand=function(l){return s.randomBytes(l)}}catch{}var s}),Na=st((t,e)=>{var r=Ci(),i=Fr(),s=i.getNAF,l=i.getJSF,a=i.assert;function v(h,d){this.type=h,this.p=new r(d.p,16),this.red=d.prime?r.red(d.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=d.n&&new r(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}n(v,"H"),e.exports=v,v.prototype.point=function(){throw Error("Not implemented")},v.prototype.validate=function(){throw Error("Not implemented")},v.prototype._fixedNafMul=function(h,d){a(h.precomputed);var c=h._getDoubles(),y=s(d,1,this._bitLength),b=(1<<c.step+1)-(c.step%2===0?2:1);b/=3;var w=[],S,C;for(S=0;S<y.length;S+=c.step){C=0;for(var R=S+c.step-1;R>=S;R--)C=(C<<1)+y[R];w.push(C)}for(var T=this.jpoint(null,null,null),P=this.jpoint(null,null,null),O=b;O>0;O--){for(S=0;S<w.length;S++)C=w[S],C===O?P=P.mixedAdd(c.points[S]):C===-O&&(P=P.mixedAdd(c.points[S].neg()));T=T.add(P)}return T.toP()},v.prototype._wnafMul=function(h,d){var c=4,y=h._getNAFPoints(c);c=y.wnd;for(var b=y.points,w=s(d,c,this._bitLength),S=this.jpoint(null,null,null),C=w.length-1;C>=0;C--){for(var R=0;C>=0&&w[C]===0;C--)R++;if(C>=0&&R++,S=S.dblp(R),C<0)break;var T=w[C];a(T!==0),h.type==="affine"?T>0?S=S.mixedAdd(b[T-1>>1]):S=S.mixedAdd(b[-T-1>>1].neg()):T>0?S=S.add(b[T-1>>1]):S=S.add(b[-T-1>>1].neg())}return h.type==="affine"?S.toP():S},v.prototype._wnafMulAdd=function(h,d,c,y,b){var w=this._wnafT1,S=this._wnafT2,C=this._wnafT3,R=0,T,P,O;for(T=0;T<y;T++){O=d[T];var j=O._getNAFPoints(h);w[T]=j.wnd,S[T]=j.points}for(T=y-1;T>=1;T-=2){var B=T-1,Z=T;if(w[B]!==1||w[Z]!==1){C[B]=s(c[B],w[B],this._bitLength),C[Z]=s(c[Z],w[Z],this._bitLength),R=Math.max(C[B].length,R),R=Math.max(C[Z].length,R);continue}var W=[d[B],null,null,d[Z]];d[B].y.cmp(d[Z].y)===0?(W[1]=d[B].add(d[Z]),W[2]=d[B].toJ().mixedAdd(d[Z].neg())):d[B].y.cmp(d[Z].y.redNeg())===0?(W[1]=d[B].toJ().mixedAdd(d[Z]),W[2]=d[B].add(d[Z].neg())):(W[1]=d[B].toJ().mixedAdd(d[Z]),W[2]=d[B].toJ().mixedAdd(d[Z].neg()));var ee=[-3,-1,-5,-7,0,7,5,1,3],$=l(c[B],c[Z]);for(R=Math.max($[0].length,R),C[B]=Array(R),C[Z]=Array(R),P=0;P<R;P++){var U=$[0][P]|0,u=$[1][P]|0;C[B][P]=ee[(U+1)*3+(u+1)],C[Z][P]=0,S[B]=W}}var m=this.jpoint(null,null,null),o=this._wnafT4;for(T=R;T>=0;T--){for(var p=0;T>=0;){var x=!0;for(P=0;P<y;P++)o[P]=C[P][T]|0,o[P]!==0&&(x=!1);if(!x)break;p++,T--}if(T>=0&&p++,m=m.dblp(p),T<0)break;for(P=0;P<y;P++){var A=o[P];A!==0&&(A>0?O=S[P][A-1>>1]:A<0&&(O=S[P][-A-1>>1].neg()),O.type==="affine"?m=m.mixedAdd(O):m=m.add(O))}}for(T=0;T<y;T++)S[T]=null;return b?m:m.toP()};function g(h,d){this.curve=h,this.type=d,this.precomputed=null}n(g,"v"),v.BasePoint=g,g.prototype.eq=function(){throw Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},v.prototype.decodePoint=function(h,d){h=i.toArray(h,d);var c=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1===2*c){h[0]===6?a(h[h.length-1]%2===0):h[0]===7&&a(h[h.length-1]%2===1);var y=this.point(h.slice(1,1+c),h.slice(1+c,1+2*c));return y}else if((h[0]===2||h[0]===3)&&h.length-1===c)return this.pointFromX(h.slice(1,1+c),h[0]===3);throw Error("Unknown point format")},g.prototype.encodeCompressed=function(h){return this.encode(h,!0)},g.prototype._encode=function(h){var d=this.curve.p.byteLength(),c=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",d))},g.prototype.encode=function(h,d){return i.encode(this._encode(d),h)},g.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},g.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((h.bitLength()+1)/d.step):!1},g.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],y=this,b=0;b<d;b+=h){for(var w=0;w<h;w++)y=y.dbl();c.push(y)}return{step:h,points:c}},g.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],c=(1<<h)-1,y=c===1?null:this.dbl(),b=1;b<c;b++)d[b]=d[b-1].add(y);return{wnd:h,points:d}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(h){for(var d=this,c=0;c<h;c++)d=d.dbl();return d}}),t6=st((t,e)=>{typeof Object.create=="function"?e.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,i){if(i){r.super_=i;var s=n(function(){},"O");s.prototype=i.prototype,r.prototype=new s,r.prototype.constructor=r}}}),jr=st((t,e)=>{try{if(r=(oI(),$t(C_)),typeof r.inherits!="function")throw"";e.exports=r.inherits}catch{e.exports=t6()}var r}),r6=st((t,e)=>{var r=Fr(),i=Ci(),s=jr(),l=Na(),a=r.assert;function v(d){l.call(this,"short",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}n(v,"H"),s(v,l),e.exports=v,v.prototype._getEndomorphism=function(d){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var c,y;if(d.beta)c=new i(d.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);c=b[0].cmp(b[1])<0?b[0]:b[1],c=c.toRed(this.red)}if(d.lambda)y=new i(d.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(c))===0?y=w[0]:(y=w[1],a(this.g.mul(y).x.cmp(this.g.x.redMul(c))===0))}var S;return d.basis?S=d.basis.map(function(C){return{a:new i(C.a,16),b:new i(C.b,16)}}):S=this._getEndoBasis(y),{beta:c,lambda:y,basis:S}}},v.prototype._getEndoRoots=function(d){var c=d===this.p?this.red:i.mont(d),y=new i(2).toRed(c).redInvm(),b=y.redNeg(),w=new i(3).toRed(c).redNeg().redSqrt().redMul(y),S=b.redAdd(w).fromRed(),C=b.redSub(w).fromRed();return[S,C]},v.prototype._getEndoBasis=function(d){for(var c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),y=d,b=this.n.clone(),w=new i(1),S=new i(0),C=new i(0),R=new i(1),T,P,O,j,B,Z,W,ee=0,$,U;y.cmpn(0)!==0;){var u=b.div(y);$=b.sub(u.mul(y)),U=C.sub(u.mul(w));var m=R.sub(u.mul(S));if(!O&&$.cmp(c)<0)T=W.neg(),P=w,O=$.neg(),j=U;else if(O&&++ee===2)break;W=$,b=y,y=$,C=w,w=U,R=S,S=m}B=$.neg(),Z=U;var o=O.sqr().add(j.sqr()),p=B.sqr().add(Z.sqr());return p.cmp(o)>=0&&(B=T,Z=P),O.negative&&(O=O.neg(),j=j.neg()),B.negative&&(B=B.neg(),Z=Z.neg()),[{a:O,b:j},{a:B,b:Z}]},v.prototype._endoSplit=function(d){var c=this.endo.basis,y=c[0],b=c[1],w=b.b.mul(d).divRound(this.n),S=y.b.neg().mul(d).divRound(this.n),C=w.mul(y.a),R=S.mul(b.a),T=w.mul(y.b),P=S.mul(b.b),O=d.sub(C).sub(R),j=T.add(P).neg();return{k1:O,k2:j}},v.prototype.pointFromX=function(d,c){d=new i(d,16),!d.red&&(d=d.toRed(this.red));var y=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");var w=b.fromRed().isOdd();return(c&&!w||!c&&w)&&(b=b.redNeg()),this.point(d,b)},v.prototype.validate=function(d){if(d.inf)return!0;var{x:c,y}=d,b=this.a.redMul(c),w=c.redSqr().redMul(c).redIAdd(b).redIAdd(this.b);return y.redSqr().redISub(w).cmpn(0)===0},v.prototype._endoWnafMulAdd=function(d,c,y){for(var b=this._endoWnafT1,w=this._endoWnafT2,S=0;S<d.length;S++){var C=this._endoSplit(c[S]),R=d[S],T=R._getBeta();C.k1.negative&&(C.k1.ineg(),R=R.neg(!0)),C.k2.negative&&(C.k2.ineg(),T=T.neg(!0)),b[S*2]=R,b[S*2+1]=T,w[S*2]=C.k1,w[S*2+1]=C.k2}for(var P=this._wnafMulAdd(1,b,w,S*2,y),O=0;O<S*2;O++)b[O]=null,w[O]=null;return P};function g(d,c,y,b){l.BasePoint.call(this,d,"affine"),c===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(c,16),this.y=new i(y,16),b&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}n(g,"v"),s(g,l.BasePoint),v.prototype.point=function(d,c,y){return new g(this,d,c,y)},v.prototype.pointFromJSON=function(d,c){return g.fromJSON(this,d,c)},g.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var c=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var y=this.curve,b=n(function(w){return y.point(w.x.redMul(y.endo.beta),w.y)},"N");d.beta=c,c.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(b)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(b)}}}return c}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(d,c,y){typeof c=="string"&&(c=JSON.parse(c));var b=d.point(c[0],c[1],y);if(!c[2])return b;function w(C){return d.point(C[0],C[1],y)}n(w,"E");var S=c[2];return b.precomputed={beta:null,doubles:S.doubles&&{step:S.doubles.step,points:[b].concat(S.doubles.points.map(w))},naf:S.naf&&{wnd:S.naf.wnd,points:[b].concat(S.naf.points.map(w))}},b},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var c=this.y.redSub(d.y);c.cmpn(0)!==0&&(c=c.redMul(this.x.redSub(d.x).redInvm()));var y=c.redSqr().redISub(this.x).redISub(d.x),b=c.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},g.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var c=this.curve.a,y=this.x.redSqr(),b=d.redInvm(),w=y.redAdd(y).redIAdd(y).redIAdd(c).redMul(b),S=w.redSqr().redISub(this.x.redAdd(this.x)),C=w.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,C)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(d){return d=new i(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},g.prototype.mulAdd=function(d,c,y){var b=[this,c],w=[d,y];return this.curve.endo?this.curve._endoWnafMulAdd(b,w):this.curve._wnafMulAdd(1,b,w,2)},g.prototype.jmulAdd=function(d,c,y){var b=[this,c],w=[d,y];return this.curve.endo?this.curve._endoWnafMulAdd(b,w,!0):this.curve._wnafMulAdd(1,b,w,2,!0)},g.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},g.prototype.neg=function(d){if(this.inf)return this;var c=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var y=this.precomputed,b=n(function(w){return w.neg()},"N");c.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(b)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(b)}}}return c},g.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var d=this.curve.jpoint(this.x,this.y,this.curve.one);return d};function h(d,c,y,b){l.BasePoint.call(this,d,"jacobian"),c===null&&y===null&&b===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(c,16),this.y=new i(y,16),this.z=new i(b,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(h,"X"),s(h,l.BasePoint),v.prototype.jpoint=function(d,c,y){return new h(this,d,c,y)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),c=d.redSqr(),y=this.x.redMul(c),b=this.y.redMul(c).redMul(d);return this.curve.point(y,b)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var c=d.z.redSqr(),y=this.z.redSqr(),b=this.x.redMul(c),w=d.x.redMul(y),S=this.y.redMul(c.redMul(d.z)),C=d.y.redMul(y.redMul(this.z)),R=b.redSub(w),T=S.redSub(C);if(R.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=R.redSqr(),O=P.redMul(R),j=b.redMul(P),B=T.redSqr().redIAdd(O).redISub(j).redISub(j),Z=T.redMul(j.redISub(B)).redISub(S.redMul(O)),W=this.z.redMul(d.z).redMul(R);return this.curve.jpoint(B,Z,W)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var c=this.z.redSqr(),y=this.x,b=d.x.redMul(c),w=this.y,S=d.y.redMul(c).redMul(this.z),C=y.redSub(b),R=w.redSub(S);if(C.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=C.redSqr(),P=T.redMul(C),O=y.redMul(T),j=R.redSqr().redIAdd(P).redISub(O).redISub(O),B=R.redMul(O.redISub(j)).redISub(w.redMul(P)),Z=this.z.redMul(C);return this.curve.jpoint(j,B,Z)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var c;if(this.curve.zeroA||this.curve.threeA){var y=this;for(c=0;c<d;c++)y=y.dbl();return y}var b=this.curve.a,w=this.curve.tinv,S=this.x,C=this.y,R=this.z,T=R.redSqr().redSqr(),P=C.redAdd(C);for(c=0;c<d;c++){var O=S.redSqr(),j=P.redSqr(),B=j.redSqr(),Z=O.redAdd(O).redIAdd(O).redIAdd(b.redMul(T)),W=S.redMul(j),ee=Z.redSqr().redISub(W.redAdd(W)),$=W.redISub(ee),U=Z.redMul($);U=U.redIAdd(U).redISub(B);var u=P.redMul(R);c+1<d&&(T=T.redMul(B)),S=ee,R=u,P=U}return this.curve.jpoint(S,P.redMul(w),R)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,c,y;if(this.zOne){var b=this.x.redSqr(),w=this.y.redSqr(),S=w.redSqr(),C=this.x.redAdd(w).redSqr().redISub(b).redISub(S);C=C.redIAdd(C);var R=b.redAdd(b).redIAdd(b),T=R.redSqr().redISub(C).redISub(C),P=S.redIAdd(S);P=P.redIAdd(P),P=P.redIAdd(P),d=T,c=R.redMul(C.redISub(T)).redISub(P),y=this.y.redAdd(this.y)}else{var O=this.x.redSqr(),j=this.y.redSqr(),B=j.redSqr(),Z=this.x.redAdd(j).redSqr().redISub(O).redISub(B);Z=Z.redIAdd(Z);var W=O.redAdd(O).redIAdd(O),ee=W.redSqr(),$=B.redIAdd(B);$=$.redIAdd($),$=$.redIAdd($),d=ee.redISub(Z).redISub(Z),c=W.redMul(Z.redISub(d)).redISub($),y=this.y.redMul(this.z),y=y.redIAdd(y)}return this.curve.jpoint(d,c,y)},h.prototype._threeDbl=function(){var d,c,y;if(this.zOne){var b=this.x.redSqr(),w=this.y.redSqr(),S=w.redSqr(),C=this.x.redAdd(w).redSqr().redISub(b).redISub(S);C=C.redIAdd(C);var R=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),T=R.redSqr().redISub(C).redISub(C);d=T;var P=S.redIAdd(S);P=P.redIAdd(P),P=P.redIAdd(P),c=R.redMul(C.redISub(T)).redISub(P),y=this.y.redAdd(this.y)}else{var O=this.z.redSqr(),j=this.y.redSqr(),B=this.x.redMul(j),Z=this.x.redSub(O).redMul(this.x.redAdd(O));Z=Z.redAdd(Z).redIAdd(Z);var W=B.redIAdd(B);W=W.redIAdd(W);var ee=W.redAdd(W);d=Z.redSqr().redISub(ee),y=this.y.redAdd(this.z).redSqr().redISub(j).redISub(O);var $=j.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),c=Z.redMul(W.redISub(d)).redISub($)}return this.curve.jpoint(d,c,y)},h.prototype._dbl=function(){var d=this.curve.a,c=this.x,y=this.y,b=this.z,w=b.redSqr().redSqr(),S=c.redSqr(),C=y.redSqr(),R=S.redAdd(S).redIAdd(S).redIAdd(d.redMul(w)),T=c.redAdd(c);T=T.redIAdd(T);var P=T.redMul(C),O=R.redSqr().redISub(P.redAdd(P)),j=P.redISub(O),B=C.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var Z=R.redMul(j).redISub(B),W=y.redAdd(y).redMul(b);return this.curve.jpoint(O,Z,W)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),c=this.y.redSqr(),y=this.z.redSqr(),b=c.redSqr(),w=d.redAdd(d).redIAdd(d),S=w.redSqr(),C=this.x.redAdd(c).redSqr().redISub(d).redISub(b);C=C.redIAdd(C),C=C.redAdd(C).redIAdd(C),C=C.redISub(S);var R=C.redSqr(),T=b.redIAdd(b);T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T);var P=w.redIAdd(C).redSqr().redISub(S).redISub(R).redISub(T),O=c.redMul(P);O=O.redIAdd(O),O=O.redIAdd(O);var j=this.x.redMul(R).redISub(O);j=j.redIAdd(j),j=j.redIAdd(j);var B=this.y.redMul(P.redMul(T.redISub(P)).redISub(C.redMul(R)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var Z=this.z.redAdd(C).redSqr().redISub(y).redISub(R);return this.curve.jpoint(j,B,Z)},h.prototype.mul=function(d,c){return d=new i(d,c),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var c=this.z.redSqr(),y=d.z.redSqr();if(this.x.redMul(y).redISub(d.x.redMul(c)).cmpn(0)!==0)return!1;var b=c.redMul(this.z),w=y.redMul(d.z);return this.y.redMul(w).redISub(d.y.redMul(b)).cmpn(0)===0},h.prototype.eqXToP=function(d){var c=this.z.redSqr(),y=d.toRed(this.curve.red).redMul(c);if(this.x.cmp(y)===0)return!0;for(var b=d.clone(),w=this.curve.redN.redMul(c);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(w),this.x.cmp(y)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),i6=st((t,e)=>{var r=Ci(),i=jr(),s=Na(),l=Fr();function a(g){s.call(this,"mont",g),this.a=new r(g.a,16).toRed(this.red),this.b=new r(g.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}n(a,"Y"),i(a,s),e.exports=a,a.prototype.validate=function(g){var h=g.normalize().x,d=h.redSqr(),c=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h),y=c.redSqrt();return y.redSqr().cmp(c)===0};function v(g,h,d){s.BasePoint.call(this,g,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(h,16),this.z=new r(d,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(v,"H"),i(v,s.BasePoint),a.prototype.decodePoint=function(g,h){return this.point(l.toArray(g,h),1)},a.prototype.point=function(g,h){return new v(this,g,h)},a.prototype.pointFromJSON=function(g){return v.fromJSON(this,g)},v.prototype.precompute=function(){},v.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},v.fromJSON=function(g,h){return new v(g,h[0],h[1]||g.one)},v.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0},v.prototype.dbl=function(){var g=this.x.redAdd(this.z),h=g.redSqr(),d=this.x.redSub(this.z),c=d.redSqr(),y=h.redSub(c),b=h.redMul(c),w=y.redMul(c.redAdd(this.curve.a24.redMul(y)));return this.curve.point(b,w)},v.prototype.add=function(){throw Error("Not supported on Montgomery curve")},v.prototype.diffAdd=function(g,h){var d=this.x.redAdd(this.z),c=this.x.redSub(this.z),y=g.x.redAdd(g.z),b=g.x.redSub(g.z),w=b.redMul(d),S=y.redMul(c),C=h.z.redMul(w.redAdd(S).redSqr()),R=h.x.redMul(w.redISub(S).redSqr());return this.curve.point(C,R)},v.prototype.mul=function(g){for(var h=g.clone(),d=this,c=this.curve.point(null,null),y=this,b=[];h.cmpn(0)!==0;h.iushrn(1))b.push(h.andln(1));for(var w=b.length-1;w>=0;w--)b[w]===0?(d=d.diffAdd(c,y),c=c.dbl()):(c=d.diffAdd(c,y),d=d.dbl());return c},v.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},v.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},v.prototype.eq=function(g){return this.getX().cmp(g.getX())===0},v.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},v.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),n6=st((t,e)=>{var r=Fr(),i=Ci(),s=jr(),l=Na(),a=r.assert;function v(h){this.twisted=(h.a|0)!==1,this.mOneA=this.twisted&&(h.a|0)===-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new i(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(h.c|0)===1}n(v,"H"),s(v,l),e.exports=v,v.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},v.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},v.prototype.jpoint=function(h,d,c,y){return this.point(h,d,c,y)},v.prototype.pointFromX=function(h,d){h=new i(h,16),!h.red&&(h=h.toRed(this.red));var c=h.redSqr(),y=this.c2.redSub(this.a.redMul(c)),b=this.one.redSub(this.c2.redMul(this.d).redMul(c)),w=y.redMul(b.redInvm()),S=w.redSqrt();if(S.redSqr().redSub(w).cmp(this.zero)!==0)throw Error("invalid point");var C=S.fromRed().isOdd();return(d&&!C||!d&&C)&&(S=S.redNeg()),this.point(h,S)},v.prototype.pointFromY=function(h,d){h=new i(h,16),!h.red&&(h=h.toRed(this.red));var c=h.redSqr(),y=c.redSub(this.c2),b=c.redMul(this.d).redMul(this.c2).redSub(this.a),w=y.redMul(b.redInvm());if(w.cmp(this.zero)===0){if(d)throw Error("invalid point");return this.point(this.zero,h)}var S=w.redSqrt();if(S.redSqr().redSub(w).cmp(this.zero)!==0)throw Error("invalid point");return S.fromRed().isOdd()!==d&&(S=S.redNeg()),this.point(S,h)},v.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),c=h.y.redSqr(),y=d.redMul(this.a).redAdd(c),b=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(c)));return y.cmp(b)===0};function g(h,d,c,y,b){l.BasePoint.call(this,h,"projective"),d===null&&c===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(d,16),this.y=new i(c,16),this.z=y?new i(y,16):this.curve.one,this.t=b&&new i(b,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}n(g,"v"),s(g,l.BasePoint),v.prototype.pointFromJSON=function(h){return g.fromJSON(this,h)},v.prototype.point=function(h,d,c,y){return new g(this,h,d,c,y)},g.fromJSON=function(h,d){return new g(h,d[0],d[1],d[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},g.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var y=this.curve._mulA(h),b=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),w=y.redAdd(d),S=w.redSub(c),C=y.redSub(d),R=b.redMul(S),T=w.redMul(C),P=b.redMul(C),O=S.redMul(w);return this.curve.point(R,T,O,P)},g.prototype._projDbl=function(){var h=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),c=this.y.redSqr(),y,b,w,S,C,R;if(this.curve.twisted){S=this.curve._mulA(d);var T=S.redAdd(c);this.zOne?(y=h.redSub(d).redSub(c).redMul(T.redSub(this.curve.two)),b=T.redMul(S.redSub(c)),w=T.redSqr().redSub(T).redSub(T)):(C=this.z.redSqr(),R=T.redSub(C).redISub(C),y=h.redSub(d).redISub(c).redMul(R),b=T.redMul(S.redSub(c)),w=T.redMul(R))}else S=d.redAdd(c),C=this.curve._mulC(this.z).redSqr(),R=S.redSub(C).redSub(C),y=this.curve._mulC(h.redISub(S)).redMul(R),b=this.curve._mulC(S).redMul(d.redISub(c)),w=S.redMul(R);return this.curve.point(y,b,w)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),c=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),y=this.t.redMul(this.curve.dd).redMul(h.t),b=this.z.redMul(h.z.redAdd(h.z)),w=c.redSub(d),S=b.redSub(y),C=b.redAdd(y),R=c.redAdd(d),T=w.redMul(S),P=C.redMul(R),O=w.redMul(R),j=S.redMul(C);return this.curve.point(T,P,j,O)},g.prototype._projAdd=function(h){var d=this.z.redMul(h.z),c=d.redSqr(),y=this.x.redMul(h.x),b=this.y.redMul(h.y),w=this.curve.d.redMul(y).redMul(b),S=c.redSub(w),C=c.redAdd(w),R=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(y).redISub(b),T=d.redMul(S).redMul(R),P,O;return this.curve.twisted?(P=d.redMul(C).redMul(b.redSub(this.curve._mulA(y))),O=S.redMul(C)):(P=d.redMul(C).redMul(b.redSub(y)),O=this.curve._mulC(S).redMul(C)),this.curve.point(T,P,O)},g.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},g.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},g.prototype.mulAdd=function(h,d,c){return this.curve._wnafMulAdd(1,[this,d],[h,c],2,!1)},g.prototype.jmulAdd=function(h,d,c){return this.curve._wnafMulAdd(1,[this,d],[h,c],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},g.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var c=h.clone(),y=this.curve.redN.redMul(this.z);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(y),this.x.cmp(d)===0)return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add}),S0=st(t=>{var e=t;e.base=Na(),e.short=r6(),e.mont=i6(),e.edwards=n6()}),li=st(t=>{var e=Ki(),r=jr();t.inherits=r;function i(m,o){return(m.charCodeAt(o)&64512)!==55296||o<0||o+1>=m.length?!1:(m.charCodeAt(o+1)&64512)===56320}n(i,"_");function s(m,o){if(Array.isArray(m))return m.slice();if(!m)return[];var p=[];if(typeof m=="string")if(o){if(o==="hex")for(m=m.replace(/[^a-z0-9]+/ig,""),m.length%2!==0&&(m="0"+m),A=0;A<m.length;A+=2)p.push(parseInt(m[A]+m[A+1],16))}else for(var x=0,A=0;A<m.length;A++){var k=m.charCodeAt(A);k<128?p[x++]=k:k<2048?(p[x++]=k>>6|192,p[x++]=k&63|128):i(m,A)?(k=65536+((k&1023)<<10)+(m.charCodeAt(++A)&1023),p[x++]=k>>18|240,p[x++]=k>>12&63|128,p[x++]=k>>6&63|128,p[x++]=k&63|128):(p[x++]=k>>12|224,p[x++]=k>>6&63|128,p[x++]=k&63|128)}else for(A=0;A<m.length;A++)p[A]=m[A]|0;return p}n(s,"P"),t.toArray=s;function l(m){for(var o="",p=0;p<m.length;p++)o+=g(m[p].toString(16));return o}n(l,"O"),t.toHex=l;function a(m){var o=m>>>24|m>>>8&65280|m<<8&16711680|(m&255)<<24;return o>>>0}n(a,"Y"),t.htonl=a;function v(m,o){for(var p="",x=0;x<m.length;x++){var A=m[x];o==="little"&&(A=a(A)),p+=h(A.toString(16))}return p}n(v,"H"),t.toHex32=v;function g(m){return m.length===1?"0"+m:m}n(g,"v"),t.zero2=g;function h(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}n(h,"X"),t.zero8=h;function d(m,o,p,x){var A=p-o;e(A%4===0);for(var k=Array(A/4),M=0,f=o;M<k.length;M++,f+=4){var _;x==="big"?_=m[f]<<24|m[f+1]<<16|m[f+2]<<8|m[f+3]:_=m[f+3]<<24|m[f+2]<<16|m[f+1]<<8|m[f],k[M]=_>>>0}return k}n(d,"Z"),t.join32=d;function c(m,o){for(var p=Array(m.length*4),x=0,A=0;x<m.length;x++,A+=4){var k=m[x];o==="big"?(p[A]=k>>>24,p[A+1]=k>>>16&255,p[A+2]=k>>>8&255,p[A+3]=k&255):(p[A+3]=k>>>24,p[A+2]=k>>>16&255,p[A+1]=k>>>8&255,p[A]=k&255)}return p}n(c,"k"),t.split32=c;function y(m,o){return m>>>o|m<<32-o}n(y,"G"),t.rotr32=y;function b(m,o){return m<<o|m>>>32-o}n(b,"S"),t.rotl32=b;function w(m,o){return m+o>>>0}n(w,"N"),t.sum32=w;function S(m,o,p){return m+o+p>>>0}n(S,"E"),t.sum32_3=S;function C(m,o,p,x){return m+o+p+x>>>0}n(C,"h"),t.sum32_4=C;function R(m,o,p,x,A){return m+o+p+x+A>>>0}n(R,"D"),t.sum32_5=R;function T(m,o,p,x){var A=m[o],k=m[o+1],M=x+k>>>0,f=(M<x?1:0)+p+A;m[o]=f>>>0,m[o+1]=M}n(T,"I"),t.sum64=T;function P(m,o,p,x){var A=o+x>>>0,k=(A<o?1:0)+m+p;return k>>>0}n(P,"g"),t.sum64_hi=P;function O(m,o,p,x){var A=o+x;return A>>>0}n(O,"y"),t.sum64_lo=O;function j(m,o,p,x,A,k,M,f){var _=0,E=o;E=E+x>>>0,_+=E<o?1:0,E=E+k>>>0,_+=E<k?1:0,E=E+f>>>0,_+=E<f?1:0;var I=m+p+A+M+_;return I>>>0}n(j,"p"),t.sum64_4_hi=j;function B(m,o,p,x,A,k,M,f){var _=o+x+k+f;return _>>>0}n(B,"m"),t.sum64_4_lo=B;function Z(m,o,p,x,A,k,M,f,_,E){var I=0,L=o;L=L+x>>>0,I+=L<o?1:0,L=L+k>>>0,I+=L<k?1:0,L=L+f>>>0,I+=L<f?1:0,L=L+E>>>0,I+=L<E?1:0;var D=m+p+A+M+_+I;return D>>>0}n(Z,"c"),t.sum64_5_hi=Z;function W(m,o,p,x,A,k,M,f,_,E){var I=o+x+k+f+E;return I>>>0}n(W,"$q"),t.sum64_5_lo=W;function ee(m,o,p){var x=o<<32-p|m>>>p;return x>>>0}n(ee,"e"),t.rotr64_hi=ee;function $(m,o,p){var x=m<<32-p|o>>>p;return x>>>0}n($,"d"),t.rotr64_lo=$;function U(m,o,p){return m>>>p}n(U,"n"),t.shr64_hi=U;function u(m,o,p){var x=m<<32-p|o>>>p;return x>>>0}n(u,"M"),t.shr64_lo=u}),Ps=st(t=>{var e=li(),r=Ki();function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n(i,"_"),t.BlockHash=i,i.prototype.update=function(s,l){if(s=e.toArray(s,l),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var a=s.length%this._delta8;this.pending=s.slice(s.length-a,s.length),this.pending.length===0&&(this.pending=null),s=e.join32(s,0,s.length-a,this.endian);for(var v=0;v<s.length;v+=this._delta32)this._update(s,v,v+this._delta32)}return this},i.prototype.digest=function(s){return this.update(this._pad()),r(this.pending===null),this._digest(s)},i.prototype._pad=function(){var s=this.pendingTotal,l=this._delta8,a=l-(s+this.padLength)%l,v=Array(a+this.padLength);v[0]=128;for(var g=1;g<a;g++)v[g]=0;if(s<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)v[g++]=0;v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=s>>>24&255,v[g++]=s>>>16&255,v[g++]=s>>>8&255,v[g++]=s&255}else for(v[g++]=s&255,v[g++]=s>>>8&255,v[g++]=s>>>16&255,v[g++]=s>>>24&255,v[g++]=0,v[g++]=0,v[g++]=0,v[g++]=0,h=8;h<this.padLength;h++)v[g++]=0;return v}}),E0=st(t=>{var e=li(),r=e.rotr32;function i(c,y,b,w){if(c===0)return s(y,b,w);if(c===1||c===3)return a(y,b,w);if(c===2)return l(y,b,w)}n(i,"_"),t.ft_1=i;function s(c,y,b){return c&y^~c&b}n(s,"P"),t.ch32=s;function l(c,y,b){return c&y^c&b^y&b}n(l,"O"),t.maj32=l;function a(c,y,b){return c^y^b}n(a,"Y"),t.p32=a;function v(c){return r(c,2)^r(c,13)^r(c,22)}n(v,"H"),t.s0_256=v;function g(c){return r(c,6)^r(c,11)^r(c,25)}n(g,"v"),t.s1_256=g;function h(c){return r(c,7)^r(c,18)^c>>>3}n(h,"X"),t.g0_256=h;function d(c){return r(c,17)^r(c,19)^c>>>10}n(d,"Z"),t.g1_256=d}),s6=st((t,e)=>{var r=li(),i=Ps(),s=E0(),l=r.rotl32,a=r.sum32,v=r.sum32_5,g=s.ft_1,h=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}n(c,"k"),r.inherits(c,h),e.exports=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(y,b){for(var w=this.W,S=0;S<16;S++)w[S]=y[b+S];for(;S<w.length;S++)w[S]=l(w[S-3]^w[S-8]^w[S-14]^w[S-16],1);var C=this.h[0],R=this.h[1],T=this.h[2],P=this.h[3],O=this.h[4];for(S=0;S<w.length;S++){var j=~~(S/20),B=v(l(C,5),g(j,R,T,P),O,w[S],d[j]);O=P,P=T,T=l(R,30),R=C,C=B}this.h[0]=a(this.h[0],C),this.h[1]=a(this.h[1],R),this.h[2]=a(this.h[2],T),this.h[3]=a(this.h[3],P),this.h[4]=a(this.h[4],O)},c.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),A0=st((t,e)=>{var r=li(),i=Ps(),s=E0(),l=Ki(),a=r.sum32,v=r.sum32_4,g=r.sum32_5,h=s.ch32,d=s.maj32,c=s.s0_256,y=s.s1_256,b=s.g0_256,w=s.g1_256,S=i.BlockHash,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function R(){if(!(this instanceof R))return new R;S.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=C,this.W=Array(64)}n(R,"D"),r.inherits(R,S),e.exports=R,R.blockSize=512,R.outSize=256,R.hmacStrength=192,R.padLength=64,R.prototype._update=function(T,P){for(var O=this.W,j=0;j<16;j++)O[j]=T[P+j];for(;j<O.length;j++)O[j]=v(w(O[j-2]),O[j-7],b(O[j-15]),O[j-16]);var B=this.h[0],Z=this.h[1],W=this.h[2],ee=this.h[3],$=this.h[4],U=this.h[5],u=this.h[6],m=this.h[7];for(l(this.k.length===O.length),j=0;j<O.length;j++){var o=g(m,y($),h($,U,u),this.k[j],O[j]),p=a(c(B),d(B,Z,W));m=u,u=U,U=$,$=a(ee,o),ee=W,W=Z,Z=B,B=a(o,p)}this.h[0]=a(this.h[0],B),this.h[1]=a(this.h[1],Z),this.h[2]=a(this.h[2],W),this.h[3]=a(this.h[3],ee),this.h[4]=a(this.h[4],$),this.h[5]=a(this.h[5],U),this.h[6]=a(this.h[6],u),this.h[7]=a(this.h[7],m)},R.prototype._digest=function(T){return T==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),a6=st((t,e)=>{var r=li(),i=A0();function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n(s,"P"),r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),k0=st((t,e)=>{var r=li(),i=Ps(),s=Ki(),l=r.rotr64_hi,a=r.rotr64_lo,v=r.shr64_hi,g=r.shr64_lo,h=r.sum64,d=r.sum64_hi,c=r.sum64_lo,y=r.sum64_4_hi,b=r.sum64_4_lo,w=r.sum64_5_hi,S=r.sum64_5_lo,C=i.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;C.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=Array(160)}n(T,"I"),r.inherits(T,C),e.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(p,x){for(var A=this.W,k=0;k<32;k++)A[k]=p[x+k];for(;k<A.length;k+=2){var M=m(A[k-4],A[k-3]),f=o(A[k-4],A[k-3]),_=A[k-14],E=A[k-13],I=U(A[k-30],A[k-29]),L=u(A[k-30],A[k-29]),D=A[k-32],F=A[k-31];A[k]=y(M,f,_,E,I,L,D,F),A[k+1]=b(M,f,_,E,I,L,D,F)}},T.prototype._update=function(p,x){this._prepareBlock(p,x);var A=this.W,k=this.h[0],M=this.h[1],f=this.h[2],_=this.h[3],E=this.h[4],I=this.h[5],L=this.h[6],D=this.h[7],F=this.h[8],z=this.h[9],H=this.h[10],V=this.h[11],Y=this.h[12],Me=this.h[13],se=this.h[14],ae=this.h[15];s(this.k.length===A.length);for(var ye=0;ye<A.length;ye+=2){var G=se,re=ae,X=ee(F,z),Q=$(F,z),le=P(F,z,H,V,Y),Ae=O(F,z,H,V,Y,Me),pe=this.k[ye],fe=this.k[ye+1],J=A[ye],q=A[ye+1],te=w(G,re,X,Q,le,Ae,pe,fe,J,q),de=S(G,re,X,Q,le,Ae,pe,fe,J,q);G=Z(k,M),re=W(k,M),X=j(k,M,f,_,E),Q=B(k,M,f,_,E,I);var oe=d(G,re,X,Q),ue=c(G,re,X,Q);se=Y,ae=Me,Y=H,Me=V,H=F,V=z,F=d(L,D,te,de),z=c(D,D,te,de),L=E,D=I,E=f,I=_,f=k,_=M,k=d(te,de,oe,ue),M=c(te,de,oe,ue)}h(this.h,0,k,M),h(this.h,2,f,_),h(this.h,4,E,I),h(this.h,6,L,D),h(this.h,8,F,z),h(this.h,10,H,V),h(this.h,12,Y,Me),h(this.h,14,se,ae)},T.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function P(p,x,A,k,M){var f=p&A^~p&M;return f<0&&(f+=4294967296),f}n(P,"g");function O(p,x,A,k,M,f){var _=x&k^~x&f;return _<0&&(_+=4294967296),_}n(O,"y");function j(p,x,A,k,M){var f=p&A^p&M^A&M;return f<0&&(f+=4294967296),f}n(j,"p");function B(p,x,A,k,M,f){var _=x&k^x&f^k&f;return _<0&&(_+=4294967296),_}n(B,"m");function Z(p,x){var A=l(p,x,28),k=l(x,p,2),M=l(x,p,7),f=A^k^M;return f<0&&(f+=4294967296),f}n(Z,"c");function W(p,x){var A=a(p,x,28),k=a(x,p,2),M=a(x,p,7),f=A^k^M;return f<0&&(f+=4294967296),f}n(W,"$q");function ee(p,x){var A=l(p,x,14),k=l(p,x,18),M=l(x,p,9),f=A^k^M;return f<0&&(f+=4294967296),f}n(ee,"e");function $(p,x){var A=a(p,x,14),k=a(p,x,18),M=a(x,p,9),f=A^k^M;return f<0&&(f+=4294967296),f}n($,"d");function U(p,x){var A=l(p,x,1),k=l(p,x,8),M=v(p,x,7),f=A^k^M;return f<0&&(f+=4294967296),f}n(U,"n");function u(p,x){var A=a(p,x,1),k=a(p,x,8),M=g(p,x,7),f=A^k^M;return f<0&&(f+=4294967296),f}n(u,"M");function m(p,x){var A=l(p,x,19),k=l(x,p,29),M=v(p,x,6),f=A^k^M;return f<0&&(f+=4294967296),f}n(m,"j");function o(p,x){var A=a(p,x,19),k=a(x,p,29),M=g(p,x,6),f=A^k^M;return f<0&&(f+=4294967296),f}n(o,"J")}),o6=st((t,e)=>{var r=li(),i=k0();function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n(s,"P"),r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),l6=st(t=>{t.sha1=s6(),t.sha224=a6(),t.sha256=A0(),t.sha384=o6(),t.sha512=k0()}),u6=st(t=>{var e=li(),r=Ps(),i=e.rotl32,s=e.sum32,l=e.sum32_3,a=e.sum32_4,v=r.BlockHash;function g(){if(!(this instanceof g))return new g;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n(g,"v"),e.inherits(g,v),t.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(C,R){for(var T=this.h[0],P=this.h[1],O=this.h[2],j=this.h[3],B=this.h[4],Z=T,W=P,ee=O,$=j,U=B,u=0;u<80;u++){var m=s(i(a(T,h(u,P,O,j),C[y[u]+R],d(u)),w[u]),B);T=B,B=j,j=i(O,10),O=P,P=m,m=s(i(a(Z,h(79-u,W,ee,$),C[b[u]+R],c(u)),S[u]),U),Z=U,U=$,$=i(ee,10),ee=W,W=m}m=l(this.h[1],O,$),this.h[1]=l(this.h[2],j,U),this.h[2]=l(this.h[3],B,Z),this.h[3]=l(this.h[4],T,W),this.h[4]=l(this.h[0],P,ee),this.h[0]=m},g.prototype._digest=function(C){return C==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function h(C,R,T,P){return C<=15?R^T^P:C<=31?R&T|~R&P:C<=47?(R|~T)^P:C<=63?R&P|T&~P:R^(T|~P)}n(h,"X");function d(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}n(d,"Z");function c(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}n(c,"k");var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],S=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),f6=st((t,e)=>{var r=li(),i=Ki();function s(l,a,v){if(!(this instanceof s))return new s(l,a,v);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,v))}n(s,"P"),e.exports=s,s.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),i(l.length<=this.blockSize);for(var a=l.length;a<this.blockSize;a++)l.push(0);for(a=0;a<l.length;a++)l[a]^=54;for(this.inner=new this.Hash().update(l),a=0;a<l.length;a++)l[a]^=106;this.outer=new this.Hash().update(l)},s.prototype.update=function(l,a){return this.inner.update(l,a),this},s.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}}),Dl=st(t=>{var e=t;e.utils=li(),e.common=Ps(),e.sha=l6(),e.ripemd=u6(),e.hmac=f6(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}),c6=st((t,e)=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Bl=st(t=>{var e=t,r=Dl(),i=S0(),s=Fr(),l=s.assert;function a(h){h.type==="short"?this.curve=new i.short(h):h.type==="edwards"?this.curve=new i.edwards(h):this.curve=new i.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n(a,"Y"),e.PresetCurve=a;function v(h,d){Object.defineProperty(e,h,{configurable:!0,enumerable:!0,get:n(function(){var c=new a(d);return Object.defineProperty(e,h,{configurable:!0,enumerable:!0,value:c}),c},"get")})}n(v,"H"),v("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),v("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),v("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),v("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),v("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),v("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),v("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var g;try{g=c6()}catch{g=void 0}v("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",g]})}),h6=st((t,e)=>{var r=Dl(),i=_0(),s=Ki();function l(a){if(!(this instanceof l))return new l(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var v=i.toArray(a.entropy,a.entropyEnc||"hex"),g=i.toArray(a.nonce,a.nonceEnc||"hex"),h=i.toArray(a.pers,a.persEnc||"hex");s(v.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(v,g,h)}n(l,"O"),e.exports=l,l.prototype._init=function(a,v,g){var h=a.concat(v).concat(g);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},l.prototype._update=function(a){var v=this._hmac().update(this.V).update([0]);a&&(v=v.update(a)),this.K=v.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(a,v,g,h){typeof v!="string"&&(h=g,g=v,v=null),a=i.toArray(a,v),g=i.toArray(g,h),s(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(g||[])),this._reseed=1},l.prototype.generate=function(a,v,g,h){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof v!="string"&&(h=g,g=v,v=null),g&&(g=i.toArray(g,h||"hex"),this._update(g));for(var d=[];d.length<a;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var c=d.slice(0,a);return this._update(g),this._reseed++,i.encode(c,v)}}),d6=st((t,e)=>{var r=Ci(),i=Fr(),s=i.assert;function l(a,v){this.ec=a,this.priv=null,this.pub=null,v.priv&&this._importPrivate(v.priv,v.privEnc),v.pub&&this._importPublic(v.pub,v.pubEnc)}n(l,"O"),e.exports=l,l.fromPublic=function(a,v,g){return v instanceof l?v:new l(a,{pub:v,pubEnc:g})},l.fromPrivate=function(a,v,g){return v instanceof l?v:new l(a,{priv:v,privEnc:g})},l.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(a,v){return typeof a=="string"&&(v=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),v?this.pub.encode(v,a):this.pub},l.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(a,v){this.priv=new r(a,v||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(a,v){if(a.x||a.y){this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&s(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,v)},l.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},l.prototype.sign=function(a,v,g){return this.ec.sign(a,this,v,g)},l.prototype.verify=function(a,v,g){return this.ec.verify(a,v,this,void 0,g)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),p6=st((t,e)=>{var r=Ci(),i=Fr(),s=i.assert;function l(d,c){if(d instanceof l)return d;this._importDER(d,c)||(s(d.r&&d.s,"Signature without r or s"),this.r=new r(d.r,16),this.s=new r(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}n(l,"O"),e.exports=l;function a(){this.place=0}n(a,"Y");function v(d,c){var y=d[c.place++];if(!(y&128))return y;var b=y&15;if(b===0||b>4||d[c.place]===0)return!1;for(var w=0,S=0,C=c.place;S<b;S++,C++)w<<=8,w|=d[C],w>>>=0;return w<=127?!1:(c.place=C,w)}n(v,"H");function g(d){for(var c=0,y=d.length-1;!d[c]&&!(d[c+1]&128)&&c<y;)c++;return c===0?d:d.slice(c)}n(g,"v"),l.prototype._importDER=function(d,c){d=i.toArray(d,c);var y=new a;if(d[y.place++]!==48)return!1;var b=v(d,y);if(b===!1||b+y.place!==d.length||d[y.place++]!==2)return!1;var w=v(d,y);if(w===!1||(d[y.place]&128)!==0)return!1;var S=d.slice(y.place,w+y.place);if(y.place+=w,d[y.place++]!==2)return!1;var C=v(d,y);if(C===!1||d.length!==C+y.place||(d[y.place]&128)!==0)return!1;var R=d.slice(y.place,C+y.place);if(S[0]===0)if(S[1]&128)S=S.slice(1);else return!1;if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;return this.r=new r(S),this.s=new r(R),this.recoveryParam=null,!0};function h(d,c){if(c<128){d.push(c);return}var y=1+(Math.log(c)/Math.LN2>>>3);for(d.push(y|128);--y;)d.push(c>>>(y<<3)&255);d.push(c)}n(h,"X"),l.prototype.toDER=function(d){var c=this.r.toArray(),y=this.s.toArray();for(c[0]&128&&(c=[0].concat(c)),y[0]&128&&(y=[0].concat(y)),c=g(c),y=g(y);!y[0]&&!(y[1]&128);)y=y.slice(1);var b=[2];h(b,c.length),b=b.concat(c),b.push(2),h(b,y.length);var w=b.concat(y),S=[48];return h(S,w.length),S=S.concat(w),i.encode(S,d)}}),m6=st((t,e)=>{var r=Ci(),i=h6(),s=Fr(),l=Bl(),a=M0(),v=s.assert,g=d6(),h=p6();function d(c){if(!(this instanceof d))return new d(c);typeof c=="string"&&(v(Object.prototype.hasOwnProperty.call(l,c),"Unknown curve "+c),c=l[c]),c instanceof l.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}n(d,"Z"),e.exports=d,d.prototype.keyPair=function(c){return new g(this,c)},d.prototype.keyFromPrivate=function(c,y){return g.fromPrivate(this,c,y)},d.prototype.keyFromPublic=function(c,y){return g.fromPublic(this,c,y)},d.prototype.genKeyPair=function(c){c||(c={});for(var y=new i({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||a(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),w=this.n.sub(new r(2));;){var S=new r(y.generate(b));if(!(S.cmp(w)>0))return S.iaddn(1),this.keyFromPrivate(S)}},d.prototype._truncateToN=function(c,y,b){var w;if(r.isBN(c)||typeof c=="number")c=new r(c,16),w=c.byteLength();else if(typeof c=="object")w=c.length,c=new r(c,16);else{var S=c.toString();w=S.length+1>>>1,c=new r(S,16)}typeof b!="number"&&(b=w*8);var C=b-this.n.bitLength();return C>0&&(c=c.ushrn(C)),!y&&c.cmp(this.n)>=0?c.sub(this.n):c},d.prototype.sign=function(c,y,b,w){if(typeof b=="object"&&(w=b,b=null),w||(w={}),typeof c!="string"&&typeof c!="number"&&!r.isBN(c)){v(typeof c=="object"&&c&&typeof c.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),v(c.length>>>0===c.length);for(var S=0;S<c.length;S++)v((c[S]&255)===c[S])}y=this.keyFromPrivate(y,b),c=this._truncateToN(c,!1,w.msgBitLength),v(!c.isNeg(),"Can not sign a negative message");var C=this.n.byteLength(),R=y.getPrivate().toArray("be",C),T=c.toArray("be",C);v(new r(T).eq(c),"Can not sign message");for(var P=new i({hash:this.hash,entropy:R,nonce:T,pers:w.pers,persEnc:w.persEnc||"utf8"}),O=this.n.sub(new r(1)),j=0;;j++){var B=w.k?w.k(j):new r(P.generate(this.n.byteLength()));if(B=this._truncateToN(B,!0),!(B.cmpn(1)<=0||B.cmp(O)>=0)){var Z=this.g.mul(B);if(!Z.isInfinity()){var W=Z.getX(),ee=W.umod(this.n);if(ee.cmpn(0)!==0){var $=B.invm(this.n).mul(ee.mul(y.getPrivate()).iadd(c));if($=$.umod(this.n),$.cmpn(0)!==0){var U=(Z.getY().isOdd()?1:0)|(W.cmp(ee)!==0?2:0);return w.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),U^=1),new h({r:ee,s:$,recoveryParam:U})}}}}}},d.prototype.verify=function(c,y,b,w,S){S||(S={}),c=this._truncateToN(c,!1,S.msgBitLength),b=this.keyFromPublic(b,w),y=new h(y,"hex");var{r:C,s:R}=y;if(C.cmpn(1)<0||C.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var T=R.invm(this.n),P=T.mul(c).umod(this.n),O=T.mul(C).umod(this.n),j;return this.curve._maxwellTrick?(j=this.g.jmulAdd(P,b.getPublic(),O),j.isInfinity()?!1:j.eqXToP(C)):(j=this.g.mulAdd(P,b.getPublic(),O),j.isInfinity()?!1:j.getX().umod(this.n).cmp(C)===0)},d.prototype.recoverPubKey=function(c,y,b,w){v((3&b)===b,"The recovery param is more than two bits"),y=new h(y,w);var S=this.n,C=new r(c),R=y.r,T=y.s,P=b&1,O=b>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&O)throw Error("Unable to find sencond key candinate");O?R=this.curve.pointFromX(R.add(this.curve.n),P):R=this.curve.pointFromX(R,P);var j=y.r.invm(S),B=S.sub(C).mul(j).umod(S),Z=T.mul(j).umod(S);return this.g.mulAdd(B,R,Z)},d.prototype.getKeyRecoveryParam=function(c,y,b,w){if(y=new h(y,w),y.recoveryParam!==null)return y.recoveryParam;for(var S=0;S<4;S++){var C;try{C=this.recoverPubKey(c,y,S)}catch{continue}if(C.eq(b))return S}throw Error("Unable to find valid recovery factor")}}),g6=st((t,e)=>{var r=Fr(),i=r.assert,s=r.parseBytes,l=r.cachedProperty;function a(v,g){this.eddsa=v,this._secret=s(g.secret),v.isPoint(g.pub)?this._pub=g.pub:this._pubBytes=s(g.pub)}n(a,"Y"),a.fromPublic=function(v,g){return g instanceof a?g:new a(v,{pub:g})},a.fromSecret=function(v,g){return g instanceof a?g:new a(v,{secret:g})},a.prototype.secret=function(){return this._secret},l(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(a,"privBytes",function(){var v=this.eddsa,g=this.hash(),h=v.encodingLength-1,d=g.slice(0,v.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d}),l(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(v){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(v,this)},a.prototype.verify=function(v,g){return this.eddsa.verify(v,g,this)},a.prototype.getSecret=function(v){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),v)},a.prototype.getPublic=function(v){return r.encode(this.pubBytes(),v)},e.exports=a}),v6=st((t,e)=>{var r=Ci(),i=Fr(),s=i.assert,l=i.cachedProperty,a=i.parseBytes;function v(g,h){this.eddsa=g,typeof h!="object"&&(h=a(h)),Array.isArray(h)&&(s(h.length===g.encodingLength*2,"Signature has invalid size"),h={R:h.slice(0,g.encodingLength),S:h.slice(g.encodingLength)}),s(h.R&&h.S,"Signature without R or S"),g.isPoint(h.R)&&(this._R=h.R),h.S instanceof r&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}n(v,"H"),l(v,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(v,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(v,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(v,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),v.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},v.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=v}),b6=st((t,e)=>{var r=Dl(),i=Bl(),s=Fr(),l=s.assert,a=s.parseBytes,v=g6(),g=v6();function h(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=i[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=r.sha512}n(h,"X"),e.exports=h,h.prototype.sign=function(d,c){d=a(d);var y=this.keyFromSecret(c),b=this.hashInt(y.messagePrefix(),d),w=this.g.mul(b),S=this.encodePoint(w),C=this.hashInt(S,y.pubBytes(),d).mul(y.priv()),R=b.add(C).umod(this.curve.n);return this.makeSignature({R:w,S:R,Rencoded:S})},h.prototype.verify=function(d,c,y){if(d=a(d),c=this.makeSignature(c),c.S().gte(c.eddsa.curve.n)||c.S().isNeg())return!1;var b=this.keyFromPublic(y),w=this.hashInt(c.Rencoded(),b.pubBytes(),d),S=this.g.mul(c.S()),C=c.R().add(b.pub().mul(w));return C.eq(S)},h.prototype.hashInt=function(){for(var d=this.hash(),c=0;c<arguments.length;c++)d.update(arguments[c]);return s.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return v.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return v.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof g?d:new g(this,d)},h.prototype.encodePoint=function(d){var c=d.getY().toArray("le",this.encodingLength);return c[this.encodingLength-1]|=d.getX().isOdd()?128:0,c},h.prototype.decodePoint=function(d){d=s.parseBytes(d);var c=d.length-1,y=d.slice(0,c).concat(d[c]&-129),b=(d[c]&128)!==0,w=s.intFromLE(y);return this.curve.pointFromY(w,b)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return s.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}}),y6=st(t=>{var e=t;e.version=e6().version,e.utils=Fr(),e.rand=M0(),e.curve=S0(),e.curves=Bl(),e.ec=m6(),e.eddsa=b6()}),w6=st((t,e)=>{(function(r,i){function s(u,m){if(!u)throw Error(m||"Assertion failed")}n(s,"P");function l(u,m){u.super_=m;var o=n(function(){},"J");o.prototype=m.prototype,u.prototype=new o,u.prototype.constructor=u}n(l,"O");function a(u,m,o){if(a.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((m==="le"||m==="be")&&(o=m,m=10),this._init(u||0,m||10,o||"be"))}n(a,"Y"),typeof r=="object"?r.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=(wr(),$t(gr)).Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,m){return u.cmp(m)>0?u:m},a.min=function(u,m){return u.cmp(m)<0?u:m},a.prototype._init=function(u,m,o){if(typeof u=="number")return this._initNumber(u,m,o);if(typeof u=="object")return this._initArray(u,m,o);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),u=u.toString().replace(/\s+/g,"");var p=0;u[0]==="-"&&(p++,this.negative=1),p<u.length&&(m===16?this._parseHex(u,p,o):(this._parseBase(u,m,p),o==="le"&&this._initArray(this.toArray(),m,o)))},a.prototype._initNumber=function(u,m,o){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(s(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),m,o)},a.prototype._initArray=function(u,m,o){if(s(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,A,k=0;if(o==="be")for(p=u.length-1,x=0;p>=0;p-=3)A=u[p]|u[p-1]<<8|u[p-2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);else if(o==="le")for(p=0,x=0;p<u.length;p+=3)A=u[p]|u[p+1]<<8|u[p+2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);return this.strip()};function g(u,m){var o=u.charCodeAt(m);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}n(g,"v");function h(u,m,o){var p=g(u,o);return o-1>=m&&(p|=g(u,o-1)<<4),p}n(h,"X"),a.prototype._parseHex=function(u,m,o){this.length=Math.ceil((u.length-m)/6),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,A=0,k;if(o==="be")for(p=u.length-1;p>=m;p-=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8;else{var M=u.length-m;for(p=M%2===0?m+1:m;p<u.length;p+=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8}this.strip()};function d(u,m,o,p){for(var x=0,A=Math.min(u.length,o),k=m;k<A;k++){var M=u.charCodeAt(k)-48;x*=p,M>=49?x+=M-49+10:M>=17?x+=M-17+10:x+=M}return x}n(d,"Z"),a.prototype._parseBase=function(u,m,o){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=m)p++;p--,x=x/m|0;for(var A=u.length-o,k=A%p,M=Math.min(A,A-k)+o,f=0,_=o;_<M;_+=p)f=d(u,_,_+p,m),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var E=1;for(f=d(u,_,u.length,m),_=0;_<k;_++)E*=m;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},a.prototype.copy=function(u){u.words=Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,m){u=u||10,m=m|0||1;var o;if(u===16||u==="hex"){o="";for(var p=0,x=0,A=0;A<this.length;A++){var k=this.words[A],M=((k<<p|x)&16777215).toString(16);x=k>>>24-p&16777215,p+=2,p>=26&&(p-=26,A--),x!==0||A!==this.length-1?o=c[6-M.length]+M+o:o=M+o}for(x!==0&&(o=x.toString(16)+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];o="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?o=I+o:o=c[f-I.length]+I+o}for(this.isZero()&&(o="0"+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(u,m){return s(typeof v<"u"),this.toArrayLike(v,u,m)},a.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},a.prototype.toArrayLike=function(u,m,o){var p=this.byteLength(),x=o||Math.max(1,p);s(p<=x,"byte array longer than desired length"),s(x>0,"Requested array length <= 0"),this.strip();var A=m==="le",k=new u(x),M,f,_=this.clone();if(A){for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[f]=M;for(;f<x;f++)k[f]=0}else{for(f=0;f<x-p;f++)k[f]=0;for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[x-f-1]=M}return k},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var m=u,o=0;return m>=4096&&(o+=13,m>>>=13),m>=64&&(o+=7,m>>>=7),m>=8&&(o+=4,m>>>=4),m>=2&&(o+=2,m>>>=2),o+m},a.prototype._zeroBits=function(u){if(u===0)return 26;var m=u,o=0;return(m&8191)===0&&(o+=13,m>>>=13),(m&127)===0&&(o+=7,m>>>=7),(m&15)===0&&(o+=4,m>>>=4),(m&3)===0&&(o+=2,m>>>=2),(m&1)===0&&o++,o},a.prototype.bitLength=function(){var u=this.words[this.length-1],m=this._countBits(u);return(this.length-1)*26+m};function w(u){for(var m=Array(u.bitLength()),o=0;o<m.length;o++){var p=o/26|0,x=o%26;m[o]=(u.words[p]&1<<x)>>>x}return m}n(w,"N"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var o=this._zeroBits(this.words[m]);if(u+=o,o!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},a.prototype.ior=function(u){return s((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var m;this.length>u.length?m=u:m=this;for(var o=0;o<m.length;o++)this.words[o]=this.words[o]&u.words[o];return this.length=m.length,this.strip()},a.prototype.iand=function(u){return s((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var m,o;this.length>u.length?(m=this,o=u):(m=u,o=this);for(var p=0;p<o.length;p++)this.words[p]=m.words[p]^o.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},a.prototype.ixor=function(u){return s((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){s(typeof u=="number"&&u>=0);var m=Math.ceil(u/26)|0,o=u%26;this._expand(m),o>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return o>0&&(this.words[p]=~this.words[p]&67108863>>26-o),this.strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,m){s(typeof u=="number"&&u>=0);var o=u/26|0,p=u%26;return this._expand(o+1),m?this.words[o]=this.words[o]|1<<p:this.words[o]=this.words[o]&~(1<<p),this.strip()},a.prototype.iadd=function(u){var m;if(this.negative!==0&&u.negative===0)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();var o,p;this.length>u.length?(o=this,p=u):(o=u,p=this);for(var x=0,A=0;A<p.length;A++)m=(o.words[A]|0)+(p.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;for(;x!==0&&A<o.length;A++)m=(o.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;if(this.length=o.length,x!==0)this.words[this.length]=x,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},a.prototype.add=function(u){var m;return u.negative!==0&&this.negative===0?(u.negative=0,m=this.sub(u),u.negative^=1,m):u.negative===0&&this.negative!==0?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var o=this.cmp(u);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;o>0?(p=this,x=u):(p=u,x=this);for(var A=0,k=0;k<x.length;k++)m=(p.words[k]|0)-(x.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;for(;A!==0&&k<p.length;k++)m=(p.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;if(A===0&&k<p.length&&p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=Math.max(this.length,k),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function S(u,m,o){o.negative=m.negative^u.negative;var p=u.length+m.length|0;o.length=p,p=p-1|0;var x=u.words[0]|0,A=m.words[0]|0,k=x*A,M=k&67108863,f=k/67108864|0;o.words[0]=M;for(var _=1;_<p;_++){for(var E=f>>>26,I=f&67108863,L=Math.min(_,m.length-1),D=Math.max(0,_-u.length+1);D<=L;D++){var F=_-D|0;x=u.words[F]|0,A=m.words[D]|0,k=x*A+I,E+=k/67108864|0,I=k&67108863}o.words[_]=I|0,f=E|0}return f!==0?o.words[_]=f|0:o.length--,o.strip()}n(S,"E");var C=n(function(u,m,o){var p=u.words,x=m.words,A=o.words,k=0,M,f,_,E=p[0]|0,I=E&8191,L=E>>>13,D=p[1]|0,F=D&8191,z=D>>>13,H=p[2]|0,V=H&8191,Y=H>>>13,Me=p[3]|0,se=Me&8191,ae=Me>>>13,ye=p[4]|0,G=ye&8191,re=ye>>>13,X=p[5]|0,Q=X&8191,le=X>>>13,Ae=p[6]|0,pe=Ae&8191,fe=Ae>>>13,J=p[7]|0,q=J&8191,te=J>>>13,de=p[8]|0,oe=de&8191,ue=de>>>13,Be=p[9]|0,we=Be&8191,De=Be>>>13,Xe=x[0]|0,ve=Xe&8191,Fe=Xe>>>13,ce=x[1]|0,be=ce&8191,Oe=ce>>>13,Te=x[2]|0,ke=Te&8191,ze=Te>>>13,Je=x[3]|0,Ce=Je&8191,Ee=Je>>>13,je=x[4]|0,_e=je&8191,He=je>>>13,Ke=x[5]|0,ie=Ke&8191,me=Ke>>>13,Ie=x[6]|0,xe=Ie&8191,Pe=Ie>>>13,Ze=x[7]|0,ne=Ze&8191,Ne=Ze>>>13,$e=x[8]|0,ge=$e&8191,Ge=$e>>>13,et=x[9]|0,Le=et&8191,Qe=et>>>13;o.negative=u.negative^m.negative,o.length=19,M=Math.imul(I,ve),f=Math.imul(I,Fe),f=f+Math.imul(L,ve)|0,_=Math.imul(L,Fe);var Re=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(F,ve),f=Math.imul(F,Fe),f=f+Math.imul(z,ve)|0,_=Math.imul(z,Fe),M=M+Math.imul(I,be)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(L,be)|0,_=_+Math.imul(L,Oe)|0;var Ue=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,M=Math.imul(V,ve),f=Math.imul(V,Fe),f=f+Math.imul(Y,ve)|0,_=Math.imul(Y,Fe),M=M+Math.imul(F,be)|0,f=f+Math.imul(F,Oe)|0,f=f+Math.imul(z,be)|0,_=_+Math.imul(z,Oe)|0,M=M+Math.imul(I,ke)|0,f=f+Math.imul(I,ze)|0,f=f+Math.imul(L,ke)|0,_=_+Math.imul(L,ze)|0;var at=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(at>>>26)|0,at&=67108863,M=Math.imul(se,ve),f=Math.imul(se,Fe),f=f+Math.imul(ae,ve)|0,_=Math.imul(ae,Fe),M=M+Math.imul(V,be)|0,f=f+Math.imul(V,Oe)|0,f=f+Math.imul(Y,be)|0,_=_+Math.imul(Y,Oe)|0,M=M+Math.imul(F,ke)|0,f=f+Math.imul(F,ze)|0,f=f+Math.imul(z,ke)|0,_=_+Math.imul(z,ze)|0,M=M+Math.imul(I,Ce)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ee)|0;var bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,M=Math.imul(G,ve),f=Math.imul(G,Fe),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Fe),M=M+Math.imul(se,be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(ae,be)|0,_=_+Math.imul(ae,Oe)|0,M=M+Math.imul(V,ke)|0,f=f+Math.imul(V,ze)|0,f=f+Math.imul(Y,ke)|0,_=_+Math.imul(Y,ze)|0,M=M+Math.imul(F,Ce)|0,f=f+Math.imul(F,Ee)|0,f=f+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ee)|0,M=M+Math.imul(I,_e)|0,f=f+Math.imul(I,He)|0,f=f+Math.imul(L,_e)|0,_=_+Math.imul(L,He)|0;var ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,M=Math.imul(Q,ve),f=Math.imul(Q,Fe),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Fe),M=M+Math.imul(G,be)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Oe)|0,M=M+Math.imul(se,ke)|0,f=f+Math.imul(se,ze)|0,f=f+Math.imul(ae,ke)|0,_=_+Math.imul(ae,ze)|0,M=M+Math.imul(V,Ce)|0,f=f+Math.imul(V,Ee)|0,f=f+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Ee)|0,M=M+Math.imul(F,_e)|0,f=f+Math.imul(F,He)|0,f=f+Math.imul(z,_e)|0,_=_+Math.imul(z,He)|0,M=M+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(L,ie)|0,_=_+Math.imul(L,me)|0;var St=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(St>>>26)|0,St&=67108863,M=Math.imul(pe,ve),f=Math.imul(pe,Fe),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Fe),M=M+Math.imul(Q,be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Oe)|0,M=M+Math.imul(G,ke)|0,f=f+Math.imul(G,ze)|0,f=f+Math.imul(re,ke)|0,_=_+Math.imul(re,ze)|0,M=M+Math.imul(se,Ce)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Ee)|0,M=M+Math.imul(V,_e)|0,f=f+Math.imul(V,He)|0,f=f+Math.imul(Y,_e)|0,_=_+Math.imul(Y,He)|0,M=M+Math.imul(F,ie)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(z,ie)|0,_=_+Math.imul(z,me)|0,M=M+Math.imul(I,xe)|0,f=f+Math.imul(I,Pe)|0,f=f+Math.imul(L,xe)|0,_=_+Math.imul(L,Pe)|0;var Bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,M=Math.imul(q,ve),f=Math.imul(q,Fe),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Fe),M=M+Math.imul(pe,be)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Oe)|0,M=M+Math.imul(Q,ke)|0,f=f+Math.imul(Q,ze)|0,f=f+Math.imul(le,ke)|0,_=_+Math.imul(le,ze)|0,M=M+Math.imul(G,Ce)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ee)|0,M=M+Math.imul(se,_e)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(ae,_e)|0,_=_+Math.imul(ae,He)|0,M=M+Math.imul(V,ie)|0,f=f+Math.imul(V,me)|0,f=f+Math.imul(Y,ie)|0,_=_+Math.imul(Y,me)|0,M=M+Math.imul(F,xe)|0,f=f+Math.imul(F,Pe)|0,f=f+Math.imul(z,xe)|0,_=_+Math.imul(z,Pe)|0,M=M+Math.imul(I,ne)|0,f=f+Math.imul(I,Ne)|0,f=f+Math.imul(L,ne)|0,_=_+Math.imul(L,Ne)|0;var Et=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,M=Math.imul(oe,ve),f=Math.imul(oe,Fe),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Fe),M=M+Math.imul(q,be)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Oe)|0,M=M+Math.imul(pe,ke)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(fe,ke)|0,_=_+Math.imul(fe,ze)|0,M=M+Math.imul(Q,Ce)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ee)|0,M=M+Math.imul(G,_e)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(re,_e)|0,_=_+Math.imul(re,He)|0,M=M+Math.imul(se,ie)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(ae,ie)|0,_=_+Math.imul(ae,me)|0,M=M+Math.imul(V,xe)|0,f=f+Math.imul(V,Pe)|0,f=f+Math.imul(Y,xe)|0,_=_+Math.imul(Y,Pe)|0,M=M+Math.imul(F,ne)|0,f=f+Math.imul(F,Ne)|0,f=f+Math.imul(z,ne)|0,_=_+Math.imul(z,Ne)|0,M=M+Math.imul(I,ge)|0,f=f+Math.imul(I,Ge)|0,f=f+Math.imul(L,ge)|0,_=_+Math.imul(L,Ge)|0;var Mt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(we,ve),f=Math.imul(we,Fe),f=f+Math.imul(De,ve)|0,_=Math.imul(De,Fe),M=M+Math.imul(oe,be)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Oe)|0,M=M+Math.imul(q,ke)|0,f=f+Math.imul(q,ze)|0,f=f+Math.imul(te,ke)|0,_=_+Math.imul(te,ze)|0,M=M+Math.imul(pe,Ce)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,Ee)|0,M=M+Math.imul(Q,_e)|0,f=f+Math.imul(Q,He)|0,f=f+Math.imul(le,_e)|0,_=_+Math.imul(le,He)|0,M=M+Math.imul(G,ie)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,M=M+Math.imul(se,xe)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(ae,xe)|0,_=_+Math.imul(ae,Pe)|0,M=M+Math.imul(V,ne)|0,f=f+Math.imul(V,Ne)|0,f=f+Math.imul(Y,ne)|0,_=_+Math.imul(Y,Ne)|0,M=M+Math.imul(F,ge)|0,f=f+Math.imul(F,Ge)|0,f=f+Math.imul(z,ge)|0,_=_+Math.imul(z,Ge)|0,M=M+Math.imul(I,Le)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(L,Le)|0,_=_+Math.imul(L,Qe)|0;var zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,M=Math.imul(we,be),f=Math.imul(we,Oe),f=f+Math.imul(De,be)|0,_=Math.imul(De,Oe),M=M+Math.imul(oe,ke)|0,f=f+Math.imul(oe,ze)|0,f=f+Math.imul(ue,ke)|0,_=_+Math.imul(ue,ze)|0,M=M+Math.imul(q,Ce)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(te,Ce)|0,_=_+Math.imul(te,Ee)|0,M=M+Math.imul(pe,_e)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(fe,_e)|0,_=_+Math.imul(fe,He)|0,M=M+Math.imul(Q,ie)|0,f=f+Math.imul(Q,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,M=M+Math.imul(G,xe)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Pe)|0,M=M+Math.imul(se,ne)|0,f=f+Math.imul(se,Ne)|0,f=f+Math.imul(ae,ne)|0,_=_+Math.imul(ae,Ne)|0,M=M+Math.imul(V,ge)|0,f=f+Math.imul(V,Ge)|0,f=f+Math.imul(Y,ge)|0,_=_+Math.imul(Y,Ge)|0,M=M+Math.imul(F,Le)|0,f=f+Math.imul(F,Qe)|0,f=f+Math.imul(z,Le)|0,_=_+Math.imul(z,Qe)|0;var Ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,M=Math.imul(we,ke),f=Math.imul(we,ze),f=f+Math.imul(De,ke)|0,_=Math.imul(De,ze),M=M+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,Ee)|0,M=M+Math.imul(q,_e)|0,f=f+Math.imul(q,He)|0,f=f+Math.imul(te,_e)|0,_=_+Math.imul(te,He)|0,M=M+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,M=M+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Pe)|0,M=M+Math.imul(G,ne)|0,f=f+Math.imul(G,Ne)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,Ne)|0,M=M+Math.imul(se,ge)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(ae,ge)|0,_=_+Math.imul(ae,Ge)|0,M=M+Math.imul(V,Le)|0,f=f+Math.imul(V,Qe)|0,f=f+Math.imul(Y,Le)|0,_=_+Math.imul(Y,Qe)|0;var Lt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,M=Math.imul(we,Ce),f=Math.imul(we,Ee),f=f+Math.imul(De,Ce)|0,_=Math.imul(De,Ee),M=M+Math.imul(oe,_e)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(ue,_e)|0,_=_+Math.imul(ue,He)|0,M=M+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,M=M+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Pe)|0,M=M+Math.imul(Q,ne)|0,f=f+Math.imul(Q,Ne)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,Ne)|0,M=M+Math.imul(G,ge)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Ge)|0,M=M+Math.imul(se,Le)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(ae,Le)|0,_=_+Math.imul(ae,Qe)|0;var Ft=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(we,_e),f=Math.imul(we,He),f=f+Math.imul(De,_e)|0,_=Math.imul(De,He),M=M+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,M=M+Math.imul(q,xe)|0,f=f+Math.imul(q,Pe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Pe)|0,M=M+Math.imul(pe,ne)|0,f=f+Math.imul(pe,Ne)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,Ne)|0,M=M+Math.imul(Q,ge)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Ge)|0,M=M+Math.imul(G,Le)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(re,Le)|0,_=_+Math.imul(re,Qe)|0;var Nt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,M=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(De,ie)|0,_=Math.imul(De,me),M=M+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Pe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Pe)|0,M=M+Math.imul(q,ne)|0,f=f+Math.imul(q,Ne)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,Ne)|0,M=M+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Ge)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Ge)|0,M=M+Math.imul(Q,Le)|0,f=f+Math.imul(Q,Qe)|0,f=f+Math.imul(le,Le)|0,_=_+Math.imul(le,Qe)|0;var Dt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,M=Math.imul(we,xe),f=Math.imul(we,Pe),f=f+Math.imul(De,xe)|0,_=Math.imul(De,Pe),M=M+Math.imul(oe,ne)|0,f=f+Math.imul(oe,Ne)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,Ne)|0,M=M+Math.imul(q,ge)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Ge)|0,M=M+Math.imul(pe,Le)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,M=Math.imul(we,ne),f=Math.imul(we,Ne),f=f+Math.imul(De,ne)|0,_=Math.imul(De,Ne),M=M+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Ge)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Ge)|0,M=M+Math.imul(q,Le)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(te,Le)|0,_=_+Math.imul(te,Qe)|0;var Zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,M=Math.imul(we,ge),f=Math.imul(we,Ge),f=f+Math.imul(De,ge)|0,_=Math.imul(De,Ge),M=M+Math.imul(oe,Le)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,Le)|0,_=_+Math.imul(ue,Qe)|0;var Vt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,M=Math.imul(we,Le),f=Math.imul(we,Qe),f=f+Math.imul(De,Le)|0,_=Math.imul(De,Qe);var Gt=(k+M|0)+((f&8191)<<13)|0;return k=(_+(f>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A[0]=Re,A[1]=Ue,A[2]=at,A[3]=bt,A[4]=ht,A[5]=St,A[6]=Bt,A[7]=Et,A[8]=Mt,A[9]=zt,A[10]=Ht,A[11]=Lt,A[12]=Ft,A[13]=Nt,A[14]=Dt,A[15]=Ut,A[16]=Zt,A[17]=Vt,A[18]=Gt,k!==0&&(A[19]=k,o.length++),o},"h");Math.imul||(C=S);function R(u,m,o){o.negative=m.negative^u.negative,o.length=u.length+m.length;for(var p=0,x=0,A=0;A<o.length-1;A++){var k=x;x=0;for(var M=p&67108863,f=Math.min(A,m.length-1),_=Math.max(0,A-u.length+1);_<=f;_++){var E=A-_,I=u.words[E]|0,L=m.words[_]|0,D=I*L,F=D&67108863;k=k+(D/67108864|0)|0,F=F+M|0,M=F&67108863,k=k+(F>>>26)|0,x+=k>>>26,k&=67108863}o.words[A]=M,p=k,k=x}return p!==0?o.words[A]=p:o.length--,o.strip()}n(R,"D");function T(u,m,o){var p=new P;return p.mulp(u,m,o)}n(T,"I"),a.prototype.mulTo=function(u,m){var o,p=this.length+u.length;return this.length===10&&u.length===10?o=C(this,u,m):p<63?o=S(this,u,m):p<1024?o=R(this,u,m):o=T(this,u,m),o};function P(u,m){this.x=u,this.y=m}n(P,"g"),P.prototype.makeRBT=function(u){for(var m=Array(u),o=a.prototype._countBits(u)-1,p=0;p<u;p++)m[p]=this.revBin(p,o,u);return m},P.prototype.revBin=function(u,m,o){if(u===0||u===o-1)return u;for(var p=0,x=0;x<m;x++)p|=(u&1)<<m-x-1,u>>=1;return p},P.prototype.permute=function(u,m,o,p,x,A){for(var k=0;k<A;k++)p[k]=m[u[k]],x[k]=o[u[k]]},P.prototype.transform=function(u,m,o,p,x,A){this.permute(A,u,m,o,p,x);for(var k=1;k<x;k<<=1)for(var M=k<<1,f=Math.cos(2*Math.PI/M),_=Math.sin(2*Math.PI/M),E=0;E<x;E+=M)for(var I=f,L=_,D=0;D<k;D++){var F=o[E+D],z=p[E+D],H=o[E+D+k],V=p[E+D+k],Y=I*H-L*V;V=I*V+L*H,H=Y,o[E+D]=F+H,p[E+D]=z+V,o[E+D+k]=F-H,p[E+D+k]=z-V,D!==M&&(Y=f*I-_*L,L=f*L+_*I,I=Y)}},P.prototype.guessLen13b=function(u,m){var o=Math.max(m,u)|1,p=o&1,x=0;for(o=o/2|0;o;o=o>>>1)x++;return 1<<x+1+p},P.prototype.conjugate=function(u,m,o){if(!(o<=1))for(var p=0;p<o/2;p++){var x=u[p];u[p]=u[o-p-1],u[o-p-1]=x,x=m[p],m[p]=-m[o-p-1],m[o-p-1]=-x}},P.prototype.normalize13b=function(u,m){for(var o=0,p=0;p<m/2;p++){var x=Math.round(u[2*p+1]/m)*8192+Math.round(u[2*p]/m)+o;u[p]=x&67108863,x<67108864?o=0:o=x/67108864|0}return u},P.prototype.convert13b=function(u,m,o,p){for(var x=0,A=0;A<m;A++)x=x+(u[A]|0),o[2*A]=x&8191,x=x>>>13,o[2*A+1]=x&8191,x=x>>>13;for(A=2*m;A<p;++A)o[A]=0;s(x===0),s((x&-8192)===0)},P.prototype.stub=function(u){for(var m=Array(u),o=0;o<u;o++)m[o]=0;return m},P.prototype.mulp=function(u,m,o){var p=2*this.guessLen13b(u.length,m.length),x=this.makeRBT(p),A=this.stub(p),k=Array(p),M=Array(p),f=Array(p),_=Array(p),E=Array(p),I=Array(p),L=o.words;L.length=p,this.convert13b(u.words,u.length,k,p),this.convert13b(m.words,m.length,_,p),this.transform(k,A,M,f,p,x),this.transform(_,A,E,I,p,x);for(var D=0;D<p;D++){var F=M[D]*E[D]-f[D]*I[D];f[D]=M[D]*I[D]+f[D]*E[D],M[D]=F}return this.conjugate(M,f,p),this.transform(M,f,L,A,p,x),this.conjugate(L,A,p),this.normalize13b(L,p),o.negative=u.negative^m.negative,o.length=u.length+m.length,o.strip()},a.prototype.mul=function(u){var m=new a(null);return m.words=Array(this.length+u.length),this.mulTo(u,m)},a.prototype.mulf=function(u){var m=new a(null);return m.words=Array(this.length+u.length),T(this,u,m)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){s(typeof u=="number"),s(u<67108864);for(var m=0,o=0;o<this.length;o++){var p=(this.words[o]|0)*u,x=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=x>>>26,this.words[o]=x&67108863}return m!==0&&(this.words[o]=m,this.length++),this.length=u===0?1:this.length,this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var m=w(u);if(m.length===0)return new a(1);for(var o=this,p=0;p<m.length&&m[p]===0;p++,o=o.sqr());if(++p<m.length)for(var x=o.sqr();p<m.length;p++,x=x.sqr())m[p]!==0&&(o=o.mul(x));return o},a.prototype.iushln=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=67108863>>>26-m<<26-m,x;if(m!==0){var A=0;for(x=0;x<this.length;x++){var k=this.words[x]&p,M=(this.words[x]|0)-k<<m;this.words[x]=M|A,A=k>>>26-m}A&&(this.words[x]=A,this.length++)}if(o!==0){for(x=this.length-1;x>=0;x--)this.words[x+o]=this.words[x];for(x=0;x<o;x++)this.words[x]=0;this.length+=o}return this.strip()},a.prototype.ishln=function(u){return s(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,m,o){s(typeof u=="number"&&u>=0);var p;m?p=(m-m%26)/26:p=0;var x=u%26,A=Math.min((u-x)/26,this.length),k=67108863^67108863>>>x<<x,M=o;if(p-=A,p=Math.max(0,p),M){for(var f=0;f<A;f++)M.words[f]=this.words[f];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=p);f--){var E=this.words[f]|0;this.words[f]=_<<26-x|E>>>x,_=E&k}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(u,m,o){return s(this.negative===0),this.iushrn(u,m,o)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return!1;var x=this.words[o];return!!(x&p)},a.prototype.imaskn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(m!==0&&o++,this.length=Math.min(o,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return s(typeof u=="number"),s(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(u){if(s(typeof u=="number"),s(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,m,o){var p=u.length+o,x;this._expand(p);var A,k=0;for(x=0;x<u.length;x++){A=(this.words[x+o]|0)+k;var M=(u.words[x]|0)*m;A-=M&67108863,k=(A>>26)-(M/67108864|0),this.words[x+o]=A&67108863}for(;x<this.length-o;x++)A=(this.words[x+o]|0)+k,k=A>>26,this.words[x+o]=A&67108863;if(k===0)return this.strip();for(s(k===-1),k=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+k,k=A>>26,this.words[x]=A&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(u,m){var o=this.length-u.length,p=this.clone(),x=u,A=x.words[x.length-1]|0,k=this._countBits(A);o=26-k,o!==0&&(x=x.ushln(o),p.iushln(o),A=x.words[x.length-1]|0);var M=p.length-x.length,f;if(m!=="mod"){f=new a(null),f.length=M+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=p.clone()._ishlnsubmul(x,1,M);E.negative===0&&(p=E,f&&(f.words[M]=1));for(var I=M-1;I>=0;I--){var L=(p.words[x.length+I]|0)*67108864+(p.words[x.length+I-1]|0);for(L=Math.min(L/A|0,67108863),p._ishlnsubmul(x,L,I);p.negative!==0;)L--,p.negative=0,p._ishlnsubmul(x,1,I),!p.isZero()&&(p.negative^=1);f&&(f.words[I]=L)}return f&&f.strip(),p.strip(),m!=="div"&&o!==0&&p.iushrn(o),{div:f||null,mod:p}},a.prototype.divmod=function(u,m,o){if(s(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,m),m!=="mod"&&(p=A.div.neg()),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.iadd(u)),{div:p,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),m),m!=="mod"&&(p=A.div.neg()),{div:p,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),m),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?m==="div"?{div:this.divn(u.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modn(u.words[0]))}:this._wordDiv(u,m)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var o=m.div.negative!==0?m.mod.isub(u):m.mod,p=u.ushrn(1),x=u.andln(1),A=o.cmp(p);return A<0||x===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(u){s(u<=67108863);for(var m=67108864%u,o=0,p=this.length-1;p>=0;p--)o=(m*o+(this.words[p]|0))%u;return o},a.prototype.idivn=function(u){s(u<=67108863);for(var m=0,o=this.length-1;o>=0;o--){var p=(this.words[o]|0)+m*67108864;this.words[o]=p/u|0,m=p%u}return this.strip()},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=new a(0),k=new a(1),M=0;m.isEven()&&o.isEven();)m.iushrn(1),o.iushrn(1),++M;for(var f=o.clone(),_=m.clone();!m.isZero();){for(var E=0,I=1;(m.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(m.iushrn(E);E-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(f),x.isub(_)),p.iushrn(1),x.iushrn(1);for(var L=0,D=1;(o.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(o.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(f),k.isub(_)),A.iushrn(1),k.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(A),x.isub(k)):(o.isub(m),A.isub(p),k.isub(x))}return{a:A,b:k,gcd:o.iushln(M)}},a.prototype._invmp=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=o.clone();m.cmpn(1)>0&&o.cmpn(1)>0;){for(var k=0,M=1;(m.words[0]&M)===0&&k<26;++k,M<<=1);if(k>0)for(m.iushrn(k);k-- >0;)p.isOdd()&&p.iadd(A),p.iushrn(1);for(var f=0,_=1;(o.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(o.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(x)):(o.isub(m),x.isub(p))}var E;return m.cmpn(1)===0?E=p:E=x,E.cmpn(0)<0&&E.iadd(u),E},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),o=u.clone();m.negative=0,o.negative=0;for(var p=0;m.isEven()&&o.isEven();p++)m.iushrn(1),o.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;o.isEven();)o.iushrn(1);var x=m.cmp(o);if(x<0){var A=m;m=o,o=A}else if(x===0||o.cmpn(1)===0)break;m.isub(o)}while(!0);return o.iushln(p)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){s(typeof u=="number");var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return this._expand(o+1),this.words[o]|=p,this;for(var x=p,A=o;x!==0&&A<this.length;A++){var k=this.words[A]|0;k+=x,x=k>>>26,k&=67108863,this.words[A]=k}return x!==0&&(this.words[A]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var m=u<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var o;if(this.length>1)o=1;else{m&&(u=-u),s(u<=67108863,"Number is too big");var p=this.words[0]|0;o=p===u?0:p<u?-1:1}return this.negative!==0?-o|0:o},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var m=this.ucmp(u);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,o=this.length-1;o>=0;o--){var p=this.words[o]|0,x=u.words[o]|0;if(p!==x){p<x?m=-1:p>x&&(m=1);break}}return m},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new $(u)},a.prototype.toRed=function(u){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return s(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return s(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var O={k256:null,p224:null,p192:null,p25519:null};function j(u,m){this.name=u,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(j,"p"),j.prototype._tmp=function(){var u=new a(null);return u.words=Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var m=u,o;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),o=m.bitLength();while(o>this.n);var p=o<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},j.prototype.split=function(u,m){u.iushrn(this.n,0,m)},j.prototype.imulK=function(u){return u.imul(this.k)};function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(B,"m"),l(B,j),B.prototype.split=function(u,m){for(var o=4194303,p=Math.min(u.length,9),x=0;x<p;x++)m.words[x]=u.words[x];if(m.length=p,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(m.words[m.length++]=A&o,x=10;x<u.length;x++){var k=u.words[x]|0;u.words[x-10]=(k&o)<<4|A>>>22,A=k}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},B.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,o=0;o<u.length;o++){var p=u.words[o]|0;m+=p*977,u.words[o]=m&67108863,m=p*64+(m/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Z,"c"),l(Z,j);function W(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,"$q"),l(W,j);function ee(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ee,"e"),l(ee,j),ee.prototype.imulK=function(u){for(var m=0,o=0;o<u.length;o++){var p=(u.words[o]|0)*19+m,x=p&67108863;p>>>=26,u.words[o]=x,m=p}return m!==0&&(u.words[u.length++]=m),u},a._prime=function(u){if(O[u])return O[u];var m;if(u==="k256")m=new B;else if(u==="p224")m=new Z;else if(u==="p192")m=new W;else if(u==="p25519")m=new ee;else throw Error("Unknown prime "+u);return O[u]=m,m};function $(u){if(typeof u=="string"){var m=a._prime(u);this.m=m.p,this.prime=m}else s(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}n($,"d"),$.prototype._verify1=function(u){s(u.negative===0,"red works only with positives"),s(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,m){s((u.negative|m.negative)===0,"red works only with positives"),s(u.red&&u.red===m.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,m){this._verify2(u,m);var o=u.add(m);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},$.prototype.iadd=function(u,m){this._verify2(u,m);var o=u.iadd(m);return o.cmp(this.m)>=0&&o.isub(this.m),o},$.prototype.sub=function(u,m){this._verify2(u,m);var o=u.sub(m);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},$.prototype.isub=function(u,m){this._verify2(u,m);var o=u.isub(m);return o.cmpn(0)<0&&o.iadd(this.m),o},$.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},$.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},$.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var o=this.m.add(new a(1)).iushrn(2);return this.pow(u,o)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);s(!p.isZero());var A=new a(1).toRed(this),k=A.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);this.pow(f,M).cmp(k)!==0;)f.redIAdd(k);for(var _=this.pow(f,p),E=this.pow(u,p.addn(1).iushrn(1)),I=this.pow(u,p),L=x;I.cmp(A)!==0;){for(var D=I,F=0;D.cmp(A)!==0;F++)D=D.redSqr();s(F<L);var z=this.pow(_,new a(1).iushln(L-F-1));E=E.redMul(z),_=z.redSqr(),I=I.redMul(_),L=F}return E},$.prototype.invm=function(u){var m=u._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},$.prototype.pow=function(u,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return u.clone();var o=4,p=Array(1<<o);p[0]=new a(1).toRed(this),p[1]=u;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],u);var A=p[0],k=0,M=0,f=m.bitLength()%26;for(f===0&&(f=26),x=m.length-1;x>=0;x--){for(var _=m.words[x],E=f-1;E>=0;E--){var I=_>>E&1;if(A!==p[0]&&(A=this.sqr(A)),I===0&&k===0){M=0;continue}k<<=1,k|=I,M++,!(M!==o&&(x!==0||E!==0))&&(A=this.mul(A,p[k]),M=0,k=0)}f=26}return A},$.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},$.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},a.mont=function(u){return new U(u)};function U(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(U,"n"),l(U,$),U.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},U.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var o=u.imul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new a(0)._forceRed(this);var o=u.mul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(u){var m=this.imod(u._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof e>"u"||e,t)}),x6=st((t,e)=>{var r=y6(),i=w6();e.exports=function(v){return new l(v)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1;function l(v){this.curveType=s[v],!this.curveType&&(this.curveType={name:v}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}n(l,"O"),l.prototype.generateKeys=function(v,g){return this.keys=this.curve.genKeyPair(),this.getPublicKey(v,g)},l.prototype.computeSecret=function(v,g,h){g=g||"utf8",!Buffer.isBuffer(v)&&(v=new Buffer(v,g));var d=this.curve.keyFromPublic(v).getPublic(),c=d.mul(this.keys.getPrivate()).getX();return a(c,h,this.curveType.byteLength)},l.prototype.getPublicKey=function(v,g){var h=this.keys.getPublic(g==="compressed",!0);return g==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),a(h,v)},l.prototype.getPrivateKey=function(v){return a(this.keys.getPrivate(),v)},l.prototype.setPublicKey=function(v,g){return g=g||"utf8",!Buffer.isBuffer(v)&&(v=new Buffer(v,g)),this.keys._importPublic(v),this},l.prototype.setPrivateKey=function(v,g){g=g||"utf8",!Buffer.isBuffer(v)&&(v=new Buffer(v,g));var h=new i(v);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function a(v,g,h){Array.isArray(v)||(v=v.toArray());var d=new Buffer(v);if(h&&d.length<h){var c=new Buffer(h-d.length);c.fill(0),d=Buffer.concat([c,d])}return g?d.toString(g):d}n(a,"Y")}),_6=st((t,e)=>{var r=($r(),$t(Lr)).createECDH;e.exports=r||x6()}),M6=st((t,e)=>{(function(r,i){function s(u,m){if(!u)throw Error(m||"Assertion failed")}n(s,"P");function l(u,m){u.super_=m;var o=n(function(){},"J");o.prototype=m.prototype,u.prototype=new o,u.prototype.constructor=u}n(l,"O");function a(u,m,o){if(a.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((m==="le"||m==="be")&&(o=m,m=10),this._init(u||0,m||10,o||"be"))}n(a,"Y"),typeof r=="object"?r.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=(wr(),$t(gr)).Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,m){return u.cmp(m)>0?u:m},a.min=function(u,m){return u.cmp(m)<0?u:m},a.prototype._init=function(u,m,o){if(typeof u=="number")return this._initNumber(u,m,o);if(typeof u=="object")return this._initArray(u,m,o);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),u=u.toString().replace(/\s+/g,"");var p=0;u[0]==="-"&&(p++,this.negative=1),p<u.length&&(m===16?this._parseHex(u,p,o):(this._parseBase(u,m,p),o==="le"&&this._initArray(this.toArray(),m,o)))},a.prototype._initNumber=function(u,m,o){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(s(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),m,o)},a.prototype._initArray=function(u,m,o){if(s(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,A,k=0;if(o==="be")for(p=u.length-1,x=0;p>=0;p-=3)A=u[p]|u[p-1]<<8|u[p-2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);else if(o==="le")for(p=0,x=0;p<u.length;p+=3)A=u[p]|u[p+1]<<8|u[p+2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);return this.strip()};function g(u,m){var o=u.charCodeAt(m);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}n(g,"v");function h(u,m,o){var p=g(u,o);return o-1>=m&&(p|=g(u,o-1)<<4),p}n(h,"X"),a.prototype._parseHex=function(u,m,o){this.length=Math.ceil((u.length-m)/6),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,A=0,k;if(o==="be")for(p=u.length-1;p>=m;p-=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8;else{var M=u.length-m;for(p=M%2===0?m+1:m;p<u.length;p+=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8}this.strip()};function d(u,m,o,p){for(var x=0,A=Math.min(u.length,o),k=m;k<A;k++){var M=u.charCodeAt(k)-48;x*=p,M>=49?x+=M-49+10:M>=17?x+=M-17+10:x+=M}return x}n(d,"Z"),a.prototype._parseBase=function(u,m,o){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=m)p++;p--,x=x/m|0;for(var A=u.length-o,k=A%p,M=Math.min(A,A-k)+o,f=0,_=o;_<M;_+=p)f=d(u,_,_+p,m),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var E=1;for(f=d(u,_,u.length,m),_=0;_<k;_++)E*=m;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},a.prototype.copy=function(u){u.words=Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,m){u=u||10,m=m|0||1;var o;if(u===16||u==="hex"){o="";for(var p=0,x=0,A=0;A<this.length;A++){var k=this.words[A],M=((k<<p|x)&16777215).toString(16);x=k>>>24-p&16777215,p+=2,p>=26&&(p-=26,A--),x!==0||A!==this.length-1?o=c[6-M.length]+M+o:o=M+o}for(x!==0&&(o=x.toString(16)+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];o="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?o=I+o:o=c[f-I.length]+I+o}for(this.isZero()&&(o="0"+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(u,m){return s(typeof v<"u"),this.toArrayLike(v,u,m)},a.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},a.prototype.toArrayLike=function(u,m,o){var p=this.byteLength(),x=o||Math.max(1,p);s(p<=x,"byte array longer than desired length"),s(x>0,"Requested array length <= 0"),this.strip();var A=m==="le",k=new u(x),M,f,_=this.clone();if(A){for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[f]=M;for(;f<x;f++)k[f]=0}else{for(f=0;f<x-p;f++)k[f]=0;for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[x-f-1]=M}return k},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var m=u,o=0;return m>=4096&&(o+=13,m>>>=13),m>=64&&(o+=7,m>>>=7),m>=8&&(o+=4,m>>>=4),m>=2&&(o+=2,m>>>=2),o+m},a.prototype._zeroBits=function(u){if(u===0)return 26;var m=u,o=0;return(m&8191)===0&&(o+=13,m>>>=13),(m&127)===0&&(o+=7,m>>>=7),(m&15)===0&&(o+=4,m>>>=4),(m&3)===0&&(o+=2,m>>>=2),(m&1)===0&&o++,o},a.prototype.bitLength=function(){var u=this.words[this.length-1],m=this._countBits(u);return(this.length-1)*26+m};function w(u){for(var m=Array(u.bitLength()),o=0;o<m.length;o++){var p=o/26|0,x=o%26;m[o]=(u.words[p]&1<<x)>>>x}return m}n(w,"N"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var o=this._zeroBits(this.words[m]);if(u+=o,o!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},a.prototype.ior=function(u){return s((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var m;this.length>u.length?m=u:m=this;for(var o=0;o<m.length;o++)this.words[o]=this.words[o]&u.words[o];return this.length=m.length,this.strip()},a.prototype.iand=function(u){return s((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var m,o;this.length>u.length?(m=this,o=u):(m=u,o=this);for(var p=0;p<o.length;p++)this.words[p]=m.words[p]^o.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},a.prototype.ixor=function(u){return s((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){s(typeof u=="number"&&u>=0);var m=Math.ceil(u/26)|0,o=u%26;this._expand(m),o>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return o>0&&(this.words[p]=~this.words[p]&67108863>>26-o),this.strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,m){s(typeof u=="number"&&u>=0);var o=u/26|0,p=u%26;return this._expand(o+1),m?this.words[o]=this.words[o]|1<<p:this.words[o]=this.words[o]&~(1<<p),this.strip()},a.prototype.iadd=function(u){var m;if(this.negative!==0&&u.negative===0)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();var o,p;this.length>u.length?(o=this,p=u):(o=u,p=this);for(var x=0,A=0;A<p.length;A++)m=(o.words[A]|0)+(p.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;for(;x!==0&&A<o.length;A++)m=(o.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;if(this.length=o.length,x!==0)this.words[this.length]=x,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},a.prototype.add=function(u){var m;return u.negative!==0&&this.negative===0?(u.negative=0,m=this.sub(u),u.negative^=1,m):u.negative===0&&this.negative!==0?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var o=this.cmp(u);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;o>0?(p=this,x=u):(p=u,x=this);for(var A=0,k=0;k<x.length;k++)m=(p.words[k]|0)-(x.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;for(;A!==0&&k<p.length;k++)m=(p.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;if(A===0&&k<p.length&&p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=Math.max(this.length,k),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function S(u,m,o){o.negative=m.negative^u.negative;var p=u.length+m.length|0;o.length=p,p=p-1|0;var x=u.words[0]|0,A=m.words[0]|0,k=x*A,M=k&67108863,f=k/67108864|0;o.words[0]=M;for(var _=1;_<p;_++){for(var E=f>>>26,I=f&67108863,L=Math.min(_,m.length-1),D=Math.max(0,_-u.length+1);D<=L;D++){var F=_-D|0;x=u.words[F]|0,A=m.words[D]|0,k=x*A+I,E+=k/67108864|0,I=k&67108863}o.words[_]=I|0,f=E|0}return f!==0?o.words[_]=f|0:o.length--,o.strip()}n(S,"E");var C=n(function(u,m,o){var p=u.words,x=m.words,A=o.words,k=0,M,f,_,E=p[0]|0,I=E&8191,L=E>>>13,D=p[1]|0,F=D&8191,z=D>>>13,H=p[2]|0,V=H&8191,Y=H>>>13,Me=p[3]|0,se=Me&8191,ae=Me>>>13,ye=p[4]|0,G=ye&8191,re=ye>>>13,X=p[5]|0,Q=X&8191,le=X>>>13,Ae=p[6]|0,pe=Ae&8191,fe=Ae>>>13,J=p[7]|0,q=J&8191,te=J>>>13,de=p[8]|0,oe=de&8191,ue=de>>>13,Be=p[9]|0,we=Be&8191,De=Be>>>13,Xe=x[0]|0,ve=Xe&8191,Fe=Xe>>>13,ce=x[1]|0,be=ce&8191,Oe=ce>>>13,Te=x[2]|0,ke=Te&8191,ze=Te>>>13,Je=x[3]|0,Ce=Je&8191,Ee=Je>>>13,je=x[4]|0,_e=je&8191,He=je>>>13,Ke=x[5]|0,ie=Ke&8191,me=Ke>>>13,Ie=x[6]|0,xe=Ie&8191,Pe=Ie>>>13,Ze=x[7]|0,ne=Ze&8191,Ne=Ze>>>13,$e=x[8]|0,ge=$e&8191,Ge=$e>>>13,et=x[9]|0,Le=et&8191,Qe=et>>>13;o.negative=u.negative^m.negative,o.length=19,M=Math.imul(I,ve),f=Math.imul(I,Fe),f=f+Math.imul(L,ve)|0,_=Math.imul(L,Fe);var Re=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(F,ve),f=Math.imul(F,Fe),f=f+Math.imul(z,ve)|0,_=Math.imul(z,Fe),M=M+Math.imul(I,be)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(L,be)|0,_=_+Math.imul(L,Oe)|0;var Ue=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,M=Math.imul(V,ve),f=Math.imul(V,Fe),f=f+Math.imul(Y,ve)|0,_=Math.imul(Y,Fe),M=M+Math.imul(F,be)|0,f=f+Math.imul(F,Oe)|0,f=f+Math.imul(z,be)|0,_=_+Math.imul(z,Oe)|0,M=M+Math.imul(I,ke)|0,f=f+Math.imul(I,ze)|0,f=f+Math.imul(L,ke)|0,_=_+Math.imul(L,ze)|0;var at=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(at>>>26)|0,at&=67108863,M=Math.imul(se,ve),f=Math.imul(se,Fe),f=f+Math.imul(ae,ve)|0,_=Math.imul(ae,Fe),M=M+Math.imul(V,be)|0,f=f+Math.imul(V,Oe)|0,f=f+Math.imul(Y,be)|0,_=_+Math.imul(Y,Oe)|0,M=M+Math.imul(F,ke)|0,f=f+Math.imul(F,ze)|0,f=f+Math.imul(z,ke)|0,_=_+Math.imul(z,ze)|0,M=M+Math.imul(I,Ce)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ee)|0;var bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,M=Math.imul(G,ve),f=Math.imul(G,Fe),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Fe),M=M+Math.imul(se,be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(ae,be)|0,_=_+Math.imul(ae,Oe)|0,M=M+Math.imul(V,ke)|0,f=f+Math.imul(V,ze)|0,f=f+Math.imul(Y,ke)|0,_=_+Math.imul(Y,ze)|0,M=M+Math.imul(F,Ce)|0,f=f+Math.imul(F,Ee)|0,f=f+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ee)|0,M=M+Math.imul(I,_e)|0,f=f+Math.imul(I,He)|0,f=f+Math.imul(L,_e)|0,_=_+Math.imul(L,He)|0;var ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,M=Math.imul(Q,ve),f=Math.imul(Q,Fe),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Fe),M=M+Math.imul(G,be)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Oe)|0,M=M+Math.imul(se,ke)|0,f=f+Math.imul(se,ze)|0,f=f+Math.imul(ae,ke)|0,_=_+Math.imul(ae,ze)|0,M=M+Math.imul(V,Ce)|0,f=f+Math.imul(V,Ee)|0,f=f+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Ee)|0,M=M+Math.imul(F,_e)|0,f=f+Math.imul(F,He)|0,f=f+Math.imul(z,_e)|0,_=_+Math.imul(z,He)|0,M=M+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(L,ie)|0,_=_+Math.imul(L,me)|0;var St=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(St>>>26)|0,St&=67108863,M=Math.imul(pe,ve),f=Math.imul(pe,Fe),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Fe),M=M+Math.imul(Q,be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Oe)|0,M=M+Math.imul(G,ke)|0,f=f+Math.imul(G,ze)|0,f=f+Math.imul(re,ke)|0,_=_+Math.imul(re,ze)|0,M=M+Math.imul(se,Ce)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Ee)|0,M=M+Math.imul(V,_e)|0,f=f+Math.imul(V,He)|0,f=f+Math.imul(Y,_e)|0,_=_+Math.imul(Y,He)|0,M=M+Math.imul(F,ie)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(z,ie)|0,_=_+Math.imul(z,me)|0,M=M+Math.imul(I,xe)|0,f=f+Math.imul(I,Pe)|0,f=f+Math.imul(L,xe)|0,_=_+Math.imul(L,Pe)|0;var Bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,M=Math.imul(q,ve),f=Math.imul(q,Fe),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Fe),M=M+Math.imul(pe,be)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Oe)|0,M=M+Math.imul(Q,ke)|0,f=f+Math.imul(Q,ze)|0,f=f+Math.imul(le,ke)|0,_=_+Math.imul(le,ze)|0,M=M+Math.imul(G,Ce)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ee)|0,M=M+Math.imul(se,_e)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(ae,_e)|0,_=_+Math.imul(ae,He)|0,M=M+Math.imul(V,ie)|0,f=f+Math.imul(V,me)|0,f=f+Math.imul(Y,ie)|0,_=_+Math.imul(Y,me)|0,M=M+Math.imul(F,xe)|0,f=f+Math.imul(F,Pe)|0,f=f+Math.imul(z,xe)|0,_=_+Math.imul(z,Pe)|0,M=M+Math.imul(I,ne)|0,f=f+Math.imul(I,Ne)|0,f=f+Math.imul(L,ne)|0,_=_+Math.imul(L,Ne)|0;var Et=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,M=Math.imul(oe,ve),f=Math.imul(oe,Fe),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Fe),M=M+Math.imul(q,be)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Oe)|0,M=M+Math.imul(pe,ke)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(fe,ke)|0,_=_+Math.imul(fe,ze)|0,M=M+Math.imul(Q,Ce)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ee)|0,M=M+Math.imul(G,_e)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(re,_e)|0,_=_+Math.imul(re,He)|0,M=M+Math.imul(se,ie)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(ae,ie)|0,_=_+Math.imul(ae,me)|0,M=M+Math.imul(V,xe)|0,f=f+Math.imul(V,Pe)|0,f=f+Math.imul(Y,xe)|0,_=_+Math.imul(Y,Pe)|0,M=M+Math.imul(F,ne)|0,f=f+Math.imul(F,Ne)|0,f=f+Math.imul(z,ne)|0,_=_+Math.imul(z,Ne)|0,M=M+Math.imul(I,ge)|0,f=f+Math.imul(I,Ge)|0,f=f+Math.imul(L,ge)|0,_=_+Math.imul(L,Ge)|0;var Mt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(we,ve),f=Math.imul(we,Fe),f=f+Math.imul(De,ve)|0,_=Math.imul(De,Fe),M=M+Math.imul(oe,be)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Oe)|0,M=M+Math.imul(q,ke)|0,f=f+Math.imul(q,ze)|0,f=f+Math.imul(te,ke)|0,_=_+Math.imul(te,ze)|0,M=M+Math.imul(pe,Ce)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,Ee)|0,M=M+Math.imul(Q,_e)|0,f=f+Math.imul(Q,He)|0,f=f+Math.imul(le,_e)|0,_=_+Math.imul(le,He)|0,M=M+Math.imul(G,ie)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,M=M+Math.imul(se,xe)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(ae,xe)|0,_=_+Math.imul(ae,Pe)|0,M=M+Math.imul(V,ne)|0,f=f+Math.imul(V,Ne)|0,f=f+Math.imul(Y,ne)|0,_=_+Math.imul(Y,Ne)|0,M=M+Math.imul(F,ge)|0,f=f+Math.imul(F,Ge)|0,f=f+Math.imul(z,ge)|0,_=_+Math.imul(z,Ge)|0,M=M+Math.imul(I,Le)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(L,Le)|0,_=_+Math.imul(L,Qe)|0;var zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,M=Math.imul(we,be),f=Math.imul(we,Oe),f=f+Math.imul(De,be)|0,_=Math.imul(De,Oe),M=M+Math.imul(oe,ke)|0,f=f+Math.imul(oe,ze)|0,f=f+Math.imul(ue,ke)|0,_=_+Math.imul(ue,ze)|0,M=M+Math.imul(q,Ce)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(te,Ce)|0,_=_+Math.imul(te,Ee)|0,M=M+Math.imul(pe,_e)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(fe,_e)|0,_=_+Math.imul(fe,He)|0,M=M+Math.imul(Q,ie)|0,f=f+Math.imul(Q,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,M=M+Math.imul(G,xe)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Pe)|0,M=M+Math.imul(se,ne)|0,f=f+Math.imul(se,Ne)|0,f=f+Math.imul(ae,ne)|0,_=_+Math.imul(ae,Ne)|0,M=M+Math.imul(V,ge)|0,f=f+Math.imul(V,Ge)|0,f=f+Math.imul(Y,ge)|0,_=_+Math.imul(Y,Ge)|0,M=M+Math.imul(F,Le)|0,f=f+Math.imul(F,Qe)|0,f=f+Math.imul(z,Le)|0,_=_+Math.imul(z,Qe)|0;var Ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,M=Math.imul(we,ke),f=Math.imul(we,ze),f=f+Math.imul(De,ke)|0,_=Math.imul(De,ze),M=M+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,Ee)|0,M=M+Math.imul(q,_e)|0,f=f+Math.imul(q,He)|0,f=f+Math.imul(te,_e)|0,_=_+Math.imul(te,He)|0,M=M+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,M=M+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Pe)|0,M=M+Math.imul(G,ne)|0,f=f+Math.imul(G,Ne)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,Ne)|0,M=M+Math.imul(se,ge)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(ae,ge)|0,_=_+Math.imul(ae,Ge)|0,M=M+Math.imul(V,Le)|0,f=f+Math.imul(V,Qe)|0,f=f+Math.imul(Y,Le)|0,_=_+Math.imul(Y,Qe)|0;var Lt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,M=Math.imul(we,Ce),f=Math.imul(we,Ee),f=f+Math.imul(De,Ce)|0,_=Math.imul(De,Ee),M=M+Math.imul(oe,_e)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(ue,_e)|0,_=_+Math.imul(ue,He)|0,M=M+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,M=M+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Pe)|0,M=M+Math.imul(Q,ne)|0,f=f+Math.imul(Q,Ne)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,Ne)|0,M=M+Math.imul(G,ge)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Ge)|0,M=M+Math.imul(se,Le)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(ae,Le)|0,_=_+Math.imul(ae,Qe)|0;var Ft=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(we,_e),f=Math.imul(we,He),f=f+Math.imul(De,_e)|0,_=Math.imul(De,He),M=M+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,M=M+Math.imul(q,xe)|0,f=f+Math.imul(q,Pe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Pe)|0,M=M+Math.imul(pe,ne)|0,f=f+Math.imul(pe,Ne)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,Ne)|0,M=M+Math.imul(Q,ge)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Ge)|0,M=M+Math.imul(G,Le)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(re,Le)|0,_=_+Math.imul(re,Qe)|0;var Nt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,M=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(De,ie)|0,_=Math.imul(De,me),M=M+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Pe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Pe)|0,M=M+Math.imul(q,ne)|0,f=f+Math.imul(q,Ne)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,Ne)|0,M=M+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Ge)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Ge)|0,M=M+Math.imul(Q,Le)|0,f=f+Math.imul(Q,Qe)|0,f=f+Math.imul(le,Le)|0,_=_+Math.imul(le,Qe)|0;var Dt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,M=Math.imul(we,xe),f=Math.imul(we,Pe),f=f+Math.imul(De,xe)|0,_=Math.imul(De,Pe),M=M+Math.imul(oe,ne)|0,f=f+Math.imul(oe,Ne)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,Ne)|0,M=M+Math.imul(q,ge)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Ge)|0,M=M+Math.imul(pe,Le)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,M=Math.imul(we,ne),f=Math.imul(we,Ne),f=f+Math.imul(De,ne)|0,_=Math.imul(De,Ne),M=M+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Ge)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Ge)|0,M=M+Math.imul(q,Le)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(te,Le)|0,_=_+Math.imul(te,Qe)|0;var Zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,M=Math.imul(we,ge),f=Math.imul(we,Ge),f=f+Math.imul(De,ge)|0,_=Math.imul(De,Ge),M=M+Math.imul(oe,Le)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,Le)|0,_=_+Math.imul(ue,Qe)|0;var Vt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,M=Math.imul(we,Le),f=Math.imul(we,Qe),f=f+Math.imul(De,Le)|0,_=Math.imul(De,Qe);var Gt=(k+M|0)+((f&8191)<<13)|0;return k=(_+(f>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A[0]=Re,A[1]=Ue,A[2]=at,A[3]=bt,A[4]=ht,A[5]=St,A[6]=Bt,A[7]=Et,A[8]=Mt,A[9]=zt,A[10]=Ht,A[11]=Lt,A[12]=Ft,A[13]=Nt,A[14]=Dt,A[15]=Ut,A[16]=Zt,A[17]=Vt,A[18]=Gt,k!==0&&(A[19]=k,o.length++),o},"h");Math.imul||(C=S);function R(u,m,o){o.negative=m.negative^u.negative,o.length=u.length+m.length;for(var p=0,x=0,A=0;A<o.length-1;A++){var k=x;x=0;for(var M=p&67108863,f=Math.min(A,m.length-1),_=Math.max(0,A-u.length+1);_<=f;_++){var E=A-_,I=u.words[E]|0,L=m.words[_]|0,D=I*L,F=D&67108863;k=k+(D/67108864|0)|0,F=F+M|0,M=F&67108863,k=k+(F>>>26)|0,x+=k>>>26,k&=67108863}o.words[A]=M,p=k,k=x}return p!==0?o.words[A]=p:o.length--,o.strip()}n(R,"D");function T(u,m,o){var p=new P;return p.mulp(u,m,o)}n(T,"I"),a.prototype.mulTo=function(u,m){var o,p=this.length+u.length;return this.length===10&&u.length===10?o=C(this,u,m):p<63?o=S(this,u,m):p<1024?o=R(this,u,m):o=T(this,u,m),o};function P(u,m){this.x=u,this.y=m}n(P,"g"),P.prototype.makeRBT=function(u){for(var m=Array(u),o=a.prototype._countBits(u)-1,p=0;p<u;p++)m[p]=this.revBin(p,o,u);return m},P.prototype.revBin=function(u,m,o){if(u===0||u===o-1)return u;for(var p=0,x=0;x<m;x++)p|=(u&1)<<m-x-1,u>>=1;return p},P.prototype.permute=function(u,m,o,p,x,A){for(var k=0;k<A;k++)p[k]=m[u[k]],x[k]=o[u[k]]},P.prototype.transform=function(u,m,o,p,x,A){this.permute(A,u,m,o,p,x);for(var k=1;k<x;k<<=1)for(var M=k<<1,f=Math.cos(2*Math.PI/M),_=Math.sin(2*Math.PI/M),E=0;E<x;E+=M)for(var I=f,L=_,D=0;D<k;D++){var F=o[E+D],z=p[E+D],H=o[E+D+k],V=p[E+D+k],Y=I*H-L*V;V=I*V+L*H,H=Y,o[E+D]=F+H,p[E+D]=z+V,o[E+D+k]=F-H,p[E+D+k]=z-V,D!==M&&(Y=f*I-_*L,L=f*L+_*I,I=Y)}},P.prototype.guessLen13b=function(u,m){var o=Math.max(m,u)|1,p=o&1,x=0;for(o=o/2|0;o;o=o>>>1)x++;return 1<<x+1+p},P.prototype.conjugate=function(u,m,o){if(!(o<=1))for(var p=0;p<o/2;p++){var x=u[p];u[p]=u[o-p-1],u[o-p-1]=x,x=m[p],m[p]=-m[o-p-1],m[o-p-1]=-x}},P.prototype.normalize13b=function(u,m){for(var o=0,p=0;p<m/2;p++){var x=Math.round(u[2*p+1]/m)*8192+Math.round(u[2*p]/m)+o;u[p]=x&67108863,x<67108864?o=0:o=x/67108864|0}return u},P.prototype.convert13b=function(u,m,o,p){for(var x=0,A=0;A<m;A++)x=x+(u[A]|0),o[2*A]=x&8191,x=x>>>13,o[2*A+1]=x&8191,x=x>>>13;for(A=2*m;A<p;++A)o[A]=0;s(x===0),s((x&-8192)===0)},P.prototype.stub=function(u){for(var m=Array(u),o=0;o<u;o++)m[o]=0;return m},P.prototype.mulp=function(u,m,o){var p=2*this.guessLen13b(u.length,m.length),x=this.makeRBT(p),A=this.stub(p),k=Array(p),M=Array(p),f=Array(p),_=Array(p),E=Array(p),I=Array(p),L=o.words;L.length=p,this.convert13b(u.words,u.length,k,p),this.convert13b(m.words,m.length,_,p),this.transform(k,A,M,f,p,x),this.transform(_,A,E,I,p,x);for(var D=0;D<p;D++){var F=M[D]*E[D]-f[D]*I[D];f[D]=M[D]*I[D]+f[D]*E[D],M[D]=F}return this.conjugate(M,f,p),this.transform(M,f,L,A,p,x),this.conjugate(L,A,p),this.normalize13b(L,p),o.negative=u.negative^m.negative,o.length=u.length+m.length,o.strip()},a.prototype.mul=function(u){var m=new a(null);return m.words=Array(this.length+u.length),this.mulTo(u,m)},a.prototype.mulf=function(u){var m=new a(null);return m.words=Array(this.length+u.length),T(this,u,m)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){s(typeof u=="number"),s(u<67108864);for(var m=0,o=0;o<this.length;o++){var p=(this.words[o]|0)*u,x=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=x>>>26,this.words[o]=x&67108863}return m!==0&&(this.words[o]=m,this.length++),this.length=u===0?1:this.length,this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var m=w(u);if(m.length===0)return new a(1);for(var o=this,p=0;p<m.length&&m[p]===0;p++,o=o.sqr());if(++p<m.length)for(var x=o.sqr();p<m.length;p++,x=x.sqr())m[p]!==0&&(o=o.mul(x));return o},a.prototype.iushln=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=67108863>>>26-m<<26-m,x;if(m!==0){var A=0;for(x=0;x<this.length;x++){var k=this.words[x]&p,M=(this.words[x]|0)-k<<m;this.words[x]=M|A,A=k>>>26-m}A&&(this.words[x]=A,this.length++)}if(o!==0){for(x=this.length-1;x>=0;x--)this.words[x+o]=this.words[x];for(x=0;x<o;x++)this.words[x]=0;this.length+=o}return this.strip()},a.prototype.ishln=function(u){return s(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,m,o){s(typeof u=="number"&&u>=0);var p;m?p=(m-m%26)/26:p=0;var x=u%26,A=Math.min((u-x)/26,this.length),k=67108863^67108863>>>x<<x,M=o;if(p-=A,p=Math.max(0,p),M){for(var f=0;f<A;f++)M.words[f]=this.words[f];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=p);f--){var E=this.words[f]|0;this.words[f]=_<<26-x|E>>>x,_=E&k}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(u,m,o){return s(this.negative===0),this.iushrn(u,m,o)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return!1;var x=this.words[o];return!!(x&p)},a.prototype.imaskn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(m!==0&&o++,this.length=Math.min(o,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return s(typeof u=="number"),s(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(u){if(s(typeof u=="number"),s(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,m,o){var p=u.length+o,x;this._expand(p);var A,k=0;for(x=0;x<u.length;x++){A=(this.words[x+o]|0)+k;var M=(u.words[x]|0)*m;A-=M&67108863,k=(A>>26)-(M/67108864|0),this.words[x+o]=A&67108863}for(;x<this.length-o;x++)A=(this.words[x+o]|0)+k,k=A>>26,this.words[x+o]=A&67108863;if(k===0)return this.strip();for(s(k===-1),k=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+k,k=A>>26,this.words[x]=A&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(u,m){var o=this.length-u.length,p=this.clone(),x=u,A=x.words[x.length-1]|0,k=this._countBits(A);o=26-k,o!==0&&(x=x.ushln(o),p.iushln(o),A=x.words[x.length-1]|0);var M=p.length-x.length,f;if(m!=="mod"){f=new a(null),f.length=M+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=p.clone()._ishlnsubmul(x,1,M);E.negative===0&&(p=E,f&&(f.words[M]=1));for(var I=M-1;I>=0;I--){var L=(p.words[x.length+I]|0)*67108864+(p.words[x.length+I-1]|0);for(L=Math.min(L/A|0,67108863),p._ishlnsubmul(x,L,I);p.negative!==0;)L--,p.negative=0,p._ishlnsubmul(x,1,I),!p.isZero()&&(p.negative^=1);f&&(f.words[I]=L)}return f&&f.strip(),p.strip(),m!=="div"&&o!==0&&p.iushrn(o),{div:f||null,mod:p}},a.prototype.divmod=function(u,m,o){if(s(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,m),m!=="mod"&&(p=A.div.neg()),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.iadd(u)),{div:p,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),m),m!=="mod"&&(p=A.div.neg()),{div:p,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),m),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?m==="div"?{div:this.divn(u.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modn(u.words[0]))}:this._wordDiv(u,m)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var o=m.div.negative!==0?m.mod.isub(u):m.mod,p=u.ushrn(1),x=u.andln(1),A=o.cmp(p);return A<0||x===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(u){s(u<=67108863);for(var m=67108864%u,o=0,p=this.length-1;p>=0;p--)o=(m*o+(this.words[p]|0))%u;return o},a.prototype.idivn=function(u){s(u<=67108863);for(var m=0,o=this.length-1;o>=0;o--){var p=(this.words[o]|0)+m*67108864;this.words[o]=p/u|0,m=p%u}return this.strip()},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=new a(0),k=new a(1),M=0;m.isEven()&&o.isEven();)m.iushrn(1),o.iushrn(1),++M;for(var f=o.clone(),_=m.clone();!m.isZero();){for(var E=0,I=1;(m.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(m.iushrn(E);E-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(f),x.isub(_)),p.iushrn(1),x.iushrn(1);for(var L=0,D=1;(o.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(o.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(f),k.isub(_)),A.iushrn(1),k.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(A),x.isub(k)):(o.isub(m),A.isub(p),k.isub(x))}return{a:A,b:k,gcd:o.iushln(M)}},a.prototype._invmp=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=o.clone();m.cmpn(1)>0&&o.cmpn(1)>0;){for(var k=0,M=1;(m.words[0]&M)===0&&k<26;++k,M<<=1);if(k>0)for(m.iushrn(k);k-- >0;)p.isOdd()&&p.iadd(A),p.iushrn(1);for(var f=0,_=1;(o.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(o.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(x)):(o.isub(m),x.isub(p))}var E;return m.cmpn(1)===0?E=p:E=x,E.cmpn(0)<0&&E.iadd(u),E},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),o=u.clone();m.negative=0,o.negative=0;for(var p=0;m.isEven()&&o.isEven();p++)m.iushrn(1),o.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;o.isEven();)o.iushrn(1);var x=m.cmp(o);if(x<0){var A=m;m=o,o=A}else if(x===0||o.cmpn(1)===0)break;m.isub(o)}while(!0);return o.iushln(p)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){s(typeof u=="number");var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return this._expand(o+1),this.words[o]|=p,this;for(var x=p,A=o;x!==0&&A<this.length;A++){var k=this.words[A]|0;k+=x,x=k>>>26,k&=67108863,this.words[A]=k}return x!==0&&(this.words[A]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var m=u<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var o;if(this.length>1)o=1;else{m&&(u=-u),s(u<=67108863,"Number is too big");var p=this.words[0]|0;o=p===u?0:p<u?-1:1}return this.negative!==0?-o|0:o},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var m=this.ucmp(u);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,o=this.length-1;o>=0;o--){var p=this.words[o]|0,x=u.words[o]|0;if(p!==x){p<x?m=-1:p>x&&(m=1);break}}return m},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new $(u)},a.prototype.toRed=function(u){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return s(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return s(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var O={k256:null,p224:null,p192:null,p25519:null};function j(u,m){this.name=u,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(j,"p"),j.prototype._tmp=function(){var u=new a(null);return u.words=Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var m=u,o;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),o=m.bitLength();while(o>this.n);var p=o<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},j.prototype.split=function(u,m){u.iushrn(this.n,0,m)},j.prototype.imulK=function(u){return u.imul(this.k)};function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(B,"m"),l(B,j),B.prototype.split=function(u,m){for(var o=4194303,p=Math.min(u.length,9),x=0;x<p;x++)m.words[x]=u.words[x];if(m.length=p,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(m.words[m.length++]=A&o,x=10;x<u.length;x++){var k=u.words[x]|0;u.words[x-10]=(k&o)<<4|A>>>22,A=k}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},B.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,o=0;o<u.length;o++){var p=u.words[o]|0;m+=p*977,u.words[o]=m&67108863,m=p*64+(m/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Z,"c"),l(Z,j);function W(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,"$q"),l(W,j);function ee(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ee,"e"),l(ee,j),ee.prototype.imulK=function(u){for(var m=0,o=0;o<u.length;o++){var p=(u.words[o]|0)*19+m,x=p&67108863;p>>>=26,u.words[o]=x,m=p}return m!==0&&(u.words[u.length++]=m),u},a._prime=function(u){if(O[u])return O[u];var m;if(u==="k256")m=new B;else if(u==="p224")m=new Z;else if(u==="p192")m=new W;else if(u==="p25519")m=new ee;else throw Error("Unknown prime "+u);return O[u]=m,m};function $(u){if(typeof u=="string"){var m=a._prime(u);this.m=m.p,this.prime=m}else s(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}n($,"d"),$.prototype._verify1=function(u){s(u.negative===0,"red works only with positives"),s(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,m){s((u.negative|m.negative)===0,"red works only with positives"),s(u.red&&u.red===m.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,m){this._verify2(u,m);var o=u.add(m);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},$.prototype.iadd=function(u,m){this._verify2(u,m);var o=u.iadd(m);return o.cmp(this.m)>=0&&o.isub(this.m),o},$.prototype.sub=function(u,m){this._verify2(u,m);var o=u.sub(m);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},$.prototype.isub=function(u,m){this._verify2(u,m);var o=u.isub(m);return o.cmpn(0)<0&&o.iadd(this.m),o},$.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},$.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},$.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var o=this.m.add(new a(1)).iushrn(2);return this.pow(u,o)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);s(!p.isZero());var A=new a(1).toRed(this),k=A.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);this.pow(f,M).cmp(k)!==0;)f.redIAdd(k);for(var _=this.pow(f,p),E=this.pow(u,p.addn(1).iushrn(1)),I=this.pow(u,p),L=x;I.cmp(A)!==0;){for(var D=I,F=0;D.cmp(A)!==0;F++)D=D.redSqr();s(F<L);var z=this.pow(_,new a(1).iushln(L-F-1));E=E.redMul(z),_=z.redSqr(),I=I.redMul(_),L=F}return E},$.prototype.invm=function(u){var m=u._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},$.prototype.pow=function(u,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return u.clone();var o=4,p=Array(1<<o);p[0]=new a(1).toRed(this),p[1]=u;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],u);var A=p[0],k=0,M=0,f=m.bitLength()%26;for(f===0&&(f=26),x=m.length-1;x>=0;x--){for(var _=m.words[x],E=f-1;E>=0;E--){var I=_>>E&1;if(A!==p[0]&&(A=this.sqr(A)),I===0&&k===0){M=0;continue}k<<=1,k|=I,M++,!(M!==o&&(x!==0||E!==0))&&(A=this.mul(A,p[k]),M=0,k=0)}f=26}return A},$.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},$.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},a.mont=function(u){return new U(u)};function U(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(U,"n"),l(U,$),U.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},U.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var o=u.imul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new a(0)._forceRed(this);var o=u.mul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(u){var m=this.imod(u._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof e>"u"||e,t)}),S6=st(t=>{var e=js(),r=jr(),i=t;i.define=function(l,a){return new s(l,a)};function s(l,a){this.name=l,this.body=a,this.decoders={},this.encoders={}}n(s,"P"),s.prototype._createNamed=function(l){var a;try{a=(()=>{throw new Error("Cannot require module vm")})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{a=n(function(g){this._initNamed(g)},"H")}return r(a,l),a.prototype._initNamed=function(v){l.call(this,v)},new a(this)},s.prototype._getDecoder=function(l){return l=l||"der",!this.decoders.hasOwnProperty(l)&&(this.decoders[l]=this._createNamed(e.decoders[l])),this.decoders[l]},s.prototype.decode=function(l,a,v){return this._getDecoder(a).decode(l,v)},s.prototype._getEncoder=function(l){return l=l||"der",!this.encoders.hasOwnProperty(l)&&(this.encoders[l]=this._createNamed(e.encoders[l])),this.encoders[l]},s.prototype.encode=function(l,a,v){return this._getEncoder(a).encode(l,v)}}),E6=st(t=>{var e=jr();function r(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}n(r,"K"),t.Reporter=r,r.prototype.isError=function(s){return s instanceof i},r.prototype.save=function(){var s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},r.prototype.restore=function(s){var l=this._reporterState;l.obj=s.obj,l.path=l.path.slice(0,s.pathLen)},r.prototype.enterKey=function(s){return this._reporterState.path.push(s)},r.prototype.exitKey=function(s){var l=this._reporterState;l.path=l.path.slice(0,s-1)},r.prototype.leaveKey=function(s,l,a){var v=this._reporterState;this.exitKey(s),v.obj!==null&&(v.obj[l]=a)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var s=this._reporterState,l=s.obj;return s.obj={},l},r.prototype.leaveObject=function(s){var l=this._reporterState,a=l.obj;return l.obj=s,a},r.prototype.error=function(s){var l,a=this._reporterState,v=s instanceof i;if(v?l=s:l=new i(a.path.map(function(g){return"["+JSON.stringify(g)+"]"}).join(""),s.message||s,s.stack),!a.options.partial)throw l;return v||a.errors.push(l),l},r.prototype.wrapResult=function(s){var l=this._reporterState;return l.options.partial?{result:this.isError(s)?null:s,errors:l.errors}:s};function i(s,l){this.path=s,this.rethrow(l)}n(i,"_"),e(i,Error),i.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw Error(this.message)}catch(l){this.stack=l.stack}return this}}),N0=st(t=>{var e=jr(),r=Os().Reporter,i=(wr(),$t(gr)).Buffer;function s(a,v){if(r.call(this,v),!i.isBuffer(a)){this.error("Input not Buffer");return}this.base=a,this.offset=0,this.length=a.length}n(s,"P"),e(s,r),t.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},s.prototype.restore=function(a){var v=new s(this.base);return v.offset=a.offset,v.length=this.offset,this.offset=a.offset,r.prototype.restore.call(this,a.reporter),v},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},s.prototype.skip=function(a,v){if(!(this.offset+a<=this.length))return this.error(v||"DecoderBuffer overrun");var g=new s(this.base);return g._reporterState=this._reporterState,g.offset=this.offset,g.length=this.offset+a,this.offset+=a,g},s.prototype.raw=function(a){return this.base.slice(a?a.offset:this.offset,this.length)};function l(a,v){if(Array.isArray(a))this.length=0,this.value=a.map(function(g){return g instanceof l||(g=new l(g,v)),this.length+=g.length,g},this);else if(typeof a=="number"){if(!(0<=a&&a<=255))return v.error("non-byte EncoderBuffer value");this.value=a,this.length=1}else if(typeof a=="string")this.value=a,this.length=i.byteLength(a);else if(i.isBuffer(a))this.value=a,this.length=a.length;else return v.error("Unsupported type: "+typeof a)}n(l,"O"),t.EncoderBuffer=l,l.prototype.join=function(a,v){return a||(a=new i(this.length)),v||(v=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(g){g.join(a,v),v+=g.length}):(typeof this.value=="number"?a[v]=this.value:typeof this.value=="string"?a.write(this.value,v):i.isBuffer(this.value)&&this.value.copy(a,v),v+=this.length)),a}}),A6=st((t,e)=>{var r=Os().Reporter,i=Os().EncoderBuffer,s=Os().DecoderBuffer,l=Ki(),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],v=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),g=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(c,y){var b={};this._baseState=b,b.enc=c,b.parent=y||null,b.children=null,b.tag=null,b.args=null,b.reverseArgs=null,b.choice=null,b.optional=!1,b.any=!1,b.obj=!1,b.use=null,b.useDecoder=null,b.key=null,b.default=null,b.explicit=null,b.implicit=null,b.contains=null,!b.parent&&(b.children=[],this._wrap())}n(h,"X"),e.exports=h;var d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){var c=this._baseState,y={};d.forEach(function(w){y[w]=c[w]});var b=new this.constructor(y.parent);return b._baseState=y,b},h.prototype._wrap=function(){var c=this._baseState;v.forEach(function(y){this[y]=function(){var b=new this.constructor(this);return c.children.push(b),b[y].apply(b,arguments)}},this)},h.prototype._init=function(c){var y=this._baseState;l(y.parent===null),c.call(this),y.children=y.children.filter(function(b){return b._baseState.parent===this},this),l.equal(y.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(c){var y=this._baseState,b=c.filter(function(w){return w instanceof this.constructor},this);c=c.filter(function(w){return!(w instanceof this.constructor)},this),b.length!==0&&(l(y.children===null),y.children=b,b.forEach(function(w){w._baseState.parent=this},this)),c.length!==0&&(l(y.args===null),y.args=c,y.reverseArgs=c.map(function(w){if(typeof w!="object"||w.constructor!==Object)return w;var S={};return Object.keys(w).forEach(function(C){C==(C|0)&&(C|=0);var R=w[C];S[R]=C}),S}))},g.forEach(function(c){h.prototype[c]=function(){var y=this._baseState;throw Error(c+" not implemented for encoding: "+y.enc)}}),a.forEach(function(c){h.prototype[c]=function(){var y=this._baseState,b=Array.prototype.slice.call(arguments);return l(y.tag===null),y.tag=c,this._useArgs(b),this}}),h.prototype.use=function(c){l(c);var y=this._baseState;return l(y.use===null),y.use=c,this},h.prototype.optional=function(){var c=this._baseState;return c.optional=!0,this},h.prototype.def=function(c){var y=this._baseState;return l(y.default===null),y.default=c,y.optional=!0,this},h.prototype.explicit=function(c){var y=this._baseState;return l(y.explicit===null&&y.implicit===null),y.explicit=c,this},h.prototype.implicit=function(c){var y=this._baseState;return l(y.explicit===null&&y.implicit===null),y.implicit=c,this},h.prototype.obj=function(){var c=this._baseState,y=Array.prototype.slice.call(arguments);return c.obj=!0,y.length!==0&&this._useArgs(y),this},h.prototype.key=function(c){var y=this._baseState;return l(y.key===null),y.key=c,this},h.prototype.any=function(){var c=this._baseState;return c.any=!0,this},h.prototype.choice=function(c){var y=this._baseState;return l(y.choice===null),y.choice=c,this._useArgs(Object.keys(c).map(function(b){return c[b]})),this},h.prototype.contains=function(c){var y=this._baseState;return l(y.use===null),y.contains=c,this},h.prototype._decode=function(c,y){var b=this._baseState;if(b.parent===null)return c.wrapResult(b.children[0]._decode(c,y));var w=b.default,S=!0,C=null;if(b.key!==null&&(C=c.enterKey(b.key)),b.optional){var R=null;if(b.explicit!==null?R=b.explicit:b.implicit!==null?R=b.implicit:b.tag!==null&&(R=b.tag),R===null&&!b.any){var T=c.save();try{b.choice===null?this._decodeGeneric(b.tag,c,y):this._decodeChoice(c,y),S=!0}catch{S=!1}c.restore(T)}else if(S=this._peekTag(c,R,b.any),c.isError(S))return S}var P;if(b.obj&&S&&(P=c.enterObject()),S){if(b.explicit!==null){var O=this._decodeTag(c,b.explicit);if(c.isError(O))return O;c=O}var j=c.offset;if(b.use===null&&b.choice===null){if(b.any)var T=c.save();var B=this._decodeTag(c,b.implicit!==null?b.implicit:b.tag,b.any);if(c.isError(B))return B;b.any?w=c.raw(T):c=B}if(y&&y.track&&b.tag!==null&&y.track(c.path(),j,c.length,"tagged"),y&&y.track&&b.tag!==null&&y.track(c.path(),c.offset,c.length,"content"),b.any?w=w:b.choice===null?w=this._decodeGeneric(b.tag,c,y):w=this._decodeChoice(c,y),c.isError(w))return w;if(!b.any&&b.choice===null&&b.children!==null&&b.children.forEach(function(W){W._decode(c,y)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){var Z=new s(w);w=this._getUse(b.contains,c._reporterState.obj)._decode(Z,y)}}return b.obj&&S&&(w=c.leaveObject(P)),b.key!==null&&(w!==null||S===!0)?c.leaveKey(C,b.key,w):C!==null&&c.exitKey(C),w},h.prototype._decodeGeneric=function(c,y,b){var w=this._baseState;return c==="seq"||c==="set"?null:c==="seqof"||c==="setof"?this._decodeList(y,c,w.args[0],b):/str$/.test(c)?this._decodeStr(y,c,b):c==="objid"&&w.args?this._decodeObjid(y,w.args[0],w.args[1],b):c==="objid"?this._decodeObjid(y,null,null,b):c==="gentime"||c==="utctime"?this._decodeTime(y,c,b):c==="null_"?this._decodeNull(y,b):c==="bool"?this._decodeBool(y,b):c==="objDesc"?this._decodeStr(y,c,b):c==="int"||c==="enum"?this._decodeInt(y,w.args&&w.args[0],b):w.use!==null?this._getUse(w.use,y._reporterState.obj)._decode(y,b):y.error("unknown tag: "+c)},h.prototype._getUse=function(c,y){var b=this._baseState;return b.useDecoder=this._use(c,y),l(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},h.prototype._decodeChoice=function(c,y){var b=this._baseState,w=null,S=!1;return Object.keys(b.choice).some(function(C){var R=c.save(),T=b.choice[C];try{var P=T._decode(c,y);if(c.isError(P))return!1;w={type:C,value:P},S=!0}catch{return c.restore(R),!1}return!0},this),S?w:c.error("Choice not matched")},h.prototype._createEncoderBuffer=function(c){return new i(c,this.reporter)},h.prototype._encode=function(c,y,b){var w=this._baseState;if(!(w.default!==null&&w.default===c)){var S=this._encodeValue(c,y,b);if(S!==void 0&&!this._skipDefault(S,y,b))return S}},h.prototype._encodeValue=function(c,y,b){var w=this._baseState;if(w.parent===null)return w.children[0]._encode(c,y||new r);var T=null;if(this.reporter=y,w.optional&&c===void 0)if(w.default!==null)c=w.default;else return;var S=null,C=!1;if(w.any)T=this._createEncoderBuffer(c);else if(w.choice)T=this._encodeChoice(c,y);else if(w.contains)S=this._getUse(w.contains,b)._encode(c,y),C=!0;else if(w.children)S=w.children.map(function(j){if(j._baseState.tag==="null_")return j._encode(null,y,c);if(j._baseState.key===null)return y.error("Child should have a key");var B=y.enterKey(j._baseState.key);if(typeof c!="object")return y.error("Child expected, but input is not object");var Z=j._encode(c[j._baseState.key],y,c);return y.leaveKey(B),Z},this).filter(function(j){return j}),S=this._createEncoderBuffer(S);else if(w.tag==="seqof"||w.tag==="setof"){if(!(w.args&&w.args.length===1))return y.error("Too many args for : "+w.tag);if(!Array.isArray(c))return y.error("seqof/setof, but data is not Array");var R=this.clone();R._baseState.implicit=null,S=this._createEncoderBuffer(c.map(function(j){var B=this._baseState;return this._getUse(B.args[0],c)._encode(j,y)},R))}else w.use!==null?T=this._getUse(w.use,b)._encode(c,y):(S=this._encodePrimitive(w.tag,c),C=!0);var T;if(!w.any&&w.choice===null){var P=w.implicit!==null?w.implicit:w.tag,O=w.implicit===null?"universal":"context";P===null?w.use===null&&y.error("Tag could be omitted only for .use()"):w.use===null&&(T=this._encodeComposite(P,C,O,S))}return w.explicit!==null&&(T=this._encodeComposite(w.explicit,!1,"context",T)),T},h.prototype._encodeChoice=function(c,y){var b=this._baseState,w=b.choice[c.type];return w||l(!1,c.type+" not found in "+JSON.stringify(Object.keys(b.choice))),w._encode(c.value,y)},h.prototype._encodePrimitive=function(c,y){var b=this._baseState;if(/str$/.test(c))return this._encodeStr(y,c);if(c==="objid"&&b.args)return this._encodeObjid(y,b.reverseArgs[0],b.args[1]);if(c==="objid")return this._encodeObjid(y,null,null);if(c==="gentime"||c==="utctime")return this._encodeTime(y,c);if(c==="null_")return this._encodeNull();if(c==="int"||c==="enum")return this._encodeInt(y,b.args&&b.reverseArgs[0]);if(c==="bool")return this._encodeBool(y);if(c==="objDesc")return this._encodeStr(y,c);throw Error("Unsupported tag: "+c)},h.prototype._isNumstr=function(c){return/^[0-9 ]*$/.test(c)},h.prototype._isPrintstr=function(c){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(c)}}),Os=st(t=>{var e=t;e.Reporter=E6().Reporter,e.DecoderBuffer=N0().DecoderBuffer,e.EncoderBuffer=N0().EncoderBuffer,e.Node=A6()}),k6=st(t=>{var e=C0();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}),C0=st(t=>{var e=t;e._reverse=function(r){var i={};return Object.keys(r).forEach(function(s){(s|0)==s&&(s=s|0);var l=r[s];i[l]=s}),i},e.der=k6()}),R0=st((t,e)=>{var r=jr(),i=js(),s=i.base,l=i.bignum,a=i.constants.der;function v(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new g,this.tree._init(c.body)}n(v,"H"),e.exports=v,v.prototype.decode=function(c,y){return c instanceof s.DecoderBuffer||(c=new s.DecoderBuffer(c,y)),this.tree._decode(c,y)};function g(c){s.Node.call(this,"der",c)}n(g,"v"),r(g,s.Node),g.prototype._peekTag=function(c,y,b){if(c.isEmpty())return!1;var w=c.save(),S=h(c,'Failed to peek tag: "'+y+'"');return c.isError(S)?S:(c.restore(w),S.tag===y||S.tagStr===y||S.tagStr+"of"===y||b)},g.prototype._decodeTag=function(c,y,b){var w=h(c,'Failed to decode tag of "'+y+'"');if(c.isError(w))return w;var S=d(c,w.primitive,'Failed to get length of "'+y+'"');if(c.isError(S))return S;if(!b&&w.tag!==y&&w.tagStr!==y&&w.tagStr+"of"!==y)return c.error('Failed to match tag: "'+y+'"');if(w.primitive||S!==null)return c.skip(S,'Failed to match body of: "'+y+'"');var C=c.save(),R=this._skipUntilEnd(c,'Failed to skip indefinite length body: "'+this.tag+'"');return c.isError(R)?R:(S=c.offset-C.offset,c.restore(C),c.skip(S,'Failed to match body of: "'+y+'"'))},g.prototype._skipUntilEnd=function(c,y){for(;;){var b=h(c,y);if(c.isError(b))return b;var w=d(c,b.primitive,y);if(c.isError(w))return w;var S;if(b.primitive||w!==null?S=c.skip(w):S=this._skipUntilEnd(c,y),c.isError(S))return S;if(b.tagStr==="end")break}},g.prototype._decodeList=function(c,y,b,w){for(var S=[];!c.isEmpty();){var C=this._peekTag(c,"end");if(c.isError(C))return C;var R=b.decode(c,"der",w);if(c.isError(R)&&C)break;S.push(R)}return S},g.prototype._decodeStr=function(c,y){if(y==="bitstr"){var b=c.readUInt8();return c.isError(b)?b:{unused:b,data:c.raw()}}else if(y==="bmpstr"){var w=c.raw();if(w.length%2===1)return c.error("Decoding of string type: bmpstr length mismatch");for(var S="",C=0;C<w.length/2;C++)S+=String.fromCharCode(w.readUInt16BE(C*2));return S}else if(y==="numstr"){var R=c.raw().toString("ascii");return this._isNumstr(R)?R:c.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr")return c.raw();if(y==="objDesc")return c.raw();if(y==="printstr"){var T=c.raw().toString("ascii");return this._isPrintstr(T)?T:c.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?c.raw().toString():c.error("Decoding of string type: "+y+" unsupported")}},g.prototype._decodeObjid=function(c,y,b){for(var w,S=[],C=0;!c.isEmpty();){var R=c.readUInt8();C<<=7,C|=R&127,(R&128)===0&&(S.push(C),C=0)}R&128&&S.push(C);var T=S[0]/40|0,P=S[0]%40;if(b?w=S:w=[T,P].concat(S.slice(1)),y){var O=y[w.join(" ")];O===void 0&&(O=y[w.join(".")]),O!==void 0&&(w=O)}return w},g.prototype._decodeTime=function(c,y){var b=c.raw().toString();if(y==="gentime")var w=b.slice(0,4)|0,S=b.slice(4,6)|0,C=b.slice(6,8)|0,R=b.slice(8,10)|0,T=b.slice(10,12)|0,P=b.slice(12,14)|0;else if(y==="utctime"){var w=b.slice(0,2)|0,S=b.slice(2,4)|0,C=b.slice(4,6)|0,R=b.slice(6,8)|0,T=b.slice(8,10)|0,P=b.slice(10,12)|0;w<70?w=2e3+w:w=1900+w}else return c.error("Decoding "+y+" time is not supported yet");return Date.UTC(w,S-1,C,R,T,P,0)},g.prototype._decodeNull=function(c){return null},g.prototype._decodeBool=function(c){var y=c.readUInt8();return c.isError(y)?y:y!==0},g.prototype._decodeInt=function(c,y){var b=c.raw(),w=new l(b);return y&&(w=y[w.toString(10)]||w),w},g.prototype._use=function(c,y){return typeof c=="function"&&(c=c(y)),c._getDecoder("der").tree};function h(c,y){var b=c.readUInt8(y);if(c.isError(b))return b;var w=a.tagClass[b>>6],S=(b&32)===0;if((b&31)===31){var C=b;for(b=0;(C&128)===128;){if(C=c.readUInt8(y),c.isError(C))return C;b<<=7,b|=C&127}}else b&=31;var R=a.tag[b];return{cls:w,primitive:S,tag:b,tagStr:R}}n(h,"X");function d(c,y,b){var w=c.readUInt8(b);if(c.isError(w))return w;if(!y&&w===128)return null;if((w&128)===0)return w;var S=w&127;if(S>4)return c.error("length octect is too long");w=0;for(var C=0;C<S;C++){w<<=8;var R=c.readUInt8(b);if(c.isError(R))return R;w|=R}return w}n(d,"Z")}),N6=st((t,e)=>{var r=jr(),i=(wr(),$t(gr)).Buffer,s=R0();function l(a){s.call(this,a),this.enc="pem"}n(l,"O"),r(l,s),e.exports=l,l.prototype.decode=function(a,v){for(var g=a.toString().split(/[\r\n]+/g),h=v.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,y=-1,b=0;b<g.length;b++){var w=g[b].match(d);if(w!==null&&w[2]===h)if(c===-1){if(w[1]!=="BEGIN")break;c=b}else{if(w[1]!=="END")break;y=b;break}}if(c===-1||y===-1)throw Error("PEM section not found for: "+h);var S=g.slice(c+1,y).join("");S.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new i(S,"base64");return s.prototype.decode.call(this,C,v)}}),C6=st(t=>{var e=t;e.der=R0(),e.pem=N6()}),I0=st((t,e)=>{var r=jr(),i=(wr(),$t(gr)).Buffer,s=js(),l=s.base,a=s.constants.der;function v(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new g,this.tree._init(c.body)}n(v,"H"),e.exports=v,v.prototype.encode=function(c,y){return this.tree._encode(c,y).join()};function g(c){l.Node.call(this,"der",c)}n(g,"v"),r(g,l.Node),g.prototype._encodeComposite=function(c,y,b,w){var S=d(c,y,b,this.reporter);if(w.length<128){var T=new i(2);return T[0]=S,T[1]=w.length,this._createEncoderBuffer([T,w])}for(var C=1,R=w.length;R>=256;R>>=8)C++;var T=new i(2+C);T[0]=S,T[1]=128|C;for(var R=1+C,P=w.length;P>0;R--,P>>=8)T[R]=P&255;return this._createEncoderBuffer([T,w])},g.prototype._encodeStr=function(c,y){if(y==="bitstr")return this._createEncoderBuffer([c.unused|0,c.data]);if(y==="bmpstr"){for(var b=new i(c.length*2),w=0;w<c.length;w++)b.writeUInt16BE(c.charCodeAt(w),w*2);return this._createEncoderBuffer(b)}else return y==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(c):y==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+y+" unsupported")},g.prototype._encodeObjid=function(c,y,b){if(typeof c=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=y[c].split(/[\s\.]+/g);for(var w=0;w<c.length;w++)c[w]|=0}else if(Array.isArray(c)){c=c.slice();for(var w=0;w<c.length;w++)c[w]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!b){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,c[0]*40+c[1])}for(var S=0,w=0;w<c.length;w++){var C=c[w];for(S++;C>=128;C>>=7)S++}for(var R=new i(S),T=R.length-1,w=c.length-1;w>=0;w--){var C=c[w];for(R[T--]=C&127;(C>>=7)>0;)R[T--]=128|C&127}return this._createEncoderBuffer(R)};function h(c){return c<10?"0"+c:c}n(h,"X"),g.prototype._encodeTime=function(c,y){var b,w=new Date(c);return y==="gentime"?b=[h(w.getFullYear()),h(w.getUTCMonth()+1),h(w.getUTCDate()),h(w.getUTCHours()),h(w.getUTCMinutes()),h(w.getUTCSeconds()),"Z"].join(""):y==="utctime"?b=[h(w.getFullYear()%100),h(w.getUTCMonth()+1),h(w.getUTCDate()),h(w.getUTCHours()),h(w.getUTCMinutes()),h(w.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(b,"octstr")},g.prototype._encodeNull=function(){return this._createEncoderBuffer("")},g.prototype._encodeInt=function(c,y){if(typeof c=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=y[c]}if(typeof c!="number"&&!i.isBuffer(c)){var b=c.toArray();!c.sign&&b[0]&128&&b.unshift(0),c=new i(b)}if(i.isBuffer(c)){var w=c.length;c.length===0&&w++;var C=new i(w);return c.copy(C),c.length===0&&(C[0]=0),this._createEncoderBuffer(C)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);for(var w=1,S=c;S>=256;S>>=8)w++;for(var C=Array(w),S=C.length-1;S>=0;S--)C[S]=c&255,c>>=8;return C[0]&128&&C.unshift(0),this._createEncoderBuffer(new i(C))},g.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},g.prototype._use=function(c,y){return typeof c=="function"&&(c=c(y)),c._getEncoder("der").tree},g.prototype._skipDefault=function(c,y,b){var w=this._baseState,S;if(w.default===null)return!1;var C=c.join();if(w.defaultBuffer===void 0&&(w.defaultBuffer=this._encodeValue(w.default,y,b).join()),C.length!==w.defaultBuffer.length)return!1;for(S=0;S<C.length;S++)if(C[S]!==w.defaultBuffer[S])return!1;return!0};function d(c,y,b,w){var S;if(c==="seqof"?c="seq":c==="setof"&&(c="set"),a.tagByName.hasOwnProperty(c))S=a.tagByName[c];else if(typeof c=="number"&&(c|0)===c)S=c;else return w.error("Unknown tag: "+c);return S>=31?w.error("Multi-octet tag encoding unsupported"):(y||(S|=32),S|=a.tagClassByName[b||"universal"]<<6,S)}n(d,"Z")}),R6=st((t,e)=>{var r=jr(),i=I0();function s(l){i.call(this,l),this.enc="pem"}n(s,"P"),r(s,i),e.exports=s,s.prototype.encode=function(l,a){for(var v=i.prototype.encode.call(this,l),g=v.toString("base64"),h=["-----BEGIN "+a.label+"-----"],d=0;d<g.length;d+=64)h.push(g.slice(d,d+64));return h.push("-----END "+a.label+"-----"),h.join(`
`)}}),I6=st(t=>{var e=t;e.der=I0(),e.pem=R6()}),js=st(t=>{var e=t;e.bignum=M6(),e.define=S6().define,e.base=Os(),e.constants=C0(),e.decoders=C6(),e.encoders=I6()}),T6=st((t,e)=>{var r=js(),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),v=r.define("RelativeDistinguishedName",function(){this.setof(s)}),g=r.define("RDNSequence",function(){this.seqof(v)}),h=r.define("Name",function(){this.choice({rdnSequence:this.use(g)})}),d=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),c=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(c).optional())}),b=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});e.exports=b}),P6=st(t=>{var e=js();t.certificate=T6();var r=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=r;var i=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=i;var s=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=l;var a=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=a;var v=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=v;var g=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=g,t.DSAparam=e.define("DSAparam",function(){this.int()});var h=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),d=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=d,t.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),O6=st((t,e)=>{e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),j6=st((t,e)=>{var r=kr().Buffer,i=Y_().Transform,s=jr();function l(h){i.call(this),this._block=r.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(l,"O"),s(l,i),l.prototype._transform=function(h,d,c){var y=null;try{this.update(h,d)}catch(b){y=b}c(y)},l.prototype._flush=function(h){var d=null;try{this.push(this.digest())}catch(c){d=c}h(d)};var a=typeof Uint8Array<"u",v=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);function g(h,d){if(h instanceof r)return h;if(typeof h=="string")return r.from(h,d);if(v&&ArrayBuffer.isView(h)){if(h.byteLength===0)return r.alloc(0);var c=r.from(h.buffer,h.byteOffset,h.byteLength);if(c.byteLength===h.byteLength)return c}if(a&&h instanceof Uint8Array||r.isBuffer(h)&&h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h))return r.from(h);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}n(g,"v"),l.prototype.update=function(h,d){if(this._finalized)throw Error("Digest already called");h=g(h,d);for(var c=this._block,y=0;this._blockOffset+h.length-y>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)c[b++]=h[y++];this._update(),this._blockOffset=0}for(;y<h.length;)c[this._blockOffset++]=h[y++];for(var w=0,S=h.length*8;S>0;++w)this._length[w]+=S,S=this._length[w]/4294967296|0,S>0&&(this._length[w]-=4294967296*S);return this},l.prototype._update=function(){throw Error("_update is not implemented")},l.prototype.digest=function(h){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var d=this._digest();h!==void 0&&(d=d.toString(h)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return d},l.prototype._digest=function(){throw Error("_digest is not implemented")},e.exports=l}),L6=st((t,e)=>{var r=jr(),i=j6(),s=kr().Buffer,l=Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}n(a,"Y"),r(a,i),a.prototype._update=function(){for(var y=l,b=0;b<16;++b)y[b]=this._block.readInt32LE(b*4);var w=this._a,S=this._b,C=this._c,R=this._d;w=g(w,S,C,R,y[0],3614090360,7),R=g(R,w,S,C,y[1],3905402710,12),C=g(C,R,w,S,y[2],606105819,17),S=g(S,C,R,w,y[3],3250441966,22),w=g(w,S,C,R,y[4],4118548399,7),R=g(R,w,S,C,y[5],1200080426,12),C=g(C,R,w,S,y[6],2821735955,17),S=g(S,C,R,w,y[7],4249261313,22),w=g(w,S,C,R,y[8],1770035416,7),R=g(R,w,S,C,y[9],2336552879,12),C=g(C,R,w,S,y[10],4294925233,17),S=g(S,C,R,w,y[11],2304563134,22),w=g(w,S,C,R,y[12],1804603682,7),R=g(R,w,S,C,y[13],4254626195,12),C=g(C,R,w,S,y[14],2792965006,17),S=g(S,C,R,w,y[15],1236535329,22),w=h(w,S,C,R,y[1],4129170786,5),R=h(R,w,S,C,y[6],3225465664,9),C=h(C,R,w,S,y[11],643717713,14),S=h(S,C,R,w,y[0],3921069994,20),w=h(w,S,C,R,y[5],3593408605,5),R=h(R,w,S,C,y[10],38016083,9),C=h(C,R,w,S,y[15],3634488961,14),S=h(S,C,R,w,y[4],3889429448,20),w=h(w,S,C,R,y[9],568446438,5),R=h(R,w,S,C,y[14],3275163606,9),C=h(C,R,w,S,y[3],4107603335,14),S=h(S,C,R,w,y[8],1163531501,20),w=h(w,S,C,R,y[13],2850285829,5),R=h(R,w,S,C,y[2],4243563512,9),C=h(C,R,w,S,y[7],1735328473,14),S=h(S,C,R,w,y[12],2368359562,20),w=d(w,S,C,R,y[5],4294588738,4),R=d(R,w,S,C,y[8],2272392833,11),C=d(C,R,w,S,y[11],1839030562,16),S=d(S,C,R,w,y[14],4259657740,23),w=d(w,S,C,R,y[1],2763975236,4),R=d(R,w,S,C,y[4],1272893353,11),C=d(C,R,w,S,y[7],4139469664,16),S=d(S,C,R,w,y[10],3200236656,23),w=d(w,S,C,R,y[13],681279174,4),R=d(R,w,S,C,y[0],3936430074,11),C=d(C,R,w,S,y[3],3572445317,16),S=d(S,C,R,w,y[6],76029189,23),w=d(w,S,C,R,y[9],3654602809,4),R=d(R,w,S,C,y[12],3873151461,11),C=d(C,R,w,S,y[15],530742520,16),S=d(S,C,R,w,y[2],3299628645,23),w=c(w,S,C,R,y[0],4096336452,6),R=c(R,w,S,C,y[7],1126891415,10),C=c(C,R,w,S,y[14],2878612391,15),S=c(S,C,R,w,y[5],4237533241,21),w=c(w,S,C,R,y[12],1700485571,6),R=c(R,w,S,C,y[3],2399980690,10),C=c(C,R,w,S,y[10],4293915773,15),S=c(S,C,R,w,y[1],2240044497,21),w=c(w,S,C,R,y[8],1873313359,6),R=c(R,w,S,C,y[15],4264355552,10),C=c(C,R,w,S,y[6],2734768916,15),S=c(S,C,R,w,y[13],1309151649,21),w=c(w,S,C,R,y[4],4149444226,6),R=c(R,w,S,C,y[11],3174756917,10),C=c(C,R,w,S,y[2],718787259,15),S=c(S,C,R,w,y[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+S|0,this._c=this._c+C|0,this._d=this._d+R|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=s.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function v(y,b){return y<<b|y>>>32-b}n(v,"H");function g(y,b,w,S,C,R,T){return v(y+(b&w|~b&S)+C+R|0,T)+b|0}n(g,"v");function h(y,b,w,S,C,R,T){return v(y+(b&S|w&~S)+C+R|0,T)+b|0}n(h,"X");function d(y,b,w,S,C,R,T){return v(y+(b^w^S)+C+R|0,T)+b|0}n(d,"Z");function c(y,b,w,S,C,R,T){return v(y+(w^(b|~S))+C+R|0,T)+b|0}n(c,"k"),e.exports=a}),D6=st((t,e)=>{var r=kr().Buffer,i=L6();function s(l,a,v,g){if(r.isBuffer(l)||(l=r.from(l,"binary")),a&&(r.isBuffer(a)||(a=r.from(a,"binary")),a.length!==8))throw RangeError("salt should be Buffer with 8 byte length");for(var h=v/8,d=r.alloc(h),c=r.alloc(g||0),y=r.alloc(0);h>0||g>0;){var b=new i;b.update(y),b.update(l),a&&b.update(a),y=b.digest();var w=0;if(h>0){var S=d.length-h;w=Math.min(h,y.length),y.copy(d,S,0,w),h-=w}if(w<y.length&&g>0){var C=c.length-g,R=Math.min(g,y.length-w);y.copy(c,C,w,w+R),g-=R}}return y.fill(0),{key:d,iv:c}}n(s,"P"),e.exports=s}),T0=st(t=>{var e=($r(),$t(Lr));t.createCipher=t.Cipher=e.createCipher,t.createCipheriv=t.Cipheriv=e.createCipheriv,t.createDecipher=t.Decipher=e.createDecipher,t.createDecipheriv=t.Decipheriv=e.createDecipheriv,t.listCiphers=t.getCiphers=e.getCiphers}),B6=st((t,e)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=D6(),a=T0(),v=kr().Buffer;e.exports=function(g,h){var d=g.toString(),c=d.match(r),y;if(c){var w="aes"+c[1],S=v.from(c[2],"hex"),C=v.from(c[3].replace(/[\r\n]/g,""),"base64"),R=l(h,S.slice(0,8),parseInt(c[1],10)).key,T=[],P=a.createDecipheriv(w,R,S);T.push(P.update(C)),T.push(P.final()),y=v.concat(T)}else{var b=d.match(s);y=v.from(b[2].replace(/[\r\n]/g,""),"base64")}var O=d.match(i)[1];return{tag:O,data:y}}}),P0=st((t,e)=>{var r=P6(),i=O6(),s=B6(),l=T0(),a=x0(),v=kr().Buffer;function g(d,c){var y=d.algorithm.decrypt.kde.kdeparams.salt,b=parseInt(d.algorithm.decrypt.kde.kdeparams.iters.toString(),10),w=i[d.algorithm.decrypt.cipher.algo.join(".")],S=d.algorithm.decrypt.cipher.iv,C=d.subjectPrivateKey,R=parseInt(w.split("-")[1],10)/8,T=a.pbkdf2Sync(c,y,b,R,"sha1"),P=l.createDecipheriv(w,T,S),O=[];return O.push(P.update(C)),O.push(P.final()),v.concat(O)}n(g,"v");function h(d){var c;typeof d=="object"&&!v.isBuffer(d)&&(c=d.passphrase,d=d.key),typeof d=="string"&&(d=v.from(d));var y=s(d,c),b=y.tag,w=y.data,S,C;switch(b){case"CERTIFICATE":C=r.certificate.decode(w,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(C||(C=r.PublicKey.decode(w,"der")),S=C.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(C.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return C.subjectPrivateKey=C.subjectPublicKey,{type:"ec",data:C};case"1.2.840.10040.4.1":return C.algorithm.params.pub_key=r.DSAparam.decode(C.subjectPublicKey.data,"der"),{type:"dsa",data:C.algorithm.params};default:throw Error("unknown key id "+S)}case"ENCRYPTED PRIVATE KEY":w=r.EncryptedPrivateKey.decode(w,"der"),w=g(w,c);case"PRIVATE KEY":switch(C=r.PrivateKey.decode(w,"der"),S=C.algorithm.algorithm.join("."),S){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(C.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:C.algorithm.curve,privateKey:r.ECPrivateKey.decode(C.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return C.algorithm.params.priv_key=r.DSAparam.decode(C.subjectPrivateKey,"der"),{type:"dsa",params:C.algorithm.params};default:throw Error("unknown key id "+S)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(w,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(w,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(w,"der")};case"EC PRIVATE KEY":return w=r.ECPrivateKey.decode(w,"der"),{curve:w.parameters.value,privateKey:w.privateKey};default:throw Error("unknown key type "+b)}}n(h,"X"),h.signature=r.signature,e.exports=h}),O0=st((t,e)=>{var r=ka(),i=kr().Buffer;e.exports=function(l,a){for(var v=i.alloc(0),g=0,h;v.length<a;)h=s(g++),v=i.concat([v,r("sha1").update(l).update(h).digest()]);return v.slice(0,a)};function s(l){var a=i.allocUnsafe(4);return a.writeUInt32BE(l,0),a}n(s,"P")}),j0=st((t,e)=>{e.exports=function(r,i){for(var s=r.length,l=-1;++l<s;)r[l]^=i[l];return r}}),Fl=st((t,e)=>{(function(r,i){function s(u,m){if(!u)throw Error(m||"Assertion failed")}n(s,"P");function l(u,m){u.super_=m;var o=n(function(){},"J");o.prototype=m.prototype,u.prototype=new o,u.prototype.constructor=u}n(l,"O");function a(u,m,o){if(a.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((m==="le"||m==="be")&&(o=m,m=10),this._init(u||0,m||10,o||"be"))}n(a,"Y"),typeof r=="object"?r.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=(wr(),$t(gr)).Buffer}catch{}a.isBN=function(u){return u instanceof a?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===a.wordSize&&Array.isArray(u.words)},a.max=function(u,m){return u.cmp(m)>0?u:m},a.min=function(u,m){return u.cmp(m)<0?u:m},a.prototype._init=function(u,m,o){if(typeof u=="number")return this._initNumber(u,m,o);if(typeof u=="object")return this._initArray(u,m,o);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),u=u.toString().replace(/\s+/g,"");var p=0;u[0]==="-"&&(p++,this.negative=1),p<u.length&&(m===16?this._parseHex(u,p,o):(this._parseBase(u,m,p),o==="le"&&this._initArray(this.toArray(),m,o)))},a.prototype._initNumber=function(u,m,o){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(s(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),m,o)},a.prototype._initArray=function(u,m,o){if(s(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x,A,k=0;if(o==="be")for(p=u.length-1,x=0;p>=0;p-=3)A=u[p]|u[p-1]<<8|u[p-2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);else if(o==="le")for(p=0,x=0;p<u.length;p+=3)A=u[p]|u[p+1]<<8|u[p+2]<<16,this.words[x]|=A<<k&67108863,this.words[x+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,x++);return this.strip()};function g(u,m){var o=u.charCodeAt(m);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}n(g,"v");function h(u,m,o){var p=g(u,o);return o-1>=m&&(p|=g(u,o-1)<<4),p}n(h,"X"),a.prototype._parseHex=function(u,m,o){this.length=Math.ceil((u.length-m)/6),this.words=Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var x=0,A=0,k;if(o==="be")for(p=u.length-1;p>=m;p-=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8;else{var M=u.length-m;for(p=M%2===0?m+1:m;p<u.length;p+=2)k=h(u,m,p)<<x,this.words[A]|=k&67108863,x>=18?(x-=18,A+=1,this.words[A]|=k>>>26):x+=8}this.strip()};function d(u,m,o,p){for(var x=0,A=Math.min(u.length,o),k=m;k<A;k++){var M=u.charCodeAt(k)-48;x*=p,M>=49?x+=M-49+10:M>=17?x+=M-17+10:x+=M}return x}n(d,"Z"),a.prototype._parseBase=function(u,m,o){this.words=[0],this.length=1;for(var p=0,x=1;x<=67108863;x*=m)p++;p--,x=x/m|0;for(var A=u.length-o,k=A%p,M=Math.min(A,A-k)+o,f=0,_=o;_<M;_+=p)f=d(u,_,_+p,m),this.imuln(x),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var E=1;for(f=d(u,_,u.length,m),_=0;_<k;_++)E*=m;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},a.prototype.copy=function(u){u.words=Array(this.length);for(var m=0;m<this.length;m++)u.words[m]=this.words[m];u.length=this.length,u.negative=this.negative,u.red=this.red},a.prototype.clone=function(){var u=new a(null);return this.copy(u),u},a.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(u,m){u=u||10,m=m|0||1;var o;if(u===16||u==="hex"){o="";for(var p=0,x=0,A=0;A<this.length;A++){var k=this.words[A],M=((k<<p|x)&16777215).toString(16);x=k>>>24-p&16777215,p+=2,p>=26&&(p-=26,A--),x!==0||A!==this.length-1?o=c[6-M.length]+M+o:o=M+o}for(x!==0&&(o=x.toString(16)+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];o="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?o=I+o:o=c[f-I.length]+I+o}for(this.isZero()&&(o="0"+o);o.length%m!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(u,m){return s(typeof v<"u"),this.toArrayLike(v,u,m)},a.prototype.toArray=function(u,m){return this.toArrayLike(Array,u,m)},a.prototype.toArrayLike=function(u,m,o){var p=this.byteLength(),x=o||Math.max(1,p);s(p<=x,"byte array longer than desired length"),s(x>0,"Requested array length <= 0"),this.strip();var A=m==="le",k=new u(x),M,f,_=this.clone();if(A){for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[f]=M;for(;f<x;f++)k[f]=0}else{for(f=0;f<x-p;f++)k[f]=0;for(f=0;!_.isZero();f++)M=_.andln(255),_.iushrn(8),k[x-f-1]=M}return k},Math.clz32?a.prototype._countBits=function(u){return 32-Math.clz32(u)}:a.prototype._countBits=function(u){var m=u,o=0;return m>=4096&&(o+=13,m>>>=13),m>=64&&(o+=7,m>>>=7),m>=8&&(o+=4,m>>>=4),m>=2&&(o+=2,m>>>=2),o+m},a.prototype._zeroBits=function(u){if(u===0)return 26;var m=u,o=0;return(m&8191)===0&&(o+=13,m>>>=13),(m&127)===0&&(o+=7,m>>>=7),(m&15)===0&&(o+=4,m>>>=4),(m&3)===0&&(o+=2,m>>>=2),(m&1)===0&&o++,o},a.prototype.bitLength=function(){var u=this.words[this.length-1],m=this._countBits(u);return(this.length-1)*26+m};function w(u){for(var m=Array(u.bitLength()),o=0;o<m.length;o++){var p=o/26|0,x=o%26;m[o]=(u.words[p]&1<<x)>>>x}return m}n(w,"N"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,m=0;m<this.length;m++){var o=this._zeroBits(this.words[m]);if(u+=o,o!==26)break}return u},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},a.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]|u.words[m];return this.strip()},a.prototype.ior=function(u){return s((this.negative|u.negative)===0),this.iuor(u)},a.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},a.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},a.prototype.iuand=function(u){var m;this.length>u.length?m=u:m=this;for(var o=0;o<m.length;o++)this.words[o]=this.words[o]&u.words[o];return this.length=m.length,this.strip()},a.prototype.iand=function(u){return s((this.negative|u.negative)===0),this.iuand(u)},a.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},a.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},a.prototype.iuxor=function(u){var m,o;this.length>u.length?(m=this,o=u):(m=u,o=this);for(var p=0;p<o.length;p++)this.words[p]=m.words[p]^o.words[p];if(this!==m)for(;p<m.length;p++)this.words[p]=m.words[p];return this.length=m.length,this.strip()},a.prototype.ixor=function(u){return s((this.negative|u.negative)===0),this.iuxor(u)},a.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},a.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},a.prototype.inotn=function(u){s(typeof u=="number"&&u>=0);var m=Math.ceil(u/26)|0,o=u%26;this._expand(m),o>0&&m--;for(var p=0;p<m;p++)this.words[p]=~this.words[p]&67108863;return o>0&&(this.words[p]=~this.words[p]&67108863>>26-o),this.strip()},a.prototype.notn=function(u){return this.clone().inotn(u)},a.prototype.setn=function(u,m){s(typeof u=="number"&&u>=0);var o=u/26|0,p=u%26;return this._expand(o+1),m?this.words[o]=this.words[o]|1<<p:this.words[o]=this.words[o]&~(1<<p),this.strip()},a.prototype.iadd=function(u){var m;if(this.negative!==0&&u.negative===0)return this.negative=0,m=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,m=this.isub(u),u.negative=1,m._normSign();var o,p;this.length>u.length?(o=this,p=u):(o=u,p=this);for(var x=0,A=0;A<p.length;A++)m=(o.words[A]|0)+(p.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;for(;x!==0&&A<o.length;A++)m=(o.words[A]|0)+x,this.words[A]=m&67108863,x=m>>>26;if(this.length=o.length,x!==0)this.words[this.length]=x,this.length++;else if(o!==this)for(;A<o.length;A++)this.words[A]=o.words[A];return this},a.prototype.add=function(u){var m;return u.negative!==0&&this.negative===0?(u.negative=0,m=this.sub(u),u.negative^=1,m):u.negative===0&&this.negative!==0?(this.negative=0,m=u.sub(this),this.negative=1,m):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},a.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var m=this.iadd(u);return u.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var o=this.cmp(u);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,x;o>0?(p=this,x=u):(p=u,x=this);for(var A=0,k=0;k<x.length;k++)m=(p.words[k]|0)-(x.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;for(;A!==0&&k<p.length;k++)m=(p.words[k]|0)+A,A=m>>26,this.words[k]=m&67108863;if(A===0&&k<p.length&&p!==this)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=Math.max(this.length,k),p!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(u){return this.clone().isub(u)};function S(u,m,o){o.negative=m.negative^u.negative;var p=u.length+m.length|0;o.length=p,p=p-1|0;var x=u.words[0]|0,A=m.words[0]|0,k=x*A,M=k&67108863,f=k/67108864|0;o.words[0]=M;for(var _=1;_<p;_++){for(var E=f>>>26,I=f&67108863,L=Math.min(_,m.length-1),D=Math.max(0,_-u.length+1);D<=L;D++){var F=_-D|0;x=u.words[F]|0,A=m.words[D]|0,k=x*A+I,E+=k/67108864|0,I=k&67108863}o.words[_]=I|0,f=E|0}return f!==0?o.words[_]=f|0:o.length--,o.strip()}n(S,"E");var C=n(function(u,m,o){var p=u.words,x=m.words,A=o.words,k=0,M,f,_,E=p[0]|0,I=E&8191,L=E>>>13,D=p[1]|0,F=D&8191,z=D>>>13,H=p[2]|0,V=H&8191,Y=H>>>13,Me=p[3]|0,se=Me&8191,ae=Me>>>13,ye=p[4]|0,G=ye&8191,re=ye>>>13,X=p[5]|0,Q=X&8191,le=X>>>13,Ae=p[6]|0,pe=Ae&8191,fe=Ae>>>13,J=p[7]|0,q=J&8191,te=J>>>13,de=p[8]|0,oe=de&8191,ue=de>>>13,Be=p[9]|0,we=Be&8191,De=Be>>>13,Xe=x[0]|0,ve=Xe&8191,Fe=Xe>>>13,ce=x[1]|0,be=ce&8191,Oe=ce>>>13,Te=x[2]|0,ke=Te&8191,ze=Te>>>13,Je=x[3]|0,Ce=Je&8191,Ee=Je>>>13,je=x[4]|0,_e=je&8191,He=je>>>13,Ke=x[5]|0,ie=Ke&8191,me=Ke>>>13,Ie=x[6]|0,xe=Ie&8191,Pe=Ie>>>13,Ze=x[7]|0,ne=Ze&8191,Ne=Ze>>>13,$e=x[8]|0,ge=$e&8191,Ge=$e>>>13,et=x[9]|0,Le=et&8191,Qe=et>>>13;o.negative=u.negative^m.negative,o.length=19,M=Math.imul(I,ve),f=Math.imul(I,Fe),f=f+Math.imul(L,ve)|0,_=Math.imul(L,Fe);var Re=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Re>>>26)|0,Re&=67108863,M=Math.imul(F,ve),f=Math.imul(F,Fe),f=f+Math.imul(z,ve)|0,_=Math.imul(z,Fe),M=M+Math.imul(I,be)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(L,be)|0,_=_+Math.imul(L,Oe)|0;var Ue=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,M=Math.imul(V,ve),f=Math.imul(V,Fe),f=f+Math.imul(Y,ve)|0,_=Math.imul(Y,Fe),M=M+Math.imul(F,be)|0,f=f+Math.imul(F,Oe)|0,f=f+Math.imul(z,be)|0,_=_+Math.imul(z,Oe)|0,M=M+Math.imul(I,ke)|0,f=f+Math.imul(I,ze)|0,f=f+Math.imul(L,ke)|0,_=_+Math.imul(L,ze)|0;var at=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(at>>>26)|0,at&=67108863,M=Math.imul(se,ve),f=Math.imul(se,Fe),f=f+Math.imul(ae,ve)|0,_=Math.imul(ae,Fe),M=M+Math.imul(V,be)|0,f=f+Math.imul(V,Oe)|0,f=f+Math.imul(Y,be)|0,_=_+Math.imul(Y,Oe)|0,M=M+Math.imul(F,ke)|0,f=f+Math.imul(F,ze)|0,f=f+Math.imul(z,ke)|0,_=_+Math.imul(z,ze)|0,M=M+Math.imul(I,Ce)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(L,Ce)|0,_=_+Math.imul(L,Ee)|0;var bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(bt>>>26)|0,bt&=67108863,M=Math.imul(G,ve),f=Math.imul(G,Fe),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Fe),M=M+Math.imul(se,be)|0,f=f+Math.imul(se,Oe)|0,f=f+Math.imul(ae,be)|0,_=_+Math.imul(ae,Oe)|0,M=M+Math.imul(V,ke)|0,f=f+Math.imul(V,ze)|0,f=f+Math.imul(Y,ke)|0,_=_+Math.imul(Y,ze)|0,M=M+Math.imul(F,Ce)|0,f=f+Math.imul(F,Ee)|0,f=f+Math.imul(z,Ce)|0,_=_+Math.imul(z,Ee)|0,M=M+Math.imul(I,_e)|0,f=f+Math.imul(I,He)|0,f=f+Math.imul(L,_e)|0,_=_+Math.imul(L,He)|0;var ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,M=Math.imul(Q,ve),f=Math.imul(Q,Fe),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Fe),M=M+Math.imul(G,be)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Oe)|0,M=M+Math.imul(se,ke)|0,f=f+Math.imul(se,ze)|0,f=f+Math.imul(ae,ke)|0,_=_+Math.imul(ae,ze)|0,M=M+Math.imul(V,Ce)|0,f=f+Math.imul(V,Ee)|0,f=f+Math.imul(Y,Ce)|0,_=_+Math.imul(Y,Ee)|0,M=M+Math.imul(F,_e)|0,f=f+Math.imul(F,He)|0,f=f+Math.imul(z,_e)|0,_=_+Math.imul(z,He)|0,M=M+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(L,ie)|0,_=_+Math.imul(L,me)|0;var St=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(St>>>26)|0,St&=67108863,M=Math.imul(pe,ve),f=Math.imul(pe,Fe),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Fe),M=M+Math.imul(Q,be)|0,f=f+Math.imul(Q,Oe)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Oe)|0,M=M+Math.imul(G,ke)|0,f=f+Math.imul(G,ze)|0,f=f+Math.imul(re,ke)|0,_=_+Math.imul(re,ze)|0,M=M+Math.imul(se,Ce)|0,f=f+Math.imul(se,Ee)|0,f=f+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,Ee)|0,M=M+Math.imul(V,_e)|0,f=f+Math.imul(V,He)|0,f=f+Math.imul(Y,_e)|0,_=_+Math.imul(Y,He)|0,M=M+Math.imul(F,ie)|0,f=f+Math.imul(F,me)|0,f=f+Math.imul(z,ie)|0,_=_+Math.imul(z,me)|0,M=M+Math.imul(I,xe)|0,f=f+Math.imul(I,Pe)|0,f=f+Math.imul(L,xe)|0,_=_+Math.imul(L,Pe)|0;var Bt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,M=Math.imul(q,ve),f=Math.imul(q,Fe),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Fe),M=M+Math.imul(pe,be)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Oe)|0,M=M+Math.imul(Q,ke)|0,f=f+Math.imul(Q,ze)|0,f=f+Math.imul(le,ke)|0,_=_+Math.imul(le,ze)|0,M=M+Math.imul(G,Ce)|0,f=f+Math.imul(G,Ee)|0,f=f+Math.imul(re,Ce)|0,_=_+Math.imul(re,Ee)|0,M=M+Math.imul(se,_e)|0,f=f+Math.imul(se,He)|0,f=f+Math.imul(ae,_e)|0,_=_+Math.imul(ae,He)|0,M=M+Math.imul(V,ie)|0,f=f+Math.imul(V,me)|0,f=f+Math.imul(Y,ie)|0,_=_+Math.imul(Y,me)|0,M=M+Math.imul(F,xe)|0,f=f+Math.imul(F,Pe)|0,f=f+Math.imul(z,xe)|0,_=_+Math.imul(z,Pe)|0,M=M+Math.imul(I,ne)|0,f=f+Math.imul(I,Ne)|0,f=f+Math.imul(L,ne)|0,_=_+Math.imul(L,Ne)|0;var Et=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,M=Math.imul(oe,ve),f=Math.imul(oe,Fe),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Fe),M=M+Math.imul(q,be)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Oe)|0,M=M+Math.imul(pe,ke)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(fe,ke)|0,_=_+Math.imul(fe,ze)|0,M=M+Math.imul(Q,Ce)|0,f=f+Math.imul(Q,Ee)|0,f=f+Math.imul(le,Ce)|0,_=_+Math.imul(le,Ee)|0,M=M+Math.imul(G,_e)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(re,_e)|0,_=_+Math.imul(re,He)|0,M=M+Math.imul(se,ie)|0,f=f+Math.imul(se,me)|0,f=f+Math.imul(ae,ie)|0,_=_+Math.imul(ae,me)|0,M=M+Math.imul(V,xe)|0,f=f+Math.imul(V,Pe)|0,f=f+Math.imul(Y,xe)|0,_=_+Math.imul(Y,Pe)|0,M=M+Math.imul(F,ne)|0,f=f+Math.imul(F,Ne)|0,f=f+Math.imul(z,ne)|0,_=_+Math.imul(z,Ne)|0,M=M+Math.imul(I,ge)|0,f=f+Math.imul(I,Ge)|0,f=f+Math.imul(L,ge)|0,_=_+Math.imul(L,Ge)|0;var Mt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,M=Math.imul(we,ve),f=Math.imul(we,Fe),f=f+Math.imul(De,ve)|0,_=Math.imul(De,Fe),M=M+Math.imul(oe,be)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Oe)|0,M=M+Math.imul(q,ke)|0,f=f+Math.imul(q,ze)|0,f=f+Math.imul(te,ke)|0,_=_+Math.imul(te,ze)|0,M=M+Math.imul(pe,Ce)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,Ee)|0,M=M+Math.imul(Q,_e)|0,f=f+Math.imul(Q,He)|0,f=f+Math.imul(le,_e)|0,_=_+Math.imul(le,He)|0,M=M+Math.imul(G,ie)|0,f=f+Math.imul(G,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,M=M+Math.imul(se,xe)|0,f=f+Math.imul(se,Pe)|0,f=f+Math.imul(ae,xe)|0,_=_+Math.imul(ae,Pe)|0,M=M+Math.imul(V,ne)|0,f=f+Math.imul(V,Ne)|0,f=f+Math.imul(Y,ne)|0,_=_+Math.imul(Y,Ne)|0,M=M+Math.imul(F,ge)|0,f=f+Math.imul(F,Ge)|0,f=f+Math.imul(z,ge)|0,_=_+Math.imul(z,Ge)|0,M=M+Math.imul(I,Le)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(L,Le)|0,_=_+Math.imul(L,Qe)|0;var zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,M=Math.imul(we,be),f=Math.imul(we,Oe),f=f+Math.imul(De,be)|0,_=Math.imul(De,Oe),M=M+Math.imul(oe,ke)|0,f=f+Math.imul(oe,ze)|0,f=f+Math.imul(ue,ke)|0,_=_+Math.imul(ue,ze)|0,M=M+Math.imul(q,Ce)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(te,Ce)|0,_=_+Math.imul(te,Ee)|0,M=M+Math.imul(pe,_e)|0,f=f+Math.imul(pe,He)|0,f=f+Math.imul(fe,_e)|0,_=_+Math.imul(fe,He)|0,M=M+Math.imul(Q,ie)|0,f=f+Math.imul(Q,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,M=M+Math.imul(G,xe)|0,f=f+Math.imul(G,Pe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Pe)|0,M=M+Math.imul(se,ne)|0,f=f+Math.imul(se,Ne)|0,f=f+Math.imul(ae,ne)|0,_=_+Math.imul(ae,Ne)|0,M=M+Math.imul(V,ge)|0,f=f+Math.imul(V,Ge)|0,f=f+Math.imul(Y,ge)|0,_=_+Math.imul(Y,Ge)|0,M=M+Math.imul(F,Le)|0,f=f+Math.imul(F,Qe)|0,f=f+Math.imul(z,Le)|0,_=_+Math.imul(z,Qe)|0;var Ht=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,M=Math.imul(we,ke),f=Math.imul(we,ze),f=f+Math.imul(De,ke)|0,_=Math.imul(De,ze),M=M+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ce)|0,_=_+Math.imul(ue,Ee)|0,M=M+Math.imul(q,_e)|0,f=f+Math.imul(q,He)|0,f=f+Math.imul(te,_e)|0,_=_+Math.imul(te,He)|0,M=M+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,M=M+Math.imul(Q,xe)|0,f=f+Math.imul(Q,Pe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Pe)|0,M=M+Math.imul(G,ne)|0,f=f+Math.imul(G,Ne)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,Ne)|0,M=M+Math.imul(se,ge)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(ae,ge)|0,_=_+Math.imul(ae,Ge)|0,M=M+Math.imul(V,Le)|0,f=f+Math.imul(V,Qe)|0,f=f+Math.imul(Y,Le)|0,_=_+Math.imul(Y,Qe)|0;var Lt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,M=Math.imul(we,Ce),f=Math.imul(we,Ee),f=f+Math.imul(De,Ce)|0,_=Math.imul(De,Ee),M=M+Math.imul(oe,_e)|0,f=f+Math.imul(oe,He)|0,f=f+Math.imul(ue,_e)|0,_=_+Math.imul(ue,He)|0,M=M+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,M=M+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Pe)|0,M=M+Math.imul(Q,ne)|0,f=f+Math.imul(Q,Ne)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,Ne)|0,M=M+Math.imul(G,ge)|0,f=f+Math.imul(G,Ge)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Ge)|0,M=M+Math.imul(se,Le)|0,f=f+Math.imul(se,Qe)|0,f=f+Math.imul(ae,Le)|0,_=_+Math.imul(ae,Qe)|0;var Ft=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,M=Math.imul(we,_e),f=Math.imul(we,He),f=f+Math.imul(De,_e)|0,_=Math.imul(De,He),M=M+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,M=M+Math.imul(q,xe)|0,f=f+Math.imul(q,Pe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Pe)|0,M=M+Math.imul(pe,ne)|0,f=f+Math.imul(pe,Ne)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,Ne)|0,M=M+Math.imul(Q,ge)|0,f=f+Math.imul(Q,Ge)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Ge)|0,M=M+Math.imul(G,Le)|0,f=f+Math.imul(G,Qe)|0,f=f+Math.imul(re,Le)|0,_=_+Math.imul(re,Qe)|0;var Nt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,M=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(De,ie)|0,_=Math.imul(De,me),M=M+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Pe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Pe)|0,M=M+Math.imul(q,ne)|0,f=f+Math.imul(q,Ne)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,Ne)|0,M=M+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Ge)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Ge)|0,M=M+Math.imul(Q,Le)|0,f=f+Math.imul(Q,Qe)|0,f=f+Math.imul(le,Le)|0,_=_+Math.imul(le,Qe)|0;var Dt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,M=Math.imul(we,xe),f=Math.imul(we,Pe),f=f+Math.imul(De,xe)|0,_=Math.imul(De,Pe),M=M+Math.imul(oe,ne)|0,f=f+Math.imul(oe,Ne)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,Ne)|0,M=M+Math.imul(q,ge)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Ge)|0,M=M+Math.imul(pe,Le)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,M=Math.imul(we,ne),f=Math.imul(we,Ne),f=f+Math.imul(De,ne)|0,_=Math.imul(De,Ne),M=M+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Ge)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Ge)|0,M=M+Math.imul(q,Le)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(te,Le)|0,_=_+Math.imul(te,Qe)|0;var Zt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,M=Math.imul(we,ge),f=Math.imul(we,Ge),f=f+Math.imul(De,ge)|0,_=Math.imul(De,Ge),M=M+Math.imul(oe,Le)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,Le)|0,_=_+Math.imul(ue,Qe)|0;var Vt=(k+M|0)+((f&8191)<<13)|0;k=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,M=Math.imul(we,Le),f=Math.imul(we,Qe),f=f+Math.imul(De,Le)|0,_=Math.imul(De,Qe);var Gt=(k+M|0)+((f&8191)<<13)|0;return k=(_+(f>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A[0]=Re,A[1]=Ue,A[2]=at,A[3]=bt,A[4]=ht,A[5]=St,A[6]=Bt,A[7]=Et,A[8]=Mt,A[9]=zt,A[10]=Ht,A[11]=Lt,A[12]=Ft,A[13]=Nt,A[14]=Dt,A[15]=Ut,A[16]=Zt,A[17]=Vt,A[18]=Gt,k!==0&&(A[19]=k,o.length++),o},"h");Math.imul||(C=S);function R(u,m,o){o.negative=m.negative^u.negative,o.length=u.length+m.length;for(var p=0,x=0,A=0;A<o.length-1;A++){var k=x;x=0;for(var M=p&67108863,f=Math.min(A,m.length-1),_=Math.max(0,A-u.length+1);_<=f;_++){var E=A-_,I=u.words[E]|0,L=m.words[_]|0,D=I*L,F=D&67108863;k=k+(D/67108864|0)|0,F=F+M|0,M=F&67108863,k=k+(F>>>26)|0,x+=k>>>26,k&=67108863}o.words[A]=M,p=k,k=x}return p!==0?o.words[A]=p:o.length--,o.strip()}n(R,"D");function T(u,m,o){var p=new P;return p.mulp(u,m,o)}n(T,"I"),a.prototype.mulTo=function(u,m){var o,p=this.length+u.length;return this.length===10&&u.length===10?o=C(this,u,m):p<63?o=S(this,u,m):p<1024?o=R(this,u,m):o=T(this,u,m),o};function P(u,m){this.x=u,this.y=m}n(P,"g"),P.prototype.makeRBT=function(u){for(var m=Array(u),o=a.prototype._countBits(u)-1,p=0;p<u;p++)m[p]=this.revBin(p,o,u);return m},P.prototype.revBin=function(u,m,o){if(u===0||u===o-1)return u;for(var p=0,x=0;x<m;x++)p|=(u&1)<<m-x-1,u>>=1;return p},P.prototype.permute=function(u,m,o,p,x,A){for(var k=0;k<A;k++)p[k]=m[u[k]],x[k]=o[u[k]]},P.prototype.transform=function(u,m,o,p,x,A){this.permute(A,u,m,o,p,x);for(var k=1;k<x;k<<=1)for(var M=k<<1,f=Math.cos(2*Math.PI/M),_=Math.sin(2*Math.PI/M),E=0;E<x;E+=M)for(var I=f,L=_,D=0;D<k;D++){var F=o[E+D],z=p[E+D],H=o[E+D+k],V=p[E+D+k],Y=I*H-L*V;V=I*V+L*H,H=Y,o[E+D]=F+H,p[E+D]=z+V,o[E+D+k]=F-H,p[E+D+k]=z-V,D!==M&&(Y=f*I-_*L,L=f*L+_*I,I=Y)}},P.prototype.guessLen13b=function(u,m){var o=Math.max(m,u)|1,p=o&1,x=0;for(o=o/2|0;o;o=o>>>1)x++;return 1<<x+1+p},P.prototype.conjugate=function(u,m,o){if(!(o<=1))for(var p=0;p<o/2;p++){var x=u[p];u[p]=u[o-p-1],u[o-p-1]=x,x=m[p],m[p]=-m[o-p-1],m[o-p-1]=-x}},P.prototype.normalize13b=function(u,m){for(var o=0,p=0;p<m/2;p++){var x=Math.round(u[2*p+1]/m)*8192+Math.round(u[2*p]/m)+o;u[p]=x&67108863,x<67108864?o=0:o=x/67108864|0}return u},P.prototype.convert13b=function(u,m,o,p){for(var x=0,A=0;A<m;A++)x=x+(u[A]|0),o[2*A]=x&8191,x=x>>>13,o[2*A+1]=x&8191,x=x>>>13;for(A=2*m;A<p;++A)o[A]=0;s(x===0),s((x&-8192)===0)},P.prototype.stub=function(u){for(var m=Array(u),o=0;o<u;o++)m[o]=0;return m},P.prototype.mulp=function(u,m,o){var p=2*this.guessLen13b(u.length,m.length),x=this.makeRBT(p),A=this.stub(p),k=Array(p),M=Array(p),f=Array(p),_=Array(p),E=Array(p),I=Array(p),L=o.words;L.length=p,this.convert13b(u.words,u.length,k,p),this.convert13b(m.words,m.length,_,p),this.transform(k,A,M,f,p,x),this.transform(_,A,E,I,p,x);for(var D=0;D<p;D++){var F=M[D]*E[D]-f[D]*I[D];f[D]=M[D]*I[D]+f[D]*E[D],M[D]=F}return this.conjugate(M,f,p),this.transform(M,f,L,A,p,x),this.conjugate(L,A,p),this.normalize13b(L,p),o.negative=u.negative^m.negative,o.length=u.length+m.length,o.strip()},a.prototype.mul=function(u){var m=new a(null);return m.words=Array(this.length+u.length),this.mulTo(u,m)},a.prototype.mulf=function(u){var m=new a(null);return m.words=Array(this.length+u.length),T(this,u,m)},a.prototype.imul=function(u){return this.clone().mulTo(u,this)},a.prototype.imuln=function(u){s(typeof u=="number"),s(u<67108864);for(var m=0,o=0;o<this.length;o++){var p=(this.words[o]|0)*u,x=(p&67108863)+(m&67108863);m>>=26,m+=p/67108864|0,m+=x>>>26,this.words[o]=x&67108863}return m!==0&&(this.words[o]=m,this.length++),this.length=u===0?1:this.length,this},a.prototype.muln=function(u){return this.clone().imuln(u)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(u){var m=w(u);if(m.length===0)return new a(1);for(var o=this,p=0;p<m.length&&m[p]===0;p++,o=o.sqr());if(++p<m.length)for(var x=o.sqr();p<m.length;p++,x=x.sqr())m[p]!==0&&(o=o.mul(x));return o},a.prototype.iushln=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=67108863>>>26-m<<26-m,x;if(m!==0){var A=0;for(x=0;x<this.length;x++){var k=this.words[x]&p,M=(this.words[x]|0)-k<<m;this.words[x]=M|A,A=k>>>26-m}A&&(this.words[x]=A,this.length++)}if(o!==0){for(x=this.length-1;x>=0;x--)this.words[x+o]=this.words[x];for(x=0;x<o;x++)this.words[x]=0;this.length+=o}return this.strip()},a.prototype.ishln=function(u){return s(this.negative===0),this.iushln(u)},a.prototype.iushrn=function(u,m,o){s(typeof u=="number"&&u>=0);var p;m?p=(m-m%26)/26:p=0;var x=u%26,A=Math.min((u-x)/26,this.length),k=67108863^67108863>>>x<<x,M=o;if(p-=A,p=Math.max(0,p),M){for(var f=0;f<A;f++)M.words[f]=this.words[f];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,f=0;f<this.length;f++)this.words[f]=this.words[f+A];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=p);f--){var E=this.words[f]|0;this.words[f]=_<<26-x|E>>>x,_=E&k}return M&&_!==0&&(M.words[M.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(u,m,o){return s(this.negative===0),this.iushrn(u,m,o)},a.prototype.shln=function(u){return this.clone().ishln(u)},a.prototype.ushln=function(u){return this.clone().iushln(u)},a.prototype.shrn=function(u){return this.clone().ishrn(u)},a.prototype.ushrn=function(u){return this.clone().iushrn(u)},a.prototype.testn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return!1;var x=this.words[o];return!!(x&p)},a.prototype.imaskn=function(u){s(typeof u=="number"&&u>=0);var m=u%26,o=(u-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(m!==0&&o++,this.length=Math.min(o,this.length),m!==0){var p=67108863^67108863>>>m<<m;this.words[this.length-1]&=p}return this.strip()},a.prototype.maskn=function(u){return this.clone().imaskn(u)},a.prototype.iaddn=function(u){return s(typeof u=="number"),s(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},a.prototype._iaddn=function(u){this.words[0]+=u;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(u){if(s(typeof u=="number"),s(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(u){return this.clone().iaddn(u)},a.prototype.subn=function(u){return this.clone().isubn(u)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(u,m,o){var p=u.length+o,x;this._expand(p);var A,k=0;for(x=0;x<u.length;x++){A=(this.words[x+o]|0)+k;var M=(u.words[x]|0)*m;A-=M&67108863,k=(A>>26)-(M/67108864|0),this.words[x+o]=A&67108863}for(;x<this.length-o;x++)A=(this.words[x+o]|0)+k,k=A>>26,this.words[x+o]=A&67108863;if(k===0)return this.strip();for(s(k===-1),k=0,x=0;x<this.length;x++)A=-(this.words[x]|0)+k,k=A>>26,this.words[x]=A&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(u,m){var o=this.length-u.length,p=this.clone(),x=u,A=x.words[x.length-1]|0,k=this._countBits(A);o=26-k,o!==0&&(x=x.ushln(o),p.iushln(o),A=x.words[x.length-1]|0);var M=p.length-x.length,f;if(m!=="mod"){f=new a(null),f.length=M+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=p.clone()._ishlnsubmul(x,1,M);E.negative===0&&(p=E,f&&(f.words[M]=1));for(var I=M-1;I>=0;I--){var L=(p.words[x.length+I]|0)*67108864+(p.words[x.length+I-1]|0);for(L=Math.min(L/A|0,67108863),p._ishlnsubmul(x,L,I);p.negative!==0;)L--,p.negative=0,p._ishlnsubmul(x,1,I),!p.isZero()&&(p.negative^=1);f&&(f.words[I]=L)}return f&&f.strip(),p.strip(),m!=="div"&&o!==0&&p.iushrn(o),{div:f||null,mod:p}},a.prototype.divmod=function(u,m,o){if(s(!u.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,x,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,m),m!=="mod"&&(p=A.div.neg()),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.iadd(u)),{div:p,mod:x}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),m),m!=="mod"&&(p=A.div.neg()),{div:p,mod:A.mod}):(this.negative&u.negative)!==0?(A=this.neg().divmod(u.neg(),m),m!=="div"&&(x=A.mod.neg(),o&&x.negative!==0&&x.isub(u)),{div:A.div,mod:x}):u.length>this.length||this.cmp(u)<0?{div:new a(0),mod:this}:u.length===1?m==="div"?{div:this.divn(u.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new a(this.modn(u.words[0]))}:this._wordDiv(u,m)},a.prototype.div=function(u){return this.divmod(u,"div",!1).div},a.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},a.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},a.prototype.divRound=function(u){var m=this.divmod(u);if(m.mod.isZero())return m.div;var o=m.div.negative!==0?m.mod.isub(u):m.mod,p=u.ushrn(1),x=u.andln(1),A=o.cmp(p);return A<0||x===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(u){s(u<=67108863);for(var m=67108864%u,o=0,p=this.length-1;p>=0;p--)o=(m*o+(this.words[p]|0))%u;return o},a.prototype.idivn=function(u){s(u<=67108863);for(var m=0,o=this.length-1;o>=0;o--){var p=(this.words[o]|0)+m*67108864;this.words[o]=p/u|0,m=p%u}return this.strip()},a.prototype.divn=function(u){return this.clone().idivn(u)},a.prototype.egcd=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=new a(0),k=new a(1),M=0;m.isEven()&&o.isEven();)m.iushrn(1),o.iushrn(1),++M;for(var f=o.clone(),_=m.clone();!m.isZero();){for(var E=0,I=1;(m.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(m.iushrn(E);E-- >0;)(p.isOdd()||x.isOdd())&&(p.iadd(f),x.isub(_)),p.iushrn(1),x.iushrn(1);for(var L=0,D=1;(o.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(o.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(f),k.isub(_)),A.iushrn(1),k.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(A),x.isub(k)):(o.isub(m),A.isub(p),k.isub(x))}return{a:A,b:k,gcd:o.iushln(M)}},a.prototype._invmp=function(u){s(u.negative===0),s(!u.isZero());var m=this,o=u.clone();m.negative!==0?m=m.umod(u):m=m.clone();for(var p=new a(1),x=new a(0),A=o.clone();m.cmpn(1)>0&&o.cmpn(1)>0;){for(var k=0,M=1;(m.words[0]&M)===0&&k<26;++k,M<<=1);if(k>0)for(m.iushrn(k);k-- >0;)p.isOdd()&&p.iadd(A),p.iushrn(1);for(var f=0,_=1;(o.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(o.iushrn(f);f-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);m.cmp(o)>=0?(m.isub(o),p.isub(x)):(o.isub(m),x.isub(p))}var E;return m.cmpn(1)===0?E=p:E=x,E.cmpn(0)<0&&E.iadd(u),E},a.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var m=this.clone(),o=u.clone();m.negative=0,o.negative=0;for(var p=0;m.isEven()&&o.isEven();p++)m.iushrn(1),o.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;o.isEven();)o.iushrn(1);var x=m.cmp(o);if(x<0){var A=m;m=o,o=A}else if(x===0||o.cmpn(1)===0)break;m.isub(o)}while(!0);return o.iushln(p)},a.prototype.invm=function(u){return this.egcd(u).a.umod(u)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(u){return this.words[0]&u},a.prototype.bincn=function(u){s(typeof u=="number");var m=u%26,o=(u-m)/26,p=1<<m;if(this.length<=o)return this._expand(o+1),this.words[o]|=p,this;for(var x=p,A=o;x!==0&&A<this.length;A++){var k=this.words[A]|0;k+=x,x=k>>>26,k&=67108863,this.words[A]=k}return x!==0&&(this.words[A]=x,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(u){var m=u<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var o;if(this.length>1)o=1;else{m&&(u=-u),s(u<=67108863,"Number is too big");var p=this.words[0]|0;o=p===u?0:p<u?-1:1}return this.negative!==0?-o|0:o},a.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var m=this.ucmp(u);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var m=0,o=this.length-1;o>=0;o--){var p=this.words[o]|0,x=u.words[o]|0;if(p!==x){p<x?m=-1:p>x&&(m=1);break}}return m},a.prototype.gtn=function(u){return this.cmpn(u)===1},a.prototype.gt=function(u){return this.cmp(u)===1},a.prototype.gten=function(u){return this.cmpn(u)>=0},a.prototype.gte=function(u){return this.cmp(u)>=0},a.prototype.ltn=function(u){return this.cmpn(u)===-1},a.prototype.lt=function(u){return this.cmp(u)===-1},a.prototype.lten=function(u){return this.cmpn(u)<=0},a.prototype.lte=function(u){return this.cmp(u)<=0},a.prototype.eqn=function(u){return this.cmpn(u)===0},a.prototype.eq=function(u){return this.cmp(u)===0},a.red=function(u){return new $(u)},a.prototype.toRed=function(u){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(u){return this.red=u,this},a.prototype.forceRed=function(u){return s(!this.red,"Already a number in reduction context"),this._forceRed(u)},a.prototype.redAdd=function(u){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},a.prototype.redIAdd=function(u){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},a.prototype.redSub=function(u){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},a.prototype.redISub=function(u){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},a.prototype.redShl=function(u){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},a.prototype.redMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},a.prototype.redIMul=function(u){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(u){return s(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var O={k256:null,p224:null,p192:null,p25519:null};function j(u,m){this.name=u,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(j,"p"),j.prototype._tmp=function(){var u=new a(null);return u.words=Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var m=u,o;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),o=m.bitLength();while(o>this.n);var p=o<this.n?-1:m.ucmp(this.p);return p===0?(m.words[0]=0,m.length=1):p>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},j.prototype.split=function(u,m){u.iushrn(this.n,0,m)},j.prototype.imulK=function(u){return u.imul(this.k)};function B(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(B,"m"),l(B,j),B.prototype.split=function(u,m){for(var o=4194303,p=Math.min(u.length,9),x=0;x<p;x++)m.words[x]=u.words[x];if(m.length=p,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(m.words[m.length++]=A&o,x=10;x<u.length;x++){var k=u.words[x]|0;u.words[x-10]=(k&o)<<4|A>>>22,A=k}A>>>=22,u.words[x-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},B.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var m=0,o=0;o<u.length;o++){var p=u.words[o]|0;m+=p*977,u.words[o]=m&67108863,m=p*64+(m/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Z,"c"),l(Z,j);function W(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(W,"$q"),l(W,j);function ee(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ee,"e"),l(ee,j),ee.prototype.imulK=function(u){for(var m=0,o=0;o<u.length;o++){var p=(u.words[o]|0)*19+m,x=p&67108863;p>>>=26,u.words[o]=x,m=p}return m!==0&&(u.words[u.length++]=m),u},a._prime=function(u){if(O[u])return O[u];var m;if(u==="k256")m=new B;else if(u==="p224")m=new Z;else if(u==="p192")m=new W;else if(u==="p25519")m=new ee;else throw Error("Unknown prime "+u);return O[u]=m,m};function $(u){if(typeof u=="string"){var m=a._prime(u);this.m=m.p,this.prime=m}else s(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}n($,"d"),$.prototype._verify1=function(u){s(u.negative===0,"red works only with positives"),s(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,m){s((u.negative|m.negative)===0,"red works only with positives"),s(u.red&&u.red===m.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,m){this._verify2(u,m);var o=u.add(m);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},$.prototype.iadd=function(u,m){this._verify2(u,m);var o=u.iadd(m);return o.cmp(this.m)>=0&&o.isub(this.m),o},$.prototype.sub=function(u,m){this._verify2(u,m);var o=u.sub(m);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},$.prototype.isub=function(u,m){this._verify2(u,m);var o=u.isub(m);return o.cmpn(0)<0&&o.iadd(this.m),o},$.prototype.shl=function(u,m){return this._verify1(u),this.imod(u.ushln(m))},$.prototype.imul=function(u,m){return this._verify2(u,m),this.imod(u.imul(m))},$.prototype.mul=function(u,m){return this._verify2(u,m),this.imod(u.mul(m))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var o=this.m.add(new a(1)).iushrn(2);return this.pow(u,o)}for(var p=this.m.subn(1),x=0;!p.isZero()&&p.andln(1)===0;)x++,p.iushrn(1);s(!p.isZero());var A=new a(1).toRed(this),k=A.redNeg(),M=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);this.pow(f,M).cmp(k)!==0;)f.redIAdd(k);for(var _=this.pow(f,p),E=this.pow(u,p.addn(1).iushrn(1)),I=this.pow(u,p),L=x;I.cmp(A)!==0;){for(var D=I,F=0;D.cmp(A)!==0;F++)D=D.redSqr();s(F<L);var z=this.pow(_,new a(1).iushln(L-F-1));E=E.redMul(z),_=z.redSqr(),I=I.redMul(_),L=F}return E},$.prototype.invm=function(u){var m=u._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},$.prototype.pow=function(u,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return u.clone();var o=4,p=Array(1<<o);p[0]=new a(1).toRed(this),p[1]=u;for(var x=2;x<p.length;x++)p[x]=this.mul(p[x-1],u);var A=p[0],k=0,M=0,f=m.bitLength()%26;for(f===0&&(f=26),x=m.length-1;x>=0;x--){for(var _=m.words[x],E=f-1;E>=0;E--){var I=_>>E&1;if(A!==p[0]&&(A=this.sqr(A)),I===0&&k===0){M=0;continue}k<<=1,k|=I,M++,!(M!==o&&(x!==0||E!==0))&&(A=this.mul(A,p[k]),M=0,k=0)}f=26}return A},$.prototype.convertTo=function(u){var m=u.umod(this.m);return m===u?m.clone():m},$.prototype.convertFrom=function(u){var m=u.clone();return m.red=null,m},a.mont=function(u){return new U(u)};function U(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(U,"n"),l(U,$),U.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},U.prototype.convertFrom=function(u){var m=this.imod(u.mul(this.rinv));return m.red=null,m},U.prototype.imul=function(u,m){if(u.isZero()||m.isZero())return u.words[0]=0,u.length=1,u;var o=u.imul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.mul=function(u,m){if(u.isZero()||m.isZero())return new a(0)._forceRed(this);var o=u.mul(m),p=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=o.isub(p).iushrn(this.shift),A=x;return x.cmp(this.m)>=0?A=x.isub(this.m):x.cmpn(0)<0&&(A=x.iadd(this.m)),A._forceRed(this)},U.prototype.invm=function(u){var m=this.imod(u._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof e>"u"||e,t)}),L0=st((t,e)=>{var r=Fl(),i=kr().Buffer;function s(l,a){return i.from(l.toRed(r.mont(a.modulus)).redPow(new r(a.publicExponent)).fromRed().toArray())}n(s,"P"),e.exports=s}),F6=st((t,e)=>{(function(r,i){function s(o,p){if(!o)throw Error(p||"Assertion failed")}n(s,"P");function l(o,p){o.super_=p;var x=n(function(){},"T");x.prototype=p.prototype,o.prototype=new x,o.prototype.constructor=o}n(l,"O");function a(o,p,x){if(a.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((p==="le"||p==="be")&&(x=p,p=10),this._init(o||0,p||10,x||"be"))}n(a,"Y"),typeof r=="object"?r.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=(wr(),$t(gr)).Buffer}catch{}a.isBN=function(o){return o instanceof a?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===a.wordSize&&Array.isArray(o.words)},a.max=function(o,p){return o.cmp(p)>0?o:p},a.min=function(o,p){return o.cmp(p)<0?o:p},a.prototype._init=function(o,p,x){if(typeof o=="number")return this._initNumber(o,p,x);if(typeof o=="object")return this._initArray(o,p,x);p==="hex"&&(p=16),s(p===(p|0)&&p>=2&&p<=36),o=o.toString().replace(/\s+/g,"");var A=0;o[0]==="-"&&(A++,this.negative=1),A<o.length&&(p===16?this._parseHex(o,A,x):(this._parseBase(o,p,A),x==="le"&&this._initArray(this.toArray(),p,x)))},a.prototype._initNumber=function(o,p,x){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(s(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),p,x)},a.prototype._initArray=function(o,p,x){if(s(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k,M,f=0;if(x==="be")for(A=o.length-1,k=0;A>=0;A-=3)M=o[A]|o[A-1]<<8|o[A-2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);else if(x==="le")for(A=0,k=0;A<o.length;A+=3)M=o[A]|o[A+1]<<8|o[A+2]<<16,this.words[k]|=M<<f&67108863,this.words[k+1]=M>>>26-f&67108863,f+=24,f>=26&&(f-=26,k++);return this._strip()};function g(o,p){var x=o.charCodeAt(p);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;s(!1,"Invalid character in "+o)}n(g,"v");function h(o,p,x){var A=g(o,x);return x-1>=p&&(A|=g(o,x-1)<<4),A}n(h,"X"),a.prototype._parseHex=function(o,p,x){this.length=Math.ceil((o.length-p)/6),this.words=Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var k=0,M=0,f;if(x==="be")for(A=o.length-1;A>=p;A-=2)f=h(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8;else{var _=o.length-p;for(A=_%2===0?p+1:p;A<o.length;A+=2)f=h(o,p,A)<<k,this.words[M]|=f&67108863,k>=18?(k-=18,M+=1,this.words[M]|=f>>>26):k+=8}this._strip()};function d(o,p,x,A){for(var k=0,M=0,f=Math.min(o.length,x),_=p;_<f;_++){var E=o.charCodeAt(_)-48;k*=A,E>=49?M=E-49+10:E>=17?M=E-17+10:M=E,s(E>=0&&M<A,"Invalid character"),k+=M}return k}n(d,"Z"),a.prototype._parseBase=function(o,p,x){this.words=[0],this.length=1;for(var A=0,k=1;k<=67108863;k*=p)A++;A--,k=k/p|0;for(var M=o.length-x,f=M%A,_=Math.min(M,M-f)+x,E=0,I=x;I<_;I+=A)E=d(o,I,I+A,p),this.imuln(k),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var L=1;for(E=d(o,I,o.length,p),I=0;I<f;I++)L*=p;this.imuln(L),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},a.prototype.copy=function(o){o.words=Array(this.length);for(var p=0;p<this.length;p++)o.words[p]=this.words[p];o.length=this.length,o.negative=this.negative,o.red=this.red};function c(o,p){o.words=p.words,o.length=p.length,o.negative=p.negative,o.red=p.red}if(n(c,"k"),a.prototype._move=function(o){c(o,this)},a.prototype.clone=function(){var o=new a(null);return this.copy(o),o},a.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{a.prototype.inspect=y}else a.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n(y,"G");var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(o,p){o=o||10,p=p|0||1;var x;if(o===16||o==="hex"){x="";for(var A=0,k=0,M=0;M<this.length;M++){var f=this.words[M],_=((f<<A|k)&16777215).toString(16);k=f>>>24-A&16777215,A+=2,A>=26&&(A-=26,M--),k!==0||M!==this.length-1?x=b[6-_.length]+_+x:x=_+x}for(k!==0&&(x=k.toString(16)+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(o===(o|0)&&o>=2&&o<=36){var E=w[o],I=S[o];x="";var L=this.clone();for(L.negative=0;!L.isZero();){var D=L.modrn(I).toString(o);L=L.idivn(I),L.isZero()?x=D+x:x=b[E-D.length]+D+x}for(this.isZero()&&(x="0"+x);x.length%p!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},a.prototype.toJSON=function(){return this.toString(16,2)},v&&(a.prototype.toBuffer=function(o,p){return this.toArrayLike(v,o,p)}),a.prototype.toArray=function(o,p){return this.toArrayLike(Array,o,p)};var C=n(function(o,p){return o.allocUnsafe?o.allocUnsafe(p):new o(p)},"h");a.prototype.toArrayLike=function(o,p,x){this._strip();var A=this.byteLength(),k=x||Math.max(1,A);s(A<=k,"byte array longer than desired length"),s(k>0,"Requested array length <= 0");var M=C(o,k),f=p==="le"?"LE":"BE";return this["_toArrayLike"+f](M,A),M},a.prototype._toArrayLikeLE=function(o,p){for(var x=0,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x++]=f&255,x<o.length&&(o[x++]=f>>8&255),x<o.length&&(o[x++]=f>>16&255),M===6?(x<o.length&&(o[x++]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x<o.length)for(o[x++]=A;x<o.length;)o[x++]=0},a.prototype._toArrayLikeBE=function(o,p){for(var x=o.length-1,A=0,k=0,M=0;k<this.length;k++){var f=this.words[k]<<M|A;o[x--]=f&255,x>=0&&(o[x--]=f>>8&255),x>=0&&(o[x--]=f>>16&255),M===6?(x>=0&&(o[x--]=f>>24&255),A=0,M=0):(A=f>>>24,M+=2)}if(x>=0)for(o[x--]=A;x>=0;)o[x--]=0},Math.clz32?a.prototype._countBits=function(o){return 32-Math.clz32(o)}:a.prototype._countBits=function(o){var p=o,x=0;return p>=4096&&(x+=13,p>>>=13),p>=64&&(x+=7,p>>>=7),p>=8&&(x+=4,p>>>=4),p>=2&&(x+=2,p>>>=2),x+p},a.prototype._zeroBits=function(o){if(o===0)return 26;var p=o,x=0;return(p&8191)===0&&(x+=13,p>>>=13),(p&127)===0&&(x+=7,p>>>=7),(p&15)===0&&(x+=4,p>>>=4),(p&3)===0&&(x+=2,p>>>=2),(p&1)===0&&x++,x},a.prototype.bitLength=function(){var o=this.words[this.length-1],p=this._countBits(o);return(this.length-1)*26+p};function R(o){for(var p=Array(o.bitLength()),x=0;x<p.length;x++){var A=x/26|0,k=x%26;p[x]=o.words[A]>>>k&1}return p}n(R,"D"),a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,p=0;p<this.length;p++){var x=this._zeroBits(this.words[p]);if(o+=x,x!==26)break}return o},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},a.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var p=0;p<o.length;p++)this.words[p]=this.words[p]|o.words[p];return this._strip()},a.prototype.ior=function(o){return s((this.negative|o.negative)===0),this.iuor(o)},a.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},a.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},a.prototype.iuand=function(o){var p;this.length>o.length?p=o:p=this;for(var x=0;x<p.length;x++)this.words[x]=this.words[x]&o.words[x];return this.length=p.length,this._strip()},a.prototype.iand=function(o){return s((this.negative|o.negative)===0),this.iuand(o)},a.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},a.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},a.prototype.iuxor=function(o){var p,x;this.length>o.length?(p=this,x=o):(p=o,x=this);for(var A=0;A<x.length;A++)this.words[A]=p.words[A]^x.words[A];if(this!==p)for(;A<p.length;A++)this.words[A]=p.words[A];return this.length=p.length,this._strip()},a.prototype.ixor=function(o){return s((this.negative|o.negative)===0),this.iuxor(o)},a.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},a.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},a.prototype.inotn=function(o){s(typeof o=="number"&&o>=0);var p=Math.ceil(o/26)|0,x=o%26;this._expand(p),x>0&&p--;for(var A=0;A<p;A++)this.words[A]=~this.words[A]&67108863;return x>0&&(this.words[A]=~this.words[A]&67108863>>26-x),this._strip()},a.prototype.notn=function(o){return this.clone().inotn(o)},a.prototype.setn=function(o,p){s(typeof o=="number"&&o>=0);var x=o/26|0,A=o%26;return this._expand(x+1),p?this.words[x]=this.words[x]|1<<A:this.words[x]=this.words[x]&~(1<<A),this._strip()},a.prototype.iadd=function(o){var p;if(this.negative!==0&&o.negative===0)return this.negative=0,p=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,p=this.isub(o),o.negative=1,p._normSign();var x,A;this.length>o.length?(x=this,A=o):(x=o,A=this);for(var k=0,M=0;M<A.length;M++)p=(x.words[M]|0)+(A.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;for(;k!==0&&M<x.length;M++)p=(x.words[M]|0)+k,this.words[M]=p&67108863,k=p>>>26;if(this.length=x.length,k!==0)this.words[this.length]=k,this.length++;else if(x!==this)for(;M<x.length;M++)this.words[M]=x.words[M];return this},a.prototype.add=function(o){var p;return o.negative!==0&&this.negative===0?(o.negative=0,p=this.sub(o),o.negative^=1,p):o.negative===0&&this.negative!==0?(this.negative=0,p=o.sub(this),this.negative=1,p):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},a.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var p=this.iadd(o);return o.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var x=this.cmp(o);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,k;x>0?(A=this,k=o):(A=o,k=this);for(var M=0,f=0;f<k.length;f++)p=(A.words[f]|0)-(k.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;for(;M!==0&&f<A.length;f++)p=(A.words[f]|0)+M,M=p>>26,this.words[f]=p&67108863;if(M===0&&f<A.length&&A!==this)for(;f<A.length;f++)this.words[f]=A.words[f];return this.length=Math.max(this.length,f),A!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(o){return this.clone().isub(o)};function T(o,p,x){x.negative=p.negative^o.negative;var A=o.length+p.length|0;x.length=A,A=A-1|0;var k=o.words[0]|0,M=p.words[0]|0,f=k*M,_=f&67108863,E=f/67108864|0;x.words[0]=_;for(var I=1;I<A;I++){for(var L=E>>>26,D=E&67108863,F=Math.min(I,p.length-1),z=Math.max(0,I-o.length+1);z<=F;z++){var H=I-z|0;k=o.words[H]|0,M=p.words[z]|0,f=k*M+D,L+=f/67108864|0,D=f&67108863}x.words[I]=D|0,E=L|0}return E!==0?x.words[I]=E|0:x.length--,x._strip()}n(T,"I");var P=n(function(o,p,x){var A=o.words,k=p.words,M=x.words,f=0,_,E,I,L=A[0]|0,D=L&8191,F=L>>>13,z=A[1]|0,H=z&8191,V=z>>>13,Y=A[2]|0,Me=Y&8191,se=Y>>>13,ae=A[3]|0,ye=ae&8191,G=ae>>>13,re=A[4]|0,X=re&8191,Q=re>>>13,le=A[5]|0,Ae=le&8191,pe=le>>>13,fe=A[6]|0,J=fe&8191,q=fe>>>13,te=A[7]|0,de=te&8191,oe=te>>>13,ue=A[8]|0,Be=ue&8191,we=ue>>>13,De=A[9]|0,Xe=De&8191,ve=De>>>13,Fe=k[0]|0,ce=Fe&8191,be=Fe>>>13,Oe=k[1]|0,Te=Oe&8191,ke=Oe>>>13,ze=k[2]|0,Je=ze&8191,Ce=ze>>>13,Ee=k[3]|0,je=Ee&8191,_e=Ee>>>13,He=k[4]|0,Ke=He&8191,ie=He>>>13,me=k[5]|0,Ie=me&8191,xe=me>>>13,Pe=k[6]|0,Ze=Pe&8191,ne=Pe>>>13,Ne=k[7]|0,$e=Ne&8191,ge=Ne>>>13,Ge=k[8]|0,et=Ge&8191,Le=Ge>>>13,Qe=k[9]|0,Re=Qe&8191,Ue=Qe>>>13;x.negative=o.negative^p.negative,x.length=19,_=Math.imul(D,ce),E=Math.imul(D,be),E=E+Math.imul(F,ce)|0,I=Math.imul(F,be);var at=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(H,ce),E=Math.imul(H,be),E=E+Math.imul(V,ce)|0,I=Math.imul(V,be),_=_+Math.imul(D,Te)|0,E=E+Math.imul(D,ke)|0,E=E+Math.imul(F,Te)|0,I=I+Math.imul(F,ke)|0;var bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(bt>>>26)|0,bt&=67108863,_=Math.imul(Me,ce),E=Math.imul(Me,be),E=E+Math.imul(se,ce)|0,I=Math.imul(se,be),_=_+Math.imul(H,Te)|0,E=E+Math.imul(H,ke)|0,E=E+Math.imul(V,Te)|0,I=I+Math.imul(V,ke)|0,_=_+Math.imul(D,Je)|0,E=E+Math.imul(D,Ce)|0,E=E+Math.imul(F,Je)|0,I=I+Math.imul(F,Ce)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(G,ce)|0,I=Math.imul(G,be),_=_+Math.imul(Me,Te)|0,E=E+Math.imul(Me,ke)|0,E=E+Math.imul(se,Te)|0,I=I+Math.imul(se,ke)|0,_=_+Math.imul(H,Je)|0,E=E+Math.imul(H,Ce)|0,E=E+Math.imul(V,Je)|0,I=I+Math.imul(V,Ce)|0,_=_+Math.imul(D,je)|0,E=E+Math.imul(D,_e)|0,E=E+Math.imul(F,je)|0,I=I+Math.imul(F,_e)|0;var St=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(St>>>26)|0,St&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(Q,ce)|0,I=Math.imul(Q,be),_=_+Math.imul(ye,Te)|0,E=E+Math.imul(ye,ke)|0,E=E+Math.imul(G,Te)|0,I=I+Math.imul(G,ke)|0,_=_+Math.imul(Me,Je)|0,E=E+Math.imul(Me,Ce)|0,E=E+Math.imul(se,Je)|0,I=I+Math.imul(se,Ce)|0,_=_+Math.imul(H,je)|0,E=E+Math.imul(H,_e)|0,E=E+Math.imul(V,je)|0,I=I+Math.imul(V,_e)|0,_=_+Math.imul(D,Ke)|0,E=E+Math.imul(D,ie)|0,E=E+Math.imul(F,Ke)|0,I=I+Math.imul(F,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(Ae,ce),E=Math.imul(Ae,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Te)|0,E=E+Math.imul(X,ke)|0,E=E+Math.imul(Q,Te)|0,I=I+Math.imul(Q,ke)|0,_=_+Math.imul(ye,Je)|0,E=E+Math.imul(ye,Ce)|0,E=E+Math.imul(G,Je)|0,I=I+Math.imul(G,Ce)|0,_=_+Math.imul(Me,je)|0,E=E+Math.imul(Me,_e)|0,E=E+Math.imul(se,je)|0,I=I+Math.imul(se,_e)|0,_=_+Math.imul(H,Ke)|0,E=E+Math.imul(H,ie)|0,E=E+Math.imul(V,Ke)|0,I=I+Math.imul(V,ie)|0,_=_+Math.imul(D,Ie)|0,E=E+Math.imul(D,xe)|0,E=E+Math.imul(F,Ie)|0,I=I+Math.imul(F,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(J,ce),E=Math.imul(J,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(Ae,Te)|0,E=E+Math.imul(Ae,ke)|0,E=E+Math.imul(pe,Te)|0,I=I+Math.imul(pe,ke)|0,_=_+Math.imul(X,Je)|0,E=E+Math.imul(X,Ce)|0,E=E+Math.imul(Q,Je)|0,I=I+Math.imul(Q,Ce)|0,_=_+Math.imul(ye,je)|0,E=E+Math.imul(ye,_e)|0,E=E+Math.imul(G,je)|0,I=I+Math.imul(G,_e)|0,_=_+Math.imul(Me,Ke)|0,E=E+Math.imul(Me,ie)|0,E=E+Math.imul(se,Ke)|0,I=I+Math.imul(se,ie)|0,_=_+Math.imul(H,Ie)|0,E=E+Math.imul(H,xe)|0,E=E+Math.imul(V,Ie)|0,I=I+Math.imul(V,xe)|0,_=_+Math.imul(D,Ze)|0,E=E+Math.imul(D,ne)|0,E=E+Math.imul(F,Ze)|0,I=I+Math.imul(F,ne)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(de,ce),E=Math.imul(de,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(J,Te)|0,E=E+Math.imul(J,ke)|0,E=E+Math.imul(q,Te)|0,I=I+Math.imul(q,ke)|0,_=_+Math.imul(Ae,Je)|0,E=E+Math.imul(Ae,Ce)|0,E=E+Math.imul(pe,Je)|0,I=I+Math.imul(pe,Ce)|0,_=_+Math.imul(X,je)|0,E=E+Math.imul(X,_e)|0,E=E+Math.imul(Q,je)|0,I=I+Math.imul(Q,_e)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(G,Ke)|0,I=I+Math.imul(G,ie)|0,_=_+Math.imul(Me,Ie)|0,E=E+Math.imul(Me,xe)|0,E=E+Math.imul(se,Ie)|0,I=I+Math.imul(se,xe)|0,_=_+Math.imul(H,Ze)|0,E=E+Math.imul(H,ne)|0,E=E+Math.imul(V,Ze)|0,I=I+Math.imul(V,ne)|0,_=_+Math.imul(D,$e)|0,E=E+Math.imul(D,ge)|0,E=E+Math.imul(F,$e)|0,I=I+Math.imul(F,ge)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Be,ce),E=Math.imul(Be,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(de,Te)|0,E=E+Math.imul(de,ke)|0,E=E+Math.imul(oe,Te)|0,I=I+Math.imul(oe,ke)|0,_=_+Math.imul(J,Je)|0,E=E+Math.imul(J,Ce)|0,E=E+Math.imul(q,Je)|0,I=I+Math.imul(q,Ce)|0,_=_+Math.imul(Ae,je)|0,E=E+Math.imul(Ae,_e)|0,E=E+Math.imul(pe,je)|0,I=I+Math.imul(pe,_e)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(Q,Ke)|0,I=I+Math.imul(Q,ie)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(G,Ie)|0,I=I+Math.imul(G,xe)|0,_=_+Math.imul(Me,Ze)|0,E=E+Math.imul(Me,ne)|0,E=E+Math.imul(se,Ze)|0,I=I+Math.imul(se,ne)|0,_=_+Math.imul(H,$e)|0,E=E+Math.imul(H,ge)|0,E=E+Math.imul(V,$e)|0,I=I+Math.imul(V,ge)|0,_=_+Math.imul(D,et)|0,E=E+Math.imul(D,Le)|0,E=E+Math.imul(F,et)|0,I=I+Math.imul(F,Le)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(Xe,ce),E=Math.imul(Xe,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(Be,Te)|0,E=E+Math.imul(Be,ke)|0,E=E+Math.imul(we,Te)|0,I=I+Math.imul(we,ke)|0,_=_+Math.imul(de,Je)|0,E=E+Math.imul(de,Ce)|0,E=E+Math.imul(oe,Je)|0,I=I+Math.imul(oe,Ce)|0,_=_+Math.imul(J,je)|0,E=E+Math.imul(J,_e)|0,E=E+Math.imul(q,je)|0,I=I+Math.imul(q,_e)|0,_=_+Math.imul(Ae,Ke)|0,E=E+Math.imul(Ae,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(Q,Ie)|0,I=I+Math.imul(Q,xe)|0,_=_+Math.imul(ye,Ze)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(G,Ze)|0,I=I+Math.imul(G,ne)|0,_=_+Math.imul(Me,$e)|0,E=E+Math.imul(Me,ge)|0,E=E+Math.imul(se,$e)|0,I=I+Math.imul(se,ge)|0,_=_+Math.imul(H,et)|0,E=E+Math.imul(H,Le)|0,E=E+Math.imul(V,et)|0,I=I+Math.imul(V,Le)|0,_=_+Math.imul(D,Re)|0,E=E+Math.imul(D,Ue)|0,E=E+Math.imul(F,Re)|0,I=I+Math.imul(F,Ue)|0;var Lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,_=Math.imul(Xe,Te),E=Math.imul(Xe,ke),E=E+Math.imul(ve,Te)|0,I=Math.imul(ve,ke),_=_+Math.imul(Be,Je)|0,E=E+Math.imul(Be,Ce)|0,E=E+Math.imul(we,Je)|0,I=I+Math.imul(we,Ce)|0,_=_+Math.imul(de,je)|0,E=E+Math.imul(de,_e)|0,E=E+Math.imul(oe,je)|0,I=I+Math.imul(oe,_e)|0,_=_+Math.imul(J,Ke)|0,E=E+Math.imul(J,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(Ae,Ie)|0,E=E+Math.imul(Ae,xe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,Ze)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(Q,Ze)|0,I=I+Math.imul(Q,ne)|0,_=_+Math.imul(ye,$e)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(G,$e)|0,I=I+Math.imul(G,ge)|0,_=_+Math.imul(Me,et)|0,E=E+Math.imul(Me,Le)|0,E=E+Math.imul(se,et)|0,I=I+Math.imul(se,Le)|0,_=_+Math.imul(H,Re)|0,E=E+Math.imul(H,Ue)|0,E=E+Math.imul(V,Re)|0,I=I+Math.imul(V,Ue)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(Xe,Je),E=Math.imul(Xe,Ce),E=E+Math.imul(ve,Je)|0,I=Math.imul(ve,Ce),_=_+Math.imul(Be,je)|0,E=E+Math.imul(Be,_e)|0,E=E+Math.imul(we,je)|0,I=I+Math.imul(we,_e)|0,_=_+Math.imul(de,Ke)|0,E=E+Math.imul(de,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(J,Ie)|0,E=E+Math.imul(J,xe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(Ae,Ze)|0,E=E+Math.imul(Ae,ne)|0,E=E+Math.imul(pe,Ze)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,$e)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(Q,$e)|0,I=I+Math.imul(Q,ge)|0,_=_+Math.imul(ye,et)|0,E=E+Math.imul(ye,Le)|0,E=E+Math.imul(G,et)|0,I=I+Math.imul(G,Le)|0,_=_+Math.imul(Me,Re)|0,E=E+Math.imul(Me,Ue)|0,E=E+Math.imul(se,Re)|0,I=I+Math.imul(se,Ue)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(Xe,je),E=Math.imul(Xe,_e),E=E+Math.imul(ve,je)|0,I=Math.imul(ve,_e),_=_+Math.imul(Be,Ke)|0,E=E+Math.imul(Be,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(de,Ie)|0,E=E+Math.imul(de,xe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(J,Ze)|0,E=E+Math.imul(J,ne)|0,E=E+Math.imul(q,Ze)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(Ae,$e)|0,E=E+Math.imul(Ae,ge)|0,E=E+Math.imul(pe,$e)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,et)|0,E=E+Math.imul(X,Le)|0,E=E+Math.imul(Q,et)|0,I=I+Math.imul(Q,Le)|0,_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ue)|0,E=E+Math.imul(G,Re)|0,I=I+Math.imul(G,Ue)|0;var Dt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,_=Math.imul(Xe,Ke),E=Math.imul(Xe,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(Be,Ie)|0,E=E+Math.imul(Be,xe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(de,Ze)|0,E=E+Math.imul(de,ne)|0,E=E+Math.imul(oe,Ze)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(J,$e)|0,E=E+Math.imul(J,ge)|0,E=E+Math.imul(q,$e)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(Ae,et)|0,E=E+Math.imul(Ae,Le)|0,E=E+Math.imul(pe,et)|0,I=I+Math.imul(pe,Le)|0,_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ue)|0,E=E+Math.imul(Q,Re)|0,I=I+Math.imul(Q,Ue)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(Xe,Ie),E=Math.imul(Xe,xe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,xe),_=_+Math.imul(Be,Ze)|0,E=E+Math.imul(Be,ne)|0,E=E+Math.imul(we,Ze)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(de,$e)|0,E=E+Math.imul(de,ge)|0,E=E+Math.imul(oe,$e)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(J,et)|0,E=E+Math.imul(J,Le)|0,E=E+Math.imul(q,et)|0,I=I+Math.imul(q,Le)|0,_=_+Math.imul(Ae,Re)|0,E=E+Math.imul(Ae,Ue)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ue)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(Xe,Ze),E=Math.imul(Xe,ne),E=E+Math.imul(ve,Ze)|0,I=Math.imul(ve,ne),_=_+Math.imul(Be,$e)|0,E=E+Math.imul(Be,ge)|0,E=E+Math.imul(we,$e)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(de,et)|0,E=E+Math.imul(de,Le)|0,E=E+Math.imul(oe,et)|0,I=I+Math.imul(oe,Le)|0,_=_+Math.imul(J,Re)|0,E=E+Math.imul(J,Ue)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ue)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(Xe,$e),E=Math.imul(Xe,ge),E=E+Math.imul(ve,$e)|0,I=Math.imul(ve,ge),_=_+Math.imul(Be,et)|0,E=E+Math.imul(Be,Le)|0,E=E+Math.imul(we,et)|0,I=I+Math.imul(we,Le)|0,_=_+Math.imul(de,Re)|0,E=E+Math.imul(de,Ue)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ue)|0;var Gt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,_=Math.imul(Xe,et),E=Math.imul(Xe,Le),E=E+Math.imul(ve,et)|0,I=Math.imul(ve,Le),_=_+Math.imul(Be,Re)|0,E=E+Math.imul(Be,Ue)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ue)|0;var Pr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,_=Math.imul(Xe,Re),E=Math.imul(Xe,Ue),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ue);var he=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(he>>>26)|0,he&=67108863,M[0]=at,M[1]=bt,M[2]=ht,M[3]=St,M[4]=Bt,M[5]=Et,M[6]=Mt,M[7]=zt,M[8]=Ht,M[9]=Lt,M[10]=Ft,M[11]=Nt,M[12]=Dt,M[13]=Ut,M[14]=Zt,M[15]=Vt,M[16]=Gt,M[17]=Pr,M[18]=he,f!==0&&(M[19]=f,x.length++),x},"g");Math.imul||(P=T);function O(o,p,x){x.negative=p.negative^o.negative,x.length=o.length+p.length;for(var A=0,k=0,M=0;M<x.length-1;M++){var f=k;k=0;for(var _=A&67108863,E=Math.min(M,p.length-1),I=Math.max(0,M-o.length+1);I<=E;I++){var L=M-I,D=o.words[L]|0,F=p.words[I]|0,z=D*F,H=z&67108863;f=f+(z/67108864|0)|0,H=H+_|0,_=H&67108863,f=f+(H>>>26)|0,k+=f>>>26,f&=67108863}x.words[M]=_,A=f,f=k}return A!==0?x.words[M]=A:x.length--,x._strip()}n(O,"y");function j(o,p,x){return O(o,p,x)}n(j,"p"),a.prototype.mulTo=function(o,p){var x,A=this.length+o.length;return this.length===10&&o.length===10?x=P(this,o,p):A<63?x=T(this,o,p):A<1024?x=O(this,o,p):x=j(this,o,p),x},a.prototype.mul=function(o){var p=new a(null);return p.words=Array(this.length+o.length),this.mulTo(o,p)},a.prototype.mulf=function(o){var p=new a(null);return p.words=Array(this.length+o.length),j(this,o,p)},a.prototype.imul=function(o){return this.clone().mulTo(o,this)},a.prototype.imuln=function(o){var p=o<0;p&&(o=-o),s(typeof o=="number"),s(o<67108864);for(var x=0,A=0;A<this.length;A++){var k=(this.words[A]|0)*o,M=(k&67108863)+(x&67108863);x>>=26,x+=k/67108864|0,x+=M>>>26,this.words[A]=M&67108863}return x!==0&&(this.words[A]=x,this.length++),this.length=o===0?1:this.length,p?this.ineg():this},a.prototype.muln=function(o){return this.clone().imuln(o)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(o){var p=R(o);if(p.length===0)return new a(1);for(var x=this,A=0;A<p.length&&p[A]===0;A++,x=x.sqr());if(++A<p.length)for(var k=x.sqr();A<p.length;A++,k=k.sqr())p[A]!==0&&(x=x.mul(k));return x},a.prototype.iushln=function(o){s(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=67108863>>>26-p<<26-p,k;if(p!==0){var M=0;for(k=0;k<this.length;k++){var f=this.words[k]&A,_=(this.words[k]|0)-f<<p;this.words[k]=_|M,M=f>>>26-p}M&&(this.words[k]=M,this.length++)}if(x!==0){for(k=this.length-1;k>=0;k--)this.words[k+x]=this.words[k];for(k=0;k<x;k++)this.words[k]=0;this.length+=x}return this._strip()},a.prototype.ishln=function(o){return s(this.negative===0),this.iushln(o)},a.prototype.iushrn=function(o,p,x){s(typeof o=="number"&&o>=0);var A;p?A=(p-p%26)/26:A=0;var k=o%26,M=Math.min((o-k)/26,this.length),f=67108863^67108863>>>k<<k,_=x;if(A-=M,A=Math.max(0,A),_){for(var E=0;E<M;E++)_.words[E]=this.words[E];_.length=M}if(M!==0)if(this.length>M)for(this.length-=M,E=0;E<this.length;E++)this.words[E]=this.words[E+M];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=A);E--){var L=this.words[E]|0;this.words[E]=I<<26-k|L>>>k,I=L&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(o,p,x){return s(this.negative===0),this.iushrn(o,p,x)},a.prototype.shln=function(o){return this.clone().ishln(o)},a.prototype.ushln=function(o){return this.clone().iushln(o)},a.prototype.shrn=function(o){return this.clone().ishrn(o)},a.prototype.ushrn=function(o){return this.clone().iushrn(o)},a.prototype.testn=function(o){s(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return!1;var k=this.words[x];return!!(k&A)},a.prototype.imaskn=function(o){s(typeof o=="number"&&o>=0);var p=o%26,x=(o-p)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(p!==0&&x++,this.length=Math.min(x,this.length),p!==0){var A=67108863^67108863>>>p<<p;this.words[this.length-1]&=A}return this._strip()},a.prototype.maskn=function(o){return this.clone().imaskn(o)},a.prototype.iaddn=function(o){return s(typeof o=="number"),s(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},a.prototype._iaddn=function(o){this.words[0]+=o;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(o){if(s(typeof o=="number"),s(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},a.prototype.addn=function(o){return this.clone().iaddn(o)},a.prototype.subn=function(o){return this.clone().isubn(o)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(o,p,x){var A=o.length+x,k;this._expand(A);var M,f=0;for(k=0;k<o.length;k++){M=(this.words[k+x]|0)+f;var _=(o.words[k]|0)*p;M-=_&67108863,f=(M>>26)-(_/67108864|0),this.words[k+x]=M&67108863}for(;k<this.length-x;k++)M=(this.words[k+x]|0)+f,f=M>>26,this.words[k+x]=M&67108863;if(f===0)return this._strip();for(s(f===-1),f=0,k=0;k<this.length;k++)M=-(this.words[k]|0)+f,f=M>>26,this.words[k]=M&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(o,p){var x=this.length-o.length,A=this.clone(),k=o,M=k.words[k.length-1]|0,f=this._countBits(M);x=26-f,x!==0&&(k=k.ushln(x),A.iushln(x),M=k.words[k.length-1]|0);var _=A.length-k.length,E;if(p!=="mod"){E=new a(null),E.length=_+1,E.words=Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var L=A.clone()._ishlnsubmul(k,1,_);L.negative===0&&(A=L,E&&(E.words[_]=1));for(var D=_-1;D>=0;D--){var F=(A.words[k.length+D]|0)*67108864+(A.words[k.length+D-1]|0);for(F=Math.min(F/M|0,67108863),A._ishlnsubmul(k,F,D);A.negative!==0;)F--,A.negative=0,A._ishlnsubmul(k,1,D),!A.isZero()&&(A.negative^=1);E&&(E.words[D]=F)}return E&&E._strip(),A._strip(),p!=="div"&&x!==0&&A.iushrn(x),{div:E||null,mod:A}},a.prototype.divmod=function(o,p,x){if(s(!o.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var A,k,M;return this.negative!==0&&o.negative===0?(M=this.neg().divmod(o,p),p!=="mod"&&(A=M.div.neg()),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.iadd(o)),{div:A,mod:k}):this.negative===0&&o.negative!==0?(M=this.divmod(o.neg(),p),p!=="mod"&&(A=M.div.neg()),{div:A,mod:M.mod}):(this.negative&o.negative)!==0?(M=this.neg().divmod(o.neg(),p),p!=="div"&&(k=M.mod.neg(),x&&k.negative!==0&&k.isub(o)),{div:M.div,mod:k}):o.length>this.length||this.cmp(o)<0?{div:new a(0),mod:this}:o.length===1?p==="div"?{div:this.divn(o.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new a(this.modrn(o.words[0]))}:this._wordDiv(o,p)},a.prototype.div=function(o){return this.divmod(o,"div",!1).div},a.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},a.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},a.prototype.divRound=function(o){var p=this.divmod(o);if(p.mod.isZero())return p.div;var x=p.div.negative!==0?p.mod.isub(o):p.mod,A=o.ushrn(1),k=o.andln(1),M=x.cmp(A);return M<0||k===1&&M===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modrn=function(o){var p=o<0;p&&(o=-o),s(o<=67108863);for(var x=67108864%o,A=0,k=this.length-1;k>=0;k--)A=(x*A+(this.words[k]|0))%o;return p?-A:A},a.prototype.modn=function(o){return this.modrn(o)},a.prototype.idivn=function(o){var p=o<0;p&&(o=-o),s(o<=67108863);for(var x=0,A=this.length-1;A>=0;A--){var k=(this.words[A]|0)+x*67108864;this.words[A]=k/o|0,x=k%o}return this._strip(),p?this.ineg():this},a.prototype.divn=function(o){return this.clone().idivn(o)},a.prototype.egcd=function(o){s(o.negative===0),s(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new a(1),k=new a(0),M=new a(0),f=new a(1),_=0;p.isEven()&&x.isEven();)p.iushrn(1),x.iushrn(1),++_;for(var E=x.clone(),I=p.clone();!p.isZero();){for(var L=0,D=1;(p.words[0]&D)===0&&L<26;++L,D<<=1);if(L>0)for(p.iushrn(L);L-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(E),k.isub(I)),A.iushrn(1),k.iushrn(1);for(var F=0,z=1;(x.words[0]&z)===0&&F<26;++F,z<<=1);if(F>0)for(x.iushrn(F);F-- >0;)(M.isOdd()||f.isOdd())&&(M.iadd(E),f.isub(I)),M.iushrn(1),f.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(M),k.isub(f)):(x.isub(p),M.isub(A),f.isub(k))}return{a:M,b:f,gcd:x.iushln(_)}},a.prototype._invmp=function(o){s(o.negative===0),s(!o.isZero());var p=this,x=o.clone();p.negative!==0?p=p.umod(o):p=p.clone();for(var A=new a(1),k=new a(0),M=x.clone();p.cmpn(1)>0&&x.cmpn(1)>0;){for(var f=0,_=1;(p.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(p.iushrn(f);f-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);for(var E=0,I=1;(x.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(x.iushrn(E);E-- >0;)k.isOdd()&&k.iadd(M),k.iushrn(1);p.cmp(x)>=0?(p.isub(x),A.isub(k)):(x.isub(p),k.isub(A))}var L;return p.cmpn(1)===0?L=A:L=k,L.cmpn(0)<0&&L.iadd(o),L},a.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var p=this.clone(),x=o.clone();p.negative=0,x.negative=0;for(var A=0;p.isEven()&&x.isEven();A++)p.iushrn(1),x.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;x.isEven();)x.iushrn(1);var k=p.cmp(x);if(k<0){var M=p;p=x,x=M}else if(k===0||x.cmpn(1)===0)break;p.isub(x)}while(!0);return x.iushln(A)},a.prototype.invm=function(o){return this.egcd(o).a.umod(o)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(o){return this.words[0]&o},a.prototype.bincn=function(o){s(typeof o=="number");var p=o%26,x=(o-p)/26,A=1<<p;if(this.length<=x)return this._expand(x+1),this.words[x]|=A,this;for(var k=A,M=x;k!==0&&M<this.length;M++){var f=this.words[M]|0;f+=k,k=f>>>26,f&=67108863,this.words[M]=f}return k!==0&&(this.words[M]=k,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(o){var p=o<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var x;if(this.length>1)x=1;else{p&&(o=-o),s(o<=67108863,"Number is too big");var A=this.words[0]|0;x=A===o?0:A<o?-1:1}return this.negative!==0?-x|0:x},a.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var p=this.ucmp(o);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var p=0,x=this.length-1;x>=0;x--){var A=this.words[x]|0,k=o.words[x]|0;if(A!==k){A<k?p=-1:A>k&&(p=1);break}}return p},a.prototype.gtn=function(o){return this.cmpn(o)===1},a.prototype.gt=function(o){return this.cmp(o)===1},a.prototype.gten=function(o){return this.cmpn(o)>=0},a.prototype.gte=function(o){return this.cmp(o)>=0},a.prototype.ltn=function(o){return this.cmpn(o)===-1},a.prototype.lt=function(o){return this.cmp(o)===-1},a.prototype.lten=function(o){return this.cmpn(o)<=0},a.prototype.lte=function(o){return this.cmp(o)<=0},a.prototype.eqn=function(o){return this.cmpn(o)===0},a.prototype.eq=function(o){return this.cmp(o)===0},a.red=function(o){return new u(o)},a.prototype.toRed=function(o){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(o){return this.red=o,this},a.prototype.forceRed=function(o){return s(!this.red,"Already a number in reduction context"),this._forceRed(o)},a.prototype.redAdd=function(o){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},a.prototype.redIAdd=function(o){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},a.prototype.redSub=function(o){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},a.prototype.redISub=function(o){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},a.prototype.redShl=function(o){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},a.prototype.redMul=function(o){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},a.prototype.redIMul=function(o){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(o){return s(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var B={k256:null,p224:null,p192:null,p25519:null};function Z(o,p){this.name=o,this.p=new a(p,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n(Z,"$q"),Z.prototype._tmp=function(){var o=new a(null);return o.words=Array(Math.ceil(this.n/13)),o},Z.prototype.ireduce=function(o){var p=o,x;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),x=p.bitLength();while(x>this.n);var A=x<this.n?-1:p.ucmp(this.p);return A===0?(p.words[0]=0,p.length=1):A>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},Z.prototype.split=function(o,p){o.iushrn(this.n,0,p)},Z.prototype.imulK=function(o){return o.imul(this.k)};function W(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(W,"e"),l(W,Z),W.prototype.split=function(o,p){for(var x=4194303,A=Math.min(o.length,9),k=0;k<A;k++)p.words[k]=o.words[k];if(p.length=A,o.length<=9){o.words[0]=0,o.length=1;return}var M=o.words[9];for(p.words[p.length++]=M&x,k=10;k<o.length;k++){var f=o.words[k]|0;o.words[k-10]=(f&x)<<4|M>>>22,M=f}M>>>=22,o.words[k-10]=M,M===0&&o.length>10?o.length-=10:o.length-=9},W.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var p=0,x=0;x<o.length;x++){var A=o.words[x]|0;p+=A*977,o.words[x]=p&67108863,p=A*64+(p/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ee(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ee,"d"),l(ee,Z);function $(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,"n"),l($,Z);function U(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(U,"M"),l(U,Z),U.prototype.imulK=function(o){for(var p=0,x=0;x<o.length;x++){var A=(o.words[x]|0)*19+p,k=A&67108863;A>>>=26,o.words[x]=k,p=A}return p!==0&&(o.words[o.length++]=p),o},a._prime=function(o){if(B[o])return B[o];var p;if(o==="k256")p=new W;else if(o==="p224")p=new ee;else if(o==="p192")p=new $;else if(o==="p25519")p=new U;else throw Error("Unknown prime "+o);return B[o]=p,p};function u(o){if(typeof o=="string"){var p=a._prime(o);this.m=p.p,this.prime=p}else s(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}n(u,"j"),u.prototype._verify1=function(o){s(o.negative===0,"red works only with positives"),s(o.red,"red works only with red numbers")},u.prototype._verify2=function(o,p){s((o.negative|p.negative)===0,"red works only with positives"),s(o.red&&o.red===p.red,"red works only with red numbers")},u.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(c(o,o.umod(this.m)._forceRed(this)),o)},u.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},u.prototype.add=function(o,p){this._verify2(o,p);var x=o.add(p);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},u.prototype.iadd=function(o,p){this._verify2(o,p);var x=o.iadd(p);return x.cmp(this.m)>=0&&x.isub(this.m),x},u.prototype.sub=function(o,p){this._verify2(o,p);var x=o.sub(p);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},u.prototype.isub=function(o,p){this._verify2(o,p);var x=o.isub(p);return x.cmpn(0)<0&&x.iadd(this.m),x},u.prototype.shl=function(o,p){return this._verify1(o),this.imod(o.ushln(p))},u.prototype.imul=function(o,p){return this._verify2(o,p),this.imod(o.imul(p))},u.prototype.mul=function(o,p){return this._verify2(o,p),this.imod(o.mul(p))},u.prototype.isqr=function(o){return this.imul(o,o.clone())},u.prototype.sqr=function(o){return this.mul(o,o)},u.prototype.sqrt=function(o){if(o.isZero())return o.clone();var p=this.m.andln(3);if(s(p%2===1),p===3){var x=this.m.add(new a(1)).iushrn(2);return this.pow(o,x)}for(var A=this.m.subn(1),k=0;!A.isZero()&&A.andln(1)===0;)k++,A.iushrn(1);s(!A.isZero());var M=new a(1).toRed(this),f=M.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new a(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,A),L=this.pow(o,A.addn(1).iushrn(1)),D=this.pow(o,A),F=k;D.cmp(M)!==0;){for(var z=D,H=0;z.cmp(M)!==0;H++)z=z.redSqr();s(H<F);var V=this.pow(I,new a(1).iushln(F-H-1));L=L.redMul(V),I=V.redSqr(),D=D.redMul(I),F=H}return L},u.prototype.invm=function(o){var p=o._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},u.prototype.pow=function(o,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return o.clone();var x=4,A=Array(1<<x);A[0]=new a(1).toRed(this),A[1]=o;for(var k=2;k<A.length;k++)A[k]=this.mul(A[k-1],o);var M=A[0],f=0,_=0,E=p.bitLength()%26;for(E===0&&(E=26),k=p.length-1;k>=0;k--){for(var I=p.words[k],L=E-1;L>=0;L--){var D=I>>L&1;if(M!==A[0]&&(M=this.sqr(M)),D===0&&f===0){_=0;continue}f<<=1,f|=D,_++,!(_!==x&&(k!==0||L!==0))&&(M=this.mul(M,A[f]),_=0,f=0)}E=26}return M},u.prototype.convertTo=function(o){var p=o.umod(this.m);return p===o?p.clone():p},u.prototype.convertFrom=function(o){var p=o.clone();return p.red=null,p},a.mont=function(o){return new m(o)};function m(o){u.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(m,"J"),l(m,u),m.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},m.prototype.convertFrom=function(o){var p=this.imod(o.mul(this.rinv));return p.red=null,p},m.prototype.imul=function(o,p){if(o.isZero()||p.isZero())return o.words[0]=0,o.length=1,o;var x=o.imul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},m.prototype.mul=function(o,p){if(o.isZero()||p.isZero())return new a(0)._forceRed(this);var x=o.mul(p),A=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=x.isub(A).iushrn(this.shift),M=k;return k.cmp(this.m)>=0?M=k.isub(this.m):k.cmpn(0)<0&&(M=k.iadd(this.m)),M._forceRed(this)},m.prototype.invm=function(o){var p=this.imod(o._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof e>"u"||e,t)}),D0=st((t,e)=>{var r=F6(),i=Aa(),s=kr().Buffer;function l(g){var h=g.modulus.byteLength(),d;do d=new r(i(h));while(d.cmp(g.modulus)>=0||!d.umod(g.prime1)||!d.umod(g.prime2));return d}n(l,"O");function a(g){var h=l(g),d=h.toRed(r.mont(g.modulus)).redPow(new r(g.publicExponent)).fromRed();return{blinder:d,unblinder:h.invm(g.modulus)}}n(a,"Y");function v(g,h){var d=a(h),c=h.modulus.byteLength(),y=new r(g).mul(d.blinder).umod(h.modulus),b=y.toRed(r.mont(h.prime1)),w=y.toRed(r.mont(h.prime2)),S=h.coefficient,C=h.prime1,R=h.prime2,T=b.redPow(h.exponent1).fromRed(),P=w.redPow(h.exponent2).fromRed(),O=T.isub(P).imul(S).umod(C).imul(R);return P.iadd(O).imul(d.unblinder).umod(h.modulus).toArrayLike(s,"be",c)}n(v,"H"),v.getr=l,e.exports=v}),U6=st((t,e)=>{var r=P0(),i=Aa(),s=ka(),l=O0(),a=j0(),v=Fl(),g=L0(),h=D0(),d=kr().Buffer;e.exports=function(w,S,C){var R;w.padding?R=w.padding:C?R=1:R=4;var T=r(w),P;if(R===4)P=c(T,S);else if(R===1)P=y(T,S,C);else if(R===3){if(P=new v(S),P.cmp(T.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return C?h(P,T):g(P,T)};function c(w,S){var C=w.modulus.byteLength(),R=S.length,T=s("sha1").update(d.alloc(0)).digest(),P=T.length,O=2*P;if(R>C-O-2)throw Error("message too long");var j=d.alloc(C-R-O-2),B=C-P-1,Z=i(P),W=a(d.concat([T,j,d.alloc(1,1),S],B),l(Z,B)),ee=a(Z,l(W,P));return new v(d.concat([d.alloc(1),ee,W],C))}n(c,"k");function y(w,S,C){var R=S.length,T=w.modulus.byteLength();if(R>T-11)throw Error("message too long");var P;return C?P=d.alloc(T-R-3,255):P=b(T-R-3),new v(d.concat([d.from([0,C?1:2]),P,d.alloc(1),S],T))}n(y,"G");function b(w){for(var S=d.allocUnsafe(w),C=0,R=i(w*2),T=0,P;C<w;)T===R.length&&(R=i(w*2),T=0),P=R[T++],P&&(S[C++]=P);return S}n(b,"S")}),z6=st((t,e)=>{var r=P0(),i=O0(),s=j0(),l=Fl(),a=D0(),v=ka(),g=L0(),h=kr().Buffer;e.exports=function(b,w,S){var C;b.padding?C=b.padding:S?C=1:C=4;var R=r(b),T=R.modulus.byteLength();if(w.length>T||new l(w).cmp(R.modulus)>=0)throw Error("decryption error");var P;S?P=g(new l(w),R):P=a(w,R);var O=h.alloc(T-P.length);if(P=h.concat([O,P],T),C===4)return d(R,P);if(C===1)return c(R,P,S);if(C===3)return P;throw Error("unknown padding")};function d(b,w){var S=b.modulus.byteLength(),C=v("sha1").update(h.alloc(0)).digest(),R=C.length;if(w[0]!==0)throw Error("decryption error");var T=w.slice(1,R+1),P=w.slice(R+1),O=s(T,i(P,R)),j=s(P,i(O,S-R-1));if(y(C,j.slice(0,R)))throw Error("decryption error");for(var B=R;j[B]===0;)B++;if(j[B++]!==1)throw Error("decryption error");return j.slice(B)}n(d,"Z");function c(b,w,S){for(var C=w.slice(0,2),R=2,T=0;w[R++]!==0;)if(R>=w.length){T++;break}var P=w.slice(2,R-1);if((C.toString("hex")!=="0002"&&!S||C.toString("hex")!=="0001"&&S)&&T++,P.length<8&&T++,T)throw Error("decryption error");return w.slice(R)}n(c,"k");function y(b,w){b=h.from(b),w=h.from(w);var S=0,C=b.length;b.length!==w.length&&(S++,C=Math.min(b.length,w.length));for(var R=-1;++R<C;)S+=b[R]^w[R];return S}n(y,"G")}),Ul=st(t=>{t.publicEncrypt=U6(),t.privateDecrypt=z6(),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}}),$6=st(t=>{var e=($r(),$t(Lr));typeof e.publicEncrypt!="function"&&(e=Ul()),t.publicEncrypt=e.publicEncrypt,t.privateDecrypt=e.privateDecrypt,typeof e.privateEncrypt!="function"?t.privateEncrypt=Ul().privateEncrypt:t.privateEncrypt=e.privateEncrypt,typeof e.publicDecrypt!="function"?t.publicDecrypt=Ul().publicDecrypt:t.publicDecrypt=e.publicDecrypt}),H6=st(t=>{var e=kr(),r=Aa(),i=e.Buffer,s=e.kMaxLength,l=globalThis.crypto||globalThis.msCrypto,a=Math.pow(2,32)-1;function v(y,b){if(typeof y!="number"||y!==y)throw TypeError("offset must be a number");if(y>a||y<0)throw TypeError("offset must be a uint32");if(y>s||y>b)throw RangeError("offset out of range")}n(v,"H");function g(y,b,w){if(typeof y!="number"||y!==y)throw TypeError("size must be a number");if(y>a||y<0)throw TypeError("size must be a uint32");if(y+b>w||y>s)throw RangeError("buffer too small")}n(g,"v"),l&&l.getRandomValues,t.randomFill=h,t.randomFillSync=c;function h(y,b,w,S){if(!i.isBuffer(y)&&!(y instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")S=b,b=0,w=y.length;else if(typeof w=="function")S=w,w=y.length-b;else if(typeof S!="function")throw TypeError('"cb" argument must be a function');return v(b,y.length),g(w,b,y.length),d(y,b,w,S)}n(h,"X");function d(y,b,w,S){if(S){r(w,function(R,T){if(R)return S(R);T.copy(y,b),S(null,y)});return}var C=r(w);return C.copy(y,b),y}n(d,"Z");function c(y,b,w){if(typeof b>"u"&&(b=0),!i.isBuffer(y)&&!(y instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return v(b,y.length),w===void 0&&(w=y.length-b),g(w,b,y.length),d(y,b,w)}n(c,"k")}),Z6=st((t,e)=>{var r=($r(),$t(Lr));typeof r.randomFill=="function"&&typeof r.randomFillSync=="function"?(t.randomFill=r.randomFill,t.randomFillSync=r.randomFillSync):e.exports=H6()}),V6=st(t=>{t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=Aa(),t.createHash=t.Hash=ka(),t.createHmac=t.Hmac=y0();var e=Y2(),r=Object.keys(e),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return i};var s=x0();t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var l=Q2();t.Cipher=l.Cipher,t.createCipher=l.createCipher,t.Cipheriv=l.Cipheriv,t.createCipheriv=l.createCipheriv,t.Decipher=l.Decipher,t.createDecipher=l.createDecipher,t.Decipheriv=l.Decipheriv,t.createDecipheriv=l.createDecipheriv,t.getCiphers=l.getCiphers,t.listCiphers=l.listCiphers;var a=J2();t.DiffieHellmanGroup=a.DiffieHellmanGroup,t.createDiffieHellmanGroup=a.createDiffieHellmanGroup,t.getDiffieHellman=a.getDiffieHellman,t.createDiffieHellman=a.createDiffieHellman,t.DiffieHellman=a.DiffieHellman;var v=q2();t.createSign=v.createSign,t.Sign=v.Sign,t.createVerify=v.createVerify,t.Verify=v.Verify,t.createECDH=_6();var g=$6();t.publicEncrypt=g.publicEncrypt,t.privateEncrypt=g.privateEncrypt,t.publicDecrypt=g.publicDecrypt,t.privateDecrypt=g.privateDecrypt;var h=Z6();t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),It=mI(V6(),1),e5=It.prng,t5=It.pseudoRandomBytes,r5=It.rng,i5=It.randomBytes,n5=It.Hash,s5=It.createHash,a5=It.Hmac,o5=It.createHmac,l5=It.getHashes,u5=It.pbkdf2,f5=It.pbkdf2Sync,c5=It.Cipher,h5=It.createCipher,d5=It.Cipheriv,p5=It.createCipheriv,m5=It.Decipher,g5=It.createDecipher,v5=It.Decipheriv,b5=It.createDecipheriv,y5=It.getCiphers,w5=It.listCiphers,x5=It.DiffieHellmanGroup,_5=It.createDiffieHellmanGroup,M5=It.getDiffieHellman,S5=It.createDiffieHellman,E5=It.DiffieHellman,A5=It.createSign,k5=It.Sign,N5=It.createVerify,C5=It.Verify,R5=It.createECDH,I5=It.publicEncrypt,T5=It.privateEncrypt,P5=It.publicDecrypt,O5=It.privateDecrypt,j5=It.randomFill,L5=It.randomFillSync,D5=It.createCredentials,B5=It.constants,F5=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],U5=crypto,z5=crypto}),Nm;(t=>{t.IMAGE="image",t.VIDEO="video",t.AUDIO="audio",t.DOCUMENT="document",t.LINK="link"})(Nm||={});var yI;(t=>{t.DOCUMENT="document",t.FRAGMENT="fragment",t.MESSAGE="message",t.DESCRIPTION="description",t.CUSTOM="custom"})(yI||={});var wI;(t=>{t.SHARED="shared",t.PRIVATE="private"})(wI||={});var xI;(t=>t.KNOWLEDGE="knowledge")(xI||={});var _I;(t=>{t.OWNER="OWNER",t.ADMIN="ADMIN",t.NONE="NONE"})(_I||={});var vt;(t=>{t.SELF="SELF",t.DM="DM",t.GROUP="GROUP",t.VOICE_DM="VOICE_DM",t.VOICE_GROUP="VOICE_GROUP",t.FEED="FEED",t.THREAD="THREAD",t.WORLD="WORLD",t.FORUM="FORUM",t.API="API"})(vt||={});var hr;(t=>{t.ACTIVE="active",t.INACTIVE="inactive"})(hr||={});var MI;(t=>{t.WORLD_JOINED="WORLD_JOINED",t.WORLD_CONNECTED="WORLD_CONNECTED",t.WORLD_LEFT="WORLD_LEFT",t.ENTITY_JOINED="ENTITY_JOINED",t.ENTITY_LEFT="ENTITY_LEFT",t.ENTITY_UPDATED="ENTITY_UPDATED",t.ROOM_JOINED="ROOM_JOINED",t.ROOM_LEFT="ROOM_LEFT",t.MESSAGE_RECEIVED="MESSAGE_RECEIVED",t.MESSAGE_SENT="MESSAGE_SENT",t.MESSAGE_DELETED="MESSAGE_DELETED",t.CHANNEL_CLEARED="CHANNEL_CLEARED",t.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED",t.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT",t.REACTION_RECEIVED="REACTION_RECEIVED",t.POST_GENERATED="POST_GENERATED",t.INTERACTION_RECEIVED="INTERACTION_RECEIVED",t.RUN_STARTED="RUN_STARTED",t.RUN_ENDED="RUN_ENDED",t.RUN_TIMEOUT="RUN_TIMEOUT",t.ACTION_STARTED="ACTION_STARTED",t.ACTION_COMPLETED="ACTION_COMPLETED",t.EVALUATOR_STARTED="EVALUATOR_STARTED",t.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED",t.MODEL_USED="MODEL_USED",t.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED",t.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED",t.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(MI||={});var SI;(t=>{t.DISCORD="DISCORD",t.TELEGRAM="TELEGRAM",t.TWITTER="TWITTER"})(SI||={});var EI;(t=>{t.OFF="OFF",t.LOCAL="LOCAL",t.DOCKER="DOCKER",t.PRODUCTION="PRODUCTION"})(EI||={});var AI;(t=>t.TDX_DSTACK="tdx_dstack")(AI||={});var Cm;(t=>{t[t.ROOM_JOINING=1]="ROOM_JOINING",t[t.SEND_MESSAGE=2]="SEND_MESSAGE",t[t.MESSAGE=3]="MESSAGE",t[t.ACK=4]="ACK",t[t.THINKING=5]="THINKING",t[t.CONTROL=6]="CONTROL"})(Cm||={});var kI={};$n(kI,{void:n(()=>cT,"void"),util:n(()=>Kt,"util"),unknown:n(()=>uT,"unknown"),union:n(()=>mT,"union"),undefined:n(()=>aT,"undefined"),tuple:n(()=>bT,"tuple"),transformer:n(()=>K6,"transformer"),symbol:n(()=>sT,"symbol"),string:n(()=>K5,"string"),strictObject:n(()=>pT,"strictObject"),setErrorMap:n(()=>RI,"setErrorMap"),set:n(()=>xT,"set"),record:n(()=>yT,"record"),quotelessJson:n(()=>NI,"quotelessJson"),promise:n(()=>kT,"promise"),preprocess:n(()=>RT,"preprocess"),pipeline:n(()=>IT,"pipeline"),ostring:n(()=>TT,"ostring"),optional:n(()=>NT,"optional"),onumber:n(()=>PT,"onumber"),oboolean:n(()=>OT,"oboolean"),objectUtil:n(()=>Rm,"objectUtil"),object:n(()=>dT,"object"),number:n(()=>Y5,"number"),nullable:n(()=>CT,"nullable"),null:n(()=>oT,"null"),never:n(()=>fT,"never"),nativeEnum:n(()=>AT,"nativeEnum"),nan:n(()=>rT,"nan"),map:n(()=>wT,"map"),makeIssue:n(()=>ku,"makeIssue"),literal:n(()=>ST,"literal"),lazy:n(()=>MT,"lazy"),late:n(()=>eT,"late"),isValid:n(()=>xs,"isValid"),isDirty:n(()=>Tm,"isDirty"),isAsync:n(()=>vo,"isAsync"),isAborted:n(()=>Im,"isAborted"),intersection:n(()=>vT,"intersection"),instanceof:n(()=>tT,"instanceof"),getParsedType:n(()=>un,"getParsedType"),getErrorMap:n(()=>Au,"getErrorMap"),function:n(()=>_T,"function"),enum:n(()=>ET,"enum"),effect:n(()=>K6,"effect"),discriminatedUnion:n(()=>gT,"discriminatedUnion"),defaultErrorMap:n(()=>ia,"defaultErrorMap"),datetimeRegex:n(()=>V5,"datetimeRegex"),date:n(()=>nT,"date"),custom:n(()=>W5,"custom"),coerce:n(()=>jT,"coerce"),boolean:n(()=>X5,"boolean"),bigint:n(()=>iT,"bigint"),array:n(()=>hT,"array"),any:n(()=>lT,"any"),addIssueToContext:n(()=>ot,"addIssueToContext"),ZodVoid:n(()=>Cu,"ZodVoid"),ZodUnknown:n(()=>ds,"ZodUnknown"),ZodUnion:n(()=>xo,"ZodUnion"),ZodUndefined:n(()=>yo,"ZodUndefined"),ZodType:n(()=>Tt,"ZodType"),ZodTuple:n(()=>Bi,"ZodTuple"),ZodTransformer:n(()=>wi,"ZodTransformer"),ZodSymbol:n(()=>Nu,"ZodSymbol"),ZodString:n(()=>mi,"ZodString"),ZodSet:n(()=>Ms,"ZodSet"),ZodSchema:n(()=>Tt,"ZodSchema"),ZodRecord:n(()=>Mo,"ZodRecord"),ZodReadonly:n(()=>Co,"ZodReadonly"),ZodPromise:n(()=>sa,"ZodPromise"),ZodPipeline:n(()=>ul,"ZodPipeline"),ZodParsedType:n(()=>ft,"ZodParsedType"),ZodOptional:n(()=>Oi,"ZodOptional"),ZodObject:n(()=>nr,"ZodObject"),ZodNumber:n(()=>In,"ZodNumber"),ZodNullable:n(()=>On,"ZodNullable"),ZodNull:n(()=>wo,"ZodNull"),ZodNever:n(()=>dn,"ZodNever"),ZodNativeEnum:n(()=>Ao,"ZodNativeEnum"),ZodNaN:n(()=>Iu,"ZodNaN"),ZodMap:n(()=>Ru,"ZodMap"),ZodLiteral:n(()=>Eo,"ZodLiteral"),ZodLazy:n(()=>So,"ZodLazy"),ZodIssueCode:n(()=>rt,"ZodIssueCode"),ZodIntersection:n(()=>_o,"ZodIntersection"),ZodFunction:n(()=>Qs,"ZodFunction"),ZodFirstPartyTypeKind:n(()=>xt,"ZodFirstPartyTypeKind"),ZodError:n(()=>Vr,"ZodError"),ZodEnum:n(()=>Pn,"ZodEnum"),ZodEffects:n(()=>wi,"ZodEffects"),ZodDiscriminatedUnion:n(()=>If,"ZodDiscriminatedUnion"),ZodDefault:n(()=>ko,"ZodDefault"),ZodDate:n(()=>_s,"ZodDate"),ZodCatch:n(()=>No,"ZodCatch"),ZodBranded:n(()=>Yg,"ZodBranded"),ZodBoolean:n(()=>bo,"ZodBoolean"),ZodBigInt:n(()=>Tn,"ZodBigInt"),ZodArray:n(()=>vi,"ZodArray"),ZodAny:n(()=>na,"ZodAny"),Schema:n(()=>Tt,"Schema"),ParseStatus:n(()=>Sr,"ParseStatus"),OK:n(()=>Cr,"OK"),NEVER:n(()=>LT,"NEVER"),INVALID:n(()=>yt,"INVALID"),EMPTY_PATH:n(()=>II,"EMPTY_PATH"),DIRTY:n(()=>Zs,"DIRTY"),BRAND:n(()=>qI,"BRAND")});var Kt;(function(t){t.assertEqual=s=>{};function e(s){}n(e,"$"),t.assertIs=e;function r(s){throw Error()}n(r,"K"),t.assertNever=r,t.arrayToEnum=s=>{let l={};for(let a of s)l[a]=a;return l},t.getValidEnumValues=s=>{let l=t.objectKeys(s).filter(v=>typeof s[s[v]]!="number"),a={};for(let v of l)a[v]=s[v];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(l){return s[l]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let l=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&l.push(a);return l},t.find=(s,l)=>{for(let a of s)if(l(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,l=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(l)}n(i,"_"),t.joinValues=i,t.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(Kt||(Kt={}));var Rm;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Rm||(Rm={}));var ft=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),un=n(t=>{switch(typeof t){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(t)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(t)?ft.array:t===null?ft.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ft.promise:typeof Map<"u"&&t instanceof Map?ft.map:typeof Set<"u"&&t instanceof Set?ft.set:typeof Date<"u"&&t instanceof Date?ft.date:ft.object;default:return ft.unknown}},"m6"),rt=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),NI=n(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"wA");class Vr extends Error{static{n(this,"r8")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(l){return l.message},i={_errors:[]},s=n(l=>{for(let a of l.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)i._errors.push(r(a));else{let v=i,g=0;for(;g<a.path.length;){let h=a.path[g];g!==a.path.length-1?v[h]=v[h]||{_errors:[]}:(v[h]=v[h]||{_errors:[]},v[h]._errors.push(r(a))),v=v[h],g++}}},"_");return s(this),i}static assert(e){if(!(e instanceof Vr))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},i=[];for(let s of this.issues)if(s.path.length>0){let l=s.path[0];r[l]=r[l]||[],r[l].push(e(s))}else i.push(e(s));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}Vr.create=t=>new Vr(t);var CI=n((t,e)=>{let r;switch(t.code){case rt.invalid_type:t.received===ft.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case rt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Kt.jsonStringifyReplacer)}`;break;case rt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Kt.joinValues(t.keys,", ")}`;break;case rt.invalid_union:r="Invalid input";break;case rt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Kt.joinValues(t.options)}`;break;case rt.invalid_enum_value:r=`Invalid enum value. Expected ${Kt.joinValues(t.options)}, received '${t.received}'`;break;case rt.invalid_arguments:r="Invalid function arguments";break;case rt.invalid_return_type:r="Invalid function return type";break;case rt.invalid_date:r="Invalid date";break;case rt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Kt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case rt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case rt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case rt.custom:r="Invalid input";break;case rt.invalid_intersection_types:r="Intersection results could not be merged";break;case rt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case rt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Kt.assertNever(t)}return{message:r}},"TA"),ia=CI,$5=ia;function RI(t){$5=t}n(RI,"XA");function Au(){return $5}n(Au,"i_");var ku=n(t=>{let{data:e,path:r,errorMaps:i,issueData:s}=t,l=[...r,...s.path||[]],a={...s,path:l};if(s.message!==void 0)return{...s,path:l,message:s.message};let v="",g=i.filter(h=>!!h).slice().reverse();for(let h of g)v=h(a,{data:e,defaultError:v}).message;return{...s,path:l,message:v}},"f7"),II=[];function ot(t,e){let r=Au(),i=ku({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ia?void 0:ia].filter(s=>!!s)});t.common.issues.push(i)}n(ot,"nq");class Sr{static{n(this,"G8")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let i=[];for(let s of r){if(s.status==="aborted")return yt;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,r){let i=[];for(let s of r){let l=await s.key,a=await s.value;i.push({key:l,value:a})}return Sr.mergeObjectSync(e,i)}static mergeObjectSync(e,r){let i={};for(let s of r){let{key:l,value:a}=s;if(l.status==="aborted"||a.status==="aborted")return yt;l.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(i[l.value]=a.value)}return{status:e.value,value:i}}}var yt=Object.freeze({status:"aborted"}),Zs=n(t=>({status:"dirty",value:t}),"O_"),Cr=n(t=>({status:"valid",value:t}),"b8"),Im=n(t=>t.status==="aborted","tP"),Tm=n(t=>t.status==="dirty","QP"),xs=n(t=>t.status==="valid","pK"),vo=n(t=>typeof Promise<"u"&&t instanceof Promise,"U_"),mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(mt||(mt={}));class Di{static{n(this,"C6")}constructor(e,r,i,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var G6=n((t,e)=>{if(xs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Vr(t.common.issues);return this._error=r,this._error}}},"Aj");function At(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:i,description:s}=t;if(e&&(r||i))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:n((l,a)=>{let{message:v}=t;return l.code==="invalid_enum_value"?{message:v??a.defaultError}:typeof a.data>"u"?{message:v??i??a.defaultError}:l.code!=="invalid_type"?{message:a.defaultError}:{message:v??r??a.defaultError}},"errorMap"),description:s}}n(At,"v$");class Tt{static{n(this,"f$")}get description(){return this._def.description}_getType(e){return un(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sr,ctx:{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(vo(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let i=this.safeParse(e,r);if(i.success)return i.data;throw i.error}safeParse(e,r){let i={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},s=this._parseSync({data:e,path:i.path,parent:i});return G6(i,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:r});return xs(i)?{value:i.value}:{issues:r.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>xs(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){let i=await this.safeParseAsync(e,r);if(i.success)return i.data;throw i.error}async safeParseAsync(e,r){let i={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},s=this._parse({data:e,path:i.path,parent:i}),l=await(vo(s)?s:Promise.resolve(s));return G6(i,l)}refine(e,r){let i=n(s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r,"K");return this._refinement((s,l)=>{let a=e(s),v=n(()=>l.addIssue({code:rt.custom,...i(s)}),"Y");return typeof Promise<"u"&&a instanceof Promise?a.then(g=>g?!0:(v(),!1)):a?!0:(v(),!1)})}refinement(e,r){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof r=="function"?r(i,s):r),!1))}_refinement(e){return new wi({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n(r=>this["~validate"](r),"validate")}}optional(){return Oi.create(this,this._def)}nullable(){return On.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vi.create(this)}promise(){return sa.create(this,this._def)}or(e){return xo.create([this,e],this._def)}and(e){return _o.create(this,e,this._def)}transform(e){return new wi({...At(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new ko({...At(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new Yg({typeName:xt.ZodBranded,type:this,...At(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new No({...At(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ul.create(this,e)}readonly(){return Co.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var TI=/^c[^\s-]{8,}$/i,PI=/^[0-9a-z]+$/,OI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LI=/^[a-z0-9_-]{21}$/i,DI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,BI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",B0,zI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$I=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ZI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",WI=new RegExp(`^${H5}$`);function Z5(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}n(Z5,"Zj");function KI(t){return new RegExp(`^${Z5(t)}$`)}n(KI,"gA");function V5(t){let e=`${H5}T${Z5(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}n(V5,"Vj");function YI(t,e){return!!((e==="v4"||!e)&&zI.test(t)||(e==="v6"||!e)&&HI.test(t))}n(YI,"yA");function XI(t,e){if(!DI.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}n(XI,"pA");function QI(t,e){return!!((e==="v4"||!e)&&$I.test(t)||(e==="v6"||!e)&&ZI.test(t))}n(QI,"xA");class mi extends Tt{static{n(this,"V6")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ft.string){let s=this._getOrReturnCtx(e);return ot(s,{code:rt.invalid_type,expected:ft.string,received:s.parsedType}),yt}let r=new Sr,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let l=e.data.length>s.value,a=e.data.length<s.value;(l||a)&&(i=this._getOrReturnCtx(e,i),l?ot(i,{code:rt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ot(i,{code:rt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")FI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"email",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")B0||(B0=new RegExp(UI,"u")),B0.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"emoji",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")jI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"uuid",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")LI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"nanoid",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")TI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")PI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cuid2",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")OI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ulid",code:rt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ot(i,{validation:"url",code:rt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,!s.regex.test(e.data)&&(i=this._getOrReturnCtx(e,i),ot(i,{validation:"regex",code:rt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?V5(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?WI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?KI(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?BI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"duration",code:rt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?YI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"ip",code:rt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?XI(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"jwt",code:rt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?QI(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"cidr",code:rt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?VI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"base64",code:rt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?GI.test(e.data)||(i=this._getOrReturnCtx(e,i),ot(i,{validation:"base64url",code:rt.invalid_string,message:s.message}),r.dirty()):Kt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,r,i){return this.refinement(s=>e.test(s),{validation:r,code:rt.invalid_string,...mt.errToObj(i)})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...mt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...mt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...mt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...mt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...mt.errToObj(r)})}nonempty(e){return this.min(1,mt.errToObj(e))}trim(){return new mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}mi.create=t=>new mi({checks:[],typeName:xt.ZodString,coerce:t?.coerce??!1,...At(t)});function JI(t,e){let r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=r>i?r:i,l=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return l%a/10**s}n(JI,"uA");class In extends Tt{static{n(this,"uK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ft.number){let s=this._getOrReturnCtx(e);return ot(s,{code:rt.invalid_type,expected:ft.number,received:s.parsedType}),yt}let r,i=new Sr;for(let s of this._def.checks)s.kind==="int"?Kt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?JI(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.not_finite,message:s.message}),i.dirty()):Kt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,i,s){return new In({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:mt.toString(s)}]})}_addCheck(e){return new In({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:mt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(r)&&Number.isFinite(e)}}In.create=t=>new In({checks:[],typeName:xt.ZodNumber,coerce:t?.coerce||!1,...At(t)});class Tn extends Tt{static{n(this,"mK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ft.bigint)return this._getInvalidInput(e);let r,i=new Sr;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:rt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Kt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.bigint,received:r.parsedType}),yt}gte(e,r){return this.setLimit("min",e,!0,mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,mt.toString(r))}setLimit(e,r,i,s){return new Tn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:mt.toString(s)}]})}_addCheck(e){return new Tn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:mt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tn.create=t=>new Tn({checks:[],typeName:xt.ZodBigInt,coerce:t?.coerce??!1,...At(t)});class bo extends Tt{static{n(this,"Q_")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ft.boolean){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.boolean,received:r.parsedType}),yt}return Cr(e.data)}}bo.create=t=>new bo({typeName:xt.ZodBoolean,coerce:t?.coerce||!1,...At(t)});class _s extends Tt{static{n(this,"W_")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ft.date){let s=this._getOrReturnCtx(e);return ot(s,{code:rt.invalid_type,expected:ft.date,received:s.parsedType}),yt}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return ot(s,{code:rt.invalid_date}),yt}let r=new Sr,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ot(i,{code:rt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Kt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _s({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:mt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}_s.create=t=>new _s({checks:[],coerce:t?.coerce||!1,typeName:xt.ZodDate,...At(t)});class Nu extends Tt{static{n(this,"A7")}_parse(e){if(this._getType(e)!==ft.symbol){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.symbol,received:r.parsedType}),yt}return Cr(e.data)}}Nu.create=t=>new Nu({typeName:xt.ZodSymbol,...At(t)});class yo extends Tt{static{n(this,"a_")}_parse(e){if(this._getType(e)!==ft.undefined){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.undefined,received:r.parsedType}),yt}return Cr(e.data)}}yo.create=t=>new yo({typeName:xt.ZodUndefined,...At(t)});class wo extends Tt{static{n(this,"e_")}_parse(e){if(this._getType(e)!==ft.null){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.null,received:r.parsedType}),yt}return Cr(e.data)}}wo.create=t=>new wo({typeName:xt.ZodNull,...At(t)});class na extends Tt{static{n(this,"H_")}constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}na.create=t=>new na({typeName:xt.ZodAny,...At(t)});class ds extends Tt{static{n(this,"xK")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}ds.create=t=>new ds({typeName:xt.ZodUnknown,...At(t)});class dn extends Tt{static{n(this,"c6")}_parse(e){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.never,received:r.parsedType}),yt}}dn.create=t=>new dn({typeName:xt.ZodNever,...At(t)});class Cu extends Tt{static{n(this,"k7")}_parse(e){if(this._getType(e)!==ft.undefined){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.void,received:r.parsedType}),yt}return Cr(e.data)}}Cu.create=t=>new Cu({typeName:xt.ZodVoid,...At(t)});class vi extends Tt{static{n(this,"M6")}_parse(e){let{ctx:r,status:i}=this._processInputParams(e),s=this._def;if(r.parsedType!==ft.array)return ot(r,{code:rt.invalid_type,expected:ft.array,received:r.parsedType}),yt;if(s.exactLength!==null){let a=r.data.length>s.exactLength.value,v=r.data.length<s.exactLength.value;(a||v)&&(ot(r,{code:a?rt.too_big:rt.too_small,minimum:v?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ot(r,{code:rt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ot(r,{code:rt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((a,v)=>s.type._parseAsync(new Di(r,a,r.path,v)))).then(a=>Sr.mergeArray(i,a));let l=[...r.data].map((a,v)=>s.type._parseSync(new Di(r,a,r.path,v)));return Sr.mergeArray(i,l)}get element(){return this._def.type}min(e,r){return new vi({...this._def,minLength:{value:e,message:mt.toString(r)}})}max(e,r){return new vi({...this._def,maxLength:{value:e,message:mt.toString(r)}})}length(e,r){return new vi({...this._def,exactLength:{value:e,message:mt.toString(r)}})}nonempty(e){return this.min(1,e)}}vi.create=(t,e)=>new vi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...At(e)});function Fs(t){if(t instanceof nr){let e={};for(let r in t.shape){let i=t.shape[r];e[r]=Oi.create(Fs(i))}return new nr({...t._def,shape:n(()=>e,"shape")})}else return t instanceof vi?new vi({...t._def,type:Fs(t.element)}):t instanceof Oi?Oi.create(Fs(t.unwrap())):t instanceof On?On.create(Fs(t.unwrap())):t instanceof Bi?Bi.create(t.items.map(e=>Fs(e))):t}n(Fs,"F_");class nr extends Tt{static{n(this,"p$")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Kt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ft.object){let g=this._getOrReturnCtx(e);return ot(g,{code:rt.invalid_type,expected:ft.object,received:g.parsedType}),yt}let{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),a=[];if(!(this._def.catchall instanceof dn&&this._def.unknownKeys==="strip"))for(let g in i.data)l.includes(g)||a.push(g);let v=[];for(let g of l){let h=s[g],d=i.data[g];v.push({key:{status:"valid",value:g},value:h._parse(new Di(i,d,i.path,g)),alwaysSet:g in i.data})}if(this._def.catchall instanceof dn){let g=this._def.unknownKeys;if(g==="passthrough")for(let h of a)v.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(g==="strict")a.length>0&&(ot(i,{code:rt.unrecognized_keys,keys:a}),r.dirty());else if(g!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let h of a){let d=i.data[h];v.push({key:{status:"valid",value:h},value:g._parse(new Di(i,d,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let g=[];for(let h of v){let d=await h.key,c=await h.value;g.push({key:d,value:c,alwaysSet:h.alwaysSet})}return g}).then(g=>Sr.mergeObjectSync(r,g)):Sr.mergeObjectSync(r,v)}get shape(){return this._def.shape()}strict(e){return mt.errToObj,new nr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:n((r,i)=>{let s=this._def.errorMap?.(r,i).message??i.defaultError;return r.code==="unrecognized_keys"?{message:mt.errToObj(e).message??s}:{message:s}},"errorMap")}:{}})}strip(){return new nr({...this._def,unknownKeys:"strip"})}passthrough(){return new nr({...this._def,unknownKeys:"passthrough"})}extend(e){return new nr({...this._def,shape:n(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new nr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:n(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:xt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new nr({...this._def,catchall:e})}pick(e){let r={};for(let i of Kt.objectKeys(e))e[i]&&this.shape[i]&&(r[i]=this.shape[i]);return new nr({...this._def,shape:n(()=>r,"shape")})}omit(e){let r={};for(let i of Kt.objectKeys(this.shape))e[i]||(r[i]=this.shape[i]);return new nr({...this._def,shape:n(()=>r,"shape")})}deepPartial(){return Fs(this)}partial(e){let r={};for(let i of Kt.objectKeys(this.shape)){let s=this.shape[i];e&&!e[i]?r[i]=s:r[i]=s.optional()}return new nr({...this._def,shape:n(()=>r,"shape")})}required(e){let r={};for(let i of Kt.objectKeys(this.shape))if(e&&!e[i])r[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Oi;)s=s._def.innerType;r[i]=s}return new nr({...this._def,shape:n(()=>r,"shape")})}keyof(){return G5(Kt.objectKeys(this.shape))}}nr.create=(t,e)=>new nr({shape:n(()=>t,"shape"),unknownKeys:"strip",catchall:dn.create(),typeName:xt.ZodObject,...At(e)});nr.strictCreate=(t,e)=>new nr({shape:n(()=>t,"shape"),unknownKeys:"strict",catchall:dn.create(),typeName:xt.ZodObject,...At(e)});nr.lazycreate=(t,e)=>new nr({shape:t,unknownKeys:"strip",catchall:dn.create(),typeName:xt.ZodObject,...At(e)});class xo extends Tt{static{n(this,"s_")}_parse(e){let{ctx:r}=this._processInputParams(e),i=this._def.options;function s(l){for(let v of l)if(v.result.status==="valid")return v.result;for(let v of l)if(v.result.status==="dirty")return r.common.issues.push(...v.ctx.common.issues),v.result;let a=l.map(v=>new Vr(v.ctx.common.issues));return ot(r,{code:rt.invalid_union,unionErrors:a}),yt}if(n(s,"_"),r.common.async)return Promise.all(i.map(async l=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let l,a=[];for(let g of i){let h={...r,common:{...r.common,issues:[]},parent:null},d=g._parseSync({data:r.data,path:r.path,parent:h});if(d.status==="valid")return d;d.status==="dirty"&&!l&&(l={result:d,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;let v=a.map(g=>new Vr(g));return ot(r,{code:rt.invalid_union,unionErrors:v}),yt}}get options(){return this._def.options}}xo.create=(t,e)=>new xo({options:t,typeName:xt.ZodUnion,...At(e)});var nn=n(t=>t instanceof So?nn(t.schema):t instanceof wi?nn(t.innerType()):t instanceof Eo?[t.value]:t instanceof Pn?t.options:t instanceof Ao?Kt.objectValues(t.enum):t instanceof ko?nn(t._def.innerType):t instanceof yo?[void 0]:t instanceof wo?[null]:t instanceof Oi?[void 0,...nn(t.unwrap())]:t instanceof On?[null,...nn(t.unwrap())]:t instanceof Yg||t instanceof Co?nn(t.unwrap()):t instanceof No?nn(t._def.innerType):[],"HK");class If extends Tt{static{n(this,"aP")}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ft.object)return ot(r,{code:rt.invalid_type,expected:ft.object,received:r.parsedType}),yt;let i=this.discriminator,s=r.data[i],l=this.optionsMap.get(s);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(ot(r,{code:rt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,i){let s=new Map;for(let l of r){let a=nn(l.shape[e]);if(!a.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let v of a){if(s.has(v))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(v)}`);s.set(v,l)}}return new If({typeName:xt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...At(i)})}}function Pm(t,e){let r=un(t),i=un(e);if(t===e)return{valid:!0,data:t};if(r===ft.object&&i===ft.object){let s=Kt.objectKeys(e),l=Kt.objectKeys(t).filter(v=>s.indexOf(v)!==-1),a={...t,...e};for(let v of l){let g=Pm(t[v],e[v]);if(!g.valid)return{valid:!1};a[v]=g.data}return{valid:!0,data:a}}else if(r===ft.array&&i===ft.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let l=0;l<t.length;l++){let a=t[l],v=e[l],g=Pm(a,v);if(!g.valid)return{valid:!1};s.push(g.data)}return{valid:!0,data:s}}else return r===ft.date&&i===ft.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}n(Pm,"G5");class _o extends Tt{static{n(this,"q4")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e),s=n((l,a)=>{if(Im(l)||Im(a))return yt;let v=Pm(l.value,a.value);return v.valid?((Tm(l)||Tm(a))&&r.dirty(),{status:r.value,value:v.data}):(ot(i,{code:rt.invalid_intersection_types}),yt)},"_");return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,a])=>s(l,a)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}_o.create=(t,e,r)=>new _o({left:t,right:e,typeName:xt.ZodIntersection,...At(r)});class Bi extends Tt{static{n(this,"l6")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ft.array)return ot(i,{code:rt.invalid_type,expected:ft.array,received:i.parsedType}),yt;if(i.data.length<this._def.items.length)return ot(i,{code:rt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&i.data.length>this._def.items.length&&(ot(i,{code:rt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...i.data].map((l,a)=>{let v=this._def.items[a]||this._def.rest;return v?v._parse(new Di(i,l,i.path,a)):null}).filter(l=>!!l);return i.common.async?Promise.all(s).then(l=>Sr.mergeArray(r,l)):Sr.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Bi({...this._def,rest:e})}}Bi.create=(t,e)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bi({items:t,typeName:xt.ZodTuple,rest:null,...At(e)})};class Mo extends Tt{static{n(this,"G7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ft.object)return ot(i,{code:rt.invalid_type,expected:ft.object,received:i.parsedType}),yt;let s=[],l=this._def.keyType,a=this._def.valueType;for(let v in i.data)s.push({key:l._parse(new Di(i,v,i.path,v)),value:a._parse(new Di(i,i.data[v],i.path,v)),alwaysSet:v in i.data});return i.common.async?Sr.mergeObjectAsync(r,s):Sr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,i){return r instanceof Tt?new Mo({keyType:e,valueType:r,typeName:xt.ZodRecord,...At(i)}):new Mo({keyType:mi.create(),valueType:e,typeName:xt.ZodRecord,...At(r)})}}class Ru extends Tt{static{n(this,"Z7")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ft.map)return ot(i,{code:rt.invalid_type,expected:ft.map,received:i.parsedType}),yt;let s=this._def.keyType,l=this._def.valueType,a=[...i.data.entries()].map(([v,g],h)=>({key:s._parse(new Di(i,v,i.path,[h,"key"])),value:l._parse(new Di(i,g,i.path,[h,"value"]))}));if(i.common.async){let v=new Map;return Promise.resolve().then(async()=>{for(let g of a){let h=await g.key,d=await g.value;if(h.status==="aborted"||d.status==="aborted")return yt;(h.status==="dirty"||d.status==="dirty")&&r.dirty(),v.set(h.value,d.value)}return{status:r.value,value:v}})}else{let v=new Map;for(let g of a){let{key:h,value:d}=g;if(h.status==="aborted"||d.status==="aborted")return yt;(h.status==="dirty"||d.status==="dirty")&&r.dirty(),v.set(h.value,d.value)}return{status:r.value,value:v}}}}Ru.create=(t,e,r)=>new Ru({valueType:e,keyType:t,typeName:xt.ZodMap,...At(r)});class Ms extends Tt{static{n(this,"z_")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ft.set)return ot(i,{code:rt.invalid_type,expected:ft.set,received:i.parsedType}),yt;let s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(ot(i,{code:rt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(ot(i,{code:rt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let l=this._def.valueType;function a(g){let h=new Set;for(let d of g){if(d.status==="aborted")return yt;d.status==="dirty"&&r.dirty(),h.add(d.value)}return{status:r.value,value:h}}n(a,"O");let v=[...i.data.values()].map((g,h)=>l._parse(new Di(i,g,i.path,h)));return i.common.async?Promise.all(v).then(g=>a(g)):a(v)}min(e,r){return new Ms({...this._def,minSize:{value:e,message:mt.toString(r)}})}max(e,r){return new Ms({...this._def,maxSize:{value:e,message:mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ms.create=(t,e)=>new Ms({valueType:t,minSize:null,maxSize:null,typeName:xt.ZodSet,...At(e)});class Qs extends Tt{static{n(this,"t_")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ft.function)return ot(r,{code:rt.invalid_type,expected:ft.function,received:r.parsedType}),yt;function i(v,g){return ku({data:v,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Au(),ia].filter(h=>!!h),issueData:{code:rt.invalid_arguments,argumentsError:g}})}n(i,"K");function s(v,g){return ku({data:v,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Au(),ia].filter(h=>!!h),issueData:{code:rt.invalid_return_type,returnTypeError:g}})}n(s,"_");let l={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof sa){let v=this;return Cr(async function(...g){let h=new Vr([]),d=await v._def.args.parseAsync(g,l).catch(y=>{throw h.addIssue(i(g,y)),h}),c=await Reflect.apply(a,this,d);return await v._def.returns._def.type.parseAsync(c,l).catch(y=>{throw h.addIssue(s(c,y)),h})})}else{let v=this;return Cr(function(...g){let h=v._def.args.safeParse(g,l);if(!h.success)throw new Vr([i(g,h.error)]);let d=Reflect.apply(a,this,h.data),c=v._def.returns.safeParse(d,l);if(!c.success)throw new Vr([s(d,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qs({...this._def,args:Bi.create(e).rest(ds.create())})}returns(e){return new Qs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,i){return new Qs({args:e||Bi.create([]).rest(ds.create()),returns:r||ds.create(),typeName:xt.ZodFunction,...At(i)})}}class So extends Tt{static{n(this,"$4")}get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}So.create=(t,e)=>new So({getter:t,typeName:xt.ZodLazy,...At(e)});class Eo extends Tt{static{n(this,"K4")}_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ot(r,{received:r.data,code:rt.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Eo.create=(t,e)=>new Eo({value:t,typeName:xt.ZodLiteral,...At(e)});function G5(t,e){return new Pn({values:t,typeName:xt.ZodEnum,...At(e)})}n(G5,"Mj");class Pn extends Tt{static{n(this,"cK")}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),i=this._def.values;return ot(r,{expected:Kt.joinValues(i),received:r.parsedType,code:rt.invalid_type}),yt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),i=this._def.values;return ot(r,{received:r.data,code:rt.invalid_enum_value,options:i}),yt}return Cr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Pn.create(e,{...this._def,...r})}exclude(e,r=this._def){return Pn.create(this.options.filter(i=>!e.includes(i)),{...this._def,...r})}}Pn.create=G5;class Ao extends Tt{static{n(this,"_4")}_parse(e){let r=Kt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ft.string&&i.parsedType!==ft.number){let s=Kt.objectValues(r);return ot(i,{expected:Kt.joinValues(s),received:i.parsedType,code:rt.invalid_type}),yt}if(this._cache||(this._cache=new Set(Kt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=Kt.objectValues(r);return ot(i,{received:i.data,code:rt.invalid_enum_value,options:s}),yt}return Cr(e.data)}get enum(){return this._def.values}}Ao.create=(t,e)=>new Ao({values:t,typeName:xt.ZodNativeEnum,...At(e)});class sa extends Tt{static{n(this,"J_")}unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ft.promise&&r.common.async===!1)return ot(r,{code:rt.invalid_type,expected:ft.promise,received:r.parsedType}),yt;let i=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return Cr(i.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sa.create=(t,e)=>new sa({type:t,typeName:xt.ZodPromise,...At(e)});class wi extends Tt{static{n(this,"N6")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:i}=this._processInputParams(e),s=this._def.effect||null,l={addIssue:n(a=>{ot(i,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),s.type==="preprocess"){let a=s.transform(i.data,l);if(i.common.async)return Promise.resolve(a).then(async v=>{if(r.value==="aborted")return yt;let g=await this._def.schema._parseAsync({data:v,path:i.path,parent:i});return g.status==="aborted"?yt:g.status==="dirty"||r.value==="dirty"?Zs(g.value):g});{if(r.value==="aborted")return yt;let v=this._def.schema._parseSync({data:a,path:i.path,parent:i});return v.status==="aborted"?yt:v.status==="dirty"||r.value==="dirty"?Zs(v.value):v}}if(s.type==="refinement"){let a=n(v=>{let g=s.refinement(v,l);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return v},"O");if(i.common.async===!1){let v=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return v.status==="aborted"?yt:(v.status==="dirty"&&r.dirty(),a(v.value),{status:r.value,value:v.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(v=>v.status==="aborted"?yt:(v.status==="dirty"&&r.dirty(),a(v.value).then(()=>({status:r.value,value:v.value}))))}if(s.type==="transform")if(i.common.async===!1){let a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!xs(a))return yt;let v=s.transform(a.value,l);if(v instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:v}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>xs(a)?Promise.resolve(s.transform(a.value,l)).then(v=>({status:r.value,value:v})):yt);Kt.assertNever(s)}}wi.create=(t,e,r)=>new wi({schema:t,typeName:xt.ZodEffects,effect:e,...At(r)});wi.createWithPreprocess=(t,e,r)=>new wi({schema:e,effect:{type:"preprocess",transform:t},typeName:xt.ZodEffects,...At(r)});class Oi extends Tt{static{n(this,"S6")}_parse(e){return this._getType(e)===ft.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oi.create=(t,e)=>new Oi({innerType:t,typeName:xt.ZodOptional,...At(e)});class On extends Tt{static{n(this,"zK")}_parse(e){return this._getType(e)===ft.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}On.create=(t,e)=>new On({innerType:t,typeName:xt.ZodNullable,...At(e)});class ko extends Tt{static{n(this,"P4")}_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return r.parsedType===ft.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ko.create=(t,e)=>new ko({innerType:t,typeName:xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...At(e)});class No extends Tt{static{n(this,"Y4")}_parse(e){let{ctx:r}=this._processInputParams(e),i={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return vo(s)?s.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Vr(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}No.create=(t,e)=>new No({innerType:t,typeName:xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...At(e)});class Iu extends Tt{static{n(this,"V7")}_parse(e){if(this._getType(e)!==ft.nan){let r=this._getOrReturnCtx(e);return ot(r,{code:rt.invalid_type,expected:ft.nan,received:r.parsedType}),yt}return{status:"valid",value:e.data}}}Iu.create=t=>new Iu({typeName:xt.ZodNaN,...At(t)});var qI=Symbol("zod_brand");class Yg extends Tt{static{n(this,"eP")}_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class ul extends Tt{static{n(this,"M7")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?yt:s.status==="dirty"?(r.dirty(),Zs(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{let s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?yt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,r){return new ul({in:e,out:r,typeName:xt.ZodPipeline})}}class Co extends Tt{static{n(this,"j4")}_parse(e){let r=this._def.innerType._parse(e),i=n(s=>(xs(s)&&(s.value=Object.freeze(s.value)),s),"K");return vo(r)?r.then(s=>i(s)):i(r)}unwrap(){return this._def.innerType}}Co.create=(t,e)=>new Co({innerType:t,typeName:xt.ZodReadonly,...At(e)});function W6(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}n(W6,"kj");function W5(t,e={},r){return t?na.create().superRefine((i,s)=>{let l=t(i);if(l instanceof Promise)return l.then(a=>{if(!a){let v=W6(e,i),g=v.fatal??r??!0;s.addIssue({code:"custom",...v,fatal:g})}});if(!l){let a=W6(e,i),v=a.fatal??r??!0;s.addIssue({code:"custom",...a,fatal:v})}}):na.create()}n(W5,"Sj");var eT={object:nr.lazycreate},xt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xt||(xt={}));var tT=n((t,e={message:`Input not instance of ${t.name}`})=>W5(r=>r instanceof t,e),"lA"),K5=mi.create,Y5=In.create,rT=Iu.create,iT=Tn.create,X5=bo.create,nT=_s.create,sT=Nu.create,aT=yo.create,oT=wo.create,lT=na.create,uT=ds.create,fT=dn.create,cT=Cu.create,hT=vi.create,dT=nr.create,pT=nr.strictCreate,mT=xo.create,gT=If.create,vT=_o.create,bT=Bi.create,yT=Mo.create,wT=Ru.create,xT=Ms.create,_T=Qs.create,MT=So.create,ST=Eo.create,ET=Pn.create,AT=Ao.create,kT=sa.create,K6=wi.create,NT=Oi.create,CT=On.create,RT=wi.createWithPreprocess,IT=ul.create,TT=n(()=>K5().optional(),"kk"),PT=n(()=>Y5().optional(),"Gk"),OT=n(()=>X5().optional(),"Zk"),jT={string:n(t=>mi.create({...t,coerce:!0}),"string"),number:n(t=>In.create({...t,coerce:!0}),"number"),boolean:n(t=>bo.create({...t,coerce:!0}),"boolean"),bigint:n(t=>Tn.create({...t,coerce:!0}),"bigint"),date:n(t=>_s.create({...t,coerce:!0}),"date")},LT=yt;Xr(Og(),1);var DT=[];for(zl=0;zl<256;++zl)DT.push((zl+256).toString(16).slice(1));var zl;typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Q5={};$n(Q5,{validator:n(()=>Pu,"validator"),validate:n(()=>q5,"validate"),getValueByPointer:n(()=>Tu,"getValueByPointer"),deepClone:n(()=>HT,"deepClone"),applyReducer:n(()=>VT,"applyReducer"),applyPatch:n(()=>J5,"applyPatch"),applyOperation:n(()=>ps,"applyOperation"),_areEquals:n(()=>Ro,"_areEquals"),JsonPatchError:n(()=>ar,"JsonPatchError")});/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/var BT=Object.prototype.hasOwnProperty;function FT(t,e){return BT.call(t,e)}n(FT,"mj");function UT(t){if(Array.isArray(t)){let r=Array(t.length);for(let i=0;i<r.length;i++)r[i]=""+i;return r}if(Object.keys)return Object.keys(t);let e=[];for(let r in t)FT(t,r)&&e.push(r);return e}n(UT,"cj");function Ss(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}n(Ss,"z6");function Om(t){let e=0,r=t.length,i;for(;e<r;){if(i=t.charCodeAt(e),i>=48&&i<=57){e++;continue}return!1}return!0}n(Om,"P9");function zT(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}n(zT,"C7");function jm(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(jm(t[r]))return!0}else if(typeof t=="object"){let r=UT(t),i=r.length;for(var e=0;e<i;e++)if(jm(t[r[e]]))return!0}}return!1}n(jm,"_9");function Y6(t,e){let r=[t];for(let i in e){let s=typeof e[i]=="object"?JSON.stringify(e[i],null,2):e[i];typeof s<"u"&&r.push(`${i}: ${s}`)}return r.join(`
`)}n(Y6,"uj");class $T extends Error{static{n(this,"W4")}constructor(e,r,i,s,l){super(Y6(e,{name:r,index:i,operation:s,tree:l})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.setPrototypeOf(this,new.target.prototype),this.message=Y6(e,{name:r,index:i,operation:s,tree:l})}}var ar=$T,HT=Ss,Vs={add:n(function(t,e,r){return t[e]=this.value,{newDocument:r}},"add"),remove:n(function(t,e,r){var i=t[e];return delete t[e],{newDocument:r,removed:i}},"remove"),replace:n(function(t,e,r){var i=t[e];return t[e]=this.value,{newDocument:r,removed:i}},"replace"),move:n(function(t,e,r){let i=Tu(r,this.path);i&&(i=Ss(i));let s=ps(r,{op:"remove",path:this.from}).removed;return ps(r,{op:"add",path:this.path,value:s}),{newDocument:r,removed:i}},"move"),copy:n(function(t,e,r){let i=Tu(r,this.from);return ps(r,{op:"add",path:this.path,value:Ss(i)}),{newDocument:r}},"copy"),test:n(function(t,e,r){return{newDocument:r,test:Ro(t[e],this.value)}},"test"),_get:n(function(t,e,r){return this.value=t[e],{newDocument:r}},"_get")},ZT={add:n(function(t,e,r){return Om(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},"add"),remove:n(function(t,e,r){var i=t.splice(e,1);return{newDocument:r,removed:i[0]}},"remove"),replace:n(function(t,e,r){var i=t[e];return t[e]=this.value,{newDocument:r,removed:i}},"replace"),move:Vs.move,copy:Vs.copy,test:Vs.test,_get:Vs._get};function Tu(t,e){if(e=="")return t;var r={op:"_get",path:e};return ps(t,r),r.value}n(Tu,"j9");function ps(t,e,r=!1,i=!0,s=!0,l=0){if(r&&(typeof r=="function"?r(e,0,t,e.path):Pu(e,0)),e.path===""){let a={newDocument:t};if(e.op==="add")return a.newDocument=e.value,a;if(e.op==="replace")return a.newDocument=e.value,a.removed=t,a;if(e.op==="move"||e.op==="copy")return a.newDocument=Tu(t,e.from),e.op==="move"&&(a.removed=t),a;if(e.op==="test"){if(a.test=Ro(t,e.value),a.test===!1)throw new ar("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return a.newDocument=t,a}else{if(e.op==="remove")return a.removed=t,a.newDocument=null,a;if(e.op==="_get")return e.value=t,a;if(r)throw new ar("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",l,e,t);return a}}else{i||(t=Ss(t));let a=(e.path||"").split("/"),v=t,g=1,h=a.length,d,c,y;for(typeof r=="function"?y=r:y=Pu;;){if(c=a[g],c&&c.indexOf("~")!=-1&&(c=zT(c)),s&&(c=="__proto__"||c=="prototype"&&g>0&&a[g-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(v[c]===void 0?d=a.slice(0,g).join("/"):g==h-1&&(d=e.path),d!==void 0&&y(e,0,t,d)),g++,Array.isArray(v)){if(c==="-")c=v.length;else{if(r&&!Om(c))throw new ar("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",l,e,t);Om(c)&&(c=~~c)}if(g>=h){if(r&&e.op==="add"&&c>v.length)throw new ar("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",l,e,t);let b=ZT[e.op].call(e,v,c,t);if(b.test===!1)throw new ar("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return b}}else if(g>=h){let b=Vs[e.op].call(e,v,c,t);if(b.test===!1)throw new ar("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return b}if(v=v[c],r&&g<h&&(!v||typeof v!="object"))throw new ar("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",l,e,t)}}}n(ps,"w_");function J5(t,e,r,i=!0,s=!0){if(r&&!Array.isArray(e))throw new ar("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(t=Ss(t));let l=Array(e.length);for(let a=0,v=e.length;a<v;a++)l[a]=ps(t,e[a],r,!0,s,a),t=l[a].newDocument;return l.newDocument=t,l}n(J5,"T_");function VT(t,e,r){let i=ps(t,e);if(i.test===!1)throw new ar("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return i.newDocument}n(VT,"ok");function Pu(t,e,r,i){if(typeof t!="object"||t===null||Array.isArray(t))throw new ar("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(Vs[t.op]){if(typeof t.path!="string")throw new ar("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new ar('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new ar("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new ar("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&jm(t.value))throw new ar("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var s=t.path.split("/").length,l=i.split("/").length;if(s!==l+1&&s!==l)throw new ar("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==i)throw new ar("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var a={op:"_get",path:t.from,value:void 0},v=q5([a],r);if(v&&v.name==="OPERATION_PATH_UNRESOLVABLE")throw new ar("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new ar("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}n(Pu,"O9");function q5(t,e,r){try{if(!Array.isArray(t))throw new ar("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)J5(Ss(e),Ss(t),r||!0);else{r=r||Pu;for(var i=0;i<t.length;i++)r(t[i],i,e,void 0)}}catch(s){if(s instanceof ar)return s;throw s}}n(q5,"lj");function Ro(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),i=Array.isArray(e),s,l,a;if(r&&i){if(l=t.length,l!=e.length)return!1;for(s=l;s--!==0;)if(!Ro(t[s],e[s]))return!1;return!0}if(r!=i)return!1;var v=Object.keys(t);if(l=v.length,l!==Object.keys(e).length)return!1;for(s=l;s--!==0;)if(!e.hasOwnProperty(v[s]))return!1;for(s=l;s--!==0;)if(a=v[s],!Ro(t[a],e[a]))return!1;return!0}return t!==t&&e!==e}n(Ro,"N7");/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2013-2021 Joachim Wester
* MIT license
*/({...Q5});var GT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function WT(t){return typeof t=="string"&&GT.test(t)}n(WT,"nk");var KT=WT;function YT(t){if(!KT(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}n(YT,"rk");var XT=YT,yr=[];for($l=0;$l<256;++$l)yr.push(($l+256).toString(16).slice(1));var $l;function QT(t,e=0){return(yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]).toLowerCase()}n(QT,"W9");function JT(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}n(JT,"ik");var qT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",eP="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function tP(t,e,r){function i(s,l,a,v){var g;if(typeof s=="string"&&(s=JT(s)),typeof l=="string"&&(l=XT(l)),((g=l)===null||g===void 0?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(l),h.set(s,l.length),h=r(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,a){v=v||0;for(var d=0;d<16;++d)a[v+d]=h[d];return a}return QT(h)}n(i,"_");try{i.name=t}catch{}return i.DNS=qT,i.URL=eP,i}n(tP,"E5");typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function rP(t,e,r,i){switch(t){case 0:return e&r^~e&i;case 1:return e^r^i;case 2:return e&r^e&i^r&i;case 3:return e^r^i}}n(rP,"ak");function F0(t,e){return t<<e|t>>>32-e}n(F0,"h5");function iP(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var i=unescape(encodeURIComponent(t));t=[];for(var s=0;s<i.length;++s)t.push(i.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var l=t.length/4+2,a=Math.ceil(l/16),v=Array(a),g=0;g<a;++g){for(var h=new Uint32Array(16),d=0;d<16;++d)h[d]=t[g*64+d*4]<<24|t[g*64+d*4+1]<<16|t[g*64+d*4+2]<<8|t[g*64+d*4+3];v[g]=h}v[a-1][14]=(t.length-1)*8/Math.pow(2,32),v[a-1][14]=Math.floor(v[a-1][14]),v[a-1][15]=(t.length-1)*8&4294967295;for(var c=0;c<a;++c){for(var y=new Uint32Array(80),b=0;b<16;++b)y[b]=v[c][b];for(var w=16;w<80;++w)y[w]=F0(y[w-3]^y[w-8]^y[w-14]^y[w-16],1);for(var S=r[0],C=r[1],R=r[2],T=r[3],P=r[4],O=0;O<80;++O){var j=Math.floor(O/20),B=F0(S,5)+rP(j,C,R,T)+P+e[j]+y[O]>>>0;P=T,T=R,R=F0(C,30)>>>0,C=S,S=B}r[0]=r[0]+S>>>0,r[1]=r[1]+C>>>0,r[2]=r[2]+R>>>0,r[3]=r[3]+T>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}n(iP,"ek");var nP=iP;tP("v5",80,nP);Xr(Og(),1);Xr(jg(),1);Xr(SC(),1);new TextEncoder;Xr(EC(),1);Xr(AC(),1);var sP=Xr(kC(),1),{color:SH}=sP.default;Xr(jg(),1);Xr(Og(),1);Xr(jg(),1);function Tf(t,e,r){function i(v,g){var h;Object.defineProperty(v,"_zod",{value:v._zod??{},enumerable:!1}),(h=v._zod).traits??(h.traits=new Set),v._zod.traits.add(t),e(v,g);for(let d in a.prototype)d in v||Object.defineProperty(v,d,{value:a.prototype[d].bind(v)});v._zod.constr=a,v._zod.def=g}n(i,"_");let s=r?.Parent??Object;class l extends s{static{n(this,"O")}}Object.defineProperty(l,"name",{value:t});function a(v){var g;let h=r?.Parent?new l:this;i(h,v),(g=h._zod).deferred??(g.deferred=[]);for(let d of h._zod.deferred)d();return h}return n(a,"Y"),Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:n(v=>r?.Parent&&v instanceof r.Parent?!0:v?._zod?.traits?.has(t),"value")}),Object.defineProperty(a,"name",{value:t}),a}n(Tf,"f4");class Lm extends Error{static{n(this,"Z_")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}var aP={};function e7(t){return aP}n(e7,"o7");function oP(t,e){return typeof e=="bigint"?e.toString():e}n(oP,"lz");function U0(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}n(U0,"Q9");function Hl(t){return typeof t=="string"?t:t?.message}n(Hl,"t9");function t7(t,e,r){let i={...t,path:t.path??[]};if(!t.message){let s=Hl(t.inst?._zod.def?.error?.(t))??Hl(e?.error?.(t))??Hl(r.customError?.(t))??Hl(r.localeError?.(t))??"Invalid input";i.message=s}return delete i.inst,delete i.continue,!e?.reportInput&&delete i.input,i}n(t7,"n7");var r7=n((t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,oP,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:n(()=>t.message,"value"),enumerable:!1})},"rz"),lP=Tf("$ZodError",r7),i7=Tf("$ZodError",r7,{Parent:Error}),uP=n(t=>(e,r,i)=>{let s=i?{...i,async:!1}:{async:!1},l=e._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new Lm;return l.issues.length?{success:!1,error:new(t??lP)(l.issues.map(a=>t7(a,s,e7())))}:{success:!0,data:l.value}},"vS"),fP=uP(i7),cP=n(t=>async(e,r,i)=>{let s=i?Object.assign(i,{async:!0}):{async:!0},l=e._zod.run({value:r,issues:[]},s);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(a=>t7(a,s,e7())))}:{success:!0,data:l.value}},"wS"),hP=cP(i7),dP={major:4,minor:0,patch:0},pP=Tf("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=dP;let i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(let s of i)for(let l of s._zod.onattach)l(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let s=n((l,a,v)=>{let g=U0(l),h;for(let d of a){if(d._zod.def.when){if(!d._zod.def.when(l))continue}else if(g)continue;let c=l.issues.length,y=d._zod.check(l);if(y instanceof Promise&&v?.async===!1)throw new Lm;if(h||y instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await y,l.issues.length!==c&&(g||(g=U0(l,c)))});else{if(l.issues.length===c)continue;g||(g=U0(l,c))}}return h?h.then(()=>l):l},"P");t._zod.run=(l,a)=>{let v=t._zod.parse(l,a);if(v instanceof Promise){if(a.async===!1)throw new Lm;return v.then(g=>s(g,i,a))}return s(v,i,a)}}t["~standard"]={validate:n(s=>{try{let l=fP(t,s);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return hP(t,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},"validate"),vendor:"zod",version:1}});Tf("$ZodNever",(t,e)=>{pP.init(t,e),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});var Io;(function(t){t.assertEqual=s=>s;function e(s){}n(e,"$"),t.assertIs=e;function r(s){throw Error()}n(r,"K"),t.assertNever=r,t.arrayToEnum=s=>{let l={};for(let a of s)l[a]=a;return l},t.getValidEnumValues=s=>{let l=t.objectKeys(s).filter(v=>typeof s[s[v]]!="number"),a={};for(let v of l)a[v]=s[v];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(l){return s[l]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let l=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&l.push(a);return l},t.find=(s,l)=>{for(let a of s)if(l(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,l=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(l)}n(i,"_"),t.joinValues=i,t.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(Io||(Io={}));var X6;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(X6||(X6={}));Io.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Io.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ou extends Error{static{n(this,"X6")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(l){return l.message},i={_errors:[]},s=n(l=>{for(let a of l.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)i._errors.push(r(a));else{let v=i,g=0;for(;g<a.path.length;){let h=a.path[g];g!==a.path.length-1?v[h]=v[h]||{_errors:[]}:(v[h]=v[h]||{_errors:[]},v[h]._errors.push(r(a))),v=v[h],g++}}},"_");return s(this),i}static assert(e){if(!(e instanceof Ou))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Io.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},i=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}Ou.create=t=>new Ou(t);var Q6;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Q6||(Q6={}));var J6;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(J6||(J6={}));new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var mP=Xr(NC(),1),gP=Object.defineProperty,vP=n((t,e,r)=>e in t?gP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"v0"),bP=n((t,e,r)=>(vP(t,e+"",r),r),"w0");function yP(t,e){let r=Array.from({length:t.length},(i,s)=>({start:s,end:s+1}));for(;r.length>1;){let i=null;for(let s=0;s<r.length-1;s++){let l=t.slice(r[s].start,r[s+1].end),a=e.get(l.join(","));a!=null&&(i==null||a<i[0])&&(i=[a,s])}if(i!=null){let s=i[1];r[s]={start:r[s].start,end:r[s+1].end},r.splice(s+1,1)}else break}return r}n(yP,"T0");function wP(t,e){return t.length===1?[e.get(t.join(","))]:yP(t,e).map(r=>e.get(t.slice(r.start,r.end).join(","))).filter(r=>r!=null)}n(wP,"X0");function xP(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}n(xP,"f0");var Dm=class{static{n(this,"q2")}specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(t,e){this.patStr=t.pat_str;let r=t.bpe_ranks.split(`
`).filter(Boolean).reduce((i,s)=>{let[l,a,...v]=s.split(" "),g=Number.parseInt(a,10);return v.forEach((h,d)=>i[h]=g+d),i},{});for(let[i,s]of Object.entries(r)){let l=mP.default.toByteArray(i);this.rankMap.set(l.join(","),s),this.textMap.set(s,l)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((i,[s,l])=>(i[l]=this.textEncoder.encode(s),i),{})}encode(t,e=[],r="all"){let i=new RegExp(this.patStr,"ug"),s=Dm.specialTokenRegex(Object.keys(this.specialTokens)),l=[],a=new Set(e==="all"?Object.keys(this.specialTokens):e),v=new Set(r==="all"?Object.keys(this.specialTokens).filter(h=>!a.has(h)):r);if(v.size>0){let h=Dm.specialTokenRegex([...v]),d=t.match(h);if(d!=null)throw Error(`The text contains a special token that is not allowed: ${d[0]}`)}let g=0;for(;;){let h=null,d=g;for(;s.lastIndex=d,h=s.exec(t),!(h==null||a.has(h[0]));)d=h.index+1;let c=h?.index??t.length;for(let b of t.substring(g,c).matchAll(i)){let w=this.textEncoder.encode(b[0]),S=this.rankMap.get(w.join(","));if(S!=null){l.push(S);continue}l.push(...wP(w,this.rankMap))}if(h==null)break;let y=this.specialTokens[h[0]];l.push(y),g=h.index+h[0].length}return l}decode(t){let e=[],r=0;for(let l=0;l<t.length;++l){let a=t[l],v=this.textMap.get(a)??this.inverseSpecialTokens[a];v!=null&&(e.push(v),r+=v.length)}let i=new Uint8Array(r),s=0;for(let l of e)i.set(l,s),s+=l.length;return this.textDecoder.decode(i)}},_P=Dm;bP(_P,"specialTokenRegex",t=>new RegExp(t.map(e=>xP(e)).join("|"),"g"));Xr(sR(),1);var dt={};$n(dt,{void:n(()=>aO,"void"),util:n(()=>Yt,"util"),unknown:n(()=>nO,"unknown"),union:n(()=>fO,"union"),undefined:n(()=>tO,"undefined"),tuple:n(()=>dO,"tuple"),transformer:n(()=>tw,"transformer"),symbol:n(()=>eO,"symbol"),string:n(()=>f7,"string"),strictObject:n(()=>uO,"strictObject"),setErrorMap:n(()=>EP,"setErrorMap"),set:n(()=>gO,"set"),record:n(()=>pO,"record"),quotelessJson:n(()=>MP,"quotelessJson"),promise:n(()=>_O,"promise"),preprocess:n(()=>EO,"preprocess"),pipeline:n(()=>AO,"pipeline"),ostring:n(()=>kO,"ostring"),optional:n(()=>MO,"optional"),onumber:n(()=>NO,"onumber"),oboolean:n(()=>CO,"oboolean"),objectUtil:n(()=>Bm,"objectUtil"),object:n(()=>lO,"object"),number:n(()=>c7,"number"),nullable:n(()=>SO,"nullable"),null:n(()=>rO,"null"),never:n(()=>sO,"never"),nativeEnum:n(()=>xO,"nativeEnum"),nan:n(()=>QP,"nan"),map:n(()=>mO,"map"),makeIssue:n(()=>Lu,"makeIssue"),literal:n(()=>yO,"literal"),lazy:n(()=>bO,"lazy"),late:n(()=>YP,"late"),isValid:n(()=>Es,"isValid"),isDirty:n(()=>Um,"isDirty"),isAsync:n(()=>To,"isAsync"),isAborted:n(()=>Fm,"isAborted"),intersection:n(()=>hO,"intersection"),instanceof:n(()=>XP,"instanceof"),getParsedType:n(()=>fn,"getParsedType"),getErrorMap:n(()=>ju,"getErrorMap"),function:n(()=>vO,"function"),enum:n(()=>wO,"enum"),effect:n(()=>tw,"effect"),discriminatedUnion:n(()=>cO,"discriminatedUnion"),defaultErrorMap:n(()=>aa,"defaultErrorMap"),datetimeRegex:n(()=>o7,"datetimeRegex"),date:n(()=>qP,"date"),custom:n(()=>u7,"custom"),coerce:n(()=>RO,"coerce"),boolean:n(()=>h7,"boolean"),bigint:n(()=>JP,"bigint"),array:n(()=>oO,"array"),any:n(()=>iO,"any"),addIssueToContext:n(()=>lt,"addIssueToContext"),ZodVoid:n(()=>Bu,"ZodVoid"),ZodUnknown:n(()=>ms,"ZodUnknown"),ZodUnion:n(()=>Lo,"ZodUnion"),ZodUndefined:n(()=>Oo,"ZodUndefined"),ZodType:n(()=>Pt,"ZodType"),ZodTuple:n(()=>Ui,"ZodTuple"),ZodTransformer:n(()=>xi,"ZodTransformer"),ZodSymbol:n(()=>Du,"ZodSymbol"),ZodString:n(()=>gi,"ZodString"),ZodSet:n(()=>ks,"ZodSet"),ZodSchema:n(()=>Pt,"ZodSchema"),ZodRecord:n(()=>Bo,"ZodRecord"),ZodReadonly:n(()=>Zo,"ZodReadonly"),ZodPromise:n(()=>la,"ZodPromise"),ZodPipeline:n(()=>fl,"ZodPipeline"),ZodParsedType:n(()=>ct,"ZodParsedType"),ZodOptional:n(()=>ji,"ZodOptional"),ZodObject:n(()=>sr,"ZodObject"),ZodNumber:n(()=>jn,"ZodNumber"),ZodNullable:n(()=>Bn,"ZodNullable"),ZodNull:n(()=>jo,"ZodNull"),ZodNever:n(()=>pn,"ZodNever"),ZodNativeEnum:n(()=>zo,"ZodNativeEnum"),ZodNaN:n(()=>Uu,"ZodNaN"),ZodMap:n(()=>Fu,"ZodMap"),ZodLiteral:n(()=>Uo,"ZodLiteral"),ZodLazy:n(()=>Fo,"ZodLazy"),ZodIssueCode:n(()=>it,"ZodIssueCode"),ZodIntersection:n(()=>Do,"ZodIntersection"),ZodFunction:n(()=>Js,"ZodFunction"),ZodFirstPartyTypeKind:n(()=>_t,"ZodFirstPartyTypeKind"),ZodError:n(()=>Gr,"ZodError"),ZodEnum:n(()=>Dn,"ZodEnum"),ZodEffects:n(()=>xi,"ZodEffects"),ZodDiscriminatedUnion:n(()=>Pf,"ZodDiscriminatedUnion"),ZodDefault:n(()=>$o,"ZodDefault"),ZodDate:n(()=>As,"ZodDate"),ZodCatch:n(()=>Ho,"ZodCatch"),ZodBranded:n(()=>Xg,"ZodBranded"),ZodBoolean:n(()=>Po,"ZodBoolean"),ZodBigInt:n(()=>Ln,"ZodBigInt"),ZodArray:n(()=>bi,"ZodArray"),ZodAny:n(()=>oa,"ZodAny"),Schema:n(()=>Pt,"Schema"),ParseStatus:n(()=>Er,"ParseStatus"),OK:n(()=>Rr,"OK"),NEVER:n(()=>IO,"NEVER"),INVALID:n(()=>wt,"INVALID"),EMPTY_PATH:n(()=>AP,"EMPTY_PATH"),DIRTY:n(()=>Gs,"DIRTY"),BRAND:n(()=>KP,"BRAND")});var Yt;(function(t){t.assertEqual=s=>{};function e(s){}n(e,"$"),t.assertIs=e;function r(s){throw Error()}n(r,"K"),t.assertNever=r,t.arrayToEnum=s=>{let l={};for(let a of s)l[a]=a;return l},t.getValidEnumValues=s=>{let l=t.objectKeys(s).filter(v=>typeof s[s[v]]!="number"),a={};for(let v of l)a[v]=s[v];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(l){return s[l]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let l=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&l.push(a);return l},t.find=(s,l)=>{for(let a of s)if(l(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,l=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(l)}n(i,"_"),t.joinValues=i,t.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(Yt||(Yt={}));var Bm;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Bm||(Bm={}));var ct=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fn=n(t=>{switch(typeof t){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return Number.isNaN(t)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(t)?ct.array:t===null?ct.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ct.promise:typeof Map<"u"&&t instanceof Map?ct.map:typeof Set<"u"&&t instanceof Set?ct.set:typeof Date<"u"&&t instanceof Date?ct.date:ct.object;default:return ct.unknown}},"qK"),it=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MP=n(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"KD");class Gr extends Error{static{n(this,"Q8")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(l){return l.message},i={_errors:[]},s=n(l=>{for(let a of l.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)i._errors.push(r(a));else{let v=i,g=0;for(;g<a.path.length;){let h=a.path[g];g!==a.path.length-1?v[h]=v[h]||{_errors:[]}:(v[h]=v[h]||{_errors:[]},v[h]._errors.push(r(a))),v=v[h],g++}}},"_");return s(this),i}static assert(e){if(!(e instanceof Gr))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},i=[];for(let s of this.issues)if(s.path.length>0){let l=s.path[0];r[l]=r[l]||[],r[l].push(e(s))}else i.push(e(s));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}Gr.create=t=>new Gr(t);var SP=n((t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===ct.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Yt.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${Yt.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Yt.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${Yt.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Yt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,Yt.assertNever(t)}return{message:r}},"_D"),aa=SP,n7=aa;function EP(t){n7=t}n(EP,"PD");function ju(){return n7}n(ju,"p4");var Lu=n(t=>{let{data:e,path:r,errorMaps:i,issueData:s}=t,l=[...r,...s.path||[]],a={...s,path:l};if(s.message!==void 0)return{...s,path:l,message:s.message};let v="",g=i.filter(h=>!!h).slice().reverse();for(let h of g)v=h(a,{data:e,defaultError:v}).message;return{...s,path:l,message:v}},"VP"),AP=[];function lt(t,e){let r=ju(),i=Lu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===aa?void 0:aa].filter(s=>!!s)});t.common.issues.push(i)}n(lt,"rq");class Er{static{n(this,"E8")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let i=[];for(let s of r){if(s.status==="aborted")return wt;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,r){let i=[];for(let s of r){let l=await s.key,a=await s.value;i.push({key:l,value:a})}return Er.mergeObjectSync(e,i)}static mergeObjectSync(e,r){let i={};for(let s of r){let{key:l,value:a}=s;if(l.status==="aborted"||a.status==="aborted")return wt;l.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(i[l.value]=a.value)}return{status:e.value,value:i}}}var wt=Object.freeze({status:"aborted"}),Gs=n(t=>({status:"dirty",value:t}),"L_"),Rr=n(t=>({status:"valid",value:t}),"p8"),Fm=n(t=>t.status==="aborted","b1"),Um=n(t=>t.status==="dirty","g1"),Es=n(t=>t.status==="valid","tK"),To=n(t=>typeof Promise<"u"&&t instanceof Promise,"x4"),gt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(gt||(gt={}));class Fi{static{n(this,"p6")}constructor(e,r,i,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var q6=n((t,e)=>{if(Es(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Gr(t.common.issues);return this._error=r,this._error}}},"zT");function kt(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:i,description:s}=t;if(e&&(r||i))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:n((l,a)=>{let{message:v}=t;return l.code==="invalid_enum_value"?{message:v??a.defaultError}:typeof a.data>"u"?{message:v??i??a.defaultError}:l.code!=="invalid_type"?{message:a.defaultError}:{message:v??r??a.defaultError}},"errorMap"),description:s}}n(kt,"T$");class Pt{static{n(this,"A$")}get description(){return this._def.description}_getType(e){return fn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Er,ctx:{common:e.parent.common,data:e.data,parsedType:fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(To(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let i=this.safeParse(e,r);if(i.success)return i.data;throw i.error}safeParse(e,r){let i={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return q6(i,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fn(e)};if(!this["~standard"].async)try{let i=this._parseSync({data:e,path:[],parent:r});return Es(i)?{value:i.value}:{issues:r.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Es(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){let i=await this.safeParseAsync(e,r);if(i.success)return i.data;throw i.error}async safeParseAsync(e,r){let i={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fn(e)},s=this._parse({data:e,path:i.path,parent:i}),l=await(To(s)?s:Promise.resolve(s));return q6(i,l)}refine(e,r){let i=n(s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r,"K");return this._refinement((s,l)=>{let a=e(s),v=n(()=>l.addIssue({code:it.custom,...i(s)}),"Y");return typeof Promise<"u"&&a instanceof Promise?a.then(g=>g?!0:(v(),!1)):a?!0:(v(),!1)})}refinement(e,r){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof r=="function"?r(i,s):r),!1))}_refinement(e){return new xi({schema:this,typeName:_t.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n(r=>this["~validate"](r),"validate")}}optional(){return ji.create(this,this._def)}nullable(){return Bn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bi.create(this)}promise(){return la.create(this,this._def)}or(e){return Lo.create([this,e],this._def)}and(e){return Do.create(this,e,this._def)}transform(e){return new xi({...kt(this._def),schema:this,typeName:_t.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new $o({...kt(this._def),innerType:this,defaultValue:r,typeName:_t.ZodDefault})}brand(){return new Xg({typeName:_t.ZodBranded,type:this,...kt(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ho({...kt(this._def),innerType:this,catchValue:r,typeName:_t.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return fl.create(this,e)}readonly(){return Zo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var kP=/^c[^\s-]{8,}$/i,NP=/^[0-9a-z]+$/,CP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,IP=/^[a-z0-9_-]{21}$/i,TP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",z0,LP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,s7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$P=new RegExp(`^${s7}$`);function a7(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}n(a7,"wT");function HP(t){return new RegExp(`^${a7(t)}$`)}n(HP,"MD");function o7(t){let e=`${s7}T${a7(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}n(o7,"TT");function ZP(t,e){return!!((e==="v4"||!e)&&LP.test(t)||(e==="v6"||!e)&&BP.test(t))}n(ZP,"SD");function VP(t,e){if(!TP.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}n(VP,"CD");function GP(t,e){return!!((e==="v4"||!e)&&DP.test(t)||(e==="v6"||!e)&&FP.test(t))}n(GP,"ND");class gi extends Pt{static{n(this,"b6")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ct.string){let s=this._getOrReturnCtx(e);return lt(s,{code:it.invalid_type,expected:ct.string,received:s.parsedType}),wt}let r=new Er,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let l=e.data.length>s.value,a=e.data.length<s.value;(l||a)&&(i=this._getOrReturnCtx(e,i),l?lt(i,{code:it.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&lt(i,{code:it.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")OP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"email",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")z0||(z0=new RegExp(jP,"u")),z0.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"emoji",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")RP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"uuid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")IP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"nanoid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")kP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"cuid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")NP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"cuid2",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")CP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"ulid",code:it.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),lt(i,{validation:"url",code:it.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,!s.regex.test(e.data)&&(i=this._getOrReturnCtx(e,i),lt(i,{validation:"regex",code:it.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?o7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$P.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?HP(s).test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:it.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?PP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"duration",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ZP(e.data,s.version)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"ip",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?VP(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"jwt",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?GP(e.data,s.version)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"cidr",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?UP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"base64",code:it.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?zP.test(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{validation:"base64url",code:it.invalid_string,message:s.message}),r.dirty()):Yt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,r,i){return this.refinement(s=>e.test(s),{validation:r,code:it.invalid_string,...gt.errToObj(i)})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...gt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...gt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...gt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...gt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...gt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...gt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...gt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...gt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...gt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...gt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...gt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...gt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...gt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...gt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...gt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...gt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...gt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...gt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...gt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...gt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...gt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...gt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...gt.errToObj(r)})}nonempty(e){return this.min(1,gt.errToObj(e))}trim(){return new gi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}gi.create=t=>new gi({checks:[],typeName:_t.ZodString,coerce:t?.coerce??!1,...kt(t)});function WP(t,e){let r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=r>i?r:i,l=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return l%a/10**s}n(WP,"ED");class jn extends Pt{static{n(this,"aK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ct.number){let s=this._getOrReturnCtx(e);return lt(s,{code:it.invalid_type,expected:ct.number,received:s.parsedType}),wt}let r,i=new Er;for(let s of this._def.checks)s.kind==="int"?Yt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),lt(r,{code:it.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?WP(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),lt(r,{code:it.not_finite,message:s.message}),i.dirty()):Yt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,gt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,gt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,gt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,gt.toString(r))}setLimit(e,r,i,s){return new jn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:gt.toString(s)}]})}_addCheck(e){return new jn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:gt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:gt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:gt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(r)&&Number.isFinite(e)}}jn.create=t=>new jn({checks:[],typeName:_t.ZodNumber,coerce:t?.coerce||!1,...kt(t)});class Ln extends Pt{static{n(this,"eK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ct.bigint)return this._getInvalidInput(e);let r,i=new Er;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),lt(r,{code:it.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Yt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.bigint,received:r.parsedType}),wt}gte(e,r){return this.setLimit("min",e,!0,gt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,gt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,gt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,gt.toString(r))}setLimit(e,r,i,s){return new Ln({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:gt.toString(s)}]})}_addCheck(e){return new Ln({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:gt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ln.create=t=>new Ln({checks:[],typeName:_t.ZodBigInt,coerce:t?.coerce??!1,...kt(t)});class Po extends Pt{static{n(this,"c4")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ct.boolean){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.boolean,received:r.parsedType}),wt}return Rr(e.data)}}Po.create=t=>new Po({typeName:_t.ZodBoolean,coerce:t?.coerce||!1,...kt(t)});class As extends Pt{static{n(this,"b_")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ct.date){let s=this._getOrReturnCtx(e);return lt(s,{code:it.invalid_type,expected:ct.date,received:s.parsedType}),wt}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return lt(s,{code:it.invalid_date}),wt}let r=new Er,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:it.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),lt(i,{code:it.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Yt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new As({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:gt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:gt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}As.create=t=>new As({checks:[],coerce:t?.coerce||!1,typeName:_t.ZodDate,...kt(t)});class Du extends Pt{static{n(this,"MP")}_parse(e){if(this._getType(e)!==ct.symbol){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.symbol,received:r.parsedType}),wt}return Rr(e.data)}}Du.create=t=>new Du({typeName:_t.ZodSymbol,...kt(t)});class Oo extends Pt{static{n(this,"l4")}_parse(e){if(this._getType(e)!==ct.undefined){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.undefined,received:r.parsedType}),wt}return Rr(e.data)}}Oo.create=t=>new Oo({typeName:_t.ZodUndefined,...kt(t)});class jo extends Pt{static{n(this,"d4")}_parse(e){if(this._getType(e)!==ct.null){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.null,received:r.parsedType}),wt}return Rr(e.data)}}jo.create=t=>new jo({typeName:_t.ZodNull,...kt(t)});class oa extends Pt{static{n(this,"g_")}constructor(){super(...arguments),this._any=!0}_parse(e){return Rr(e.data)}}oa.create=t=>new oa({typeName:_t.ZodAny,...kt(t)});class ms extends Pt{static{n(this,"QK")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rr(e.data)}}ms.create=t=>new ms({typeName:_t.ZodUnknown,...kt(t)});class pn extends Pt{static{n(this,"$K")}_parse(e){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.never,received:r.parsedType}),wt}}pn.create=t=>new pn({typeName:_t.ZodNever,...kt(t)});class Bu extends Pt{static{n(this,"SP")}_parse(e){if(this._getType(e)!==ct.undefined){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.void,received:r.parsedType}),wt}return Rr(e.data)}}Bu.create=t=>new Bu({typeName:_t.ZodVoid,...kt(t)});class bi extends Pt{static{n(this,"g6")}_parse(e){let{ctx:r,status:i}=this._processInputParams(e),s=this._def;if(r.parsedType!==ct.array)return lt(r,{code:it.invalid_type,expected:ct.array,received:r.parsedType}),wt;if(s.exactLength!==null){let a=r.data.length>s.exactLength.value,v=r.data.length<s.exactLength.value;(a||v)&&(lt(r,{code:a?it.too_big:it.too_small,minimum:v?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(lt(r,{code:it.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(lt(r,{code:it.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((a,v)=>s.type._parseAsync(new Fi(r,a,r.path,v)))).then(a=>Er.mergeArray(i,a));let l=[...r.data].map((a,v)=>s.type._parseSync(new Fi(r,a,r.path,v)));return Er.mergeArray(i,l)}get element(){return this._def.type}min(e,r){return new bi({...this._def,minLength:{value:e,message:gt.toString(r)}})}max(e,r){return new bi({...this._def,maxLength:{value:e,message:gt.toString(r)}})}length(e,r){return new bi({...this._def,exactLength:{value:e,message:gt.toString(r)}})}nonempty(e){return this.min(1,e)}}bi.create=(t,e)=>new bi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_t.ZodArray,...kt(e)});function Us(t){if(t instanceof sr){let e={};for(let r in t.shape){let i=t.shape[r];e[r]=ji.create(Us(i))}return new sr({...t._def,shape:n(()=>e,"shape")})}else return t instanceof bi?new bi({...t._def,type:Us(t.element)}):t instanceof ji?ji.create(Us(t.unwrap())):t instanceof Bn?Bn.create(Us(t.unwrap())):t instanceof Ui?Ui.create(t.items.map(e=>Us(e))):t}n(Us,"u4");class sr extends Pt{static{n(this,"x$")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Yt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ct.object){let g=this._getOrReturnCtx(e);return lt(g,{code:it.invalid_type,expected:ct.object,received:g.parsedType}),wt}let{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),a=[];if(!(this._def.catchall instanceof pn&&this._def.unknownKeys==="strip"))for(let g in i.data)l.includes(g)||a.push(g);let v=[];for(let g of l){let h=s[g],d=i.data[g];v.push({key:{status:"valid",value:g},value:h._parse(new Fi(i,d,i.path,g)),alwaysSet:g in i.data})}if(this._def.catchall instanceof pn){let g=this._def.unknownKeys;if(g==="passthrough")for(let h of a)v.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(g==="strict")a.length>0&&(lt(i,{code:it.unrecognized_keys,keys:a}),r.dirty());else if(g!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let h of a){let d=i.data[h];v.push({key:{status:"valid",value:h},value:g._parse(new Fi(i,d,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let g=[];for(let h of v){let d=await h.key,c=await h.value;g.push({key:d,value:c,alwaysSet:h.alwaysSet})}return g}).then(g=>Er.mergeObjectSync(r,g)):Er.mergeObjectSync(r,v)}get shape(){return this._def.shape()}strict(e){return gt.errToObj,new sr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:n((r,i)=>{let s=this._def.errorMap?.(r,i).message??i.defaultError;return r.code==="unrecognized_keys"?{message:gt.errToObj(e).message??s}:{message:s}},"errorMap")}:{}})}strip(){return new sr({...this._def,unknownKeys:"strip"})}passthrough(){return new sr({...this._def,unknownKeys:"passthrough"})}extend(e){return new sr({...this._def,shape:n(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new sr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:n(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:_t.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new sr({...this._def,catchall:e})}pick(e){let r={};for(let i of Yt.objectKeys(e))e[i]&&this.shape[i]&&(r[i]=this.shape[i]);return new sr({...this._def,shape:n(()=>r,"shape")})}omit(e){let r={};for(let i of Yt.objectKeys(this.shape))e[i]||(r[i]=this.shape[i]);return new sr({...this._def,shape:n(()=>r,"shape")})}deepPartial(){return Us(this)}partial(e){let r={};for(let i of Yt.objectKeys(this.shape)){let s=this.shape[i];e&&!e[i]?r[i]=s:r[i]=s.optional()}return new sr({...this._def,shape:n(()=>r,"shape")})}required(e){let r={};for(let i of Yt.objectKeys(this.shape))if(e&&!e[i])r[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof ji;)s=s._def.innerType;r[i]=s}return new sr({...this._def,shape:n(()=>r,"shape")})}keyof(){return l7(Yt.objectKeys(this.shape))}}sr.create=(t,e)=>new sr({shape:n(()=>t,"shape"),unknownKeys:"strip",catchall:pn.create(),typeName:_t.ZodObject,...kt(e)});sr.strictCreate=(t,e)=>new sr({shape:n(()=>t,"shape"),unknownKeys:"strict",catchall:pn.create(),typeName:_t.ZodObject,...kt(e)});sr.lazycreate=(t,e)=>new sr({shape:t,unknownKeys:"strip",catchall:pn.create(),typeName:_t.ZodObject,...kt(e)});class Lo extends Pt{static{n(this,"o4")}_parse(e){let{ctx:r}=this._processInputParams(e),i=this._def.options;function s(l){for(let v of l)if(v.result.status==="valid")return v.result;for(let v of l)if(v.result.status==="dirty")return r.common.issues.push(...v.ctx.common.issues),v.result;let a=l.map(v=>new Gr(v.ctx.common.issues));return lt(r,{code:it.invalid_union,unionErrors:a}),wt}if(n(s,"_"),r.common.async)return Promise.all(i.map(async l=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let l,a=[];for(let g of i){let h={...r,common:{...r.common,issues:[]},parent:null},d=g._parseSync({data:r.data,path:r.path,parent:h});if(d.status==="valid")return d;d.status==="dirty"&&!l&&(l={result:d,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;let v=a.map(g=>new Gr(g));return lt(r,{code:it.invalid_union,unionErrors:v}),wt}}get options(){return this._def.options}}Lo.create=(t,e)=>new Lo({options:t,typeName:_t.ZodUnion,...kt(e)});var sn=n(t=>t instanceof Fo?sn(t.schema):t instanceof xi?sn(t.innerType()):t instanceof Uo?[t.value]:t instanceof Dn?t.options:t instanceof zo?Yt.objectValues(t.enum):t instanceof $o?sn(t._def.innerType):t instanceof Oo?[void 0]:t instanceof jo?[null]:t instanceof ji?[void 0,...sn(t.unwrap())]:t instanceof Bn?[null,...sn(t.unwrap())]:t instanceof Xg||t instanceof Zo?sn(t.unwrap()):t instanceof Ho?sn(t._def.innerType):[],"EK");class Pf extends Pt{static{n(this,"y1")}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.object)return lt(r,{code:it.invalid_type,expected:ct.object,received:r.parsedType}),wt;let i=this.discriminator,s=r.data[i],l=this.optionsMap.get(s);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(lt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,i){let s=new Map;for(let l of r){let a=sn(l.shape[e]);if(!a.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let v of a){if(s.has(v))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(v)}`);s.set(v,l)}}return new Pf({typeName:_t.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...kt(i)})}}function zm(t,e){let r=fn(t),i=fn(e);if(t===e)return{valid:!0,data:t};if(r===ct.object&&i===ct.object){let s=Yt.objectKeys(e),l=Yt.objectKeys(t).filter(v=>s.indexOf(v)!==-1),a={...t,...e};for(let v of l){let g=zm(t[v],e[v]);if(!g.valid)return{valid:!1};a[v]=g.data}return{valid:!0,data:a}}else if(r===ct.array&&i===ct.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let l=0;l<t.length;l++){let a=t[l],v=e[l],g=zm(a,v);if(!g.valid)return{valid:!1};s.push(g.data)}return{valid:!0,data:s}}else return r===ct.date&&i===ct.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}n(zm,"i2");class Do extends Pt{static{n(this,"n4")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e),s=n((l,a)=>{if(Fm(l)||Fm(a))return wt;let v=zm(l.value,a.value);return v.valid?((Um(l)||Um(a))&&r.dirty(),{status:r.value,value:v.data}):(lt(i,{code:it.invalid_intersection_types}),wt)},"_");return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,a])=>s(l,a)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Do.create=(t,e,r)=>new Do({left:t,right:e,typeName:_t.ZodIntersection,...kt(r)});class Ui extends Pt{static{n(this,"KK")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.array)return lt(i,{code:it.invalid_type,expected:ct.array,received:i.parsedType}),wt;if(i.data.length<this._def.items.length)return lt(i,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wt;!this._def.rest&&i.data.length>this._def.items.length&&(lt(i,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...i.data].map((l,a)=>{let v=this._def.items[a]||this._def.rest;return v?v._parse(new Fi(i,l,i.path,a)):null}).filter(l=>!!l);return i.common.async?Promise.all(s).then(l=>Er.mergeArray(r,l)):Er.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Ui({...this._def,rest:e})}}Ui.create=(t,e)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ui({items:t,typeName:_t.ZodTuple,rest:null,...kt(e)})};class Bo extends Pt{static{n(this,"CP")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.object)return lt(i,{code:it.invalid_type,expected:ct.object,received:i.parsedType}),wt;let s=[],l=this._def.keyType,a=this._def.valueType;for(let v in i.data)s.push({key:l._parse(new Fi(i,v,i.path,v)),value:a._parse(new Fi(i,i.data[v],i.path,v)),alwaysSet:v in i.data});return i.common.async?Er.mergeObjectAsync(r,s):Er.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,i){return r instanceof Pt?new Bo({keyType:e,valueType:r,typeName:_t.ZodRecord,...kt(i)}):new Bo({keyType:gi.create(),valueType:e,typeName:_t.ZodRecord,...kt(r)})}}class Fu extends Pt{static{n(this,"NP")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.map)return lt(i,{code:it.invalid_type,expected:ct.map,received:i.parsedType}),wt;let s=this._def.keyType,l=this._def.valueType,a=[...i.data.entries()].map(([v,g],h)=>({key:s._parse(new Fi(i,v,i.path,[h,"key"])),value:l._parse(new Fi(i,g,i.path,[h,"value"]))}));if(i.common.async){let v=new Map;return Promise.resolve().then(async()=>{for(let g of a){let h=await g.key,d=await g.value;if(h.status==="aborted"||d.status==="aborted")return wt;(h.status==="dirty"||d.status==="dirty")&&r.dirty(),v.set(h.value,d.value)}return{status:r.value,value:v}})}else{let v=new Map;for(let g of a){let{key:h,value:d}=g;if(h.status==="aborted"||d.status==="aborted")return wt;(h.status==="dirty"||d.status==="dirty")&&r.dirty(),v.set(h.value,d.value)}return{status:r.value,value:v}}}}Fu.create=(t,e,r)=>new Fu({valueType:e,keyType:t,typeName:_t.ZodMap,...kt(r)});class ks extends Pt{static{n(this,"y_")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==ct.set)return lt(i,{code:it.invalid_type,expected:ct.set,received:i.parsedType}),wt;let s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(lt(i,{code:it.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(lt(i,{code:it.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let l=this._def.valueType;function a(g){let h=new Set;for(let d of g){if(d.status==="aborted")return wt;d.status==="dirty"&&r.dirty(),h.add(d.value)}return{status:r.value,value:h}}n(a,"O");let v=[...i.data.values()].map((g,h)=>l._parse(new Fi(i,g,i.path,h)));return i.common.async?Promise.all(v).then(g=>a(g)):a(v)}min(e,r){return new ks({...this._def,minSize:{value:e,message:gt.toString(r)}})}max(e,r){return new ks({...this._def,maxSize:{value:e,message:gt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ks.create=(t,e)=>new ks({valueType:t,minSize:null,maxSize:null,typeName:_t.ZodSet,...kt(e)});class Js extends Pt{static{n(this,"m4")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.function)return lt(r,{code:it.invalid_type,expected:ct.function,received:r.parsedType}),wt;function i(v,g){return Lu({data:v,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ju(),aa].filter(h=>!!h),issueData:{code:it.invalid_arguments,argumentsError:g}})}n(i,"K");function s(v,g){return Lu({data:v,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ju(),aa].filter(h=>!!h),issueData:{code:it.invalid_return_type,returnTypeError:g}})}n(s,"_");let l={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof la){let v=this;return Rr(async function(...g){let h=new Gr([]),d=await v._def.args.parseAsync(g,l).catch(y=>{throw h.addIssue(i(g,y)),h}),c=await Reflect.apply(a,this,d);return await v._def.returns._def.type.parseAsync(c,l).catch(y=>{throw h.addIssue(s(c,y)),h})})}else{let v=this;return Rr(function(...g){let h=v._def.args.safeParse(g,l);if(!h.success)throw new Gr([i(g,h.error)]);let d=Reflect.apply(a,this,h.data),c=v._def.returns.safeParse(d,l);if(!c.success)throw new Gr([s(d,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Js({...this._def,args:Ui.create(e).rest(ms.create())})}returns(e){return new Js({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,i){return new Js({args:e||Ui.create([]).rest(ms.create()),returns:r||ms.create(),typeName:_t.ZodFunction,...kt(i)})}}class Fo extends Pt{static{n(this,"r4")}get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Fo.create=(t,e)=>new Fo({getter:t,typeName:_t.ZodLazy,...kt(e)});class Uo extends Pt{static{n(this,"B4")}_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return lt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Uo.create=(t,e)=>new Uo({value:t,typeName:_t.ZodLiteral,...kt(e)});function l7(t,e){return new Dn({values:t,typeName:_t.ZodEnum,...kt(e)})}n(l7,"XT");class Dn extends Pt{static{n(this,"sK")}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),i=this._def.values;return lt(r,{expected:Yt.joinValues(i),received:r.parsedType,code:it.invalid_type}),wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),i=this._def.values;return lt(r,{received:r.data,code:it.invalid_enum_value,options:i}),wt}return Rr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Dn.create(e,{...this._def,...r})}exclude(e,r=this._def){return Dn.create(this.options.filter(i=>!e.includes(i)),{...this._def,...r})}}Dn.create=l7;class zo extends Pt{static{n(this,"i4")}_parse(e){let r=Yt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==ct.string&&i.parsedType!==ct.number){let s=Yt.objectValues(r);return lt(i,{expected:Yt.joinValues(s),received:i.parsedType,code:it.invalid_type}),wt}if(this._cache||(this._cache=new Set(Yt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=Yt.objectValues(r);return lt(i,{received:i.data,code:it.invalid_enum_value,options:s}),wt}return Rr(e.data)}get enum(){return this._def.values}}zo.create=(t,e)=>new zo({values:t,typeName:_t.ZodNativeEnum,...kt(e)});class la extends Pt{static{n(this,"p_")}unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ct.promise&&r.common.async===!1)return lt(r,{code:it.invalid_type,expected:ct.promise,received:r.parsedType}),wt;let i=r.parsedType===ct.promise?r.data:Promise.resolve(r.data);return Rr(i.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}la.create=(t,e)=>new la({type:t,typeName:_t.ZodPromise,...kt(e)});class xi extends Pt{static{n(this,"x6")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:i}=this._processInputParams(e),s=this._def.effect||null,l={addIssue:n(a=>{lt(i,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),s.type==="preprocess"){let a=s.transform(i.data,l);if(i.common.async)return Promise.resolve(a).then(async v=>{if(r.value==="aborted")return wt;let g=await this._def.schema._parseAsync({data:v,path:i.path,parent:i});return g.status==="aborted"?wt:g.status==="dirty"||r.value==="dirty"?Gs(g.value):g});{if(r.value==="aborted")return wt;let v=this._def.schema._parseSync({data:a,path:i.path,parent:i});return v.status==="aborted"?wt:v.status==="dirty"||r.value==="dirty"?Gs(v.value):v}}if(s.type==="refinement"){let a=n(v=>{let g=s.refinement(v,l);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return v},"O");if(i.common.async===!1){let v=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return v.status==="aborted"?wt:(v.status==="dirty"&&r.dirty(),a(v.value),{status:r.value,value:v.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(v=>v.status==="aborted"?wt:(v.status==="dirty"&&r.dirty(),a(v.value).then(()=>({status:r.value,value:v.value}))))}if(s.type==="transform")if(i.common.async===!1){let a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Es(a))return wt;let v=s.transform(a.value,l);if(v instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:v}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>Es(a)?Promise.resolve(s.transform(a.value,l)).then(v=>({status:r.value,value:v})):wt);Yt.assertNever(s)}}xi.create=(t,e,r)=>new xi({schema:t,typeName:_t.ZodEffects,effect:e,...kt(r)});xi.createWithPreprocess=(t,e,r)=>new xi({schema:e,effect:{type:"preprocess",transform:t},typeName:_t.ZodEffects,...kt(r)});class ji extends Pt{static{n(this,"y6")}_parse(e){return this._getType(e)===ct.undefined?Rr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ji.create=(t,e)=>new ji({innerType:t,typeName:_t.ZodOptional,...kt(e)});class Bn extends Pt{static{n(this,"RK")}_parse(e){return this._getType(e)===ct.null?Rr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bn.create=(t,e)=>new Bn({innerType:t,typeName:_t.ZodNullable,...kt(e)});class $o extends Pt{static{n(this,"U4")}_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return r.parsedType===ct.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$o.create=(t,e)=>new $o({innerType:t,typeName:_t.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...kt(e)});class Ho extends Pt{static{n(this,"F4")}_parse(e){let{ctx:r}=this._processInputParams(e),i={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return To(s)?s.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Gr(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:_t.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...kt(e)});class Uu extends Pt{static{n(this,"EP")}_parse(e){if(this._getType(e)!==ct.nan){let r=this._getOrReturnCtx(e);return lt(r,{code:it.invalid_type,expected:ct.nan,received:r.parsedType}),wt}return{status:"valid",value:e.data}}}Uu.create=t=>new Uu({typeName:_t.ZodNaN,...kt(t)});var KP=Symbol("zod_brand");class Xg extends Pt{static{n(this,"p1")}_parse(e){let{ctx:r}=this._processInputParams(e),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class fl extends Pt{static{n(this,"RP")}_parse(e){let{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?wt:s.status==="dirty"?(r.dirty(),Gs(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{let s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?wt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,r){return new fl({in:e,out:r,typeName:_t.ZodPipeline})}}class Zo extends Pt{static{n(this,"t4")}_parse(e){let r=this._def.innerType._parse(e),i=n(s=>(Es(s)&&(s.value=Object.freeze(s.value)),s),"K");return To(r)?r.then(s=>i(s)):i(r)}unwrap(){return this._def.innerType}}Zo.create=(t,e)=>new Zo({innerType:t,typeName:_t.ZodReadonly,...kt(e)});function ew(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}n(ew,"JT");function u7(t,e={},r){return t?oa.create().superRefine((i,s)=>{let l=t(i);if(l instanceof Promise)return l.then(a=>{if(!a){let v=ew(e,i),g=v.fatal??r??!0;s.addIssue({code:"custom",...v,fatal:g})}});if(!l){let a=ew(e,i),v=a.fatal??r??!0;s.addIssue({code:"custom",...a,fatal:v})}}):oa.create()}n(u7,"fT");var YP={object:sr.lazycreate},_t;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_t||(_t={}));var XP=n((t,e={message:`Input not instance of ${t.name}`})=>u7(r=>r instanceof t,e),"DD"),f7=gi.create,c7=jn.create,QP=Uu.create,JP=Ln.create,h7=Po.create,qP=As.create,eO=Du.create,tO=Oo.create,rO=jo.create,iO=oa.create,nO=ms.create,sO=pn.create,aO=Bu.create,oO=bi.create,lO=sr.create,uO=sr.strictCreate,fO=Lo.create,cO=Pf.create,hO=Do.create,dO=Ui.create,pO=Bo.create,mO=Fu.create,gO=ks.create,vO=Js.create,bO=Fo.create,yO=Uo.create,wO=Dn.create,xO=zo.create,_O=la.create,tw=xi.create,MO=ji.create,SO=Bn.create,EO=xi.createWithPreprocess,AO=fl.create,kO=n(()=>f7().optional(),"OI"),NO=n(()=>c7().optional(),"WI"),CO=n(()=>h7().optional(),"HI"),RO={string:n(t=>gi.create({...t,coerce:!0}),"string"),number:n(t=>jn.create({...t,coerce:!0}),"number"),boolean:n(t=>Po.create({...t,coerce:!0}),"boolean"),bigint:n(t=>Ln.create({...t,coerce:!0}),"bigint"),date:n(t=>As.create({...t,coerce:!0}),"date")},IO=wt;function d7(){return typeof process<"u"&&process.versions&&process.versions.node?"node":typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u"?"browser":"unknown"}n(d7,"ZT");class TO{static{n(this,"VT")}store={};constructor(){typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV&&(this.store={...globalThis.window.ENV}),typeof globalThis<"u"&&globalThis.__ENV__&&(this.store={...this.store,...globalThis.__ENV__})}get(e){let r=this.store[e];return r!==void 0?String(r):void 0}set(e,r){this.store[e]=r}has(e){return e in this.store}getAll(){return{...this.store}}}class PO{static{n(this,"MT")}runtime;browserStore;cache=new Map;constructor(){this.runtime=d7(),this.runtime==="browser"&&(this.browserStore=new TO)}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get(e,r){if(this.cache.has(e)){let s=this.cache.get(e);return s===void 0&&r!==void 0?r:s}let i;switch(this.runtime){case"node":typeof process<"u"&&ln&&(i=ln[e]);break;case"browser":this.browserStore&&(i=this.browserStore.get(e));break;default:i=void 0}return this.cache.set(e,i),i===void 0&&r!==void 0?r:i}set(e,r){let i=String(r);switch(this.cache.delete(e),this.runtime){case"node":typeof process<"u"&&ln&&(ln[e]=i);break;case"browser":this.browserStore&&this.browserStore.set(e,r);break}}has(e){return this.get(e)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&ln)return{...ln};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean(e,r=!1){let i=this.get(e);return i===void 0?r:["true","1","yes","on"].includes(i.toLowerCase())}getNumber(e,r){let i=this.get(e);if(i===void 0)return r;let s=Number(i);return isNaN(s)?r:s}clearCache(){this.cache.clear()}}var $0=null;function OO(){return $0||($0=new PO),$0}n(OO,"Q4");function Of(t,e){return OO().get(t,e)}n(Of,"q_");d7();class jO{static{n(this,"x1")}globalStore;constructor(e){this.globalStore=e}clear(){console.clear()}filterByLabel(e){qO(e,this.globalStore.cache).forEach(r=>{Zl(r)})}filterByNamespace(...e){ej(e,this.globalStore.cache).forEach(r=>{Zl(r)})}filterByLevel(e){tj(e,this.globalStore.cache).forEach(r=>{Zl(r)})}renderAll(){this.globalStore.cache.forEach(e=>{Zl(e)})}}class Qg{static{n(this,"a4")}config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor(e={}){this.config=e}get cache(){return this._cache}get configuration(){return this.config}get pid(){let e=this.pidCounter;return this.pidCounter++,e}get tools(){return new jO(this)}addLogToCache(e){this._cache.length<(this.config.cacheSize??300)&&this._cache.push(e)}clearCache(){this._cache=[]}getLabel(e){return this.labels.get(e)}setLabel(e,r){this.labels.set(e,r)}addListener(e,r){let i=this._listenerCounter+=1;return ev({...ci.levels,...this.config.levels??{}},e).forEach(s=>{this._levelsToListeners.has(s)?this._levelsToListeners.get(s).set(i,r):this._levelsToListeners.set(s,new Map([[i,r]]))}),i}removeListener(e){this._levelsToListeners.forEach(r=>{r.delete(e)})}getListeners(e){return Array.from(this._levelsToListeners.get(e)?.values()??[])}}function LO(t){return globalThis.$adzeGlobal=new Qg(t),globalThis.$adzeGlobal}n(LO,"F2");function p7(t){let e=globalThis.$adzeGlobal;if(DO(e))return e;let r=new Qg(t);return globalThis.$adzeGlobal=r,r}n(p7,"u1");function DO(t){return t instanceof Qg}n(DO,"vI");function Jg(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!BO()}n(Jg,"hK");function BO(){return typeof Deno<"u"}n(BO,"wI");function FO(t){return Jg()}n(FO,"RT");function UO(){let t=!1;return Jg()&&(t=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test"),globalThis.$ADZE_ENV==="test"||t}n(UO,"hT");function zO(){let t=globalThis;return FO()?t.navigator.userAgent.includes("Firefox"):!1}n(zO,"DT");function zu(t){return Object.prototype.toString.call(t)==="[object String]"}n(zu,"e4");function qg(t){return t!==null&&typeof t=="number"&&!isNaN(Number(t))}n(qg,"s4");function m7(t){return wj.includes(t)}n(m7,"m1");function $O(t){return _j.includes(t)}n($O,"IT");function HO(t){return x7.includes(t)}n(HO,"LT");function rw(t){return t.every(e=>zu(e))}n(rw,"t2");function ZO(t){return Array.isArray(t)&&t.length===3&&t[1]==="-"}n(ZO,"bT");function VO(){return Error().stack?.replace(/^Error\n/,`
`)}n(VO,"yT");function GO(t){return qg(t.activeLevel)?t.activeLevel:t.levels[t.activeLevel].level}n(GO,"pT");var iw=Xr(aR(),1),WO=iw.default??iw;function KO(t){return t.charAt(0).toUpperCase()+t.slice(1)}n(KO,"$3");function nw(t){return Object.values(t).map(e=>e.level)}n(nw,"K3");function sw(t,e,r){return t.filter(i=>i>=e&&i<=r)}n(sw,"_3");function YO(t,e=!1,r){let i=(e&&r?9+r.length:9)-t.length,s=t;for(let l=0;l<=i;l+=1)s+=" ";return s}n(YO,"P3");function XO(t,e){return e.reduce((r,i)=>WO[i](r),t)}n(XO,"Y3");function Zl(t){t.data&&console[t.data.method](...t.data.message)}n(Zl,"hP");function QO(t){return t.filter(e=>e!=="")}n(QO,"cT");function JO(t){return typeof t=="object"&&t!==null}n(JO,"lT");function ev(t,e){if(e==="*")return Object.values(t).map(r=>r.level);if(zu(e))return[t[e].level];if(qg(e))return[e];if(ZO(e)){if(rw(e)){let r=t[e[0]].level,i=t[e[2]].level;return sw(nw(t),r,i)}return sw(nw(t),e[0],e[2])}return Array.isArray(e)&&rw(e)?e.map(r=>t[r].level):e}n(ev,"DP");function g7(t,e,r){return e.length===0?!1:t==="include"?!e.includes(r):e.includes(r)}n(g7,"j3");function aw(t,e){return t.length===0?!1:t.length>0&&e.length===0?!0:!e.map(r=>t.includes(r)).includes(!0)}n(aw,"O3");function ow(t,e){return t.length===0?!1:t.length>0&&e.length===0?!0:e.map(r=>t.includes(r)).includes(!0)}n(ow,"W3");function qO(t,e){return e.filter(r=>r.data?.label?.name===t)}n(qO,"CT");function ej(t,e){return e.filter(r=>r.data?.namespace?r.data.namespace.map(i=>t.includes(i)).includes(!0):!1)}n(ej,"NT");function tj(t,e){return e.filter(r=>{let i=ev(r.configuration.levels,t);return r.data?.level===void 0?!1:g7("exclude",i,r.data.level)})}n(tj,"ET");function rj(t){return t&&t.length>0?t.reduce((e,r)=>`${e}#${r} `,""):""}n(rj,"H3");function ij(t){return t?`[${t.name}] `:""}n(ij,"z3");function nj(t){return t!==void 0?`(Count: ${t}) `:""}n(nj,"J3");function sj(t,e){return t!==void 0&&!t?`${e?" ":""}Assertion failed:`:""}n(sj,"v3");function aj(t,e){return t!==void 0&&t?`${e?" ":""}Expression passed:`:""}n(aj,"w3");var v7=-1,jf=0,$u=1,Hu=2,tv=3,rv=4,iv=5,nv=6,b7=7,y7=8,lw=typeof self=="object"?self:globalThis,oj=n((t,e)=>{let r=n((s,l)=>(t.set(l,s),s),"K"),i=n(s=>{if(t.has(s))return t.get(s);let[l,a]=e[s];switch(l){case jf:case v7:return r(a,s);case $u:{let v=r([],s);for(let g of a)v.push(i(g));return v}case Hu:{let v=r({},s);for(let[g,h]of a)v[i(g)]=i(h);return v}case tv:return r(new Date(a),s);case rv:{let{source:v,flags:g}=a;return r(new RegExp(v,g),s)}case iv:{let v=r(new Map,s);for(let[g,h]of a)v.set(i(g),i(h));return v}case nv:{let v=r(new Set,s);for(let g of a)v.add(i(g));return v}case b7:{let{name:v,message:g}=a;return r(new lw[v](g),s)}case y7:return r(BigInt(a),s);case"BigInt":return r(Object(BigInt(a)),s)}return r(new lw[l](a),s)},"_");return i},"TI"),uw=n(t=>oj(new Map,t)(0),"T3"),Ls="",{toString:lj}={},{keys:uj}=Object,Ca=n(t=>{let e=typeof t;if(e!=="object"||!t)return[jf,e];let r=lj.call(t).slice(8,-1);switch(r){case"Array":return[$u,Ls];case"Object":return[Hu,Ls];case"Date":return[tv,Ls];case"RegExp":return[rv,Ls];case"Map":return[iv,Ls];case"Set":return[nv,Ls]}return r.includes("Array")?[$u,r]:r.includes("Error")?[b7,r]:[Hu,r]},"yP"),Vl=n(([t,e])=>t===jf&&(e==="function"||e==="symbol"),"o1"),fj=n((t,e,r,i)=>{let s=n((a,v)=>{let g=i.push(a)-1;return r.set(v,g),g},"P"),l=n(a=>{if(r.has(a))return r.get(a);let[v,g]=Ca(a);switch(v){case jf:{let d=a;switch(g){case"bigint":v=y7,d=a.toString();break;case"function":case"symbol":if(t)throw TypeError("unable to serialize "+g);d=null;break;case"undefined":return s([v7],a)}return s([v,d],a)}case $u:{if(g)return s([g,[...a]],a);let d=[],c=s([v,d],a);for(let y of a)d.push(l(y));return c}case Hu:{if(g)switch(g){case"BigInt":return s([g,a.toString()],a);case"Boolean":case"Number":case"String":return s([g,a.valueOf()],a)}if(e&&"toJSON"in a)return l(a.toJSON());let d=[],c=s([v,d],a);for(let y of uj(a))(t||!Vl(Ca(a[y])))&&d.push([l(y),l(a[y])]);return c}case tv:return s([v,a.toISOString()],a);case rv:{let{source:d,flags:c}=a;return s([v,{source:d,flags:c}],a)}case iv:{let d=[],c=s([v,d],a);for(let[y,b]of a)(t||!(Vl(Ca(y))||Vl(Ca(b))))&&d.push([l(y),l(b)]);return c}case nv:{let d=[],c=s([v,d],a);for(let y of a)(t||!Vl(Ca(y)))&&d.push(l(y));return c}}let{message:h}=a;return s([v,{name:g,message:h}],a)},"O");return l},"AI"),fw=n((t,{json:e,lossy:r}={})=>{let i=[];return fj(!(e||r),!!e,new Map,i)(t),i},"X3"),cw=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?uw(fw(t,e)):structuredClone(t):(t,e)=>uw(fw(t,e));function hw(t,e,r,i){let{formatters:s,middleware:l=[],...a}=e.exportValues();return class extends t{_cfg=new Hm({...cw(a),formatters:{...s},middleware:[...l]});_modifierData=cw(r);modifierQueue=[...i]}}n(hw,"A3");function w7([t,e]){return`${t}s ${e/1e6}ms`}n(w7,"k3");function cj(){return w7($m())}n(cj,"oT");function $m(t){let e=performance.now()*.001,r=Math.floor(e),i=Math.floor(e%1*1e9);if(t===void 0)return[r,i];let s=r-t[0],l=i-t[1];return l<0&&(s-=1,l+=1e9),[s,l]}n($m,"n1");function sv(t){let e=n(s=>`${Math.floor(Math.abs(s))}`.padStart(2,"0"),"$"),r=-t.getTimezoneOffset(),i=`${r>=0?"+":"-"}${e(r/60)}:${e(r%60)}`;return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())}T${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}${i}`}n(sv,"Y7");function hj(t){let e=n((w,S=2)=>String(w).padStart(S,"0"),"$"),r=e(t.getDate()),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],s=t.getFullYear(),l=e(t.getHours()),a=e(t.getMinutes()),v=e(t.getSeconds()),g=-t.getTimezoneOffset(),h=g>=0?"+":"-",d=Math.abs(g),c=e(Math.floor(d/60)),y=e(d%60),b=`${h}${c}${y}`;return`${r}/${i}/${s}:${l}:${a}:${v} ${b}`}n(hj,"nT");class Lf{static{n(this,"u6")}cfg;level;timestampFormatFunction=n(e=>sv(e),"timestampFormatFunction");constructor(e,r){this.cfg=e,this.level=r}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print(e,r,i){if(this.level.level>GO(this.cfg))return[];if(this.failsFilters(e))return[];if(e.assertion===!0)return[];if(e.if===!1)return[];if(e.method&&!HO(e.method)&&$O(e.method)&&m7(e.method))return i;let s=Jg()?this.formatBrowser(e,r,i):this.formatServer(e,r,i);return e.stacktrace&&s.push(e.stacktrace),s}failsFilters(e){return!!(this.failsLevelSelector()||this.failsNamespacesFilter(e)||this.failsLabelsFilter(e))}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let e=ev(this.cfg.levels,this.cfg.filters.levels.values);return!!g7(this.cfg.filters.levels.type,e,this.level.level)}failsNamespacesFilter(e){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&e.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let i=e.namespace??[];return aw(this.cfg.filters.namespaces.values,i)}let r=e.namespace??[];return ow(this.cfg.filters.namespaces.values,r)}failsLabelsFilter(e){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&e.label===void 0)return!0;let r=e.label?[e.label.name]:[];return this.cfg.filters.labels.type==="include"?aw(this.cfg.filters.labels.values,r):ow(this.cfg.filters.labels.values,r)}}class dj extends Lf{static{n(this,"r1")}timestampFormatFunction=n(e=>hj(e),"timestampFormatFunction");formatBrowser(e,r,i){return this.formatMessage(e,r,i)}formatServer(e,r,i){return this.formatMessage(e,r,i)}formatMessage(e,r,i){this.cfg.meta.hostname===void 0&&console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let s=this.cfg.meta.hostname,l=this.cfg.meta.ident??"-",a=this.cfg.meta.user??"-",v=i[0];return[`${s} ${l} ${a} [${r}] ${v}`]}}var pj=dj;function mj(t){return typeof t.name=="string"&&typeof t.hostname=="string"}n(mj,"BT");class gj extends Lf{static{n(this,"B1")}timestampFormatFunction=n(e=>sv(e),"timestampFormatFunction");formatBrowser(e,r,i){return this.formatMessage(e,r,i)}formatServer(e,r,i){return this.formatMessage(e,r,i)}formatMessage(e,r,i){let s=p7(),l=[...i],a=l.shift();if(mj(this.cfg.meta)){let{src:v,err:g,req_id:h,req:d,res:c,latency:y,hostname:b,name:w,...S}=this.cfg.meta,{namespace:C,label:R}=e,T={v:1,level:this.level.level,levelName:this.level.levelName,name:w,hostname:b,msg:a,args:l,pid:s.pid,time:r,meta:Object.keys(S).length>0?S:void 0,namespace:C,label:R?.name,src:v,err:g,req_id:h,req:d,res:c,latency:y};return[JSON.stringify(T)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...l]}}var vj=gj;class bj extends Lf{static{n(this,"i1")}formatBrowser(e,r,i){let s=this.formatLeader(),l=this.formatMeta(e,r);return this.cfg.withEmoji?[s,"font-size: 12px;",this.level.style,l,...i]:[s,this.level.style,l,...i]}formatServer(e,r,i){let s=`${YO(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,l=this.formatMeta(e,r);return[XO(s,this.level.terminalStyle),l,...i]}formatLeader(e=!0){let r=e?"%c":"",i=" "+KO(this.level.levelName);return this.cfg.withEmoji?`${r}${this.formatEmoji(e)}${r}${i}`:`${r}${i}`}formatEmoji(e){let r=e?" ":"";return this.level.emoji?`${this.level.emoji}${r}`:""}formatMeta(e,r){let i=this.cfg.showTimestamp?`${r} `:"",s=rj(e.namespace),l=ij(e.label),a=this.formatTime(e),v=nj(e.label?.count),g=sj(e.assertion,this.cfg.withEmoji),h=aj(e.if,this.cfg.withEmoji),d=g!==""?g:h!==""?h:"";return i+s+l+a+v+d}formatTime(e){let r=this.cfg.withEmoji?" ":"Time elapsed: ";return e.timeNow?`(${r}${e.timeNow})`:e.label?.timeElapsed?`(${r}${e.label.timeElapsed})`:""}}var dw=bj;class yj extends Lf{static{n(this,"pP")}timestampFormatFunction=n(e=>sv(e),"timestampFormatFunction");formatBrowser(e,r,i){return this.formatMessage(r,e,i)}formatServer(e,r,i){return this.formatMessage(r,e,i)}formatMessage(e,r,i){let s="",{appname:l,hostname:a,port:v}=this.cfg.meta,g=qg(v)?`/${v}`:"",h=zu(l)?`${l}${g}`:"",d=zu(a)?` on ${a}: `:"",c=this.formatNamespace(r.namespace),y=r.label?`[${r.label.name}] `:"";return s=`${h}${d}${c}${y}`,[`[${e}] ${this.level.levelName.toUpperCase()}: ${s}${i[0]} `,i.map(b=>JO(b)?JSON.stringify(b):b).slice(1).join(" ")]}formatNamespace(e){return e&&e.length>0?`${e.reduce((r,i,s)=>s===e.length-1?`${r}${i}`:`${r}${i}/`,"")} `:""}}var x7=["group","groupCollapsed"],_7=["dir","dirxml","table",...x7],wj=["error","warn","info","log","debug",..._7],xj=["clear","groupEnd"],_j=[..._7,...xj],ci={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:Mj(),error:Sj(),warn:Ej(),info:Aj(),fail:kj(),success:Nj(),log:Cj(),debug:Rj(),verbose:Ij()},formatters:{default:dw,pretty:dw,standard:yj,common:pj,json:vj}};function Mj(t={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"",...t}}n(Mj,"kI");function Sj(t={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"",...t}}n(Sj,"GI");function Ej(t={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${zO()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"",...t}}n(Ej,"ZI");function Aj(t={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...t}}n(Aj,"VI");function kj(t={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...t}}n(kj,"MI");function Nj(t={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"",...t}}n(Nj,"SI");function Cj(t={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"",...t}}n(Cj,"CI");function Rj(t={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"",...t}}n(Rj,"NI");function Ij(t={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"",...t}}n(Ij,"EI");class Hm{static{n(this,"P7")}logCfg;glblCfg;constructor(e){this.logCfg=e??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration(e){this.logCfg=e}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??ci.activeLevel}set activeLevel(e){this.logCfg.activeLevel=e}get cache(){return this.glblCfg?.cache??this.logCfg.cache??ci.cache}set cache(e){this.logCfg.cache=e}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??ci.cacheSize}set cacheSize(e){this.logCfg.cacheSize=e}get dump(){return this.glblCfg?.dump??this.logCfg.dump??ci.dump}set dump(e){this.logCfg.dump=e}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta(e){this.logCfg.meta=e}get silent(){return this.glblCfg?.silent??this.logCfg.silent??ci.silent}set silent(e){this.logCfg.silent=e}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??ci.showTimestamp}set showTimestamp(e){this.logCfg.showTimestamp=e}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??ci.withEmoji}set withEmoji(e){this.logCfg.withEmoji=e}get format(){return this.glblCfg?.format??this.logCfg.format??ci.format}set format(e){this.logCfg.format=e}get levels(){return{...ci.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels(e){this.logCfg.levels=e}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware(e){this.logCfg.middleware=e}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters(e){this.logCfg.filters=e}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter(e){this.logCfg.timestampFormatter=e}get formatters(){return{...ci.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters(e){this.logCfg.formatters=e}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function Tj(t){return typeof t=="function"}n(Tj,"RI");class Zu{static{n(this,"j7")}globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor(e,r){this.globalStore=p7(e),this._modifierData=r??{},this._cfg=new Hm(e),this.doHook(i=>{i.constructed&&i.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...e){this.terminate("alert",e)}static alert(...e){new this().alert(...e)}error(...e){this.terminate("error",e)}static error(...e){new this().error(...e)}warn(...e){this.terminate("warn",e)}static warn(...e){new this().warn(...e)}info(...e){this.terminate("info",e)}static info(...e){new this().info(...e)}fail(...e){this.terminate("fail",e)}static fail(...e){new this().fail(...e)}success(...e){this.terminate("success",e)}static success(...e){new this().success(...e)}log(...e){this.terminate("log",e)}static log(e,...r){new this().log(e,...r)}debug(...e){this.terminate("debug",e)}static debug(...e){new this().debug(...e)}verbose(...e){this.terminate("verbose",e)}static verbose(...e){new this().verbose(...e)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom(e,...r){return this._cfg.levels[e]?(this.terminate(e,r),this):(console.warn(Error("Custom log level not found in configuration.")),this)}static custom(e,...r){return new this().custom(e,...r)}seal(e){return e&&this._cfg.updateConfiguration(e),hw(Zu,this._cfg,this.modifierData,this.modifierQueue)}static seal(e){return new this().seal(e)}sealTag(e,r){return this._cfg=new Hm({...this._cfg.exportValues(),...r}),(i,...s)=>{let l=String.raw({raw:i},...s),a=hw(Zu,this._cfg,this.modifierData,this.modifierQueue),v=e;Tj(a[v])&&a[v](l)}}static sealTag(e,r){return new this().sealTag(e,r)}thread(e,r){this.runModifierQueue(),this._modifierData.label&&(this._modifierData.label.context||(this._modifierData.label.context={}),this._modifierData.label.context={...this._modifierData.label.context,[e]:r})}static thread(e,r){new this().thread(e,r)}assert(e){return this.modifierQueue.push(["assert",r=>(r.assertion=e,r)]),this}static assert(e){return new this().assert(e)}get closeThread(){return this.modifierQueue.push(["closeThread",e=>(e.label?.context&&(e.label.context=void 0),e)]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",e=>(e.label&&(e.label.count=e.label.count!==void 0?e.label.count+1:1),e)]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",e=>(e.label&&delete e.label.count,e)]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",e=>(e.label&&(e.label.count=0),e)]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",e=>(e.method="dir",e)]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",e=>(e.method="dirxml",e)]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",(e,r)=>(r._cfg.dump=!0,e)]),this}static get dump(){return new this().dump}format(e){return this.modifierQueue.push(["format",(r,i)=>Object.keys(i._cfg.formatters).includes(e)?(i._cfg.format=e,r):(console.warn(Error(`Adze: Formatter "${e}" not found in configuration.`)),r)]),this}static format(e){return new this().format(e)}get group(){return this.modifierQueue.push(["group",e=>(e.method="group",e)]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",e=>(e.method="groupCollapsed",e)]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",e=>(e.method="groupEnd",e)]),this}static get groupEnd(){return new this().groupEnd}if(e){return this.modifierQueue.push(["if",r=>(r.if=e,r)]),this}static if(e){return new this().if(e)}test(e){return this.if(e)}static test(e){return new this().if(e)}label(e){return this.modifierQueue.unshift(["label",r=>{let i=this.globalStore.getLabel(e)??{name:e};return r.label=i,this.globalStore.setLabel(e,i),r}]),this}static label(e){return new this().label(e)}meta(e){return this.modifierQueue.push(["meta",(r,i)=>(i._cfg.meta={...i._cfg.meta,...e},r)]),this}static meta(e){return new this().meta(e)}namespace(...e){return this.modifierQueue.push(["namespace",r=>{let i=r.namespace??[];return r.namespace=i.length>0?[...i,...e]:e,r}]),this}static namespace(...e){return new this().namespace(...e)}ns(...e){return this.namespace(...e)}static ns(...e){return new this().namespace(...e)}get silent(){return this.modifierQueue.push(["silent",(e,r)=>(r._cfg.silent=!0,e)]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",e=>(e.method="table",e)]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",e=>{let r=$m();return e.label&&(e.label.timeStart=r),e}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",e=>(e.label?.timeStart&&(e.label.timeElapsed=w7($m(e.label.timeStart))),e)]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",e=>(e.timeNow=cj(),e)]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",(e,r)=>(r._cfg.showTimestamp=!0,e)]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",e=>(e.stacktrace=VO(),e)]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",(e,r)=>(r._cfg.withEmoji=!0,e)]),this}static get withEmoji(){return new this().withEmoji}print(e){UO()||e.silent||e.message.length<1||(m7(e.method)?console[e.method](...e.message):console[e.method]())}terminate(e,r){this.doHook(R=>{R.beforeTerminated&&R.beforeTerminated(this,e,r)}),this.runModifierQueue();let i=this.getLevelConfig(e),s=new(this.selectFormatter(this._cfg.format))(this._cfg,i),l=s.timestampFormatter(new Date),a=QO(s.print(this.modifierData,l,r));this._cfg.dump&&this.modifierData.label?.context&&a.push(this.modifierData.label.context),this.doHook(R=>{R.beforeFormatApplied&&(a=R.beforeFormatApplied(this,this._cfg.format,a))});let{activeLevel:v,cache:g,cacheSize:h,dump:d,format:c,meta:y,showTimestamp:b,silent:w,withEmoji:S}=this._cfg,C={activeLevel:v,cache:g,cacheSize:h,dump:d,format:c,meta:y,showTimestamp:b,silent:w,withEmoji:S,...i,...this._modifierData,terminator:e,args:r,timestamp:l,message:a};this.doHook(R=>{R.afterFormatApplied&&R.afterFormatApplied(this,this._cfg.format,a)}),this._data=C,this._cfg.cache&&this.globalStore.addLogToCache(this),this.doHook(R=>{R.beforePrint&&R.beforePrint(this)}),this.print(this._data),this.doHook(R=>{R.afterTerminated&&R.afterTerminated(this,e,r)}),this.globalStore.getListeners(i.level).forEach(R=>{R(this)})}selectFormatter(e){return this._cfg.formatters[e]}getLevelConfig(e){return this._cfg.levels[e]}runModifierQueue(){this.modifierQueue.forEach(([e,r])=>{let i=r(this.modifierData,this);this.doHook(s=>{s.beforeModifierApplied&&s.beforeModifierApplied(this,e,i)}),this._modifierData=i,this.doHook(s=>{s.afterModifierApplied&&s.afterModifierApplied(this,e,i)})})}doHook(e){this._cfg.middleware?.forEach(r=>{e(r)})}}var Pj=Zu,Vu={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},Oj={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function pw(t,e){let r=Vu[t.toLowerCase()]||30,i=Vu[e.toLowerCase()]||30;return r>=i}n(pw,"qX");function Zm(t){try{let e=new WeakSet;return JSON.stringify(t,(r,i)=>{if(typeof i=="object"&&i!==null){if(e.has(i))return"[Circular]";e.add(i)}return i})}catch{return String(t)}}n(Zm,"Z3");function M7(t){if(!t)return!1;let e=t.toLowerCase().trim();return e==="true"||e==="1"||e==="yes"||e==="on"}n(M7,"$X");var jj="info",Gu=Of("LOG_LEVEL")||jj,Vm=M7(Of("LOG_JSON_FORMAT")),av=M7(Of("LOG_TIMESTAMPS")??"true");function Lj(t=100){let e=[];return{write(r){e.push(r),e.length>t&&e.shift()},clear(){e.length=0},recentLogs(){return e.map(r=>{let i=av?new Date(r.time).toISOString():"",s=Oj[r.level??30]||"info";return`${i} ${s} ${r.msg}`.trim()}).join(`
`)}}}n(Lj,"UI");var pu=Lj(),S7=n(()=>{let t=Gu.toLowerCase();return t==="trace"?"verbose":t==="debug"?"debug":t==="log"?"log":t==="info"?"info":t==="warn"?"warn":t==="error"?"error":t==="fatal"?"alert":"info"},"KX"),Dj=S7(),E7={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},Bj=LO({activeLevel:Dj,format:Vm?"json":"pretty",timestampFormatter:av?void 0:()=>"",withEmoji:!1,levels:E7});Bj.addListener("*",t=>{try{let e=t.data,r=Array.isArray(e?.message)?e.message.map(s=>typeof s=="string"?s:Zm(s)).join(" "):typeof e?.message=="string"?e.message:"",i={time:Date.now(),level:typeof e?.level=="number"?e.level:void 0,msg:r};pu.write(i)}catch{}});function Fj(t){let e=Pj,r=[];typeof t.namespace=="string"&&r.push(t.namespace),Array.isArray(t.namespaces)&&r.push(...t.namespaces),r.length>0&&(e=e.ns(...r));let i={...t};if(delete i.namespace,delete i.namespaces,Vm&&(i.name||(i.name="elizaos"),!i.hostname)){let l="unknown";if(typeof process<"u"&&process.platform)try{l=(wR(),$t(t_)).hostname()}catch{l="localhost"}else typeof window<"u"&&window.location&&(l=window.location.hostname||"browser");i.hostname=l}let s={activeLevel:S7(),format:Vm?"json":"pretty",timestampFormatter:av?void 0:()=>"",withEmoji:!1,levels:E7};return e.meta(i).seal(s)}n(Fj,"QI");function Uj(t){let e=Gu,r={},i;if(typeof t=="object"&&t!==null){"level"in t&&(e=t.level),"maxMemoryLogs"in t&&typeof t.maxMemoryLogs=="number"&&(i=t.maxMemoryLogs);let{level:s,maxMemoryLogs:l,...a}=t;r=a}return{level:e,base:r,maxMemoryLogs:i}}n(Uj,"aI");function Gm(t=!1){let{level:e,base:r,maxMemoryLogs:i}=Uj(t);if(typeof i=="number"&&i>0&&pu.clear(),typeof t=="object"&&t&&"__forceType"in t&&t.__forceType==="browser"){let g=(typeof e=="number"?"info":e||Gu).toLowerCase(),h=n((...y)=>y.map(b=>typeof b=="string"?b:b instanceof Error?b.message:Zm(b)).join(" "),"$q"),d=n((y,...b)=>{if(!pw(y,g))return;let w=h(...b),S=y==="fatal"?"error":y==="trace"||y==="verbose"?"debug":y==="success"||y==="progress"?"info":y==="log"?"log":console[y]?y:"log";typeof console[S]=="function"&&console[S](w)},"e"),c=n((y,b,...w)=>typeof y=="string"?b!==void 0?[y,b,...w]:[y,...w]:y instanceof Error?b!==void 0?[y.message,b,...w]:[y.message,...w]:b!==void 0?[b,y,...w]:[y,...w],"d");return{level:g,trace:n((y,b,...w)=>d("trace",...c(y,b,...w)),"trace"),debug:n((y,b,...w)=>d("debug",...c(y,b,...w)),"debug"),info:n((y,b,...w)=>d("info",...c(y,b,...w)),"info"),warn:n((y,b,...w)=>d("warn",...c(y,b,...w)),"warn"),error:n((y,b,...w)=>d("error",...c(y,b,...w)),"error"),fatal:n((y,b,...w)=>d("fatal",...c(y,b,...w)),"fatal"),success:n((y,b,...w)=>d("success",...c(y,b,...w)),"success"),progress:n((y,b,...w)=>d("progress",...c(y,b,...w)),"progress"),log:n((y,b,...w)=>d("log",...c(y,b,...w)),"log"),clear:n(()=>{typeof console.clear=="function"&&console.clear()},"clear"),child:n(y=>Gm({level:g,...r,...y,__forceType:"browser"}),"child")}}let s=Fj(r),l=(typeof e=="number"?"info":e||Gu).toLowerCase(),a=n((g,...h)=>{if(!pw(g,l))return;try{let y="";h.length>0&&(y=h.map(w=>typeof w=="string"?w:w instanceof Error?w.message:Zm(w)).join(" ")),r.namespace&&(y=`#${r.namespace}  ${y}`);let b={time:Date.now(),level:Vu[g.toLowerCase()]||Vu.info,msg:y};pu.write(b)}catch{}let d=g,c=h;g==="fatal"?d="alert":g==="progress"?(d="info",c=["[PROGRESS]",...h]):g==="success"?(d="info",c=["[SUCCESS]",...h]):g==="trace"&&(d="verbose");try{s[d](...c)}catch{console.log(`[${g.toUpperCase()}]`,...h)}},"X"),v=n((g,h,...d)=>typeof g=="string"?h!==void 0?[g,h,...d]:[g,...d]:g instanceof Error?h!==void 0?[g.message,{error:g},h,...d]:[g.message,{error:g},...d]:h!==void 0?[h,g,...d]:[g,...d],"Z");return{level:l,trace:n((g,h,...d)=>a("verbose",...v(g,h,...d)),"trace"),debug:n((g,h,...d)=>a("debug",...v(g,h,...d)),"debug"),info:n((g,h,...d)=>a("info",...v(g,h,...d)),"info"),warn:n((g,h,...d)=>a("warn",...v(g,h,...d)),"warn"),error:n((g,h,...d)=>a("error",...v(g,h,...d)),"error"),fatal:n((g,h,...d)=>a("fatal",...v(g,h,...d)),"fatal"),success:n((g,h,...d)=>a("success",...v(g,h,...d)),"success"),progress:n((g,h,...d)=>a("progress",...v(g,h,...d)),"progress"),log:n((g,h,...d)=>a("log",...v(g,h,...d)),"log"),clear:n(()=>{try{typeof console?.clear=="function"&&console.clear()}catch{}pu.clear()},"clear"),child:n(g=>Gm({level:l,...r,...g}),"child")}}n(Gm,"uP");var no=Gm(),Gl=no,zj=dt.string().uuid();function Vo(t){let e=zj.safeParse(t);return e.success?e.data:null}n(Vo,"qL");var H0=n(t=>{if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("pdf")||t.includes("document")||t.startsWith("text/"))return"document"},"RQ"),A7=dt.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format"),$j=dt.object({text:dt.string().optional(),thought:dt.string().optional(),actions:dt.array(dt.string()).optional(),providers:dt.array(dt.string()).optional(),source:dt.string().optional(),target:dt.string().optional(),url:dt.string().optional(),inReplyTo:A7.optional(),attachments:dt.array(dt.any()).optional(),channelType:dt.string().optional()}).passthrough(),Hj=dt.object({name:dt.string(),content:$j}),Zj=dt.object({directory:dt.string(),shared:dt.boolean().optional()}),Vj=dt.union([dt.string(),dt.object({path:dt.string(),shared:dt.boolean().optional()}),Zj]),Gj=dt.union([dt.string(),dt.function().optional()]),Wj=dt.object({all:dt.array(dt.string()).optional(),chat:dt.array(dt.string()).optional(),post:dt.array(dt.string()).optional()}).optional(),Kj=dt.record(dt.union([dt.string(),dt.boolean(),dt.number(),dt.any()])).optional(),Yj=dt.record(dt.union([dt.string(),dt.boolean(),dt.number()])).optional();dt.object({id:A7.optional(),name:dt.string().min(1,"Character name is required"),username:dt.string().optional(),system:dt.string().optional(),templates:dt.record(Gj).optional(),bio:dt.union([dt.string(),dt.array(dt.string())]),messageExamples:dt.array(dt.array(Hj)).optional(),postExamples:dt.array(dt.string()).optional(),topics:dt.array(dt.string()).optional(),adjectives:dt.array(dt.string()).optional(),knowledge:dt.array(Vj).optional(),plugins:dt.array(dt.string()).optional(),settings:Kj,secrets:Yj,style:Wj}).strict();function Zi(){return typeof Buffer<"u"&&typeof Buffer.from=="function"}n(Zi,"OK");function Xj(t){let e=t.replace(/[^0-9a-fA-F]/g,"");if(Zi())return Buffer.from(e,"hex");let r=new Uint8Array(e.length/2);for(let i=0;i<r.length;i++)r[i]=parseInt(e.substr(i*2,2),16);return r}n(Xj,"Ey");function Qj(t,e="utf8"){if(Zi()){let r=e==="utf-8"?"utf8":e;return Buffer.from(t,r)}if(e==="base64"){let r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return i}return new TextEncoder().encode(t)}n(Qj,"Ry");function k7(t){if(Zi()&&Buffer.isBuffer(t))return t.toString("hex");let e=t instanceof Uint8Array?t:new Uint8Array(t),r="";for(let i=0;i<e.length;i++){let s=e[i].toString(16);r+=s.length===1?"0"+s:s}return r}n(k7,"pf");function Jj(t,e="utf8"){if(Zi()&&Buffer.isBuffer(t)){let i=e==="utf-8"?"utf8":e;return t.toString(i)}let r=t instanceof Uint8Array?t:new Uint8Array(t);if(e==="hex")return k7(r);if(e==="base64"){let i="";for(let s=0;s<r.length;s++)i+=String.fromCharCode(r[s]);return btoa(i)}return new TextDecoder().decode(r)}n(Jj,"hy");function qj(t){return t?Zi()&&Buffer.isBuffer(t)?!0:t instanceof Uint8Array||t instanceof ArrayBuffer||typeof t=="object"&&t.buffer instanceof ArrayBuffer&&typeof t.byteLength=="number"&&!Array.isArray(t):!1}n(qj,"Dy");function eL(t){return Zi()?Buffer.alloc(t):new Uint8Array(t)}n(eL,"Iy");function tL(t){return Zi()?Buffer.from(t):new Uint8Array(t)}n(tL,"Ly");function rL(t){if(Zi()&&t.every(s=>Buffer.isBuffer(s)))return Buffer.concat(t);let e=0;for(let s of t)e+=s.length;let r=new Uint8Array(e),i=0;for(let s of t){let l=s instanceof Uint8Array?s:new Uint8Array(s);r.set(l,i),i+=l.length}return r}n(rL,"by");function iL(t,e,r){return Zi()&&Buffer.isBuffer(t)?t.slice(e,r):(t instanceof Uint8Array?t:new Uint8Array(t)).slice(e,r)}n(iL,"gy");function nL(t,e){if(t.length!==e.length)return!1;let r=t instanceof Uint8Array?t:new Uint8Array(t),i=e instanceof Uint8Array?e:new Uint8Array(e);for(let s=0;s<r.length;s++)if(r[s]!==i[s])return!1;return!0}n(nL,"yy");function sL(t){return t.length}n(sL,"py");function aL(t){if(Zi())try{return($r(),$t(Lr)).randomBytes(t)}catch{}let e=new Uint8Array(t);if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e}n(aL,"xy");var oL={fromHex:Xj,fromString:Qj,fromBytes:tL,toHex:k7,toString:Jj,isBuffer:qj,alloc:eL,concat:rL,slice:iL,equals:nL,byteLength:sL,randomBytes:aL},lL=[];for(let t=0;t<256;++t)lL.push((t+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ra=null,mw=!1,uL=3e5;function fL(){let t=Of("SECRET_SALT","secretsalt")||"secretsalt",e=Date.now();return Ra!==null&&e-Ra.timestamp<uL&&Ra.value===t?Ra.value:(t==="secretsalt"&&!mw&&(no.warn("SECRET_SALT is not set or using default value"),mw=!0),Ra={value:t,timestamp:e},t)}n(fL,"r_");function cL(t,e){try{if(t==null||typeof t=="boolean"||typeof t=="number")return t;if(typeof t!="string")return no.debug(`Value is not a string (type: ${typeof t}), returning as is`),t;let r=t.split(":");if(r.length!==2)return t;let i=oL.fromHex(r[0]),s=r[1];if(i.length!==16)return i.length&&no.debug(`Invalid IV length (${i.length}) - expected 16 bytes`),t;let l=T2.createHash("sha256").update(e).digest().slice(0,32),a=T2.createDecipheriv("aes-256-cbc",l,i),v=a.update(s,"hex","utf8");return v+=a.final("utf8"),v}catch(r){return no.error(`Error decrypting value: ${r}`),t}}n(cL,"J5");function hL(t,e){let r={};for(let[i,s]of Object.entries(t))typeof s=="string"&&s?r[i]=cL(s,e):r[i]=s;return r}n(hL,"cf");const We={info:n((t,...e)=>{Gl.info({source:"client"},t,...e)},"info"),error:n((t,...e)=>{Gl.error({source:"client"},t,...e)},"error"),warn:n((t,...e)=>{Gl.warn({source:"client"},t,...e)},"warn"),debug:n((t,...e)=>{Gl.debug({source:"client"},t,...e)},"debug")},dL="elizaos-plugins",pL="registry",mL=`https://raw.githubusercontent.com/${dL}/${pL}/refs/heads/main/generated-registry.json`,gL=["@elizaos/plugin-bootstrap","@elizaos/plugin-sql"];async function vL(){try{const t=await fetch(mL);if(!t.ok)throw new Error(`Failed to fetch registry: ${t.status}`);return await t.json()}catch(t){return We.error("Failed to fetch plugin registry:",t),null}}n(vL,"fetchPluginRegistry");function bL(t){return t.startsWith("@elizaos-plugins/")?t:t.replace("@elizaos/","@elizaos-plugins/")}n(bL,"getRegistryPluginName");function Go(t){return gL.includes(t)}n(Go,"isCorePlugin");function yL(t,e){if(Go(t))return null;if(!e)return We.warn(`No registry data available for ${t}`),null;const r=bL(t),i=t;We.debug(`Looking for ${t} in registry as ${r} or ${i}`);let s=e.registry[r];if(!s&&r!==i&&(s=e.registry[i],s&&We.debug(`Found plugin under alternative name: ${i}`)),!s?.git?.repo)return We.warn(`No GitHub repo found in registry for plugin: ${t} (tried ${r} and ${i})`),null;We.debug(`Found repo info for ${t}: ${s.git.repo}`);const l=s.git.v1.branch?s.git.v1:s.git.v0,a=l?.branch||"main";l?.branch?We.debug(`Branch for ${t}: ${a}`):We.warn(`No branch information found for plugin: ${t}`);let v;const g=s.git.repo.match(/github\.com[:/]([^/]+\/[^/.]+)(\.git)?$/);if(g)v=g[1];else{const d=s.git.repo.match(/^([^/]+\/[^/.]+)$/);if(d)v=d[1];else return We.warn(`Could not parse GitHub repo URL: ${s.git.repo}`),null}We.debug(`Parsed owner/repo for ${t}: ${v}`);const h=`${v}/${a}`;return We.debug(`Initial path for ${t}: ${h}`),h}n(yL,"getGitHubRepoPath");async function wL(t,e){if(Go(t))return null;if(!e)return We.warn(`No repo path available for plugin: ${t}`),null;We.debug(`Starting package.json fetch for ${t} with initial path: ${e}`);const r=e.split("/"),i=r[0],s=r[1],l=r[2]||"main",a=t.replace("@elizaos/","");We.debug(`Extracted parts - owner: ${i}, repo: ${s}, branch: ${l}, packageName: ${a}`);const v=[`${i}/${s}/${l}`,`${i}/${s}/main`,`${i}/${s}/master`,`${i}/${s}/1.x`,`${i}/${s}/v1`,`${i}/${s}/v2`,`${i}/${s}/${l}/packages/${a}`,`${i}/${s}/main/packages/${a}`,`${i}/${s}/master/packages/${a}`],g=[...new Set(v)];We.debug(`Will try ${g.length} unique paths for ${t}:`,g);for(const h of g)try{const d=`https://raw.githubusercontent.com/${h}/package.json`;We.debug(`Trying URL for ${t}: ${d}`);const c=await fetch(d);if(c.ok){const y=await c.json();return We.debug(` Found package.json for ${t} at ${d}`),y}else We.debug(` Failed to fetch ${t} from ${d}: HTTP ${c.status}`)}catch(d){We.debug(` Error fetching ${t} from ${h}: ${d instanceof Error?d.message:String(d)}`)}return We.warn(`Could not find package.json for ${t} in any of the expected locations`),null}n(wL,"fetchPluginPackageJson");function xL(t,e){if(Go(t))return[];if(!e)return[];if(e?.agentConfig?.pluginParameters){const r=[];for(const[i,s]of Object.entries(e.agentConfig.pluginParameters))s.required===!0&&r.push({name:i,description:s.description,required:!0,example:s.example});return r}return e?.elizaos?.secrets?e.elizaos.secrets.filter(r=>r.required):e?.elizaos?.requiredSecrets?e.elizaos.requiredSecrets.map(r=>({name:r,required:!0})):[]}n(xL,"extractRequiredSecrets");function _L(t){const e=K.useMemo(()=>[...t].sort().join(","),[t]);return Ar({queryKey:["plugin-details",e],queryFn:n(async()=>{We.debug("[usePluginDetails] Starting fetch for plugins:",t);const r=[],i=t.filter(Go),s=t.filter(l=>!Go(l));if(We.debug("[usePluginDetails] Core plugins:",i),We.debug("[usePluginDetails] External plugins:",s),i.forEach(l=>{r.push({name:l,requiredSecrets:[]})}),s.length>0){const l=await vL();if(We.debug("[usePluginDetails] Registry data fetched:",l?"success":"failed"),l){const g=Object.keys(l.registry);We.debug("[usePluginDetails] Available plugins in registry:",g)}const a=s.map(async g=>{const h=yL(g,l),d=await wL(g,h);return{name:g,packageJson:d}}),v=await Promise.all(a);for(const{name:g,packageJson:h}of v){const d=xL(g,h);r.push({name:g,requiredSecrets:d})}}return We.debug("[usePluginDetails] Final details:",r),r},"queryFn"),enabled:t.length>0,staleTime:300*1e3,retry:2,refetchOnMount:!1,refetchOnWindowFocus:!1})}n(_L,"usePluginDetails");function N7(t){const{data:e,isLoading:r,error:i}=_L(t);return{requiredSecrets:K.useMemo(()=>e?e.reduce((l,a)=>(a.requiredSecrets.forEach(v=>{l.find(g=>g.name===v.name)||l.push({...v,plugin:a.name})}),l),[]):[],[e]),isLoading:r,error:i}}n(N7,"useRequiredSecrets");class Jn extends Error{static{n(this,"ApiError")}code;details;status;constructor(e,r,i,s){super(r),this.code=e,this.details=i,this.status=s,this.name="ApiError"}}class Hn{static{n(this,"BaseApiClient")}baseUrl;apiKey;timeout;defaultHeaders;constructor(e){this.baseUrl=e.baseUrl.replace(/\/$/,""),this.apiKey=e.apiKey,this.timeout=e.timeout||3e4,this.defaultHeaders={"Content-Type":"application/json",...e.headers},this.apiKey&&(this.defaultHeaders["X-API-KEY"]=this.apiKey)}createNoContentResponse(){return{success:!0}}async request(e,r,i){let s;this.baseUrl?s=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?s=new URL(r,window.location.origin):s=new URL(r,"http://localhost:3000"),i?.params&&Object.entries(i.params).forEach(([v,g])=>{g!=null&&s.searchParams.append(v,String(g))});const l=new AbortController,a=setTimeout(()=>l.abort(),this.timeout);try{const v={...this.defaultHeaders,...i?.config?.headers,...i?.headers};i?.body instanceof FormData&&delete v["Content-Type"];const g=await fetch(s.toString(),{method:e,headers:v,body:i?.body instanceof FormData?i.body:i?.body?JSON.stringify(i.body):void 0,signal:l.signal});if(clearTimeout(a),g.status===204||g.headers.get("content-length")==="0")return this.createNoContentResponse();let h;try{h=await g.json()}catch{if(g.ok)return this.createNoContentResponse();throw new Jn("PARSE_ERROR","Failed to parse response as JSON",void 0,g.status)}if(!g.ok){const d=h?.error||{code:"HTTP_ERROR",message:`HTTP ${g.status}: ${g.statusText}`};throw new Jn(d.code,d.message,d.details,g.status)}if(h&&typeof h=="object"&&"success"in h){const d=h;if(!d.success){const c="error"in d?d.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};throw new Jn(c.code,c.message,c.details,g.status)}return d.data}else return h}catch(v){throw clearTimeout(a),v instanceof Jn?v:v instanceof Error?v.name==="AbortError"?new Jn("TIMEOUT","Request timed out"):new Jn("NETWORK_ERROR",v.message):new Jn("UNKNOWN_ERROR","An unknown error occurred")}}async get(e,r){return this.request("GET",e,r)}async post(e,r,i){return this.request("POST",e,{...i,body:r})}async put(e,r,i){return this.request("PUT",e,{...i,body:r})}async patch(e,r,i){return this.request("PATCH",e,{...i,body:r})}async delete(e,r){return this.request("DELETE",e,r)}}class ML extends Hn{static{n(this,"AgentsService")}async listAgents(){return this.get("/api/agents")}async getAgent(e){return this.get(`/api/agents/${e}`)}async createAgent(e){return this.post("/api/agents",e)}async updateAgent(e,r){return this.patch(`/api/agents/${e}`,r)}async deleteAgent(e){return this.delete(`/api/agents/${e}`)}async startAgent(e){return this.post(`/api/agents/${e}/start`)}async stopAgent(e){return this.post(`/api/agents/${e}/stop`)}async getWorlds(){return this.get("/api/agents/worlds")}async addAgentToWorld(e,r){return this.post(`/api/agents/${e}/worlds`,{worldId:r})}async updateAgentWorldSettings(e,r,i){return this.patch(`/api/agents/${e}/worlds/${r}`,{settings:i})}async getAgentPanels(e){const r=await this.get(`/api/agents/${e}/panels`);return{panels:(Array.isArray(r)?r:[]).map((s,l)=>({id:`${s.name}-${l}`,name:s.name,url:s.path,type:"plugin"}))}}async getAgentLogs(e,r){return this.get(`/api/agents/${e}/logs`,{params:r})}async deleteAgentLog(e,r){return this.delete(`/api/agents/${e}/logs/${r}`)}async getAgentsForServer(e){return this.get(`/api/messaging/servers/${e}/agents`)}async addAgentToServer(e,r){return this.post(`/api/messaging/servers/${e}/agents`,{agentId:r})}async removeAgentFromServer(e,r){return this.delete(`/api/messaging/servers/${e}/agents/${r}`)}async getServersForAgent(e){return this.get(`/api/messaging/agents/${e}/servers`)}}class SL extends Hn{static{n(this,"MessagingService")}async submitMessage(e){return this.post("/api/messaging/submit",e)}async completeMessage(e){return this.post("/api/messaging/complete",e)}async ingestExternalMessages(e){return this.post("/api/messaging/ingest-external",e)}async createChannel(e){const r={name:e.name,type:e.type,server_id:e.serverId||"00000000-0000-0000-0000-000000000000",metadata:e.metadata};return this.post("/api/messaging/central-channels",r)}async createGroupChannel(e){const r="00000000-0000-0000-0000-000000000000";let i,s,l;if(e.metadata){const v={...e.metadata};"server_id"in v&&(s=v.server_id,delete v.server_id),"type"in v&&(l=v.type,delete v.type),Object.keys(v).length>0&&(i=v)}const a={name:e.name,server_id:s||r,participantCentralUserIds:e.participantIds,...l?{type:l}:{},...i?{metadata:i}:{}};return this.post("/api/messaging/central-channels",a)}async getOrCreateDmChannel(e){const[r,i]=e.participantIds,s={currentUserId:r,targetUserId:i,dmServerId:"00000000-0000-0000-0000-000000000000"};return this.get("/api/messaging/dm-channel",{params:s})}async getChannelDetails(e){return this.get(`/api/messaging/central-channels/${e}/details`)}async getChannelParticipants(e){return this.get(`/api/messaging/central-channels/${e}/participants`)}async addAgentToChannel(e,r){return this.post(`/api/messaging/central-channels/${e}/agents`,{agentId:r})}async removeAgentFromChannel(e,r){return this.delete(`/api/messaging/central-channels/${e}/agents/${r}`)}async deleteChannel(e){return this.delete(`/api/messaging/central-channels/${e}`)}async clearChannelHistory(e){return this.delete(`/api/messaging/central-channels/${e}/messages`)}async postMessage(e,r,i){return this.post(`/api/messaging/central-channels/${e}/messages`,{content:r,metadata:i})}async getChannelMessages(e,r){return this.get(`/api/messaging/central-channels/${e}/messages`,{params:r})}async getMessage(e){return this.get(`/api/messaging/messages/${e}`)}async deleteMessage(e,r){return this.delete(`/api/messaging/central-channels/${e}/messages/${r}`)}async updateMessage(e,r){return this.patch(`/api/messaging/messages/${e}`,{content:r})}async searchMessages(e){return this.post("/api/messaging/messages/search",e)}async listServers(){return this.get("/api/messaging/central-servers")}async getServerChannels(e){return this.get(`/api/messaging/central-servers/${e}/channels`)}async createServer(e){return this.post("/api/messaging/servers",e)}async syncServerChannels(e,r){return this.post(`/api/messaging/servers/${e}/sync-channels`,r)}async deleteServer(e){return this.delete(`/api/messaging/servers/${e}`)}async updateChannel(e,r){return this.patch(`/api/messaging/central-channels/${e}`,r)}async generateChannelTitle(e,r){return this.post(`/api/messaging/central-channels/${e}/generate-title`,{agentId:r})}async addUserToChannel(e,r){const i=await this.getChannelDetails(e),s=i.metadata?.participantCentralUserIds||[];if(!s.includes(r)){const l=[...s,r];return this.updateChannel(e,{participantCentralUserIds:l})}return{success:!0,data:i}}async addUsersToChannel(e,r){const l=[...(await this.getChannelDetails(e)).metadata?.participantCentralUserIds||[]];for(const a of r)l.includes(a)||l.push(a);return this.updateChannel(e,{participantCentralUserIds:l})}async removeUserFromChannel(e,r){const l=((await this.getChannelDetails(e)).metadata?.participantCentralUserIds||[]).filter(a=>a!==r);return this.updateChannel(e,{participantCentralUserIds:l})}}class EL extends Hn{static{n(this,"MemoryService")}async getAgentMemories(e,r){return this.get(`/api/memory/${e}/memories`,{params:r})}async getRoomMemories(e,r,i){return this.get(`/api/memory/${e}/rooms/${r}/memories`,{params:i})}async updateMemory(e,r,i){return this.patch(`/api/memory/${e}/memories/${r}`,i)}async clearAgentMemories(e){return this.delete(`/api/memory/${e}/memories`)}async clearRoomMemories(e,r){return this.delete(`/api/memory/${e}/memories/all/${r}`)}async listAgentRooms(e){return this.get(`/api/memory/${e}/rooms`)}async getRoom(e,r){return this.get(`/api/memory/${e}/rooms/${r}`)}async createRoom(e,r){return this.post(`/api/memory/${e}/rooms`,r)}async createWorldFromServer(e,r){return this.post(`/api/memory/groups/${e}`,r)}async deleteWorld(e){return this.delete(`/api/memory/groups/${e}`)}async clearWorldMemories(e){return this.delete(`/api/memory/groups/${e}/memories`)}async deleteMemory(e,r){return this.delete(`/api/memory/${e}/memories/${r}`)}async getAgentInternalMemories(e,r,i){return this.get(`/api/memory/${e}/rooms/${r}/memories`,{params:{includeEmbedding:i}})}async deleteAgentInternalMemory(e,r){return this.delete(`/api/memory/${e}/memories/${r}`)}async deleteAllAgentInternalMemories(e,r){return this.delete(`/api/memory/${e}/memories/all/${r}`)}async updateAgentInternalMemory(e,r,i){return this.patch(`/api/memory/${e}/memories/${r}`,i)}async deleteGroupMemory(e,r){return this.delete(`/api/messaging/central-channels/${e}/messages/${r}`)}async clearGroupChat(e){return this.delete(`/api/messaging/central-channels/${e}/messages`)}}class AL extends Hn{static{n(this,"AudioService")}async requestBinary(e,r,i){let s;this.baseUrl?s=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?s=new URL(r,window.location.origin):s=new URL(r,"http://localhost:3000"),i?.params&&Object.entries(i.params).forEach(([v,g])=>{g!=null&&s.searchParams.append(v,String(g))});const l=new AbortController,a=setTimeout(()=>l.abort(),this.timeout);try{const v={...this.defaultHeaders,...i?.headers};i?.body instanceof FormData&&delete v["Content-Type"];const g=await fetch(s.toString(),{method:e,headers:v,body:i?.body instanceof FormData?i.body:i?.body?JSON.stringify(i.body):void 0,signal:l.signal});if(clearTimeout(a),!g.ok)throw new Error(`HTTP error! status: ${g.status}`);return await g.arrayBuffer()}catch(v){throw clearTimeout(a),v instanceof Error?v.name==="AbortError"?new Error("Request timed out"):v:new Error("An unknown error occurred")}}processAudioInput(e){if(e instanceof Blob)return e;if(typeof e=="string"){if(e.startsWith("data:"))try{const[i,s]=e.split(","),l=i.match(/data:([^;]+)/),a=l?l[1]:"audio/wav",v=atob(s),g=new Uint8Array(v.length);for(let h=0;h<v.length;h++)g[h]=v.charCodeAt(h);return new Blob([g],{type:a})}catch(i){throw new Error(`Invalid base64 data URL: ${i instanceof Error?i.message:"Unknown error"}`)}if(this.isBase64String(e))try{const i=atob(e),s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return new Blob([s],{type:"audio/wav"})}catch{return e}return e}if(this.isBuffer(e))return new Blob([new Uint8Array(e)],{type:"audio/wav"});const r=e;if(r instanceof ArrayBuffer)return new Blob([r],{type:"audio/wav"});if(r&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer)return new Blob([r.buffer],{type:"audio/wav"});throw new Error(`Unsupported audio input type: ${typeof e}. Expected Blob, Buffer, ArrayBuffer, or string.`)}isBase64String(e){const r=/^[A-Za-z0-9+/]*={0,2}$/;return e.length<4||e.length%4!==0?!1:r.test(e)}isBuffer(e){return e!=null&&typeof e=="object"&&typeof e.constructor=="function"&&e.constructor.name==="Buffer"&&typeof e.readUInt8=="function"}async speechConversation(e,r){const i=new FormData,s=this.processAudioInput(r.audio);return s instanceof Blob,i.append("file",s),r.format&&i.append("format",r.format),r.language&&i.append("language",r.language),r.metadata&&i.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/audio/${e}/speech/conversation`,{body:i})}async generateSpeech(e,r){const i=await this.requestBinary("POST",`/api/audio/${e}/speech/generate`,{body:r}),s=new Uint8Array(i);let l="";for(let g=0;g<s.byteLength;g++)l+=String.fromCharCode(s[g]);return{audio:btoa(l),format:"mpeg"}}async synthesizeAudioMessage(e,r){return this.post(`/api/audio/${e}/audio-messages/synthesize`,r)}async transcribe(e,r){const i=new FormData,s=this.processAudioInput(r.audio);return s instanceof Blob,i.append("file",s),r.format&&i.append("format",r.format),r.language&&i.append("language",r.language),this.request("POST",`/api/audio/${e}/transcriptions`,{body:i})}async processSpeech(e,r,i){const s=new FormData,l=this.processAudioInput(r);return l instanceof Blob,s.append("file",l),i&&s.append("metadata",JSON.stringify(i)),this.request("POST",`/api/audio/${e}/speech`,{body:s})}}class kL extends Hn{static{n(this,"MediaService")}async uploadAgentMedia(e,r){const i=new FormData;return i.append("file",r.file,r.filename),r.contentType&&i.append("contentType",r.contentType),r.metadata&&i.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/media/agents/${e}/upload-media`,{body:i})}async uploadChannelMedia(e,r){const i=new FormData;return i.append("file",r),this.request("POST",`/api/messaging/central-channels/${e}/upload-media`,{body:i})}}class NL extends Hn{static{n(this,"ServerService")}async checkHealth(){return this.get("/api/server/health")}async ping(){return this.get("/api/server/ping")}async hello(){return this.get("/api/server/hello")}async getStatus(){return this.get("/api/server/status")}async stopServer(){return this.post("/api/server/stop")}async getDebugInfo(){return this.get("/api/server/debug/servers")}async submitLogs(e){return this.post("/api/server/logs",{logs:e})}async clearLogs(){return this.delete("/api/server/logs")}}class CL extends Hn{static{n(this,"SystemService")}async getEnvironment(){return this.get("/api/system/env/local")}async updateLocalEnvironment(e){if(!e||typeof e!="object")throw new Error("updateLocalEnvironment requires a configuration object");let r;return"variables"in e?r={content:e.variables}:"content"in e?r={content:e.content}:r={content:e},this.post("/api/system/env/local",r)}async getGlobalLogs(e){const r=await fetch(this.buildUrl("/api/server/logs",{params:e}),{method:"GET",headers:this.getHeaders()});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const i=await r.json();return{logs:i.logs||[],count:i.count||0,total:i.total||0,level:i.requestedLevel||i.level||"all",levels:i.levels||[]}}buildUrl(e,r){const i=new URL(`${this.baseUrl}${e}`);return r?.params&&Object.entries(r.params).forEach(([s,l])=>{l!=null&&i.searchParams.append(s,String(l))}),i.toString()}getHeaders(){return{...this.defaultHeaders}}async deleteGlobalLogs(){return this.delete("/api/server/logs")}async deleteLog(e){throw new Error("Individual log deletion is not supported. Use deleteGlobalLogs() to clear all logs.")}}function gw(t,e){if(!t)return;let r;if(t instanceof Date)r=t.getTime();else if(typeof t=="string"){if(r=new Date(t).getTime(),isNaN(r)){console.warn(`Invalid date string for ${e}: ${t}`);return}}else if(typeof t=="number")r=t;else{console.warn(`Invalid type for ${e}: ${typeof t}`);return}return r.toString()}n(gw,"toTimestampString");function Ia(t,e){if(!t||t.trim()==="")throw new Error(`${e} is required and cannot be empty`)}n(Ia,"validateRequiredParam");class RL extends Hn{static{n(this,"SessionsService")}async checkHealth(){return this.get("/api/messaging/sessions/health")}async createSession(e){return this.post("/api/messaging/sessions",e)}async getSession(e){return Ia(e,"sessionId"),this.get(`/api/messaging/sessions/${e}`)}async sendMessage(e,r){return Ia(e,"sessionId"),Ia(r?.content,"content"),this.post(`/api/messaging/sessions/${e}/messages`,r)}async getMessages(e,r){Ia(e,"sessionId");const i={};r?.limit&&(i.limit=r.limit.toString());const s=gw(r?.before,"before");s&&(i.before=s);const l=gw(r?.after,"after");return l&&(i.after=l),this.get(`/api/messaging/sessions/${e}/messages`,{params:i})}async deleteSession(e){return Ia(e,"sessionId"),this.delete(`/api/messaging/sessions/${e}`)}async listSessions(){return this.get("/api/messaging/sessions")}}class ov{static{n(this,"ElizaClient")}agents;messaging;memory;audio;media;server;system;sessions;constructor(e){this.agents=new ML(e),this.messaging=new SL(e),this.memory=new EL(e),this.audio=new AL(e),this.media=new kL(e),this.server=new NL(e),this.system=new CL(e),this.sessions=new RL(e)}static create(e){return new ov(e)}}function IL(){const t=n(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey"),e=localStorage.getItem(t()),r={baseUrl:window.location.origin,timeout:3e4,headers:{Accept:"application/json"}};return e&&(r.apiKey=e),r}n(IL,"createApiClientConfig");let mu=null;function qt(){return mu||(mu=ov.create(IL())),mu}n(qt,"createElizaClient");function TL(){mu=null}n(TL,"resetElizaClient");function PL(t){const e=n(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");t?localStorage.setItem(e(),t):localStorage.removeItem(e()),TL()}n(PL,"updateApiClientApiKey");const OL="elizaos-plugins",jL="registry",LL=`https://raw.githubusercontent.com/${OL}/${jL}/refs/heads/main/generated-registry.json`;function C7(){return Ar({queryKey:["plugins"],queryFn:n(async()=>{try{const t=qt(),[e,r]=await Promise.all([fetch(LL),t.agents.listAgents()]),i=await e.json(),s=Object.entries(i.registry||{}).filter(([v,g])=>{const h=v.includes("plugin"),d=g.supports.v1===!0,c=g.npm.v1!==null||g.git.v1.version!==null&&g.git.v1.branch!==null;return h&&d&&c}).map(([v])=>v.replace(/^@elizaos-plugins\//,"@elizaos/")).sort();let l=[];try{const v=r?.agents||[];if(v.length>0){const g=v.find(h=>h.status==="active");if(g&&g.id){const d=(await t.agents.getAgent(g.id))?.plugins;Array.isArray(d)&&(l=d)}}}catch(v){We.warn("Could not fetch agent plugins:",v)}return[...new Set([...s,...l])].sort()}catch(t){return We.error("Failed to fetch from registry, falling back to basic list:",t),["@elizaos/plugin-bootstrap","@elizaos/plugin-evm","@elizaos/plugin-discord","@elizaos/plugin-elevenlabs","@elizaos/plugin-anthropic","@elizaos/plugin-browser","@elizaos/plugin-farcaster","@elizaos/plugin-groq"].filter(e=>e.includes("plugin")).sort()}},"queryFn")})}n(C7,"usePlugins");const DL={google:"@elizaos/plugin-google-genai",llama_local:"@elizaos/plugin-ollama"},BL={},FL=["@elizaos/plugin-sql","@elizaos/plugin-bootstrap"];function UL(){const{data:t=[]}=C7(),e=n(s=>{const l=new Set;if(Array.isArray(s.clients))for(const v of s.clients){const g=v.toLowerCase(),h=BL[g];if(h&&t.includes(h))l.add(h);else{const d=`@elizaos/plugin-${g}`;t.includes(d)&&l.add(d)}}let a=!1;if(typeof s.modelProvider=="string"){const v=s.modelProvider.toLowerCase(),g=DL[v];if(g&&t.includes(g))l.add(g),a=!0;else{const h=`@elizaos/plugin-${v}`;t.includes(h)&&(l.add(h),a=!0)}a||t.includes("@elizaos/plugin-openai")&&l.add("@elizaos/plugin-openai")}else t.includes("@elizaos/plugin-openai")&&l.add("@elizaos/plugin-openai");for(const v of FL)t.includes(v)&&l.add(v);return Array.from(l).sort()},"matchPlugins");function r(s){return typeof s=="object"&&s!==null&&"user"in s}return n(r,"isV1MessageExampleFormat"),{convertCharacter:n(s=>{const l=[...Array.isArray(s.bio)?s.bio:s.bio?[s.bio]:[],...s.lore??[]],a=(s.messageExamples??[]).map(h=>h.map(d=>r(d)?{name:d.user,content:d.content}:d))??[],v=e(s);return{name:s.name,username:s.username,system:s.system,settings:s.settings,plugins:v,bio:l,topics:s.topics,style:s.style,adjectives:s.adjectives,messageExamples:a,postExamples:s.postExamples}},"convertCharacter")}}n(UL,"useConvertCharacter");const zL=n((t=768)=>{const e=K.useRef(null),[r,i]=K.useState(!0),s=K.useRef(null),l=K.useRef(0);return K.useEffect(()=>{const a=e.current;if(!a)return;const v=n(h=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{const d=h>=t;i(c=>c!==d?d:c),l.current=h},150)},"handleResize"),g=new ResizeObserver(h=>{for(const d of h){const{width:c}=d.contentRect;Math.abs(c-l.current)>5&&v(c)}});return g.observe(a),setTimeout(()=>{const{width:h}=a.getBoundingClientRect();l.current=h,i(h>=t)},0),()=>{g.disconnect(),s.current&&clearTimeout(s.current)}},[t]),{containerRef:e,showLabels:r}},"useContainerWidth");function R7({characterValue:t,setCharacterValue:e,title:r,description:i,onSubmit:s,onDelete:l,onReset:a,onStopAgent:v,isDeleting:g=!1,isStopping:h=!1,customComponents:d=[],onTemplateChange:c,secretPanelRef:y}){const{toast:b}=er(),{data:w,isLoading:S}=fA(),[C,R]=K.useState(!1),[T,P]=K.useState("none"),[O,j]=K.useState("basic"),B=K.useRef(null),[Z,W]=K.useState(!1),[ee,$]=K.useState(!1),[U,u]=K.useState(!1),[m,o]=K.useState(null),[p,x]=K.useState({}),A=K.useMemo(()=>t?.plugins||[],[t?.plugins]),{requiredSecrets:k}=N7(A),{convertCharacter:M}=UL();K.useEffect(()=>{n(async()=>{try{const te=await qt().system.getEnvironment();x(te||{})}catch(q){console.error("Failed to fetch global environment variables:",q),x({})}},"fetchGlobalEnvs")()},[]);const{containerRef:f,showLabels:_}=zL(640),E=K.useCallback(()=>{const J=B.current;if(!J)return;const{scrollLeft:q,scrollWidth:te,clientWidth:de}=J;W(q>0),$(q+de<te-1)},[]);K.useEffect(()=>{const J=B.current;if(J)return E(),J.addEventListener("scroll",E),window.addEventListener("resize",E),()=>{J.removeEventListener("scroll",E),window.removeEventListener("resize",E)}},[E,d.length]);const I=n(J=>{const q=B.current;if(!q)return;const te=q.clientWidth*.8;q.scrollBy({left:J==="left"?-te:te,behavior:"smooth"})},"scrollTabs"),L=K.useMemo(()=>{const J=Zx();return w&&!S?[...J.filter(te=>te.provider!=="elevenlabs"),...w]:J},[w,S]),D=K.useMemo(()=>[{sectionTitle:"Basic Info",sectionValue:"basic",sectionType:"input",fields:[{title:"Name",name:"name",description:"The primary identifier for this agent",fieldType:"text",getValue:n(J=>J.name||"","getValue"),tooltip:"Display name that will be visible to users. Required for identification purposes."},{title:"Username",name:"username",description:"Used in URLs and API endpoints",fieldType:"text",getValue:n(J=>J.username||"","getValue"),tooltip:"Unique identifier for your agent. Used in APIs/URLs and Rooms."},{title:"System",name:"system",description:"System prompt defining agent behavior",fieldType:"textarea",getValue:n(J=>J.system||"","getValue"),tooltip:"Instructions for the AI model that establish core behavior patterns and personality traits."},{title:"Voice Model",name:"settings.voice.model",description:"Voice model for audio synthesis",fieldType:"select",getValue:n(J=>J.settings?.voice?.model||"","getValue"),options:L.map(J=>({value:J.value,label:J.label})),tooltip:"Select a voice that aligns with the agent's intended persona."}]},{sectionTitle:"Content",sectionValue:"content",sectionType:"array",fields:[{title:"Bio",description:"Bio data for this agent",path:"bio",getData:n(J=>Array.isArray(J.bio)?J.bio:[],"getData"),tooltip:"Biographical details that establish the agent's background and context."},{title:"Topics",description:"Topics this agent can talk about",path:"topics",getData:n(J=>J.topics||[],"getData"),tooltip:"Subject domains the agent can discuss with confidence."},{title:"Adjectives",description:"Descriptive personality traits",path:"adjectives",getData:n(J=>J.adjectives||[],"getData"),tooltip:"Key personality attributes that define the agent's character."}]},{sectionTitle:"Style",sectionValue:"style",sectionType:"array",fields:[{title:"All Styles",description:"Writing style for all content types",path:"style.all",getData:n(J=>J.style?.all||[],"getData"),tooltip:"Core writing style guidelines applied across all content formats."},{title:"Chat Style",description:"Style specific to chat interactions",path:"style.chat",getData:n(J=>J.style?.chat||[],"getData"),tooltip:"Writing style specific to conversational exchanges."},{title:"Post Style",description:"Style for long-form content",path:"style.post",getData:n(J=>J.style?.post||[],"getData"),tooltip:"Writing style for structured content such as articles or posts."}]}],[L]),F=n(J=>{const{name:q,value:te,type:de}=J.target,oe=J.target.checked;if(de==="checkbox")e.updateField(q,oe);else if(q.startsWith("settings.")){const ue=q.substring(9);e.updateSetting?e.updateSetting(ue,te):e.updateField(q,te)}else e.updateField(q,te)},"handleChange"),z=n((J,q)=>{if(q.startsWith("settings.")){const te=q.substring(9);if(e.updateSetting){if(e.updateSetting(te,J),te==="voice.model"&&J){const de=um(J);if(de){const oe=Array.isArray(t.plugins)?[...t.plugins]:[],ue=um(t.settings?.voice?.model),Be=$x[de.provider],we=[...oe];Be&&!oe.includes(Be)&&we.push(Be),e.setPlugins?e.setPlugins(we):e.updateField&&e.updateField("plugins",we),ue?.provider!==de.provider&&b({title:"Plugin Updated",description:`${Be} plugin has been set for the selected voice model.`})}}}else e.updateField(q,J)}else e.updateField(q,J)},"handleVoiceModelChange"),H=n((J,q)=>{if(!J.includes(".")){e.updateField(J,q);return}const te=J.split(".");if(te.length===2&&te[0]==="style"){e.setStyleArray?e.setStyleArray(te[1],q):e.updateField(J,q);return}e.updateField(J,q)},"updateArray"),V=n(async J=>{if(J.settings?.avatar){const q=new Image;if(q.src=J.settings.avatar,await new Promise(te=>q.onload=te),q.width>oo||q.height>oo){const de=await(await fetch(J.settings.avatar)).blob(),oe=new File([de],"avatar.jpg",{type:de.type}),ue=await Rx(oe);return{...J,settings:{...J.settings,avatar:ue}}}}return J},"ensureAvatarSize"),Y=n(async J=>{J.preventDefault(),R(!0);try{const q=await V(t);let te=[];if(y?.current)te=y.current.validateSecrets().missingSecrets;else{const de=q.settings?.secrets,oe=de&&typeof de=="object"&&!Array.isArray(de)?de:{};te=k.filter(ue=>{const Be=oe[ue.name];if(Be&&typeof Be=="string"&&Be.trim()!=="")return!1;const we=p[ue.name];return!(we&&we.trim()!=="")}).map(ue=>ue.name)}if(te.length>0){R(!1),o(q),u(!0);return}await s(q)}catch(q){b({title:"Error",description:q instanceof Error?q.message:"Failed to update agent",variant:"destructive"})}finally{R(!1)}},"handleFormSubmit"),Me=n(async()=>{if(u(!1),m){R(!0);try{await s(m)}catch(J){b({title:"Error",description:J instanceof Error?J.message:"Failed to update agent",variant:"destructive"})}finally{R(!1),o(null)}}},"handleConfirmSaveWithMissingSecrets"),se=n(()=>{u(!1),o(null),j("custom-Secret")},"handleCancelSaveWithMissingSecrets"),ae=n(J=>N.jsxs("div",{className:`w-full ${J.name==="name"?"agent-form-name":""} ${J.name==="system"?"agent-form-system-prompt":""}`,children:[N.jsxs(Ys,{htmlFor:J.name,className:"text-sm font-normal block mb-2",children:[J.title,J.name in Ts&&Ts[J.name]===iu.REQUIRED&&N.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),J.fieldType==="textarea"?N.jsx(Qo,{id:J.name,name:J.name,value:J.getValue(t),onChange:F,className:"min-h-[120px] resize-y"}):J.fieldType==="checkbox"?N.jsx(cr,{id:J.name,name:J.name,type:"checkbox",checked:t[J.name]==="true",onChange:F}):J.fieldType==="select"?N.jsxs(cs,{name:J.name,value:J.getValue(t),onValueChange:n(q=>z(q,J.name),"onValueChange"),children:[N.jsx(En,{children:N.jsx(hs,{placeholder:J.name.includes("voice.model")&&S?"Loading voice models...":"Select a voice model"})}),N.jsx(An,{children:J.name==="settings.voice.model"?N.jsxs(N.Fragment,{children:[N.jsx(cc,{children:N.jsx(Jt,{value:"none",children:"No Voice"})}),N.jsx(lm,{}),N.jsxs(cc,{children:[N.jsx(om,{children:"OpenAI Voices"}),Hx.map(q=>N.jsx(Jt,{value:q.value,children:q.label.replace("OpenAI - ","")},q.value))]}),N.jsx(lm,{}),N.jsxs(cc,{children:[N.jsx(om,{children:"ElevenLabs Voices"}),bg.map(q=>N.jsx(Jt,{value:q.value,children:q.label.replace("ElevenLabs - ","")},q.value)),w&&w.length>0&&w.map(q=>N.jsx(Jt,{value:q.value,children:q.label.replace("ElevenLabs - ","")},q.value))]})]}):J.options?.map(q=>N.jsx(Jt,{value:q.value,children:q.label},q.value))})]}):N.jsx(cr,{id:J.name,name:J.name,type:J.fieldType,value:J.getValue(t),onChange:F}),J.description&&N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:J.description})]},J.name),"renderInputField"),ye=n(J=>N.jsxs("div",{className:"w-full",children:[N.jsxs(Ys,{htmlFor:J.path,className:"text-sm font-normal block mb-2",children:[J.title,J.path in Ts&&Ts[J.path]===iu.REQUIRED&&N.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),N.jsx(JE,{data:J.getData(t),onChange:n(q=>H(J.path,q),"onChange")}),J.description&&N.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:J.description})]},J.path),"renderArrayField"),G=n(()=>{vg(t,b)},"handleExportJSON");function re(J){return typeof J=="object"&&J!==null&&("lore"in J||"clients"in J||"modelProvider"in J)}n(re,"isV1Character");const X=n(async J=>{const q=J.target.files?.[0];if(q)try{const te=await q.text();let de=JSON.parse(te);re(de)&&(de=M(de));const oe=Object.keys(Ts).filter(ue=>{if(Ts[ue]!==iu.REQUIRED)return!1;const Be=ue.split(".");let we=de;for(const De of Be)if(we=we?.[De],we===void 0)return!0;return!1});if(oe.length>0){b({title:"Import Failed",description:`Missing required fields: ${oe.join(", ")}`,variant:"destructive"});return}e.importAgent?e.importAgent(de):console.warn("Missing importAgent method"),b({title:"Agent Imported",description:"Agent data has been successfully loaded."})}catch(te){b({title:"Import Failed",description:te instanceof Error?te.message:"Invalid JSON file",variant:"destructive"})}finally{J.target.value=""}},"handleImportJSON"),Q=K.useRef(null),le=n(()=>{Q.current?.click()},"handleImportClick"),Ae=K.useMemo(()=>{const J=[];return v&&J.push({label:"Stop Agent",description:"Stop running",onClick:v}),l&&J.push({label:"Delete Agent",description:"Delete permanently",onClick:n(()=>l(),"onClick")}),J},[v,l]),pe=K.useCallback(J=>{if(P(J),J==="none"&&a){a();return}const q=Gx(J);q&&e.importAgent&&(e.importAgent(q.template),c?.())},[a,e,c]),fe=[...D.map(J=>({value:J.sectionValue,label:J.sectionTitle,shortLabel:J.sectionTitle.split(" ")[0]})),...d.map(J=>({value:`custom-${J.name}`,label:J.name,shortLabel:J.shortLabel||J.name.split(" ")[0]}))];return N.jsxs("div",{ref:f,className:"w-full max-w-full mx-auto p-6 sm:p-8 h-full overflow-y-auto",children:[(r||i)&&N.jsxs("div",{className:"mb-8",children:[r&&N.jsx("h1",{className:"text-2xl font-semibold mb-2",children:r}),i&&N.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:i})]}),N.jsxs("div",{className:"mb-8",children:[N.jsx(Ys,{htmlFor:"template-selector",className:"text-sm",children:"Start with a template"}),N.jsxs(cs,{value:T,onValueChange:pe,children:[N.jsx(En,{className:"w-full mt-1",children:N.jsx(hs,{placeholder:"None (blank start)"})}),N.jsx(An,{children:Vx.map(J=>N.jsx(Jt,{value:J.id,children:N.jsx(Ks,{children:N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx("span",{className:"w-full text-left",children:J.label})}),N.jsx(or,{side:"right",children:N.jsx("p",{className:"max-w-xs",children:J.description})})]})})},J.id))})]})]}),N.jsxs("form",{onSubmit:Y,children:[N.jsxs(gg,{value:O,onValueChange:j,className:"w-full",children:[N.jsxs("div",{className:"relative mb-4",children:[Z&&N.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:n(()=>I("left"),"onClick"),children:N.jsx(jM,{className:"h-4 w-4"})}),N.jsx("div",{ref:B,className:"overflow-x-auto scrollbar-hide",children:N.jsx(uf,{className:"inline-flex h-10 items-center justify-start text-muted-foreground w-full",children:fe.map(J=>N.jsx(fo,{value:J.value,className:Ve("whitespace-nowrap",!_&&"px-2 text-xs"),children:_?J.label:J.shortLabel},J.value))})}),ee&&N.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:n(()=>I("right"),"onClick"),children:N.jsx(LM,{className:"h-4 w-4"})})]}),N.jsxs("div",{className:"max-h-[100vh] overflow-y-auto pb-4 px-1",children:[D.map(J=>N.jsx(Ii,{value:J.sectionValue,className:"space-y-6 mt-0 focus:outline-none",children:J.sectionType==="input"?J.fields.map(ae):J.fields.map(ye)},J.sectionValue)),d.map(J=>N.jsx(Ii,{value:`custom-${J.name}`,className:"mt-0 focus:outline-none",children:N.jsx("div",{className:"h-full",children:J.component})},`custom-${J.name}`))]})]}),N.jsxs("div",{className:"flex items-center justify-between w-full mt-6",children:[N.jsxs(co,{children:[N.jsx(ho,{asChild:!0,children:N.jsxs(qe,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 p-2.5",children:[N.jsx(q4,{className:"h-4 w-4"}),N.jsx("span",{className:"sr-only",children:"More options"})]})}),N.jsxs(po,{align:"start",side:"top",children:[N.jsxs(Ti,{onClick:le,children:[N.jsx(DM,{className:"h-4 w-4 mr-2"}),"Import"]}),N.jsxs(Ti,{onClick:G,children:[N.jsx(ex,{className:"h-4 w-4 mr-2"}),"Export"]}),Ae.length>0&&N.jsx(Mu,{}),Ae.length>0&&Ae.map(J=>{const q=J.label==="Stop Agent",te=J.label==="Delete Agent",de=q?h:te?g:!1;return N.jsxs(Ti,{onClick:J.onClick,disabled:de,className:te?"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50":"",children:[de?N.jsx(Nr,{className:"h-4 w-4 animate-spin mr-2"}):q?N.jsx(ng,{className:"h-4 w-4 mr-2"}):N.jsx(Yo,{className:"h-4 w-4 mr-2"}),de?`${q?"Stopping":"Deleting"}...`:J.label]},J.label)})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(Ks,{children:N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs(qe,{type:"button",variant:"outline",onClick:n(()=>{a?.()},"onClick"),children:[N.jsx(tx,{className:"h-4 w-4"}),N.jsx("span",{className:"ml-2",children:"Reset"})]})}),N.jsx(or,{children:N.jsx("p",{children:"Reset all form fields to their original values"})})]})}),N.jsx(Ks,{children:N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{type:"submit",disabled:C,className:"agent-form-submit",children:C?N.jsxs(N.Fragment,{children:[N.jsx(Nr,{className:"h-4 w-4 animate-spin"}),N.jsx("span",{className:"ml-2",children:"Saving..."})]}):N.jsxs(N.Fragment,{children:[N.jsx(rx,{className:"h-4 w-4"}),N.jsx("span",{className:"ml-2",children:"Save"})]})})}),N.jsx(or,{children:N.jsx("p",{children:"Save all changes to the agent configuration"})})]})})]}),N.jsx("input",{ref:Q,type:"file",accept:".json",onChange:X,className:"hidden"})]})]}),N.jsx(dA,{open:U,onOpenChange:u,missingSecrets:(()=>{let J=[];if(y?.current)J=y.current.validateSecrets().missingSecrets;else{const q=t.settings?.secrets,te=q&&typeof q=="object"&&!Array.isArray(q)?q:{};J=k.filter(de=>{const oe=te[de.name];if(oe&&typeof oe=="string"&&oe.trim()!=="")return!1;const ue=p[de.name];return!(ue&&ue.trim()!=="")}).map(de=>de.name)}return J.map(q=>{const te=k.find(de=>de.name===q);return{name:q,plugin:te?.plugin,description:te?.description}})})(),onConfirm:Me,onCancel:se})]})}n(R7,"CharacterForm");function I7({characterValue:t,setCharacterValue:e}){const r=n(()=>{const c=t?.settings?.avatar;return typeof c=="string"?c:null},"getAvatarUrl"),[i,s]=K.useState(r()),[l,a]=K.useState(!1),v=K.useRef(null);K.useEffect(()=>{s(r()),a(!1)},[t.id]);const g=n(async c=>{const y=c.target.files?.[0];if(y)try{const b=await Rx(y);s(b),a(!0),d(b)}catch(b){console.error("Error compressing image:",b)}},"handleFileUpload"),h=n(()=>{i&&(s(null),a(!0),d(""))},"handleRemoveAvatar"),d=n(c=>{e.updateAvatar?e.updateAvatar(c):e.updateSetting?e.updateSetting("avatar",c):e.updateField&&e.updateField("settings.avatar",c)},"updateCharacterAvatar");return N.jsxs("div",{className:"rounded-lg w-full",children:[N.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Avatar Settings"}),N.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 max-w-sm mx-auto",children:[i?N.jsx("div",{className:"w-64 h-64 mb-2",children:N.jsx("img",{src:i,alt:"Agent Avatar",className:"object-cover w-full h-full rounded-lg border"})}):N.jsx("div",{className:"w-64 h-64 flex items-center justify-center border border-dashed rounded-lg text-gray-500 mb-2 cursor-pointer hover:bg-gray-50 transition-colors",onClick:n(()=>v.current?.click(),"onClick"),children:N.jsxs("div",{className:"flex flex-col items-center gap-2",children:[N.jsx(BM,{className:"w-10 h-10"}),N.jsx("span",{className:"text-sm",children:"Click to upload"})]})}),N.jsxs("div",{className:"flex flex-col gap-3 w-64",children:[N.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:g}),N.jsxs("div",{className:"flex gap-2",children:[N.jsxs(qe,{type:"button",className:"flex items-center gap-2 flex-1",onClick:n(()=>v.current?.click(),"onClick"),children:[N.jsx(FM,{className:"w-5 h-5"}),i?"Replace":"Upload"]}),i&&N.jsx(qe,{type:"button",variant:"outline",className:"flex items-center",onClick:h,children:N.jsx(Wr,{className:"w-5 h-5"})})]}),N.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[N.jsx(ix,{className:"w-3.5 h-3.5"}),N.jsxs("span",{children:["Images greater than ",oo,"x",oo," will be resized"]})]})]})]})]})}n(I7,"AvatarPanel");const lv=R4,$L=I4,HL=T4,T7=K.forwardRef(({className:t,...e},r)=>N.jsx(Qu,{ref:r,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));T7.displayName=Qu.displayName;const Df=K.forwardRef(({className:t,children:e,...r},i)=>N.jsxs(HL,{children:[N.jsx(T7,{}),N.jsxs(Xu,{ref:i,className:Ve("fixed left-[50%] top-[50%] z-50 bg-card grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,N.jsxs(P4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[N.jsx(Wr,{className:"h-4 w-4"}),N.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Df.displayName=Xu.displayName;const Bf=n(({className:t,...e})=>N.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e}),"DialogHeader");Bf.displayName="DialogHeader";const uv=n(({className:t,...e})=>N.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e}),"DialogFooter");uv.displayName="DialogFooter";const Ff=K.forwardRef(({className:t,...e},r)=>N.jsx(Ju,{ref:r,className:Ve("text-lg font-semibold leading-none tracking-tight",t),...e}));Ff.displayName=Ju.displayName;const fv=K.forwardRef(({className:t,...e},r)=>N.jsx(qu,{ref:r,className:Ve("text-sm text-muted-foreground",t),...e}));fv.displayName=qu.displayName;const wn={"@elizaos/plugin-sql":{title:"Essential Plugin: SQL",description:"Provides memory and state storage. If removed, replace with an adapter plugin or your agent may lose conversation history and memory capabilities."},"@elizaos/plugin-openai":{title:"Essential Plugin: OpenAI",description:"Provides language model access. If removed, replace with another LLM plugin or your agent may fail to function properly."},"@elizaos/plugin-bootstrap":{title:"Essential Plugin: Bootstrap",description:"Provides default message processing, event handling, and attachment workflows for your agent. If removed, ensure you have a custom plugin handling these responsibilities, or your agent may not process events or respond to messages as expected."}};function P7({characterValue:t,setCharacterValue:e,initialPlugins:r}){const{data:i,error:s}=C7(),{toast:l}=er(),[a,v]=K.useState(""),[g,h]=K.useState(!1),[d,c]=K.useState(null),[y,b]=K.useState(!1),w=K.useMemo(()=>Array.isArray(t?.plugins)?t.plugins:[],[t?.plugins]),S=K.useMemo(()=>{const W=["@elizaos/plugin-sql"];return i?[...W,...(Array.isArray(i)?i:Object.keys(i)).filter(ee=>!W.includes(ee))]:W},[i]),C=K.useMemo(()=>{const W=t?.settings;if(!W||typeof W!="object"||Array.isArray(W))return null;const ee=W.voice;if(!ee||typeof ee!="object"||Array.isArray(ee))return null;const $=ee.model;if(!$||typeof $!="string")return null;const U=um($);if(!U)return null;const u=$x[U.provider],m=w.includes(u);return{provider:U.provider,requiredPlugin:u,isPluginEnabled:m}},[t?.settings,w]),R=K.useMemo(()=>r?r.length!==w.length?!0:!r?.every(W=>w.includes(W)):!1,[w,r]),T=K.useMemo(()=>S.filter(W=>!w.includes(W)).filter(W=>W.toLowerCase().includes(a.toLowerCase())),[S,w,a]),P=n(W=>{if(!w.includes(W)){if(e.addPlugin)e.addPlugin(W);else if(e.updateField){const ee=Array.isArray(t.plugins)?[...t.plugins]:[];e.updateField("plugins",[...ee,W])}}},"handlePluginAdd"),O=n(W=>{if(Object.keys(wn).includes(W)){c(W),b(!0);return}j(W)},"handlePluginRemove"),j=n(W=>{const ee=w.indexOf(W);if(ee!==-1){if(e.removePlugin)e.removePlugin(ee);else if(e.updateField){const $=[...w];$.splice(ee,1),e.updateField("plugins",$)}}},"removePlugin"),B=n(()=>{d&&(j(d),c(null)),b(!1)},"handleConfirmRemoval"),Z=n(()=>{c(null),b(!1)},"handleCancelRemoval");return N.jsx("div",{className:"space-y-6",children:N.jsx("div",{className:"space-y-4",children:N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plugins"}),s?N.jsxs("p",{className:"text-destructive",children:["Failed to load plugins: ",s.message]}):N.jsxs("div",{className:"space-y-4",children:[N.jsx(yg,{open:y,onOpenChange:b,children:N.jsxs(ff,{children:[N.jsxs(cf,{children:[N.jsx(df,{children:d&&Object.keys(wn).includes(d)?wn[d].title:"Warning: Essential Plugin"}),N.jsx(pf,{children:d&&Object.keys(wn).includes(d)?wn[d].description:"This plugin provides essential functionality for your agent."})]}),N.jsxs(hf,{children:[N.jsx(gf,{onClick:Z,children:"Cancel"}),N.jsx(mf,{onClick:B,children:"Confirm Removal"})]})]})}),C&&N.jsxs("div",{className:"rounded-md border p-4 mb-4 flex items-center gap-2",children:[N.jsx(ii,{className:"h-4 w-4 text-yellow-500"}),N.jsx("p",{className:"text-xs text-white",children:(()=>{switch(C.provider){case"elevenlabs":return"ElevenLabs plugin is required for the selected voice model.";case"openai":return"OpenAI plugin is required for the selected voice model.";case"none":return'No voice plugin required for "No Voice" option.';default:return`${C.provider} plugin is required for the selected voice model.`}})()})]}),w.length>0&&N.jsxs("div",{className:"rounded-md bg-muted p-4",children:[N.jsx("h4",{className:"text-sm font-medium mb-2",children:"Currently Enabled"}),N.jsx("div",{className:"flex flex-wrap gap-2",children:[...w].sort((W,ee)=>{const $=Object.keys(wn).includes(W),U=Object.keys(wn).includes(ee);return $===U?0:$?-1:1}).map(W=>{const ee=C?.requiredPlugin===W,$=Object.keys(wn).includes(W);return N.jsxs(qe,{type:"button",variant:"ghost",size:"sm",className:`inline-flex items-center rounded-full ${$?"bg-blue-800 text-blue-700 hover:bg-blue-600":"bg-primary/10 text-primary hover:bg-primary/20"} px-2.5 py-0.5 text-xs font-medium h-auto`,title:ee?"Required by voice model":$?"Essential plugin for agent functionality":"",children:[$&&N.jsx("span",{className:"w-2 h-2 rounded-full bg-white inline-block"}),N.jsx("span",{className:"text-white font-semibold",children:W}),N.jsx("span",{className:cg("ml-1 opacity-70 hover:opacity-100",$&&"text-white"),onClick:n(()=>{if(ee){l({title:"Can't Remove Plugin",description:"This plugin is required by the selected voice model.",variant:"destructive"});return}O(W)},"onClick"),children:""})]},W)})}),N.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:N.jsxs("span",{className:"inline-flex items-center",children:[N.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 mr-1"}),"Essential plugins provide core functionality"]})})]}),N.jsx("div",{className:"space-y-2",children:N.jsxs(lv,{open:g,onOpenChange:h,children:[N.jsx($L,{asChild:!0,children:N.jsx(qe,{variant:"outline",className:"w-full justify-start",children:"Search and add plugins..."})}),N.jsxs(Df,{className:"max-w-[400px]",children:[N.jsx(Bf,{children:N.jsx(Ff,{children:"Add Plugins"})}),N.jsxs("div",{className:"space-y-4 py-4",children:[N.jsx("div",{className:"space-y-2",children:N.jsx(cr,{type:"search",placeholder:"Search plugins...",value:a,onChange:n(W=>v(W.target.value),"onChange")})}),N.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:T.length===0?N.jsx("p",{className:"text-sm text-muted-foreground",children:"No plugins found."}):T.map(W=>N.jsx(qe,{variant:"ghost",className:"w-full justify-start font-normal",onClick:n(()=>{P(W),v(""),h(!1)},"onClick"),children:W},W))})]})]})]})}),R&&N.jsx("p",{className:"text-xs text-yellow-500",children:"Plugins configuration has been changed"})]})]})})})}n(P7,"PluginsPanel");const O7=K.forwardRef(({className:t,children:e,...r},i)=>N.jsxs(nx,{ref:i,className:Ve("relative overflow-hidden",t),...r,children:[N.jsx(UM,{className:"h-full w-full rounded-[inherit]",children:e}),N.jsx(j7,{}),N.jsx(zM,{})]}));O7.displayName=nx.displayName;const j7=K.forwardRef(({className:t,orientation:e="vertical",...r},i)=>N.jsx(sx,{ref:i,orientation:e,className:Ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:N.jsx($M,{className:"relative flex-1 rounded-full bg-border"})}));j7.displayName=sx.displayName;const ZL=mn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wm=K.forwardRef(({className:t,variant:e,...r},i)=>N.jsx("div",{ref:i,role:"alert",className:Ve(ZL({variant:e}),t),...r}));Wm.displayName="Alert";const VL=K.forwardRef(({className:t,...e},r)=>N.jsx("h5",{ref:r,className:Ve("mb-1 font-medium leading-none tracking-tight",t),...e}));VL.displayName="AlertTitle";const Km=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,className:Ve("text-sm [&_p]:leading-relaxed",t),...e}));Km.displayName="AlertDescription";const cv=K.forwardRef(({characterValue:t,onChange:e},r)=>{const[i,s]=K.useState([]),[l,a]=K.useState(""),[v,g]=K.useState(""),[h,d]=K.useState(!1),[c,y]=K.useState(null),[b,w]=K.useState(""),[S,C]=K.useState(!1),[R,T]=K.useState([]),[P,O]=K.useState(new Set),[j,B]=K.useState({}),[Z,W]=K.useState(!0),[ee,$]=K.useState(!1),[U,u]=K.useState(""),m=K.useRef(null),o=K.useRef(""),p=K.useRef(null),x=K.useRef(""),A=K.useMemo(()=>t?.plugins||[],[t?.plugins]),{requiredSecrets:k,isLoading:M}=N7(A);K.useEffect(()=>{n(async()=>{try{W(!0);const le=await qt().system.getEnvironment();B(le||{})}catch(Q){console.error("Failed to fetch global environment variables:",Q),B({})}finally{W(!1)}},"fetchGlobalEnvs")()},[]);const f=K.useCallback(()=>{const X={};return i.forEach(({name:Q,value:le})=>{X[Q]=le}),R.forEach(Q=>{X[Q]=null}),X},[i,R]),_=K.useCallback(()=>{const X=f(),le=(M?i.filter(Ae=>Ae.isRequired):k).filter(Ae=>{const pe=typeof Ae=="object"&&"name"in Ae?Ae.name:Ae,fe=X[pe];return!(fe&&fe.trim()!==""||j[pe]&&j[pe].trim()!=="")}).map(Ae=>typeof Ae=="object"&&"name"in Ae?Ae.name:Ae);return{isValid:le.length===0,missingSecrets:le}},[f,k,M,i,j]);K.useImperativeHandle(r,()=>({getSecrets:f,validateSecrets:_}),[f,_]);const E=n(X=>{O(Q=>{const le=new Set(Q);return le.has(X)?le.delete(X):le.add(X),le})},"toggleSecretVisibility"),I=K.useCallback(()=>{const X=[];X.push("# Environment Variables"),X.push("");const Q=i.filter(Ae=>Ae.isRequired),le=i.filter(Ae=>!Ae.isRequired&&Ae.value&&Ae.value.trim()!=="");return Q.length>0&&(X.push("# Required Secrets"),Q.forEach(Ae=>{Ae.plugin&&X.push(`# Required by ${Ae.plugin}`),Ae.description&&X.push(`# ${Ae.description}`),X.push(`${Ae.name}=${Ae.value||""}`),X.push("")})),le.length>0&&(X.push("# Optional Variables"),le.forEach(Ae=>{X.push(`${Ae.name}=${Ae.value}`)})),X.join(`
`)},[i]),L=K.useCallback(X=>{const Q=X.split(`
`),le={};for(const Ae of Q){const pe=Ae.trim();if(!pe||pe.startsWith("#"))continue;const[fe,...J]=pe.split("="),q=J.join("=").trim().replace(/^['"]|['"]$/g,"");fe&&fe.trim()&&(le[fe.trim()]=q)}return le},[]),D=n(()=>{const X=L(U),Q=i.map(le=>{if(X.hasOwnProperty(le.name)){const Ae=X[le.name].startsWith("process.env.")?"":X[le.name];return{...le,value:Ae,isModified:le.value!==Ae}}return le.isRequired?{...le,value:"",isModified:le.value!==""}:null}).filter(Boolean);Object.entries(X).forEach(([le,Ae])=>{if(!Q.some(fe=>fe.name===le)){const fe=Ae.startsWith("process.env.")?"":Ae,J=k.find(q=>q.name===le);Q.push({name:le,value:fe,isNew:!0,isModified:!1,isDeleted:!1,isRequired:J?.required||!1,description:J?.description,example:J?.example,plugin:J?.plugin})}}),Q.sort((le,Ae)=>le.isRequired&&!Ae.isRequired?-1:!le.isRequired&&Ae.isRequired?1:le.name.localeCompare(Ae.name)),s(Q),$(!1)},"handleRawEditorSave"),F=n(()=>{u(I()),$(!0)},"openRawEditor"),z=n(()=>{navigator.clipboard.writeText(U)},"copyEnvContent");K.useEffect(()=>{if(!(M||Z)&&(t.id!==m.current||!m.current||i.length===0)){const X=fL(),Q=t?.settings?.secrets||{},le=typeof Q=="object"&&!Array.isArray(Q)&&Q!==null?hL(Q,X):{},Ae=Object.entries(le).map(([q,te])=>{const de=String(te),oe=de.startsWith("process.env.")?"":de;return{name:q,value:oe,isNew:!1,isModified:!1,isDeleted:!1,isRequired:!1,description:void 0,example:void 0,plugin:void 0}}),pe=new Map(Ae.map(q=>[q.name,q])),fe=[...Ae];k.forEach(q=>{if(!pe.has(q.name))fe.push({name:q.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:q.description,example:q.example,plugin:q.plugin});else{const te=fe.findIndex(de=>de.name===q.name);te!==-1&&(fe[te]={...fe[te],isRequired:!0,description:q.description,example:q.example,plugin:q.plugin})}}),fe.sort((q,te)=>q.isRequired&&!te.isRequired?-1:!q.isRequired&&te.isRequired?1:q.name.localeCompare(te.name)),s(fe),T([]),m.current=t.id||"new-agent";const J=k.map(q=>q.name).sort().join(",");x.current=J}},[t.id,t.settings?.secrets,k,M,j,Z]),K.useEffect(()=>{if(M)return;const X=k.map(le=>le.name).sort().join(",");if(X===x.current)return;x.current=X;const Q=new Set(k.map(le=>le.name));s(le=>{const Ae=le.map(fe=>{const J=Q.has(fe.name),q=k.find(te=>te.name===fe.name);return fe.isRequired&&!J?(setTimeout(()=>{T(te=>te.includes(fe.name)?te:[...te,fe.name])},0),null):J&&q?{...fe,isRequired:!0,description:q.description,example:q.example,plugin:q.plugin}:{...fe,isRequired:J,description:J?fe.description:void 0,example:J?fe.example:void 0,plugin:J?fe.plugin:void 0}}).filter(Boolean),pe=new Set(Ae.map(fe=>fe.name));return k.forEach(fe=>{pe.has(fe.name)||Ae.push({name:fe.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:fe.description,example:fe.example,plugin:fe.plugin})}),Ae.sort((fe,J)=>fe.isRequired&&!J.isRequired?-1:!fe.isRequired&&J.isRequired?1:fe.name.localeCompare(J.name)),Ae})},[k,M,j]),K.useEffect(()=>{const X=new Set(k.map(Q=>Q.name));s(Q=>Q.filter(Ae=>{const pe=X.has(Ae.name)||!Ae.isRequired&&Ae.value&&Ae.value.trim()!=="";return!pe&&Ae.isRequired&&T(fe=>fe.includes(Ae.name)?fe:[...fe,Ae.name]),pe}))},[k]),K.useEffect(()=>{if(!e)return;const X=setTimeout(()=>{const Q=f(),le=new Set(i.map(J=>J.name)),Ae=t?.settings?.secrets||{};Object.keys(Ae).forEach(J=>{!le.has(J)&&!R.includes(J)&&(Q[J]=null)});const pe=Object.keys(Q).sort().reduce((J,q)=>(J[q]=Q[q],J),{}),fe=JSON.stringify(pe);fe!==o.current&&(o.current=fe,e(Q))},100);return()=>clearTimeout(X)},[i,R,e,t?.settings?.secrets,f]);const H=K.useCallback(X=>{const Q=new FileReader;Q.onload=le=>{const pe=(le.target?.result).split(`
`),fe={};for(const J of pe){const q=J.trim();if(!q||q.startsWith("#"))continue;const[te,...de]=q.split("="),oe=de.join("=").trim().replace(/^['"]|['"]$/g,"");te&&(fe[te.trim()]=oe)}s(J=>{const q=new Map(J.map(({name:de,value:oe,...ue})=>[de,{value:oe,...ue}]));for(const[de,oe]of Object.entries(fe)){const ue=oe.startsWith("process.env.")?"":oe,Be=q.get(de);if(Be)q.set(de,{...Be,value:ue,isModified:!0});else{const we=k.find(De=>De.name===de);q.set(de,{value:ue,isNew:!0,isModified:!1,isRequired:we?.required||!1,description:we?.description,example:we?.example,plugin:we?.plugin})}}const te=Array.from(q.entries()).map(([de,oe])=>({name:de,...oe}));return te.sort((de,oe)=>de.isRequired&&!oe.isRequired?-1:!de.isRequired&&oe.isRequired?1:de.name.localeCompare(oe.name)),te}),R.length>0&&T(J=>J.filter(q=>!Object.keys(fe).includes(q)))},Q.readAsText(X)},[k,R]);K.useEffect(()=>{const X=p.current;if(!X)return;const Q=n(fe=>{fe.preventDefault(),fe.stopPropagation()},"preventDefaults"),le=n(()=>{C(!0)},"highlight"),Ae=n(()=>{C(!1)},"unhighlight"),pe=n(fe=>{Q(fe),Ae();const J=fe.dataTransfer?.files?.[0];J&&J.name.endsWith(".env")&&H(J)},"handleDrop");return["dragenter","dragover"].forEach(fe=>X.addEventListener(fe,le)),["dragleave","drop"].forEach(fe=>X.addEventListener(fe,Ae)),["dragenter","dragover","dragleave","drop"].forEach(fe=>X.addEventListener(fe,Q)),X.addEventListener("drop",pe),()=>{["dragenter","dragover","dragleave","drop"].forEach(fe=>X.removeEventListener(fe,Q)),["dragenter","dragover"].forEach(fe=>X.removeEventListener(fe,le)),["dragleave","drop"].forEach(fe=>X.removeEventListener(fe,Ae)),X.removeEventListener("drop",pe)}},[H]);const V=n(()=>{if(l&&v){const X=i.some(le=>le.name===l),Q=v.startsWith("process.env.")?"":v;if(X)s(i.map(le=>le.name===l?{...le,value:Q,isModified:!0}:le)),a(""),g("");else{R.includes(l)&&T(R.filter(fe=>fe!==l));const le=k.find(fe=>fe.name===l),Ae={name:l,value:Q,isNew:!0,isRequired:le?.required||!1,description:le?.description,example:le?.example,plugin:le?.plugin},pe=[...i,Ae];pe.sort((fe,J)=>fe.isRequired&&!J.isRequired?-1:!fe.isRequired&&J.isRequired?1:fe.name.localeCompare(J.name)),s(pe),a(""),g("")}}},"addEnv"),Y=n(X=>{c!==null&&c!==X&&y(null),y(X),w(i[X].value),O(Q=>new Set(Q).add(X))},"startEditing"),Me=n(X=>{const Q=[...i],le=b.startsWith("process.env.")?"":b;Q[X].value!==le&&(Q[X].value=le,Q[X].isModified=!0),s(Q),y(null),w(""),O(Ae=>{const pe=new Set(Ae);return pe.delete(X),pe})},"saveEdit"),se=n(()=>{const X=c;y(null),w(""),X!==null&&O(Q=>{const le=new Set(Q);return le.delete(X),le})},"cancelEdit"),ae=n(X=>{const Q=i[X].name;T([...R,Q]),s(i.filter((le,Ae)=>Ae!==X)),y(null)},"removeEnv"),ye=k.filter(X=>{const Q=i.find(pe=>pe.name===X.name),le=Q&&Q.value&&Q.value.trim()!=="",Ae=j[X.name]&&j[X.name].trim()!=="";return!le&&!Ae}),G=K.useCallback(X=>j[X]&&j[X].trim()!=="",[j]),re="scrollbar-visible";return N.jsxs("div",{className:"w-full h-full flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("h2",{className:"text-lg font-semibold",children:"Variables"}),N.jsxs(di,{variant:"secondary",className:"text-xs",children:[i.filter(X=>X.value&&X.value.trim()!=="").length," Service Variables"]})]}),N.jsxs(qe,{type:"button",variant:"outline",size:"sm",onClick:F,className:"flex items-center gap-2",children:[N.jsx(ls,{className:"w-4 h-4"}),"Raw Editor"]})]}),N.jsx(O7,{className:"flex-1",children:N.jsxs("div",{className:"p-4 space-y-4",children:[(M||Z)&&N.jsxs("div",{className:"space-y-2",children:[N.jsx(uo,{className:"h-4 w-48"}),N.jsx(uo,{className:"h-4 w-64"})]}),!M&&!Z&&ye.length>0&&N.jsxs(Wm,{children:[N.jsx(ii,{className:"h-4 w-4"}),N.jsxs(Km,{children:[N.jsx("strong",{children:"Missing required secrets:"}),N.jsx("ul",{className:"mt-2 space-y-1",children:ye.map(X=>N.jsxs("li",{className:"text-sm",children:[" ",N.jsx("code",{className:"font-mono",children:X.name}),X.plugin&&N.jsxs("span",{className:"text-muted-foreground ml-1",children:["(required by ",X.plugin,")"]})]},X.name))})]})]}),!M&&!Z&&k.some(X=>G(X.name)&&!i.find(Q=>Q.name===X.name)?.value)&&N.jsxs(Wm,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:[N.jsx(nc,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),N.jsxs(Km,{className:"text-blue-800 dark:text-blue-200",children:[N.jsx("strong",{children:"Global environment variables detected:"}),N.jsx("p",{className:"text-sm mt-1",children:"Some required secrets are automatically using values from your global environment settings. To override any of these for this specific agent, simply enter a new value in the field."})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"hidden md:grid md:grid-cols-[minmax(200px,1fr)_2fr_auto] gap-2 items-end",children:[N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{htmlFor:"new-secret-name",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),N.jsx(cr,{id:"new-secret-name",placeholder:"VARIABLE_NAME",value:l,onChange:n(X=>a(X.target.value),"onChange"),className:"font-mono text-sm",onKeyDown:n(X=>{X.key==="Enter"&&(X.preventDefault(),V())},"onKeyDown")})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{htmlFor:"new-secret-value",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:`rounded border ${re}`,children:N.jsx(cr,{id:"new-secret-value",type:h?"text":"password",placeholder:"Enter value...",value:v,onChange:n(X=>g(X.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:n(X=>{X.key==="Enter"&&(X.preventDefault(),V())},"onKeyDown")})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:n(()=>d(!h),"onClick"),children:h?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})})]})]}),N.jsx(qe,{type:"button",onClick:V,size:"sm",children:"Add"})]}),N.jsxs("div",{className:"md:hidden space-y-3",children:[N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{htmlFor:"new-secret-name-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),N.jsx(cr,{id:"new-secret-name-mobile",placeholder:"VARIABLE_NAME",value:l,onChange:n(X=>a(X.target.value),"onChange"),className:"font-mono text-sm w-full",onKeyDown:n(X=>{X.key==="Enter"&&(X.preventDefault(),document.getElementById("new-secret-value-mobile")?.focus())},"onKeyDown")})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("label",{htmlFor:"new-secret-value-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:`rounded border ${re}`,children:N.jsx(cr,{id:"new-secret-value-mobile",type:h?"text":"password",placeholder:"Enter value...",value:v,onChange:n(X=>g(X.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:n(X=>{X.key==="Enter"&&(X.preventDefault(),V())},"onKeyDown")})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:n(()=>d(!h),"onClick"),children:h?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})})]})]}),N.jsx(qe,{type:"button",onClick:V,size:"sm",className:"w-full",children:"Add Variable"})]})]}),i.length>0&&N.jsxs(Ks,{children:[N.jsxs("div",{className:"hidden md:block border rounded-lg overflow-hidden relative",children:[N.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:N.jsxs("div",{className:"grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 text-xs font-medium text-muted-foreground uppercase",children:[N.jsx("div",{children:"Name"}),N.jsx("div",{children:"Value"}),N.jsx("div",{className:"text-center",children:"Actions"})]})}),N.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:i.map((X,Q)=>N.jsxs("div",{className:`grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 items-center px-4 py-3 border-b last:border-b-0 hover:bg-muted/10 transition-colors ${X.isRequired&&(!X.value||X.value.trim()==="")&&!G(X.name)?"bg-red-500/5":""}`,children:[N.jsxs("div",{className:"pr-2",children:[N.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[N.jsx("code",{className:"font-mono text-sm font-medium break-words cursor-default",children:X.name}),X.isRequired&&N.jsx(di,{variant:"outline",className:"text-xs shrink-0",children:"Required"}),G(X.name)&&N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs(di,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[N.jsx(nc,{className:"w-3 h-3"}),"Global"]})}),N.jsx(or,{children:N.jsx("p",{children:X.value?"Overriding global value":"Value pulled from global environment. Add new value to override."})})]})]}),X.description&&N.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:X.description}),X.plugin&&N.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Required by: ",X.plugin]})]}),N.jsx("div",{className:"min-w-0",children:c===Q?N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"relative flex-1",children:N.jsx("div",{className:`rounded border ${re}`,children:N.jsx(cr,{value:b,onChange:n(le=>w(le.target.value),"onChange"),className:"font-mono text-sm border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:P.has(Q)?"text":"password",placeholder:G(X.name)&&!X.value?"Using global (enter to override)":X.example||"Enter value...",autoFocus:!0,onKeyDown:n(le=>{le.key==="Enter"?(le.preventDefault(),Me(Q)):le.key==="Escape"&&se()},"onKeyDown")})})}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>E(Q),"onClick"),className:"h-8 w-8 p-0",children:P.has(Q)?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>Me(Q),"onClick"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:N.jsx(qs,{className:"w-4 h-4"})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:se,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:N.jsx(Wr,{className:"w-4 h-4"})})]})]}):N.jsxs("div",{className:"flex items-center gap-2 group",children:[N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${re}`,children:P.has(Q)?N.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:X.value||N.jsx("span",{className:"text-muted-foreground italic",children:G(X.name)?"Using global value":X.example?`e.g. ${X.example}`:"Not set"})}):X.value?N.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):N.jsx("span",{className:"text-muted-foreground italic text-sm block",children:G(X.name)?"Using global value":"Not set"})})}),G(X.name)&&N.jsx(or,{className:"max-w-xs",children:N.jsxs("div",{className:"space-y-1",children:[N.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),N.jsx("p",{className:"text-sm",children:X.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>E(Q),"onClick"),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:P.has(Q)?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})})]})}),N.jsxs("div",{className:"flex items-center justify-center gap-1",children:[N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>Y(Q),"onClick"),disabled:c!==null&&c!==Q,className:"h-8 w-8 p-0",children:N.jsx(Uv,{className:"w-4 h-4"})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>ae(Q),"onClick"),disabled:c!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:N.jsx(gs,{className:"w-4 h-4"})})]})]},`${X.name}-${Q}`))})]}),N.jsx("div",{className:"md:hidden space-y-3",children:i.map((X,Q)=>N.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${X.isRequired&&(!X.value||X.value.trim()==="")?"border-red-500/50 bg-red-500/5":""}`,children:[N.jsx("div",{className:"space-y-1",children:N.jsxs("div",{className:"flex items-start justify-between gap-2",children:[N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[N.jsx("code",{className:"font-mono text-sm font-medium break-all",children:X.name}),X.isRequired&&N.jsx(di,{variant:"outline",className:"text-xs",children:"Required"}),G(X.name)&&N.jsxs(di,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[N.jsx(nc,{className:"w-3 h-3"}),"Global"]})]}),X.description&&N.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:X.description}),X.plugin&&N.jsxs("div",{className:"text-xs text-muted-foreground",children:["Required by: ",X.plugin]})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>Y(Q),"onClick"),disabled:c!==null&&c!==Q,className:"h-8 w-8 p-0",children:N.jsx(Uv,{className:"w-4 h-4"})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>ae(Q),"onClick"),disabled:c!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:N.jsx(gs,{className:"w-4 h-4"})})]})]})}),N.jsxs("div",{className:"space-y-1",children:[N.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),c===Q?N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:`rounded border ${re}`,children:N.jsx(cr,{value:b,onChange:n(le=>w(le.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:P.has(Q)?"text":"password",placeholder:G(X.name)&&!X.value?"Using global (enter to override)":X.example||"Enter value...",autoFocus:!0,onKeyDown:n(le=>{le.key==="Enter"?(le.preventDefault(),Me(Q)):le.key==="Escape"&&se()},"onKeyDown")})}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>E(Q),"onClick"),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:P.has(Q)?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs(qe,{type:"button",variant:"outline",size:"sm",onClick:n(()=>Me(Q),"onClick"),className:"flex-1",children:[N.jsx(qs,{className:"w-4 h-4 mr-2"}),"Save"]}),N.jsxs(qe,{type:"button",variant:"ghost",size:"sm",onClick:se,className:"flex-1",children:[N.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${re}`,children:P.has(Q)?N.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:X.value||N.jsx("span",{className:"text-muted-foreground italic",children:G(X.name)?"Using global value":X.example?`e.g. ${X.example}`:"Not set"})}):X.value?N.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):N.jsx("span",{className:"text-muted-foreground italic text-sm block",children:G(X.name)?"Using global value":"Not set"})})}),G(X.name)&&N.jsx(or,{className:"max-w-xs",children:N.jsxs("div",{className:"space-y-1",children:[N.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),N.jsx("p",{className:"text-sm",children:X.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),N.jsx(qe,{type:"button",variant:"ghost",size:"sm",onClick:n(()=>E(Q),"onClick"),className:"h-8 w-8 p-0",children:P.has(Q)?N.jsx(on,{className:"w-4 h-4"}):N.jsx(Ri,{className:"w-4 h-4"})})]})]})]},`${X.name}-${Q}-mobile`))})]}),N.jsxs("div",{ref:p,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${S?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onClick:n(()=>document.getElementById("env-upload")?.click(),"onClick"),children:[N.jsx(HM,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),N.jsxs("div",{className:"text-sm text-muted-foreground",children:["Drag & drop ",N.jsx("code",{className:"bg-muted px-1 rounded",children:".env"})," file or click to select"]}),N.jsx("input",{id:"env-upload",type:"file",accept:"*/*",className:"hidden",onChange:n(X=>{const Q=X.target.files?.[0];Q&&Q.name.endsWith(".env")&&H(Q)},"onChange")})]})]})}),N.jsx(lv,{open:ee,onOpenChange:$,children:N.jsxs(Df,{className:"max-w-3xl h-[600px] flex flex-col",children:[N.jsxs(Bf,{children:[N.jsx(Ff,{children:"Raw Editor"}),N.jsx(fv,{children:"Add, edit, or delete your project variables in .env format"})]}),N.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:N.jsx(Qo,{value:U,onChange:n(X=>u(X.target.value),"onChange"),placeholder:`# Environment Variables

# Required Secrets
API_KEY=your_api_key_here

# Optional Variables
DEBUG=true

# Comments are supported`,className:"w-full h-full resize-none border-0 font-mono text-sm focus-visible:ring-0"})}),N.jsxs(uv,{children:[N.jsxs(qe,{variant:"outline",size:"sm",onClick:z,children:[N.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Copy ENV"]}),N.jsx(qe,{variant:"outline",size:"sm",onClick:n(()=>$(!1),"onClick"),children:"Cancel"}),N.jsx(qe,{size:"sm",onClick:D,children:"Update Variables"})]})]})})]})});cv.displayName="SecretPanel";function GL(t){const[e,r]=K.useState(t),i=K.useCallback((c,y)=>{r(b=>{if(!c.includes("."))return{...b,[c]:y};const w=c.split("."),S=w[0],C=w.slice(1).join(".");if(!isNaN(Number(w[1]))){const P=w[0],O=Number(w[1]),j=b[P],B=Array.isArray(j)?[...j]:[];if(w.length===2)B[O]=y;else{const Z=w.slice(2).join(".");B[O]=s(B[O],Z,y)}return{...b,[P]:B}}if(c.startsWith("settings.secrets.")){const P=c.split(".")[2],O=b.settings||{},B={...O.secrets||{},[P]:y};return{...b,settings:{...O,secrets:B}}}return{...b,[S]:s(b[S],C,y)}})},[]),s=n((c,y,b)=>{if(!y.includes("."))return{...c,[y]:b};const[w,...S]=y.split("."),C=S.join(".");return{...c,[w]:s(c[w]||{},C,b)}},"updateNestedObject"),l=K.useCallback((c,y)=>{r(b=>{const w=c.split(".");if(w.length===1){const T=w[0],P=Array.isArray(b[T])?[...b[T]]:[];return{...b,[T]:[...P,y]}}const S=c,C=v(b,S),R=Array.isArray(C)?[...C]:[];return g(b,S,[...R,y])})},[]),a=K.useCallback((c,y)=>{r(b=>{const w=c.split(".");if(w.length===1){const T=w[0],P=Array.isArray(b[T])?[...b[T]]:[];return y<0||y>=P.length?b:{...b,[T]:[...P.slice(0,y),...P.slice(y+1)]}}const S=c,C=v(b,S);if(!Array.isArray(C)||y<0||y>=C.length)return b;const R=[...C.slice(0,y),...C.slice(y+1)];return g(b,S,R)})},[]),v=n((c,y)=>{const b=y.split(".");let w=c;for(const S of b){if(w==null)return;w=w[S]}return w},"getNestedValue"),g=n((c,y,b)=>{const w=y.split(".");if(w.length===1)return{...c,[w[0]]:b};const[S,...C]=w,R=c[S]||{};return{...c,[S]:g(R,C.join("."),b)}},"setNestedValue"),h=K.useCallback(()=>{r(t)},[t]),d=K.useCallback(c=>{r(y=>{const{secrets:b,avatar:w,...S}=c,C={...y.settings,...S};if(typeof w=="string"&&(C.avatar=w),b){const T={};Object.entries(b).forEach(([P,O])=>{O!==null&&(T[P]=O)}),C.secrets=T}return{...y,settings:C}})},[]);return{value:e,updateField:i,addArrayItem:l,removeArrayItem:a,reset:h,updateSettings:d}}n(GL,"usePartialUpdate");function L7(t){const e=K.useRef(JSON.parse(JSON.stringify(t))),{value:r,updateField:i,addArrayItem:s,removeArrayItem:l,reset:a,updateSettings:v}=GL(t),g=K.useCallback($=>{Object.entries($).forEach(([U,u])=>{U==="settings"&&u?v({...r.settings,...u}):U==="style"&&u?i("style",{all:u.all||[],chat:u.chat||[],post:u.post||[]}):Array.isArray(u)?i(U,[...u]):i(U,u)})},[r.settings,i,v]),h=K.useCallback(($,U)=>{i(`settings.${$}`,U)},[i]),d=K.useCallback($=>{v($)},[v]),c=K.useCallback($=>{i("system",$)},[i]),y=K.useCallback(($,U)=>{const u=r.settings||{},m=u.secrets||{},p={...typeof m=="object"&&m!==null&&!Array.isArray(m)?m:{},[$]:U};v({...u,secrets:p})},[r.settings,v]),b=K.useCallback($=>{const U=r.settings||{},u=U.secrets||{},o={...typeof u=="object"&&u!==null&&!Array.isArray(u)?u:{}};delete o[$];const p={...U,secrets:o};v(p)},[r.settings,v]),w=K.useCallback(($,U)=>{s($,U)},[s]),S=K.useCallback(($,U)=>{l($,U)},[l]),C=K.useCallback(($,U,u)=>{i(`${$}.${U}`,u)},[i]),R=K.useCallback(($,U)=>{s(`style.${$}`,U)},[s]),T=K.useCallback(($,U)=>{l(`style.${$}`,U)},[l]),P=K.useCallback(($,U,u)=>{i(`style.${$}.${U}`,u)},[i]),O=K.useCallback(($,U)=>{i(`style.${$}`,U)},[i]),j=K.useCallback($=>{s("plugins",$)},[s]),B=K.useCallback($=>{l("plugins",$)},[l]),Z=K.useCallback($=>{i("plugins",$)},[i]),W=K.useCallback($=>{h("avatar",$)},[h]),ee=K.useCallback(()=>{const $={},U=r,u=e.current;["name","username","system"].forEach(x=>{U[x]!==u[x]&&($[x]=U[x])}),U.enabled!==u.enabled&&($.enabled=U.enabled),JSON.stringify(U.bio)!==JSON.stringify(u.bio)&&($.bio=U.bio),JSON.stringify(U.topics)!==JSON.stringify(u.topics)&&($.topics=U.topics),JSON.stringify(U.adjectives)!==JSON.stringify(u.adjectives)&&($.adjectives=U.adjectives),JSON.stringify(U.plugins)!==JSON.stringify(u.plugins)&&($.plugins=U.plugins),JSON.stringify(U.style)!==JSON.stringify(u.style)&&($.style=U.style);const o=u.settings||{},p=U.settings||{};if(JSON.stringify(p)!==JSON.stringify(o)){if($.settings={},p.avatar!==o.avatar&&($.settings.avatar=p.avatar),JSON.stringify(p.voice)!==JSON.stringify(o.voice)&&($.settings.voice=p.voice),JSON.stringify(p.secrets)!==JSON.stringify(o.secrets)){const x=o.secrets||{},A=p.secrets||{},k=typeof x=="object"&&x!==null&&!Array.isArray(x)?x:{},M=typeof A=="object"&&A!==null&&!Array.isArray(A)?A:{},f={};let _=!1;Object.entries(M).forEach(([E,I])=>{k[E]!==I&&(f[E]=I,_=!0)}),Object.keys(k).forEach(E=>{M[E]===void 0&&(f[E]=null,_=!0)}),_&&($.settings||($.settings={}),$.settings.secrets=f)}Object.keys($.settings).length===0&&delete $.settings}return $},[r]);return{agent:r,updateField:i,reset:a,updateSettings:v,setSettings:d,getChangedFields:ee,updateSetting:h,updateSystemPrompt:c,updateSecret:y,removeSecret:b,addContentItem:w,removeContentItem:S,updateContentItem:C,addStyleRule:R,removeStyleRule:T,updateStyleRule:P,setStyleArray:O,addPlugin:j,removePlugin:B,setPlugins:Z,updateAvatar:W,importAgent:g}}n(L7,"useAgentUpdate");const WL=Gx("none")?.template||{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}};function D7(){const t=xr(),{toast:e}=er(),r=vr(),[i]=K.useState({...WL}),s=K.useRef(null),[l,a]=K.useState({}),v=L7(i),g=n(d=>({...d,bio:d.bio??[],messageExamples:d.messageExamples??[],postExamples:d.postExamples??[],topics:d.topics??[],adjectives:d.adjectives??[],plugins:d.plugins??[],style:{all:d.style?.all??[],chat:d.style?.chat??[],post:d.style?.post??[]},settings:d.settings??{secrets:{}}}),"ensureRequiredFields"),h=n(async d=>{try{const c=g(d),y=l||s.current?.getSecrets()||{};y&&Object.keys(y).length>0&&(c.settings={...c.settings,secrets:y}),await qt().agents.createAgent({agent:c}),r.invalidateQueries({queryKey:["characters"]}),e({title:"Success",description:"Agent created successfully!"}),r.invalidateQueries({queryKey:["agents"]}),t("/")}catch(c){e({title:"Error",description:c instanceof Error?c.message:"Failed to create agent",variant:"destructive"})}},"handleSubmit");return N.jsx("div",{className:"h-full w-full",children:N.jsx(R7,{characterValue:v.agent,setCharacterValue:v,title:"Create Agent",description:"Configure your AI agent's behavior and capabilities.",onSubmit:h,onReset:n(()=>{v.reset(),a({})},"onReset"),onDelete:n(()=>{t("/")},"onDelete"),onTemplateChange:n(()=>{a({})},"onTemplateChange"),isAgent:!0,secretPanelRef:s,customComponents:[{name:"Plugins",component:N.jsx(P7,{characterValue:v.agent,setCharacterValue:v})},{name:"Secret",component:N.jsx(cv,{characterValue:v.agent,ref:s,onChange:n(d=>{a(d)},"onChange")})},{name:"Avatar",component:N.jsx(I7,{characterValue:v.agent,setCharacterValue:v})}]})})}n(D7,"AgentCreator");function Cs({open:t,onOpenChange:e,title:r,description:i,confirmText:s="Confirm",cancelText:l="Cancel",onConfirm:a,variant:v="destructive"}){const g=n(()=>{a(),e(!1)},"handleConfirm");return N.jsx(yg,{open:t,onOpenChange:e,children:N.jsxs(ff,{children:[N.jsxs(cf,{children:[N.jsx(df,{children:r}),N.jsx(pf,{children:i})]}),N.jsxs(hf,{children:[N.jsx(gf,{children:l}),N.jsx(mf,{onClick:g,className:v==="destructive"?"bg-destructive text-destructive-foreground":void 0,children:s})]})]})})}n(Cs,"ConfirmationDialog");const KL=n(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");function B7({open:t,onOpenChange:e,onApiKeySaved:r}){const[i,s]=K.useState(""),[l,a]=K.useState(!1),{toast:v}=er(),g=KL();K.useEffect(()=>{if(t)try{const d=localStorage.getItem(g);d&&s(d)}catch(d){console.error("Unable to access localStorage",d)}},[t,g]);const h=n(()=>{if(!i.trim()){v({title:"API Key Required",description:"Please enter a valid API key.",variant:"destructive"});return}try{localStorage.setItem(g,i)}catch{v({title:"Storage Error",description:"Unable to save the API key (browser storage blocked).",variant:"destructive"});return}r(),v({title:"API Key Saved",description:"The API key has been stored locally."}),e(!1)},"handleSave");return N.jsx(lv,{open:t,onOpenChange:e,children:N.jsxs(Df,{className:"sm:max-w-[425px]",children:[N.jsxs(Bf,{children:[N.jsx(Ff,{children:"API Key Required"}),N.jsx(fv,{children:"Please enter the API key required to connect to the Eliza server. This key will be stored locally in your browser."})]}),N.jsx("div",{className:"grid gap-4 py-4",children:N.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[N.jsx(Ys,{htmlFor:"api-key",className:"text-right",children:"API Key"}),N.jsxs("div",{className:"col-span-3 relative",children:[N.jsx(cr,{id:"api-key",type:l?"text":"password",value:i,onChange:n(d=>s(d.target.value),"onChange"),className:"pr-10"}),N.jsx(qe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:n(()=>a(!l),"onClick"),"aria-label":l?"Hide API key":"Show API key",children:l?N.jsx(on,{className:"h-4 w-4"}):N.jsx(Ri,{className:"h-4 w-4"})})]})]})}),N.jsx(uv,{children:N.jsx(qe,{type:"button",onClick:h,children:"Save Key"})})]})})}n(B7,"ApiKeyDialog");const F7=K.createContext(void 0),YL=n(({children:t})=>{const e=vr(),[r,i]=K.useState(!1),s=K.useCallback(()=>{i(!0)},[]),l=K.useCallback(()=>{i(!1),We.info("API key saved via dialog, invalidating ping query."),e.invalidateQueries({queryKey:["ping"]})},[e]);return N.jsxs(F7.Provider,{value:{openApiKeyDialog:s},children:[t,N.jsx(B7,{open:r,onOpenChange:i,onApiKeySaved:l})]})},"AuthProvider"),XL=n(()=>{const t=K.useContext(F7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},"useAuth");var qn={},ui={},Z0={},vw;function QL(){return vw||(vw=1,Object.defineProperty(Z0,"__esModule",{value:!0})),Z0}n(QL,"requireHelper");var es={},V0={},Wl={},bw;function cl(){if(bw)return Wl;bw=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.typeGuard=t;function t(e,r){return r}return n(t,"typeGuard$1"),Wl}n(cl,"requireTypeGuard");var yw;function U7(){return yw||(yw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CtxLike=void 0;var e=cl();(function(r){function i(s){return(0,e.typeGuard)(s,!0)&&s instanceof Object&&typeof s.done=="function"&&typeof s.abort=="function"&&typeof s.zz__addHandler=="function"&&typeof s.zz__removeHandler=="function"}n(i,"match"),r.match=i})(t.CtxLike||(t.CtxLike={}))})(V0)),V0}n(U7,"requireCtxLike");var ww;function JL(){return ww||(ww=1,(function(t){var e=es&&es.__createBinding||(Object.create?(function(i,s,l,a){a===void 0&&(a=l);var v=Object.getOwnPropertyDescriptor(s,l);(!v||("get"in v?!s.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:n(function(){return s[l]},"get")}),Object.defineProperty(i,a,v)}):(function(i,s,l,a){a===void 0&&(a=l),i[a]=s[l]})),r=es&&es.__exportStar||function(i,s){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&e(s,i,l)};Object.defineProperty(t,"__esModule",{value:!0}),r(U7(),t)})(es)),es}n(JL,"requireInterfaces");var Ta={},xw;function qL(){if(xw)return Ta;xw=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.__hack=void 0;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */return Ta.__hack="NOT TYPE ONLY",Ta}n(qL,"requireLib_dom");var G0={},_w;function z7(){return _w||(_w=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventTargetLike=void 0;var e=cl();(function(r){var i;(function(g){function h(d){return(0,e.typeGuard)(d,!0)&&d instanceof Object&&typeof d.subscribe=="function"}n(h,"match"),g.match=h})(i=r.RxJSSubject||(r.RxJSSubject={}));var s;(function(g){function h(d){return(0,e.typeGuard)(d,!0)&&d instanceof Object&&typeof d.addListener=="function"&&typeof d.removeListener=="function"}n(h,"match"),g.match=h})(s=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var l;(function(g){function h(d){return(0,e.typeGuard)(d,!0)&&d instanceof Object&&typeof d.on=="function"&&typeof d.off=="function"}n(h,"match"),g.match=h})(l=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var a;(function(g){function h(d){return(0,e.typeGuard)(d,!0)&&d instanceof Object&&typeof d.addEventListener=="function"&&typeof d.removeEventListener=="function"}n(h,"match"),g.match=h})(a=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function v(g){try{return a.match(g)||s.match(g)||l.match(g)||i.match(g)}catch{return!1}}n(v,"canBe"),r.canBe=v})(t.EventTargetLike||(t.EventTargetLike={}))})(G0)),G0}n(z7,"requireEventTargetLike");var Yi={},Mw;function $7(){if(Mw)return Yi;Mw=1;var t=Yi&&Yi.__extends||(function(){var i=n(function(s,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,v){a.__proto__=v}||function(a,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(a[g]=v[g])},i(s,l)},"extendStatics");return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");i(s,l);function a(){this.constructor=s}n(a,"__"),s.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)}})();Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.DetachedEvtError=Yi.TimeoutEvtError=void 0;var e=(function(i){t(s,i);function s(l){var a=this.constructor,v=i.call(this,"Evt timeout after ".concat(l,"ms"))||this;return v.timeout=l,Object.setPrototypeOf(v,a.prototype),v}return n(s,"TimeoutEvtError"),s})(Error);Yi.TimeoutEvtError=e;var r=(function(i){t(s,i);function s(){var l=this.constructor,a=i.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(a,l.prototype),a}return n(s,"DetachedEvtError"),s})(Error);return Yi.DetachedEvtError=r,Yi}n($7,"requireEvtError");var W0={},Sw;function eD(){return Sw||(Sw=1,Object.defineProperty(W0,"__esModule",{value:!0})),W0}n(eD,"requireOperator");var Ew;function tD(){return Ew||(Ew=1,(function(t){var e=ui&&ui.__createBinding||(Object.create?(function(l,a,v,g){g===void 0&&(g=v);var h=Object.getOwnPropertyDescriptor(a,v);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:n(function(){return a[v]},"get")}),Object.defineProperty(l,g,h)}):(function(l,a,v,g){g===void 0&&(g=v),l[g]=a[v]})),r=ui&&ui.__setModuleDefault||(Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a}),i=ui&&ui.__exportStar||function(l,a){for(var v in l)v!=="default"&&!Object.prototype.hasOwnProperty.call(a,v)&&e(a,l,v)},s=ui&&ui.__importStar||function(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var v in l)v!=="default"&&Object.prototype.hasOwnProperty.call(l,v)&&e(a,l,v);return r(a,l),a};Object.defineProperty(t,"__esModule",{value:!0}),t.dom=void 0,i(QL(),t),i(JL(),t),t.dom=s(qL()),i(z7(),t),i($7(),t),i(eD(),t)})(ui)),ui}n(tD,"requireTypes");var K0={},Xi={},Y0={},Aw;function H7(){return Aw||(Aw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertOperatorToStatelessF=void 0;function e(s){var l=s[1];return function(a,v){var g=s[0](a,l,v);return g!==null&&v(function(){return l=g[0]}),g}}n(e,"encapsulateOpState");function r(s){return function(l,a){var v=s(l,a);return v instanceof Object&&!("input"in v)&&v.length===1?v:v?[l]:null}}n(r,"statelessOpToStatelessF");function i(s){return typeof s!="function"?e(s):r(s)}n(i,"convertOperatorToStatelessF"),t.convertOperatorToStatelessF=i})(Y0)),Y0}n(H7,"requireConvertOperatorToStatelessFLambda");var Pa={},kw;function Uf(){if(kw)return Pa;kw=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.id=void 0;var t=n(function(e){return e},"id$1");return Pa.id=t,Pa}n(Uf,"requireId");var Nw;function zf(){if(Nw)return Xi;Nw=1;var t=Xi&&Xi.__read||function(a,v){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var h=g.call(a),d,c=[],y;try{for(;(v===void 0||v-- >0)&&!(d=h.next()).done;)c.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(g=h.return)&&g.call(h)}finally{if(y)throw y.error}}return c},e=Xi&&Xi.__spreadArray||function(a,v,g){if(g||arguments.length===2)for(var h=0,d=v.length,c;h<d;h++)(c||!(h in v))&&(c||(c=Array.prototype.slice.call(v,0,h)),c[h]=v[h]);return a.concat(c||Array.prototype.slice.call(v))};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.compose=void 0;var r=H7(),i=Uf();function s(a,v){var g=(0,r.convertOperatorToStatelessF)(a),h=(0,r.convertOperatorToStatelessF)(v);return(0,i.id)(function(d,c){var y=g(d,c);if(!y)return null;var b=t(y,1),w=b[0],S=h(w,c);return S&&[S[0]]})}n(s,"f_o_g");function l(){for(var a=[],v=0;v<arguments.length;v++)a[v]=arguments[v];if(a.length===1){var g=t(a,1),h=g[0];return(0,r.convertOperatorToStatelessF)(h)}var d=t(a),c=d[0],y=d[1],b=d.slice(2),w=s(c,y);return b.length===0?w:l.apply(void 0,e([w],t(b),!1))}return n(l,"compose$1"),Xi.compose=l,Xi}n(zf,"requireCompose");var Cw;function rD(){return Cw||(Cw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compose=void 0;var e=zf();Object.defineProperty(t,"compose",{enumerable:!0,get:n(function(){return e.compose},"get")})})(K0)),K0}n(rD,"requireUtil");var ts={},rs={},is={},Rw;function hv(){if(Rw)return is;Rw=1,is.__esModule=!0,is.Polyfill=is.LightMapImpl=void 0;var t=(function(){function e(){this.record=[]}return n(e,"LightMapImpl"),e.prototype.has=function(r){return this.record.map(function(i){var s=i[0];return s}).indexOf(r)>=0},e.prototype.get=function(r){var i=this.record.filter(function(s){var l=s[0];return l===r})[0];if(i!==void 0)return i[1]},e.prototype.set=function(r,i){var s=this.record.filter(function(l){var a=l[0];return a===r})[0];return s===void 0?this.record.push([r,i]):s[1]=i,this},e.prototype.delete=function(r){var i=this.record.map(function(s){var l=s[0];return l}).indexOf(r);return i<0?!1:(this.record.splice(i,1),!0)},e.prototype.keys=function(){return this.record.map(function(r){var i=r[0];return i})},e})();return is.LightMapImpl=t,is.Polyfill=typeof Map<"u"?Map:t,is}n(hv,"require_Map");var Iw;function iD(){if(Iw)return rs;Iw=1,rs.__esModule=!0,rs.Polyfill=rs.LightSetImpl=void 0;var t=hv(),e=(function(){function r(i){if(this.map=new t.Polyfill,i!==void 0)for(var s=0,l=i;s<l.length;s++){var a=l[s];this.add(a)}}return n(r,"LightSetImpl"),r.prototype.has=function(i){return this.map.has(i)},r.prototype.add=function(i){return this.map.set(i,!0),this},r.prototype.values=function(){return this.map.keys()},r.prototype.delete=function(i){return this.map.delete(i)},r})();return rs.LightSetImpl=e,rs.Polyfill=typeof Set<"u"?Set:e,rs}n(iD,"require_Set");var Oa={},Tw;function $f(){if(Tw)return Oa;Tw=1,Oa.__esModule=!0,Oa.Polyfill=void 0;var t=hv();return Oa.Polyfill=typeof WeakMap<"u"?WeakMap:t.Polyfill,Oa}n($f,"require_WeakMap");var fi={},Ds={},Pw;function ga(){if(Pw)return Ds;Pw=1;var t=Ds&&Ds.__assign||function(){return t=Object.assign||function(r){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},t.apply(this,arguments)};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.overwriteReadonlyProp=e;function e(r,i,s){try{r[i]=s}catch{}if(r[i]===s)return s;var l=void 0,a=Object.getOwnPropertyDescriptor(r,i)||{enumerable:!0,configurable:!0};if(a.get)throw new Error("Probably a wrong idea to overwrite ".concat(String(i)," getter"));try{Object.defineProperty(r,i,t(t({},a),{value:s}))}catch(v){l=v}if(r[i]!==s)throw l||new Error("Can't assign");return s}return n(e,"overwriteReadonlyProp$1"),Ds}n(ga,"requireOverwriteReadonlyProp");var Ow;function dv(){if(Ow)return fi;Ow=1;var t=fi&&fi.__extends||(function(){var g=n(function(h,d){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,y){c.__proto__=y}||function(c,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(c[b]=y[b])},g(h,d)},"extendStatics");return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");g(h,d);function c(){this.constructor=h}n(c,"__"),h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}})(),e=fi&&fi.__read||function(g,h){var d=typeof Symbol=="function"&&g[Symbol.iterator];if(!d)return g;var c=d.call(g),y,b=[],w;try{for(;(h===void 0||h-- >0)&&!(y=c.next()).done;)b.push(y.value)}catch(S){w={error:S}}finally{try{y&&!y.done&&(d=c.return)&&d.call(c)}finally{if(w)throw w.error}}return b};Object.defineProperty(fi,"__esModule",{value:!0}),fi.AssertionError=void 0,fi.assert=l,fi.is=v;var r=ga(),i=(function(g){t(h,g);function h(d){var c=this.constructor,y=g.call(this,"Wrong assertion encountered"+(d?': "'.concat(d,'"'):""))||this;if(y.originalMessage=d,Object.setPrototypeOf(y,c.prototype),!y.stack)return y;try{(0,r.overwriteReadonlyProp)(y,"stack",y.stack.split(`
`).filter(function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];var S=e(b,2),C=S[1];return C!==1&&C!==2}).join(`
`))}catch{}return y}return n(h,"AssertionError"),h})(Error);fi.AssertionError=i;var s=void 0;function l(g,h){if(arguments.length===0&&(g=!0),s!==void 0){s=void 0;return}if(!g)throw new i(typeof h=="function"?h():h)}n(l,"assert$1");var a="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function v(g){var h={};if(s!==void 0)throw s=void 0,new Error(a);return s=h,Promise.resolve().then(function(){if(s===h)throw new Error(a)}),null}return n(v,"is"),fi}n(dv,"requireAssert");var ja={},La={},jw;function Ei(){return jw||(jw=1,Object.defineProperty(La,"__esModule",{value:!0}),La.importProxy=void 0,La.importProxy={}),La}n(Ei,"requireImportProxy");var Lw;function pv(){if(Lw)return ja;Lw=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.LazyEvt=void 0;var t=ga(),e=Ei(),r=(function(){function i(){this.initialPostCount=0}return n(i,"LazyEvt"),Object.defineProperty(i.prototype,"evt",{get:n(function(){return this.__evt===void 0&&(this.__evt=new e.importProxy.Evt,(0,t.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),i.prototype.__post=function(s,l){return this.__evt===void 0?++this.initialPostCount:this.__evt[l?"postAndWait":"post"](s)},i.prototype.post=function(s){return this.__post(s,!1)},i.prototype.postAndWait=function(s){return this.__post(s,!0)},i})();return ja.LazyEvt=r,ja}n(pv,"requireLazyEvt");var Dw;function nD(){return Dw||(Dw=1,(function(t){var e=ts&&ts.__assign||function(){return e=Object.assign||function(d){for(var c,y=1,b=arguments.length;y<b;y++){c=arguments[y];for(var w in c)Object.prototype.hasOwnProperty.call(c,w)&&(d[w]=c[w])}return d},e.apply(this,arguments)},r=ts&&ts.__values||function(d){var c=typeof Symbol=="function"&&Symbol.iterator,y=c&&d[c],b=0;if(y)return y.call(d);if(d&&typeof d.length=="number")return{next:n(function(){return d&&b>=d.length&&(d=void 0),{value:d&&d[b++],done:!d}},"next")};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Ctx=void 0;var i=iD(),s=$f(),l=dv(),a=pv(),v=Ei(),g=ga(),h=(function(){function d(){this.lazyEvtAttach=new a.LazyEvt,this.lazyEvtDetach=new a.LazyEvt,this.lazyEvtDoneOrAborted=new a.LazyEvt,this.handlers=new i.Polyfill,this.evtByHandler=new s.Polyfill}return n(d,"CtxImpl"),Object.defineProperty(d.prototype,"evtDoneOrAborted",{get:n(function(){return this.lazyEvtDoneOrAborted.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"evtAttach",{get:n(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"evtDetach",{get:n(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"completionStatus",{get:n(function(){return this.__completionStatus},"get"),enumerable:!1,configurable:!0}),d.prototype.onDoneOrAborted=function(c){this.__completionStatus=c,this.lazyEvtDoneOrAborted.post(c)},d.prototype.waitFor=function(c){var y=this;return this.evtDoneOrAborted.waitFor(c).then(function(b){if(b.type==="ABORTED")throw b.error;return b.result},function(b){throw y.abort(b),b})},d.prototype.abort=function(c){return this.__done(c)},d.prototype.done=function(c){return this.__done(void 0,c)},d.prototype.__done=function(c,y){var b,w,S=[];try{for(var C=r(this.handlers.values()),R=C.next();!R.done;R=C.next()){var T=R.value,P=this.evtByHandler.get(T),O=T.detach();O&&S.push({handler:T,evt:P})}}catch(j){b={error:j}}finally{try{R&&!R.done&&(w=C.return)&&w.call(C)}finally{if(b)throw b.error}}return this.onDoneOrAborted(e(e({},c?{type:"ABORTED",error:c}:{type:"DONE",result:y}),{handlers:S})),S},d.prototype.getHandlers=function(){var c=this;return Array.from(this.handlers.values()).map(function(y){return{handler:y,evt:c.evtByHandler.get(y)}})},d.prototype.zz__addHandler=function(c,y){if((0,l.assert)(c.ctx===this),(0,l.assert)((0,l.is)(c)),this.completionStatus!==void 0){c.detach();return}this.handlers.add(c),this.evtByHandler.set(c,y),this.lazyEvtAttach.post({handler:c,evt:y})},d.prototype.zz__removeHandler=function(c){(0,l.assert)(c.ctx===this),(0,l.assert)((0,l.is)(c)),this.lazyEvtDetach.post({handler:c,evt:this.evtByHandler.get(c)}),this.handlers.delete(c)},d})();t.Ctx=h;try{(0,g.overwriteReadonlyProp)(t.Ctx,"name","Ctx")}catch{}v.importProxy.Ctx=t.Ctx})(ts)),ts}n(nD,"requireCtx");var lr={},X0={},Bw;function sD(){return Bw||(Bw=1,X0.__esModule=!0,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:n(function(t){if(this==null)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<r;){var l=e[s];if(t.call(i,l,s,e))return l;s++}},"value"),configurable:!0,writable:!0})),X0}n(sD,"requireArray_prototype_find");var Da={},Fw;function aD(){if(Fw)return Da;Fw=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.create=void 0;var t=Ei();function e(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.length===0?new t.importProxy.Evt:new t.importProxy.StatefulEvt(r[0])}return n(e,"create"),Da.create=e,Da}n(aD,"requireEvt_create");var Ba={},Uw;function oD(){if(Uw)return Ba;Uw=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.getCtxFactory=void 0;var t=$f(),e=Ei();function r(){var i=new t.Polyfill;function s(l){var a=i.get(l);return a===void 0&&(a=new e.importProxy.Ctx,i.set(l,a)),a}return n(s,"getCtx"),s}return n(r,"getCtxFactory"),Ba.getCtxFactory=r,Ba}n(oD,"requireEvt_getCtx");var Fa={},zw;function lD(){if(zw)return Fa;zw=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.factorize=void 0;function t(e){return e}return n(t,"factorize"),Fa.factorize=t,Fa}n(lD,"requireEvt_factorize");var ns={},$w;function Z7(){if($w)return ns;$w=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.merge=ns.mergeImpl=void 0;var t=Ei();function e(i,s){var l=new t.importProxy.Evt,a=n(function(v){return l.post(v)},"callback");return s.forEach(function(v){i===void 0?v.attach(a):v.attach(i,a)}),l}n(e,"mergeImpl"),ns.mergeImpl=e;function r(i,s){return"length"in i?e(void 0,i):e(i,s)}return n(r,"merge"),ns.merge=r,ns}n(Z7,"requireEvt_merge");var Ur={},Hw;function uD(){if(Hw)return Ur;Hw=1;var t=Ur&&Ur.__createBinding||(Object.create?(function(w,S,C,R){R===void 0&&(R=C);var T=Object.getOwnPropertyDescriptor(S,C);(!T||("get"in T?!S.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:n(function(){return S[C]},"get")}),Object.defineProperty(w,R,T)}):(function(w,S,C,R){R===void 0&&(R=C),w[R]=S[C]})),e=Ur&&Ur.__setModuleDefault||(Object.create?(function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}):function(w,S){w.default=S}),r=Ur&&Ur.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var C in w)C!=="default"&&Object.prototype.hasOwnProperty.call(w,C)&&t(S,w,C);return e(S,w),S},i=Ur&&Ur.__read||function(w,S){var C=typeof Symbol=="function"&&w[Symbol.iterator];if(!C)return w;var R=C.call(w),T,P=[],O;try{for(;(S===void 0||S-- >0)&&!(T=R.next()).done;)P.push(T.value)}catch(j){O={error:j}}finally{try{T&&!T.done&&(C=R.return)&&C.call(R)}finally{if(O)throw O.error}}return P};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.from=void 0;var s=Uf(),l=dv(),a=cl(),v=Z7(),g=Ei(),h=r(z7()),d=h.EventTargetLike;function c(w,S,C,R){var T=n(function(ee){return d.canBe(ee)},"matchEventTargetLike");if(!T(S)){if("then"in S){var P=new g.importProxy.Evt,O=(function(){var ee=n(function(){return w?.evtDoneOrAborted.postCount},"getEvtDonePostCount"),$=ee();return function(){return $!==ee()}})();return S.then(function(ee){O()||P.post(ee)}),P}return(0,v.mergeImpl)(w,Array.from(S).map(function(ee){return c(w,ee,C,R)}))}var j;if(d.HasEventTargetAddRemove.match(S))j={on:n(function(ee,$,U){return S.addEventListener($,ee,U)},"on"),off:n(function(ee,$,U){return S.removeEventListener($,ee,U)},"off")};else if(d.NodeStyleEventEmitter.match(S))j={on:n(function(ee,$){return S.addListener($,ee)},"on"),off:n(function(ee,$){return S.removeListener($,ee)},"off")};else if(d.JQueryStyleEventEmitter.match(S))j={on:n(function(ee,$){return S.on($,ee)},"on"),off:n(function(ee,$){return S.off($,ee)},"off")};else if(d.RxJSSubject.match(S)){var B;j={on:n(function(ee){return B=S.subscribe(function($){return ee($)})},"on"),off:n(function(){return B.unsubscribe()},"off")}}else(0,s.id)(S),(0,l.assert)(!1);var Z=new g.importProxy.Evt,W=n(function(ee){return Z.post(ee)},"listener");return w?.evtDoneOrAborted.attachOnce(function(){return j.off(W,C,R)}),j.on(W,C,R),Z}n(c,"fromImplForTargetEventLike");function y(w,S,C){var R=g.importProxy.Evt.create(),T=n(function(O){var j=i(O,1),B=j[0];return R.post(B)},"listener"),P=new S(T);return P.observe(C),w?.evtDoneOrAborted.attachOnce(function(){return P.disconnect()}),R}n(y,"fromImplForObserver");function b(w,S,C,R){return"evtDoneOrAborted"in w?((0,l.assert)((0,a.typeGuard)(S,!0)&&(0,a.typeGuard)(C,!0)&&(0,a.typeGuard)(R,!0)),typeof S=="function"?((0,l.assert)((0,a.typeGuard)(C,!0)&&(0,a.typeGuard)(R,!0)),y(w,S,C)):((0,l.assert)((0,a.typeGuard)(C,!0)),c(w,S,C,R))):((0,l.assert)((0,a.typeGuard)(w,!0)&&(0,a.typeGuard)(S,!0)&&(0,a.typeGuard)(C,!0)),typeof w=="function"?((0,l.assert)((0,a.typeGuard)(S,!0)&&(0,a.typeGuard)(C,!0)),y(void 0,w,S)):((0,l.assert)((0,a.typeGuard)(S,!0)),c(void 0,w,S,C)))}return n(b,"from"),Ur.from=b,Ur}n(uD,"requireEvt_from");var Ua={},Zw;function fD(){if(Zw)return Ua;Zw=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.asPostable=void 0;function t(e){return e}return n(t,"asPostable"),Ua.asPostable=t,Ua}n(fD,"requireEvt_asPostable");var Qi={},Vw;function cD(){if(Vw)return Qi;Vw=1;var t=Qi&&Qi.__awaiter||function(s,l,a,v){function g(h){return h instanceof a?h:new a(function(d){d(h)})}return n(g,"adopt"),new(a||(a=Promise))(function(h,d){function c(w){try{b(v.next(w))}catch(S){d(S)}}n(c,"fulfilled");function y(w){try{b(v.throw(w))}catch(S){d(S)}}n(y,"rejected");function b(w){w.done?h(w.value):g(w.value).then(c,y)}n(b,"step"),b((v=v.apply(s,l||[])).next())})},e=Qi&&Qi.__generator||function(s,l){var a={label:0,sent:n(function(){if(h[0]&1)throw h[1];return h[1]},"sent"),trys:[],ops:[]},v,g,h,d;return d={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function c(b){return function(w){return y([b,w])}}function y(b){if(v)throw new TypeError("Generator is already executing.");for(;a;)try{if(v=1,g&&(h=b[0]&2?g.return:b[0]?g.throw||((h=g.return)&&h.call(g),0):g.next)&&!(h=h.call(g,b[1])).done)return h;switch(g=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,g=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){a=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){a.label=b[1];break}if(b[0]===6&&a.label<h[1]){a.label=h[1],h=b;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(b);break}h[2]&&a.ops.pop(),a.trys.pop();continue}b=l.call(s,a)}catch(w){b=[6,w],g=0}finally{v=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.asyncPipe=void 0;var r=Ei();function i(s,l){var a=this,v="state"in s?r.importProxy.Evt.create(void 0):r.importProxy.Evt.create(),g=0;return s.attach(function(h){return t(a,void 0,void 0,function(){var d,c,y;return e(this,function(b){switch(b.label){case 0:return g++,d=g,c=l(h),c!==null&&"then"in c?[4,c]:[3,2];case 1:return y=b.sent(),"state"in s&&d!==g?[2]:[3,3];case 2:y=c,b.label=3;case 3:return y?(v.post(y[0]),[2]):[2]}})})}),v}return n(i,"asyncPipe"),Qi.asyncPipe=i,Qi}n(cD,"requireEvt_asyncPipe");var za={},Gw;function hD(){if(Gw)return za;Gw=1,Object.defineProperty(za,"__esModule",{value:!0}),za.asNonPostable=void 0;function t(e){return e}return n(t,"asNonPostable"),za.asNonPostable=t,za}n(hD,"requireEvt_asNonPostable");var zr={},Ww;function dD(){if(Ww)return zr;Ww=1;var t=zr&&zr.__assign||function(){return t=Object.assign||function(d){for(var c,y=1,b=arguments.length;y<b;y++){c=arguments[y];for(var w in c)Object.prototype.hasOwnProperty.call(c,w)&&(d[w]=c[w])}return d},t.apply(this,arguments)},e=zr&&zr.__read||function(d,c){var y=typeof Symbol=="function"&&d[Symbol.iterator];if(!y)return d;var b=y.call(d),w,S=[],C;try{for(;(c===void 0||c-- >0)&&!(w=b.next()).done;)S.push(w.value)}catch(R){C={error:R}}finally{try{w&&!w.done&&(y=b.return)&&y.call(b)}finally{if(C)throw C.error}}return S},r=zr&&zr.__spreadArray||function(d,c,y){if(y||arguments.length===2)for(var b=0,w=c.length,S;b<w;b++)(S||!(b in c))&&(S||(S=Array.prototype.slice.call(c,0,b)),S[b]=c[b]);return d.concat(S||Array.prototype.slice.call(c))};Object.defineProperty(zr,"__esModule",{value:!0}),zr.parsePropsFromArgs=zr.matchAll=void 0;var i=Uf(),s=zf(),l=cl();function a(){return!0}n(a,"matchAll"),zr.matchAll=a;var v=n(function(d){return d!==void 0&&(0,l.typeGuard)(d,!0)&&(typeof d=="function"||typeof d[0]=="function")},"canBeOperator"),g={op:a,ctx:void 0,timeout:void 0,callback:void 0};function h(d,c){switch(c){case"pipe":{var y=n(function(u){return u.length===0?{}:{op:u.length===1?u[0]:s.compose.apply(void 0,r([],e(u),!1))}},"getOpWrap");if(v(d[0]))return(0,i.id)(t(t({},g),y(d)));var b=e(d),w=b[0],S=b.slice(1);return(0,i.id)(t(t(t({},g),w!==void 0?{ctx:w}:{}),y(S)))}case"waitFor":return h(r(r([],e(d.filter(function(u,m){return!(m===d.length-1&&u===void 0)})),!1),[g.callback],!1),"attach*");case"attach*":{var C=d.length;switch(C){case 4:{var R=e(d,4),T=R[0],P=R[1],O=R[2],j=R[3];return(0,i.id)(t(t({},g),{op:T,ctx:P,timeout:O,callback:j}))}case 3:{var B=e(d,3),T=B[0],P=B[1],O=B[2];if(typeof P=="number"){var Z=P,W=O;return v(T)?(0,i.id)(t(t({},g),{timeout:Z,callback:W,op:T})):(0,i.id)(t(t({},g),{timeout:Z,callback:W,ctx:T}))}else return(0,i.id)(t(t({},g),{op:T,ctx:P,callback:O}))}case 2:{var ee=e(d,2),T=ee[0],P=ee[1];if(typeof T=="number")return(0,i.id)(t(t({},g),{timeout:T,callback:P}));var W=P;return v(T)?(0,i.id)(t(t({},g),{callback:W,op:T})):(0,i.id)(t(t({},g),{callback:W,ctx:T}))}case 1:{var $=e(d,1),U=$[0];return(0,i.id)(t(t({},g),{callback:U}))}case 0:return(0,i.id)(t({},g))}}break}}return n(h,"parsePropsFromArgs"),zr.parsePropsFromArgs=h,zr}n(dD,"requireEvt_parsePropsFromArgs");var $a={},Kw;function pD(){if(Kw)return $a;Kw=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.newCtx=void 0;var t=Ei();function e(){return new t.importProxy.Ctx}return n(e,"newCtx"),$a.newCtx=e,$a}n(pD,"requireEvt_newCtx");var ir={},Yw;function mD(){if(Yw)return ir;Yw=1;var t=ir&&ir.__spreadArrays||function(){for(var P=0,O=0,j=arguments.length;O<j;O++)P+=arguments[O].length;for(var B=Array(P),Z=0,O=0;O<j;O++)for(var W=arguments[O],ee=0,$=W.length;ee<$;ee++,Z++)B[Z]=W[ee];return B};ir.__esModule=!0,ir.buildMethodCb=ir.buildCb=ir.getPrComplete=ir.isRunning=ir.cancelAllQueuedCalls=ir.getQueuedCallCount=ir.buildMethod=ir.build=ir.createGroupRef=void 0;var e=$f(),r=(function(){function P(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return n(P,"ExecQueue2"),P.prototype.cancelAllQueuedCalls=function(){var O;return this.queuedCalls.splice(0,O=this.queuedCalls.length),O},P})(),i={},s=new e.Polyfill;function l(P,O){var j=s.get(P);j||(j=new e.Polyfill,s.set(P,j));var B=j.get(O);return B||(B=new r,j.set(O,B)),B}n(l,"getOrCreateExecQueue");function a(){return new Array(0)}n(a,"createGroupRef"),ir.createGroupRef=a;function v(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];switch(P.length){case 1:return S(!0,a(),P[0]);case 2:return S(!0,P[0],P[1])}}n(v,"build"),ir.build=v;function g(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];switch(P.length){case 1:return S(!1,a(),P[0]);case 2:return S(!1,P[0],P[1])}}n(g,"buildMethod"),ir.buildMethod=g;function h(P,O){var j=w(P,O);return j?j.queuedCalls.length:0}n(h,"getQueuedCallCount"),ir.getQueuedCallCount=h;function d(P,O){var j=w(P,O);return j?j.cancelAllQueuedCalls():0}n(d,"cancelAllQueuedCalls"),ir.cancelAllQueuedCalls=d;function c(P,O){var j=w(P,O);return j?j.isRunning:!1}n(c,"isRunning"),ir.isRunning=c;function y(P,O){var j=w(P,O);return j?j.prComplete:Promise.resolve()}n(y,"getPrComplete"),ir.getPrComplete=y;var b=new e.Polyfill;function w(P,O){O===void 0&&(O=i);var j=b.get(P);if(!j)throw Error("Not a run exclusiveFunction");var B=s.get(O);if(B)return B.get(j)}n(w,"getExecQueueByFunctionAndContext");function S(P,O,j){var B,Z=n((function(){for(var W=this,ee=[],$=0;$<arguments.length;$++)ee[$]=arguments[$];if(!P){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");B=l(this,O)}return new Promise(function(U,u){var m;B.prComplete=new Promise(function(p){return m=n(function(){return p()},"onPrCompleteResolve")});var o=n(function(p){m(),B.isRunning=!1,B.queuedCalls.length&&B.queuedCalls.shift()(),"data"in p?U(p.data):u(p.reason)},"onComplete");n((function p(){for(var x=this,A=[],k=0;k<arguments.length;k++)A[k]=arguments[k];if(B.isRunning){B.queuedCalls.push(function(){return p.apply(x,A)});return}B.isRunning=!0;try{j.apply(this,A).then(function(M){return o({data:M})}).catch(function(M){return o({reason:M})})}catch(M){o({reason:M})}}),"callee").apply(W,ee)})}),"runExclusiveFunction");return P&&(B=l(i,O)),b.set(Z,O),Z}n(S,"buildFnPromise");function C(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];switch(P.length){case 1:return T(!0,a(),P[0]);case 2:return T(!0,P[0],P[1])}}n(C,"buildCb"),ir.buildCb=C;function R(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];switch(P.length){case 1:return T(!1,a(),P[0]);case 2:return T(!1,P[0],P[1])}}n(R,"buildMethodCb"),ir.buildMethodCb=R;function T(P,O,j){var B,Z=n((function(){for(var W=this,ee=[],$=0;$<arguments.length;$++)ee[$]=arguments[$];if(!P){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");B=l(this,O)}var U=void 0;ee.length&&typeof ee[ee.length-1]=="function"&&(U=ee.pop());var u;B.prComplete=new Promise(function(o){return u=n(function(){return o()},"onPrCompleteResolve")});var m=n(function(){for(var o=[],p=0;p<arguments.length;p++)o[p]=arguments[p];u(),B.isRunning=!1,B.queuedCalls.length&&B.queuedCalls.shift()(),U&&U.apply(W,o)},"onComplete");m.hasCallback=!!U,n((function o(){for(var p=this,x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];if(B.isRunning){B.queuedCalls.push(function(){return o.apply(p,x)});return}B.isRunning=!0;try{j.apply(this,t(x,[m]))}catch(k){throw k.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",k}}),"callee").apply(this,ee)}),"runExclusiveFunction");return P&&(B=l(i,O)),b.set(Z,O),Z}return n(T,"buildFnCallback"),ir}n(mD,"requireRunExclusive");var Ji={},Xw;function gD(){if(Xw)return Ji;Xw=1;var t=Ji&&Ji.__extends||(function(){var s=n(function(l,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&(v[h]=g[h])},s(l,a)},"extendStatics");return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(l,a);function v(){this.constructor=l}n(v,"__"),l.prototype=a===null?Object.create(a):(v.prototype=a.prototype,new v)}})();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.VoidDeferred=Ji.Deferred=void 0;var e=ga(),r=(function(){function s(){var l=this;this.isPending=!0;var a,v;this.pr=new Promise(function(g,h){a=n(function(d){(0,e.overwriteReadonlyProp)(l,"isPending",!1),g(d)},"resolve"),v=n(function(d){(0,e.overwriteReadonlyProp)(l,"isPending",!1),h(d)},"reject")}),this.resolve=a,this.reject=v}return n(s,"Deferred"),s})();Ji.Deferred=r;var i=(function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return n(l,"VoidDeferred"),l})(r);return Ji.VoidDeferred=i,Ji}n(gD,"requireDeferred");var Ha={},Qw;function vD(){if(Qw)return Ha;Qw=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.loosenType=void 0;function t(e){return e}return n(t,"loosenType"),Ha.loosenType=t,Ha}n(vD,"requireEvt_loosenType");var ss={},Jw;function bD(){if(Jw)return ss;Jw=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.safeClearTimeout=ss.safeSetTimeout=void 0;var t=n(function(r,i){return setTimeout(r,i)},"safeSetTimeout$1");ss.safeSetTimeout=t;var e=n(function(r){return clearTimeout(r)},"safeClearTimeout");return ss.safeClearTimeout=e,ss}n(bD,"requireSafeSetTimeout");var Kl={},qw;function yD(){if(qw)return Kl;qw=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.isPromiseLike=t;function t(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"}return n(t,"isPromiseLike$1"),Kl}n(yD,"requireIsPromiseLike");var e3;function V7(){return e3||(e3=1,(function(t){var e=lr&&lr.__assign||function(){return e=Object.assign||function(_){for(var E,I=1,L=arguments.length;I<L;I++){E=arguments[I];for(var D in E)Object.prototype.hasOwnProperty.call(E,D)&&(_[D]=E[D])}return _},e.apply(this,arguments)},r=lr&&lr.__createBinding||(Object.create?(function(_,E,I,L){L===void 0&&(L=I);var D=Object.getOwnPropertyDescriptor(E,I);(!D||("get"in D?!E.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:n(function(){return E[I]},"get")}),Object.defineProperty(_,L,D)}):(function(_,E,I,L){L===void 0&&(L=I),_[L]=E[I]})),i=lr&&lr.__setModuleDefault||(Object.create?(function(_,E){Object.defineProperty(_,"default",{enumerable:!0,value:E})}):function(_,E){_.default=E}),s=lr&&lr.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var I in _)I!=="default"&&Object.prototype.hasOwnProperty.call(_,I)&&r(E,_,I);return i(E,_),E},l=lr&&lr.__awaiter||function(_,E,I,L){function D(F){return F instanceof I?F:new I(function(z){z(F)})}return n(D,"adopt"),new(I||(I=Promise))(function(F,z){function H(Me){try{Y(L.next(Me))}catch(se){z(se)}}n(H,"fulfilled");function V(Me){try{Y(L.throw(Me))}catch(se){z(se)}}n(V,"rejected");function Y(Me){Me.done?F(Me.value):D(Me.value).then(H,V)}n(Y,"step"),Y((L=L.apply(_,E||[])).next())})},a=lr&&lr.__generator||function(_,E){var I={label:0,sent:n(function(){if(F[0]&1)throw F[1];return F[1]},"sent"),trys:[],ops:[]},L,D,F,z;return z={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function H(Y){return function(Me){return V([Y,Me])}}function V(Y){if(L)throw new TypeError("Generator is already executing.");for(;I;)try{if(L=1,D&&(F=Y[0]&2?D.return:Y[0]?D.throw||((F=D.return)&&F.call(D),0):D.next)&&!(F=F.call(D,Y[1])).done)return F;switch(D=0,F&&(Y=[Y[0]&2,F.value]),Y[0]){case 0:case 1:F=Y;break;case 4:return I.label++,{value:Y[1],done:!1};case 5:I.label++,D=Y[1],Y=[0];continue;case 7:Y=I.ops.pop(),I.trys.pop();continue;default:if(F=I.trys,!(F=F.length>0&&F[F.length-1])&&(Y[0]===6||Y[0]===2)){I=0;continue}if(Y[0]===3&&(!F||Y[1]>F[0]&&Y[1]<F[3])){I.label=Y[1];break}if(Y[0]===6&&I.label<F[1]){I.label=F[1],F=Y;break}if(F&&I.label<F[2]){I.label=F[2],I.ops.push(Y);break}F[2]&&I.ops.pop(),I.trys.pop();continue}Y=E.call(_,I)}catch(Me){Y=[6,Me],D=0}finally{L=F=0}if(Y[0]&5)throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}},v=lr&&lr.__read||function(_,E){var I=typeof Symbol=="function"&&_[Symbol.iterator];if(!I)return _;var L=I.call(_),D,F=[],z;try{for(;(E===void 0||E-- >0)&&!(D=L.next()).done;)F.push(D.value)}catch(H){z={error:H}}finally{try{D&&!D.done&&(I=L.return)&&I.call(L)}finally{if(z)throw z.error}}return F},g=lr&&lr.__spreadArray||function(_,E,I){if(I||arguments.length===2)for(var L=0,D=E.length,F;L<D;L++)(F||!(L in E))&&(F||(F=Array.prototype.slice.call(E,0,L)),F[L]=E[L]);return _.concat(F||Array.prototype.slice.call(E))},h=lr&&lr.__values||function(_){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&_[E],L=0;if(I)return I.call(_);if(_&&typeof _.length=="number")return{next:n(function(){return _&&L>=_.length&&(_=void 0),{value:_&&_[L++],done:!_}},"next")};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Evt=t.onAddHandlerByEvt=void 0,sD();var d=hv(),c=$f(),y=Ei(),b=aD(),w=oD(),S=lD(),C=Z7(),R=uD(),T=fD(),P=cD(),O=hD(),j=dD(),B=pD(),Z=pv(),W=s(mD()),ee=ga(),$=cl(),U=gD(),u=vD(),m=bD(),o=yD(),p=$7(),x=s(U7()),A=H7(),k=n(function(_){return _()},"runSideEffect"),M=x.CtxLike,f=(function(){function _(){this.lazyEvtAttach=new Z.LazyEvt,this.lazyEvtDetach=new Z.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new d.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return n(_,"EvtImpl"),_.setDefaultMaxHandlers=function(E){this.__defaultMaxHandlers=isFinite(E)?E:0},_.prototype.toStateful=function(E,I){var L=M.match(E),D=L?void 0:E,F=I||(L?E:void 0),z=new y.importProxy.StatefulEvt(D),H=n(function(V){return z.post(V)},"callback");return F?this.attach(F,H):this.attach(H),z},Object.defineProperty(_.prototype,"evtAttach",{get:n(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"evtDetach",{get:n(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),_.prototype.setMaxHandlers=function(E){return this.__maxHandlers=isFinite(E)?E:0,this},_.prototype.enableTrace=function(E){var I=E.id,L=E.formatter,D=E.log;this.traceId=I,this.traceFormatter=L||(function(F){try{return JSON.stringify(F,null,2)}catch{return"".concat(F)}}),this.log=D===void 0?(function(){for(var F=[],z=0;z<arguments.length;z++)F[z]=arguments[z];return console.log.apply(console,g([],v(F),!1))}):D===!1?void 0:D},_.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(_.prototype,"asyncHandlerChronologyMark",{get:n(function(){var E,I,L,D;return(I=(D=(E=(L=this)["~internal"])!==null&&E!==void 0?E:L["~internal"]={}).asyncHandlerChronologyMark)!==null&&I!==void 0?I:D.asyncHandlerChronologyMark=new c.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"asyncHandlerChronologyExceptionRange",{get:n(function(){var E,I,L,D;return(I=(D=(E=(L=this)["~internal"])!==null&&E!==void 0?E:L["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&I!==void 0?I:D.asyncHandlerChronologyExceptionRange=new c.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"invocableOpByOp",{get:n(function(){var E,I,L,D;return(I=(D=(E=(L=this)["~internal"])!==null&&E!==void 0?E:L["~internal"]={}).invocableOpByOp)!==null&&I!==void 0?I:D.invocableOpByOp=new c.Polyfill},"get"),enumerable:!1,configurable:!0}),_.prototype.getInvocableOp=function(E){var I=this.invocableOpByOp.get(E);if(I===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return I},_.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},_.prototype.detachHandler=function(E,I,L){var D=this.handlers.indexOf(E);return D<0?!1:((0,$.typeGuard)(E,!!E.ctx)&&E.ctx.zz__removeHandler(E),this.handlers.splice(D,1),E.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(E),I[0]!==void 0&&((0,m.safeClearTimeout)(I[0]),L(new p.DetachedEvtError)),this.lazyEvtDetach.post(E),!0)},_.prototype.triggerHandler=function(E,I,L,D){var F=E.callback,z=E.once;I[0]!==void 0&&((0,m.safeClearTimeout)(I[0]),I[0]=void 0),z&&E.detach();var H=v(D,1),V=H[0],Y=F?.call(this,V);return L?.(V),(0,o.isPromiseLike)(Y)?Y:void 0},_.prototype.addHandler=function(E,I){var L=this,D;this.invocableOpByOp.set(E.op,(0,A.convertOperatorToStatelessF)(E.op));var F=new U.Deferred,z=[void 0],H=e(e(e({},E),I),{detach:n(function(){return L.detachHandler(H,z,F.reject)},"detach"),promise:F.pr});typeof H.timeout=="number"&&(z[0]=(0,m.safeSetTimeout)(function(){z[0]=void 0,H.detach(),F.reject(new p.TimeoutEvtError(H.timeout))},H.timeout));var V=n(function(Me){return L.triggerHandler(H,z,F.isPending?F.resolve:void 0,Me)},"handlerTrigger");if(this.handlerTriggers.set(H,V),H.async&&this.asyncHandlerChronologyMark.set(H,this.getChronologyMark()),H.prepend){var Y=void 0;for(Y=0;Y<this.handlers.length&&this.handlers[Y].extract;Y++);this.handlers.splice(Y,0,H)}else this.handlers.push(H);return H.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,$.typeGuard)(H,!!H.ctx)&&H.ctx.zz__addHandler(H,this),(D=t.onAddHandlerByEvt.get(this))===null||D===void 0||D(H,V),this.handlerTriggers.has(H)&&this.lazyEvtAttach.post(H),H},_.prototype.checkForPotentialMemoryLeak=function(){var E=this.__maxHandlers!==void 0?this.__maxHandlers:_.__defaultMaxHandlers;if(!(E===0||this.handlers.length%(E+1)!==0)){var I=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(_.__defaultMaxHandlers,`.
`)].join(""),L=new d.Polyfill;this.getHandlers().map(function(D){var F=D.ctx,z=D.async,H=D.once,V=D.prepend,Y=D.extract,Me=D.op,se=D.callback;return e(e({hasCtx:!!F,once:H,prepend:V,extract:Y,isWaitFor:z},Me===j.matchAll?{}:{op:Me.toString()}),se?{callback:se.toString()}:{})}).map(function(D){return`{
`+Object.keys(D).map(function(F){return"  ".concat(F,": ").concat(D[F])}).join(`,
`)+`
}`}).forEach(function(D){return L.set(D,(L.has(D)?L.get(D):0)+1)}),I+=`
`+Array.from(L.keys()).map(function(D){return"".concat(L.get(D)," handler").concat(L.get(D)===1?"":"s",` like:
`).concat(D)}).join(`
`)+`
`,this.traceId===null&&(I+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(I)}catch{}}},_.prototype.isHandledByOp=function(E,I){var L=!1,D;try{D=this.getInvocableOp(E)}catch{return!1}var F=D(I,function(){return L=!0});return F!==null||L},_.prototype.trace=function(E){var I=this,L;if(this.traceId!==null){var D="(".concat(this.traceId,") "),F=!!this.handlers.find(function(H){var V=H.extract,Y=H.op;return V&&I.isHandledByOp(Y,E)});if(F)D+="extracted ";else{var z=this.handlers.filter(function(H){var V=H.extract,Y=H.op;return!V&&I.isHandledByOp(Y,E)}).length;D+="".concat(z," handler").concat(z>1?"s":"",", ")}(L=this.log)===null||L===void 0||L.call(this,D+this.traceFormatter(E))}},_.prototype.postSync=function(E){var I,L,D=[],F=n(function(re){return[re,Promise.all(D).then(function(){})]},"getReturnValue");try{for(var z=h(g([],v(this.handlers),!1)),H=z.next();!H.done;H=z.next()){var V=H.value,Y=V.async,Me=V.op,se=V.extract;if(!Y){var ae=this.handlerTriggers.get(V),ye=this.getInvocableOp(Me)(E,k);if(ye!==null&&ae){var G=ae(ye);if(G!==void 0&&D.push(G),se)return F(!0)}}}}catch(re){I={error:re}}finally{try{H&&!H.done&&(L=z.return)&&L.call(z)}finally{if(I)throw I.error}}return F(!1)},_.prototype.postAsyncFactory=function(){var E=this;return W.buildMethodCb(function(I,L,D){var F,z;if(E.asyncHandlerCount===0){D();return}var H=[],V;Promise.resolve().then(function(){return V=E.getChronologyMark()});var Y=n(function(G){if(!G.async)return"continue";var re=E.getInvocableOp(G.op)(I,k);if(re===null)return"continue";var X=E.handlerTriggers.get(G);if(!X)return"continue";var Q=(function(){var le=E.asyncHandlerChronologyMark.get(G);if(L>le)return!0;var Ae=E.asyncHandlerChronologyExceptionRange.get(G);return Ae!==void 0&&Ae.lowerMark<L&&L<Ae.upperMark&&le>Ae.upperMark})();if(!Q)return"continue";H.push(new Promise(function(le){return G.promise.then(function(){return le()}).catch(function(){return le()})})),X(re)},"_loop_1");try{for(var Me=h(g([],v(E.handlers),!1)),se=Me.next();!se.done;se=Me.next()){var ae=se.value;Y(ae)}}catch(G){F={error:G}}finally{try{se&&!se.done&&(z=Me.return)&&z.call(Me)}finally{if(F)throw F.error}}if(H.length===0){D();return}var ye=g([],v(E.handlers),!1);Promise.all(H).then(function(){var G,re;try{for(var X=h(E.handlers),Q=X.next();!Q.done;Q=X.next()){var le=Q.value;le.async&&(ye.indexOf(le)>=0||E.asyncHandlerChronologyExceptionRange.set(le,{lowerMark:L,upperMark:V}))}}catch(Ae){G={error:Ae}}finally{try{Q&&!Q.done&&(re=X.return)&&re.call(X)}finally{if(G)throw G.error}}D()})})},_.prototype.isHandled=function(E){var I=this;return!!this.getHandlers().find(function(L){var D=L.op;return I.isHandledByOp(D,E)})},_.prototype.getHandlers=function(){return g([],v(this.handlers),!1)},_.prototype.detach=function(E){var I,L,D=[];try{for(var F=h(this.getHandlers()),z=F.next();!z.done;z=F.next()){var H=z.value;if(!(E!==void 0&&H.ctx!==E)){var V=H.detach();V&&D.push(H)}}}catch(Y){I={error:Y}}finally{try{z&&!z.done&&(L=F.return)&&L.call(F)}finally{if(I)throw I.error}}return D},_.prototype.pipe=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var L=new _;return this.addHandler(e(e({},(0,j.parsePropsFromArgs)(E,"pipe")),{callback:n(function(D){return L.post(D)},"callback")}),_.propsFormMethodNames.attach),L},_.prototype.waitFor=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.addHandler((0,j.parsePropsFromArgs)(E,"waitFor"),_.propsFormMethodNames.waitFor).promise},_.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},_.prototype.iter=function(){for(var E,I,L=[],D=0;D<arguments.length;D++)L[D]=arguments[D];var F=(0,j.parsePropsFromArgs)(L,"waitFor"),z=(I=F.ctx)!==null&&I!==void 0?I:(0,B.newCtx)(),H=this;return E={ctx:z},E[Symbol.asyncIterator]=function(){var V=z.evtDoneOrAborted.postCount,Y=(function(){var ye=F.timeout;if(ye!==void 0){var G=n(function(){var X=new p.TimeoutEvtError(ye);z.abort(X)},"setTimeoutCallback"),re=setTimeout(G,ye);return{timeout:ye,setTimeoutCallback:G,timer:re}}})(),Me=H.pipe(z,F.op).pipe(function(ye,G){return Y!==void 0&&G(function(){clearTimeout(Y.timer),Y.timer=setTimeout(Y.setTimeoutCallback,Y.timeout)}),[ye]}),se=[];if(Me.attach(function(ye){return se.push([ye])}),Y!==void 0){var ae=Y.timer;z.evtDoneOrAborted.attachOnce(function(ye){return ye.type==="DONE"},function(){return clearTimeout(ae)})}return{next:n(function(){return l(this,void 0,void 0,function(){var ye,G,re,X;return a(this,function(Q){switch(Q.label){case 0:return ye=se.shift(),ye!==void 0?[3,2]:(G=new U.Deferred,V<z.evtDoneOrAborted.postCount?[2,{done:!0}]:(re=(0,B.newCtx)(),z.evtDoneOrAborted.attachOnce(re,function(){return G.resolve(void 0)}),Me.attachOnceExtract(re,function(le){re.done(),G.resolve([le])}),[4,G.pr]));case 1:if(ye=Q.sent(),ye===void 0)return[2,{done:!0}];Q.label=2;case 2:return X={done:!1,value:ye[0]},[2,X]}})})},"next"),return:n(function(){return H.detach(z),{done:!0}},"return"),throw:n(function(ye){return H.detach(z),Promise.reject(ye)},"throw")}},E},_.prototype.$attach=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attach.apply(this,g([],v(E),!1))},_.prototype.attach=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attach")},_.prototype.$attachOnce=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOnce.apply(this,g([],v(E),!1))},_.prototype.attachOnce=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOnce")},_.prototype.$attachExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachExtract.apply(this,g([],v(E),!1))},_.prototype.attachExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachExtract")},_.prototype.$attachPrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachPrepend.apply(this,g([],v(E),!1))},_.prototype.attachPrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachPrepend")},_.prototype.$attachOncePrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOncePrepend.apply(this,g([],v(E),!1))},_.prototype.attachOncePrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOncePrepend")},_.prototype.$attachOnceExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOnceExtract.apply(this,g([],v(E),!1))},_.prototype.attachOnceExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOnceExtract")},_.prototype.__attachX=function(E,I){var L=(0,j.parsePropsFromArgs)(E,"attach*"),D=this.addHandler(L,_.propsFormMethodNames[I]);return L.timeout===void 0?this:D.promise},_.prototype.postAsyncOnceHandled=function(E){var I=this;if(this.isHandled(E))return this.post(E);var L=new U.Deferred;return this.evtAttach.attachOnce(function(D){var F=D.op;return I.isHandledByOp(F,E)},function(){return Promise.resolve().then(function(){return L.resolve(I.post(E))})}),L.pr},_.prototype.postOrPostAndWait=function(E,I){var L=this;this.trace(E),(0,ee.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var D=this.getChronologyMark(),F=v(this.postSync(E),2),z=F[0],H=F[1],V=I?function(){return H}:function(){return L.postCount};if(z)return V();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return V();this.postAsync=this.postAsyncFactory()}return this.postAsync(E,D),V()},_.prototype.post=function(E){return this.postOrPostAndWait(E,!1)},_.prototype.postAndWait=function(E){return this.postOrPostAndWait(E,!0)},_.create=b.create,_.newCtx=B.newCtx,_.merge=C.merge,_.from=R.from,_.getCtx=(0,w.getCtxFactory)(),_.loosenType=u.loosenType,_.factorize=S.factorize,_.asPostable=T.asPostable,_.asyncPipe=P.asyncPipe,_.asNonPostable=O.asNonPostable,_.__defaultMaxHandlers=25,_.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},_})();t.onAddHandlerByEvt=new c.Polyfill,t.Evt=f;try{(0,ee.overwriteReadonlyProp)(t.Evt,"name","Evt")}catch{}y.importProxy.Evt=t.Evt})(lr)),lr}n(V7,"requireEvt");var qi={},Q0={},t3;function wD(){return t3||(t3=1,Q0.__esModule=!0,Object.is||(Object.is=function(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e})),Q0}n(wD,"requireObject_is");var Za={},r3;function xD(){if(r3)return Za;r3=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.LazyStatefulEvt=void 0;var t=ga(),e=Ei(),r=(function(){function i(s){this.initialPostCount=0,this.initialState=s}return n(i,"LazyStatefulEvt"),Object.defineProperty(i.prototype,"evt",{get:n(function(){return this.__evt===void 0&&(this.__evt=new e.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,t.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),i.prototype.__post=function(s,l){return this.__evt===void 0?(this.initialState=s,++this.initialPostCount):this.__evt[l?"postAndWait":"post"](s)},i.prototype.post=function(s){return this.__post(s,!1)},i.prototype.postAndWait=function(s){return this.__post(s,!0)},i})();return Za.LazyStatefulEvt=r,Za}n(xD,"requireLazyStatefulEvt");var i3;function _D(){return i3||(i3=1,(function(t){var e=qi&&qi.__extends||(function(){var y=n(function(b,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(S[R]=C[R])},y(b,w)},"extendStatics");return function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(b,w);function S(){this.constructor=b}n(S,"__"),b.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}})(),r=qi&&qi.__read||function(y,b){var w=typeof Symbol=="function"&&y[Symbol.iterator];if(!w)return y;var S=w.call(y),C,R=[],T;try{for(;(b===void 0||b-- >0)&&!(C=S.next()).done;)R.push(C.value)}catch(P){T={error:P}}finally{try{C&&!C.done&&(w=S.return)&&w.call(S)}finally{if(T)throw T.error}}return R},i=qi&&qi.__spreadArray||function(y,b,w){if(w||arguments.length===2)for(var S=0,C=b.length,R;S<C;S++)(R||!(S in b))&&(R||(R=Array.prototype.slice.call(b,0,S)),R[S]=b[S]);return y.concat(R||Array.prototype.slice.call(b))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatefulEvt=void 0,wD();var s=pv(),l=xD(),a=Ei(),v=V7(),g=dv(),h=Uf(),d=n(function(y){return y()},"runSideEffect"),c=(function(y){e(b,y);function b(w){var S=y.call(this)||this;return S.lazyEvtDiff=new s.LazyEvt,S.lazyEvtChangeDiff=new s.LazyEvt,S.__state=w,S.lazyEvtChange=new l.LazyStatefulEvt(S.__state),v.onAddHandlerByEvt.set(S,function(C,R){if(!C.extract){var T=(0,h.id)(void 0),P=S.getInvocableOp(C.op)(S.__state,S.setOpResultForPipe!==void 0?(function(O){return T=O}):d);S.setOpResultForPipe!==void 0&&(S.setOpResultForPipe(P),T!==void 0&&T()),P&&R(P)}}),S}return n(b,"StatefulEvtImpl"),Object.defineProperty(b.prototype,"state",{get:n(function(){return this.__state},"get"),set:n(function(w){this.state!==w&&this.post(w)},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtDiff",{get:n(function(){return this.lazyEvtDiff.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChange",{get:n(function(){return this.lazyEvtChange.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChangeDiff",{get:n(function(){return this.lazyEvtChangeDiff.evt},"get"),enumerable:!1,configurable:!0}),b.prototype.post=function(w){return this.__post(w,!1,!1)},b.prototype.postForceChange=function(w){return this.__post(w?w[0]:this.state,!0,!1)},b.prototype.postAndWait=function(w){return this.__post(w,!1,!0)},b.prototype.__post=function(w,S,C){var R=this.state;this.__state=w;var T={prevState:R,newState:this.state},P=C?"postAndWait":"post",O=[],j=this.lazyEvtDiff[P](T);if(C&&O.push(j),S||!Object.is(R,this.state)){var B=this.lazyEvtChange[P](this.state),Z=this.lazyEvtChangeDiff[P](T);C&&O.push(B,Z)}var W=y.prototype[P].call(this,w);return C?(O.push(W),Promise.all(O).then(function(){})):W},b.prototype.pipe=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];var C=void 0;this.setOpResultForPipe=function(T){return C=T};var R=y.prototype.pipe.apply(this,i([],r(w),!1));if((0,g.assert)(C!==void 0),this.setOpResultForPipe=void 0,!C)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return R.toStateful(C[0])},b.prototype.toStateless=function(w){var S=v.onAddHandlerByEvt.get(this);v.onAddHandlerByEvt.delete(this);var C=w?y.prototype.pipe.call(this,w):y.prototype.pipe.call(this);return v.onAddHandlerByEvt.set(this,S),C},b})(v.Evt);t.StatefulEvt=c,a.importProxy.StatefulEvt=t.StatefulEvt})(qi)),qi}n(_D,"requireStatefulEvt");var J0={},n3;function MD(){return n3||(n3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.to=void 0;var e=new Map,r=n(function(i){var s;return(s=e.get(i))!==null&&s!==void 0?s:(e.set(i,function(l){return l[0]!==i?null:[l[1]]}),(0,t.to)(i))},"to");t.to=r})(J0)),J0}n(MD,"requireTo");var Va={},s3;function SD(){if(s3)return Va;s3=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.throttleTime=void 0;var t=zf(),e=n(function(r){return(0,t.compose)([function(i,s){var l=s.lastClick,a=Date.now();return a-l<r?null:[{data:i,lastClick:a}]},{lastClick:0,data:null}],function(i){var s=i.data;return[s]})},"throttleTime$1");return Va.throttleTime=e,Va}n(SD,"requireThrottleTime");var Ga={},a3;function ED(){if(a3)return Ga;a3=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.nonNullable=void 0;var t=n(function(i){return i!=null},"isNonNullable"),e=n(function(i){return t(i)?[i]:null},"nonNullableImpl"),r=n(function(){return e},"nonNullable$1");return Ga.nonNullable=r,Ga}n(ED,"requireNonNullable");var en={},o3;function AD(){if(o3)return en;o3=1;var t=en&&en.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var v=a.call(s),g,h=[],d;try{for(;(l===void 0||l-- >0)&&!(g=v.next()).done;)h.push(g.value)}catch(c){d={error:c}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(d)throw d.error}}return h},e=en&&en.__spreadArray||function(s,l,a){if(a||arguments.length===2)for(var v=0,g=l.length,h;v<g;v++)(h||!(v in l))&&(h||(h=Array.prototype.slice.call(l,0,v)),h[v]=l[v]);return s.concat(h||Array.prototype.slice.call(l))};Object.defineProperty(en,"__esModule",{value:!0}),en.distinct=void 0;var r=zf(),i=n(function(s,l){var a;return(0,r.compose)(function(v){var g,h;return[{data:v,selectedKey:(g=s?.(v))!==null&&g!==void 0?g:v,currentFlushCount:(h=l?.evtDoneOrAborted.postCount)!==null&&h!==void 0?h:0}]},[function(v,g){var h=v.data,d=v.selectedKey,c=v.currentFlushCount,y=g.alreadyPostedData,b=g.previousFlushCount;return[{boxedData:c!==b||!y.has(d)?[h]:null,alreadyPostedData:new Set(e(e([],t(c!==b?[]:Array.from(y)),!1),[d],!1)),previousFlushCount:c}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(a=l?.evtDoneOrAborted.postCount)!==null&&a!==void 0?a:0}],function(v){var g=v.boxedData;return g})},"distinct$1");return en.distinct=i,en}n(AD,"requireDistinct");var l3;function kD(){return l3||(l3=1,(function(t){var e=qn&&qn.__createBinding||(Object.create?(function(d,c,y,b){b===void 0&&(b=y);var w=Object.getOwnPropertyDescriptor(c,y);(!w||("get"in w?!c.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:n(function(){return c[y]},"get")}),Object.defineProperty(d,b,w)}):(function(d,c,y,b){b===void 0&&(b=y),d[b]=c[y]})),r=qn&&qn.__exportStar||function(d,c){for(var y in d)y!=="default"&&!Object.prototype.hasOwnProperty.call(c,y)&&e(c,d,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=t.nonNullable=t.throttleTime=t.to=t.StatefulEvt=t.Evt=t.Ctx=void 0,r(tD(),t),r(rD(),t);var i=nD();Object.defineProperty(t,"Ctx",{enumerable:!0,get:n(function(){return i.Ctx},"get")});var s=V7();Object.defineProperty(t,"Evt",{enumerable:!0,get:n(function(){return s.Evt},"get")});var l=_D();Object.defineProperty(t,"StatefulEvt",{enumerable:!0,get:n(function(){return l.StatefulEvt},"get")});var a=MD();Object.defineProperty(t,"to",{enumerable:!0,get:n(function(){return a.to},"get")});var v=SD();Object.defineProperty(t,"throttleTime",{enumerable:!0,get:n(function(){return v.throttleTime},"get")});var g=ED();Object.defineProperty(t,"nonNullable",{enumerable:!0,get:n(function(){return g.nonNullable},"get")});var h=AD();Object.defineProperty(t,"distinct",{enumerable:!0,get:n(function(){return h.distinct},"get")})})(qn)),qn}n(kD,"requireLib");var tn=kD();const zi=Object.create(null);zi.open="0";zi.close="1";zi.ping="2";zi.pong="3";zi.message="4";zi.upgrade="5";zi.noop="6";const gu=Object.create(null);Object.keys(zi).forEach(t=>{gu[zi[t]]=t});const Ym={type:"error",data:"parser error"},G7=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",W7=typeof ArrayBuffer=="function",K7=n(t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,"isView$1"),mv=n(({type:t,data:e},r,i)=>G7&&e instanceof Blob?r?i(e):u3(e,i):W7&&(e instanceof ArrayBuffer||K7(e))?r?i(e):u3(new Blob([e]),i):i(zi[t]+(e||"")),"encodePacket"),u3=n((t,e)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];e("b"+(i||""))},r.readAsDataURL(t)},"encodeBlobAsBase64");function f3(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}n(f3,"toArray");let q0;function ND(t,e){if(G7&&t.data instanceof Blob)return t.data.arrayBuffer().then(f3).then(e);if(W7&&(t.data instanceof ArrayBuffer||K7(t.data)))return e(f3(t.data));mv(t,!1,r=>{q0||(q0=new TextEncoder),e(q0.encode(r))})}n(ND,"encodePacketToBinary");const c3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",to=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<c3.length;t++)to[c3.charCodeAt(t)]=t;const CD=n(t=>{let e=t.length*.75,r=t.length,i,s=0,l,a,v,g;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),d=new Uint8Array(h);for(i=0;i<r;i+=4)l=to[t.charCodeAt(i)],a=to[t.charCodeAt(i+1)],v=to[t.charCodeAt(i+2)],g=to[t.charCodeAt(i+3)],d[s++]=l<<2|a>>4,d[s++]=(a&15)<<4|v>>2,d[s++]=(v&3)<<6|g&63;return h},"decode$1"),RD=typeof ArrayBuffer=="function",gv=n((t,e)=>{if(typeof t!="string")return{type:"message",data:Y7(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:ID(t.substring(1),e)}:gu[r]?t.length>1?{type:gu[r],data:t.substring(1)}:{type:gu[r]}:Ym},"decodePacket"),ID=n((t,e)=>{if(RD){const r=CD(t);return Y7(r,e)}else return{base64:!0,data:t}},"decodeBase64Packet"),Y7=n((t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},"mapBinary"),X7="",TD=n((t,e)=>{const r=t.length,i=new Array(r);let s=0;t.forEach((l,a)=>{mv(l,!1,v=>{i[a]=v,++s===r&&e(i.join(X7))})})},"encodePayload"),PD=n((t,e)=>{const r=t.split(X7),i=[];for(let s=0;s<r.length;s++){const l=gv(r[s],e);if(i.push(l),l.type==="error")break}return i},"decodePayload");function OD(){return new TransformStream({transform(t,e){ND(t,r=>{const i=r.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}n(OD,"createPacketEncoderStream");let ep;function Yl(t){return t.reduce((e,r)=>e+r.length,0)}n(Yl,"totalLength");function Xl(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)r[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),r}n(Xl,"concatChunks");function jD(t,e){ep||(ep=new TextDecoder);const r=[];let i=0,s=-1,l=!1;return new TransformStream({transform(a,v){for(r.push(a);;){if(i===0){if(Yl(r)<1)break;const g=Xl(r,1);l=(g[0]&128)===128,s=g[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Yl(r)<2)break;const g=Xl(r,2);s=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),i=3}else if(i===2){if(Yl(r)<8)break;const g=Xl(r,8),h=new DataView(g.buffer,g.byteOffset,g.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){v.enqueue(Ym);break}s=d*Math.pow(2,32)+h.getUint32(4),i=3}else{if(Yl(r)<s)break;const g=Xl(r,s);v.enqueue(gv(l?g:ep.decode(g),e)),i=0}if(s===0||s>t){v.enqueue(Ym);break}}}})}n(jD,"createPacketDecoderStream");const Q7=4;function dr(t){if(t)return LD(t)}n(dr,"Emitter");function LD(t){for(var e in dr.prototype)t[e]=dr.prototype[e];return t}n(LD,"mixin");dr.prototype.on=dr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};dr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return n(r,"on"),r.fn=e,this.on(t,r),this};dr.prototype.off=dr.prototype.removeListener=dr.prototype.removeAllListeners=dr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<r.length;s++)if(i=r[s],i===e||i.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};dr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,s=r.length;i<s;++i)r[i].apply(this,e)}return this};dr.prototype.emitReserved=dr.prototype.emit;dr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};dr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Hf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),ti=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),DD="arraybuffer";function J7(t,...e){return e.reduce((r,i)=>(t.hasOwnProperty(i)&&(r[i]=t[i]),r),{})}n(J7,"pick");const BD=ti.setTimeout,FD=ti.clearTimeout;function Zf(t,e){e.useNativeTimers?(t.setTimeoutFn=BD.bind(ti),t.clearTimeoutFn=FD.bind(ti)):(t.setTimeoutFn=ti.setTimeout.bind(ti),t.clearTimeoutFn=ti.clearTimeout.bind(ti))}n(Zf,"installTimerFunctions");const UD=1.33;function zD(t){return typeof t=="string"?$D(t):Math.ceil((t.byteLength||t.size)*UD)}n(zD,"byteLength");function $D(t){let e=0,r=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(i++,r+=4);return r}n($D,"utf8Length");function q7(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}n(q7,"randomString");function HD(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}n(HD,"encode");function ZD(t){let e={},r=t.split("&");for(let i=0,s=r.length;i<s;i++){let l=r[i].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}n(ZD,"decode");class VD extends Error{static{n(this,"TransportError")}constructor(e,r,i){super(e),this.description=r,this.context=i,this.type="TransportError"}}class vv extends dr{static{n(this,"Transport")}constructor(e){super(),this.writable=!1,Zf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,i){return super.emitReserved("error",new VD(e,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=gv(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=HD(e);return r.length?"?"+r:""}}class GD extends vv{static{n(this,"Polling")}constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=n(()=>{this.readyState="paused",e()},"pause");if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n(i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)},"callback");PD(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=n(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,TD(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=q7()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let e9=!1;try{e9=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const WD=e9;function KD(){}n(KD,"empty");class YD extends GD{static{n(this,"BaseXHR")}constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,r){const i=this.request({method:"POST",data:e});i.on("success",r),i.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=e}}class Li extends dr{static{n(this,"Request")}constructor(e,r,i){super(),this.createRequest=e,Zf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const r=J7(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Li.requestsCount++,Li.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=KD,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Li.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Li.requestsCount=0;Li.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",h3);else if(typeof addEventListener=="function"){const t="onpagehide"in ti?"pagehide":"unload";addEventListener(t,h3,!1)}}function h3(){for(let t in Li.requests)Li.requests.hasOwnProperty(t)&&Li.requests[t].abort()}n(h3,"unloadHandler");const XD=(function(){const t=t9({xdomain:!1});return t&&t.responseType!==null})();class QD extends YD{static{n(this,"XHR")}constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=XD&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Li(t9,this.uri(),e)}}function t9(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||WD))return new XMLHttpRequest}catch{}if(!e)try{return new ti[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}n(t9,"newRequest");const r9=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JD extends vv{static{n(this,"BaseWS")}get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,i=r9?{}:J7(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],s=r===e.length-1;mv(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}s&&Hf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=q7()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const tp=ti.WebSocket||ti.MozWebSocket;class qD extends JD{static{n(this,"WS")}createSocket(e,r,i){return r9?new tp(e,r,i):r?new tp(e,r):new tp(e)}doWrite(e,r){this.ws.send(r)}}class eB extends vv{static{n(this,"WT")}get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=jD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(r).getReader(),s=OD();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const l=n(()=>{i.read().then(({done:v,value:g})=>{v||(this.onPacket(g),l())}).catch(v=>{})},"read");l();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],s=r===e.length-1;this._writer.write(i).then(()=>{s&&Hf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const tB={websocket:qD,webtransport:eB,polling:QD},rB=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,iB=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xm(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let s=rB.exec(t||""),l={},a=14;for(;a--;)l[iB[a]]=s[a]||"";return r!=-1&&i!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=nB(l,l.path),l.queryKey=sB(l,l.query),l}n(Xm,"parse");function nB(t,e){const r=/\/{2,9}/g,i=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}n(nB,"pathNames");function sB(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,l){s&&(r[s]=l)}),r}n(sB,"queryKey");const Qm=typeof addEventListener=="function"&&typeof removeEventListener=="function",vu=[];Qm&&addEventListener("offline",()=>{vu.forEach(t=>t())},!1);class Nn extends dr{static{n(this,"SocketWithoutUpgrade")}constructor(e,r){if(super(),this.binaryType=DD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const i=Xm(e);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Xm(r.host).host);Zf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ZD(this.opts.query)),Qm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Q7,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Nn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Nn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=zD(s)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Hf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,i){return this._sendPacket("message",e,r,i),this}send(e,r,i){return this._sendPacket("message",e,r,i),this}_sendPacket(e,r,i,s){if(typeof r=="function"&&(s=r,r=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:e,data:r,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const e=n(()=>{this._onClose("forced close"),this.transport.close()},"close"),r=n(()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},"cleanupAndClose"),i=n(()=>{this.once("upgrade",r),this.once("upgradeError",r)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Nn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Qm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=vu.indexOf(this._offlineEventListener);i!==-1&&vu.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Nn.protocol=Q7;class aB extends Nn{static{n(this,"SocketWithUpgrade")}constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),i=!1;Nn.priorWebsocketSuccess=!1;const s=n(()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",c=>{if(!i)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Nn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))},"onTransportOpen");function l(){i||(i=!0,d(),r.close(),r=null)}n(l,"freezeTransport");const a=n(c=>{const y=new Error("probe error: "+c);y.transport=r.name,l(),this.emitReserved("upgradeError",y)},"onerror");function v(){a("transport closed")}n(v,"onTransportClose");function g(){a("socket closed")}n(g,"onclose");function h(c){r&&c.name!==r.name&&l()}n(h,"onupgrade");const d=n(()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",v),this.off("close",g),this.off("upgrading",h)},"cleanup");r.once("open",s),r.once("error",a),r.once("close",v),this.once("close",g),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}let oB=class extends aB{static{n(this,"Socket")}constructor(e,r={}){const i=typeof e=="object"?e:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>tB[s]).filter(s=>!!s)),super(e,i)}};function lB(t,e="",r){let i=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),i=Xm(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+e,i.href=i.protocol+"://"+l+(r&&r.port===i.port?"":":"+i.port),i}n(lB,"url");const uB=typeof ArrayBuffer=="function",fB=n(t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,"isView"),i9=Object.prototype.toString,cB=typeof Blob=="function"||typeof Blob<"u"&&i9.call(Blob)==="[object BlobConstructor]",hB=typeof File=="function"||typeof File<"u"&&i9.call(File)==="[object FileConstructor]";function bv(t){return uB&&(t instanceof ArrayBuffer||fB(t))||cB&&t instanceof Blob||hB&&t instanceof File}n(bv,"isBinary");function bu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(bu(t[r]))return!0;return!1}if(bv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return bu(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&bu(t[r]))return!0;return!1}n(bu,"hasBinary");function dB(t){const e=[],r=t.data,i=t;return i.data=Jm(r,e),i.attachments=e.length,{packet:i,buffers:e}}n(dB,"deconstructPacket");function Jm(t,e){if(!t)return t;if(bv(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=Jm(t[i],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Jm(t[i],e));return r}return t}n(Jm,"_deconstructPacket");function pB(t,e){return t.data=qm(t.data,e),delete t.attachments,t}n(pB,"reconstructPacket");function qm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=qm(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=qm(t[r],e));return t}n(qm,"_reconstructPacket");const mB=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gB=5;var Wt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Wt||(Wt={}));class vB{static{n(this,"Encoder")}constructor(e){this.replacer=e}encode(e){return(e.type===Wt.EVENT||e.type===Wt.ACK)&&bu(e)?this.encodeAsBinary({type:e.type===Wt.EVENT?Wt.BINARY_EVENT:Wt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Wt.BINARY_EVENT||e.type===Wt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=dB(e),i=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(i),s}}function d3(t){return Object.prototype.toString.call(t)==="[object Object]"}n(d3,"isObject");class yv extends dr{static{n(this,"Decoder")}constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const i=r.type===Wt.BINARY_EVENT;i||r.type===Wt.BINARY_ACK?(r.type=i?Wt.EVENT:Wt.ACK,this.reconstructor=new bB(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(bv(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const i={type:Number(e.charAt(0))};if(Wt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Wt.BINARY_EVENT||i.type===Wt.BINARY_ACK){const l=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const a=e.substring(l,r);if(a!=Number(a)||e.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););i.nsp=e.substring(l,r)}else i.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const l=r+1;for(;++r;){const a=e.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===e.length)break}i.id=Number(e.substring(l,r+1))}if(e.charAt(++r)){const l=this.tryParse(e.substr(r));if(yv.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Wt.CONNECT:return d3(r);case Wt.DISCONNECT:return r===void 0;case Wt.CONNECT_ERROR:return typeof r=="string"||d3(r);case Wt.EVENT:case Wt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&mB.indexOf(r[0])===-1);case Wt.ACK:case Wt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bB{static{n(this,"BinaryReconstructor")}constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=pB(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yB=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yv,Encoder:vB,get PacketType(){return Wt},protocol:gB},Symbol.toStringTag,{value:"Module"}));function hi(t,e,r){return t.on(e,r),n(function(){t.off(e,r)},"subDestroy")}n(hi,"on");const wB=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class n9 extends dr{static{n(this,"Socket")}constructor(e,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[hi(e,"open",this.onopen.bind(this)),hi(e,"packet",this.onpacket.bind(this)),hi(e,"error",this.onerror.bind(this)),hi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var i,s,l;if(wB.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const a={type:Wt.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,c=r.pop();this._registerAckCallback(d,c),a.id=d}const v=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,g=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!v||(g?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let v=0;v<this.sendBuffer.length;v++)this.sendBuffer[v].id===e&&this.sendBuffer.splice(v,1);r.call(this,new Error("operation has timed out"))},s),a=n((...v)=>{this.io.clearTimeoutFn(l),r.apply(this,v)},"fn");a.withError=!0,this.acks[e]=a}emitWithAck(e,...r){return new Promise((i,s)=>{const l=n((a,v)=>a?s(a):i(v),"fn");l.withError=!0,r.push(l),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...l)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Wt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Wt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Wt.EVENT:case Wt.BINARY_EVENT:this.onevent(e);break;case Wt.ACK:case Wt.BINARY_ACK:this.onack(e);break;case Wt.DISCONNECT:this.ondisconnect();break;case Wt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let i=!1;return function(...s){i||(i=!0,r.packet({type:Wt.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Wt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,e.data)}}}function va(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}n(va,"Backoff");va.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};va.prototype.reset=function(){this.attempts=0};va.prototype.setMin=function(t){this.ms=t};va.prototype.setMax=function(t){this.max=t};va.prototype.setJitter=function(t){this.jitter=t};class eg extends dr{static{n(this,"Manager")}constructor(e,r){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Zf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new va({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||yB;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new oB(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=hi(r,"open",function(){i.onopen(),e&&e()}),l=n(v=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",v),e?e(v):this.maybeReconnectOnOpen()},"onError"),a=hi(r,"error",l);if(this._timeout!==!1){const v=this._timeout,g=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),r.close()},v);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(hi(e,"ping",this.onping.bind(this)),hi(e,"data",this.ondata.bind(this)),hi(e,"error",this.onerror.bind(this)),hi(e,"close",this.onclose.bind(this)),hi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Hf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new n9(this,e,r),this.nsps[e]=i),i}_destroy(e){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let i=0;i<r.length;i++)this.engine.write(r[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wa={};function yu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=lB(t,e.path||"/socket.io"),i=r.source,s=r.id,l=r.path,a=Wa[s]&&l in Wa[s].nsps,v=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let g;return v?g=new eg(i,e):(Wa[s]||(Wa[s]=new eg(i,e)),g=Wa[s]),r.query&&!e.query&&(e.query=r.queryKey),g.socket(r.path,e)}n(yu,"lookup");Object.assign(yu,{Manager:eg,Socket:n9,io:yu,connect:yu});class xB{static{n(this,"EventAdapter")}events={};constructor(){this.events.messageBroadcast=tn.Evt.create(),this.events.messageComplete=tn.Evt.create(),this.events.controlMessage=tn.Evt.create(),this.events.messageDeleted=tn.Evt.create(),this.events.channelCleared=tn.Evt.create(),this.events.channelDeleted=tn.Evt.create(),this.events.logStream=tn.Evt.create()}on(e,r){return this.events[e]||(this.events[e]=tn.Evt.create()),this.events[e].attach(r),this}off(e,r){if(this.events[e]){const i=this.events[e].getHandlers();for(const s of i)s.callback===r&&s.detach()}return this}emit(e,...r){return this.events[e]&&this.events[e].post(r.length===1?r[0]:r),this}once(e,r){return this.events[e]||(this.events[e]=tn.Evt.create()),this.events[e].attachOnce(r),this}listenerCount(e){return this.events[e]?this.events[e].getHandlers().length:0}_getEvt(e){return this.events[e]}}class ri extends xB{static{n(this,"SocketIOManager")}static instance=null;socket=null;isConnected=!1;connectPromise=null;resolveConnect=null;activeChannelIds=new Set;clientEntityId=null;logStreamSubscribed=!1;get evtMessageBroadcast(){return this._getEvt("messageBroadcast")}get evtMessageComplete(){return this._getEvt("messageComplete")}get evtControlMessage(){return this._getEvt("controlMessage")}get evtMessageDeleted(){return this._getEvt("messageDeleted")}get evtChannelCleared(){return this._getEvt("channelCleared")}get evtChannelDeleted(){return this._getEvt("channelDeleted")}get evtLogStream(){return this._getEvt("logStream")}constructor(){super()}static getInstance(){return ri.instance||(ri.instance=new ri),ri.instance}static isConnected(){return ri.instance?.isConnected||!1}isChannelActive(e){return this.activeChannelIds.has(e)}initialize(e){if(this.clientEntityId=e,this.socket){We.debug("[SocketIO] Socket already initialized");return}const r=window.location.origin+"/";We.info("connecting to",r),this.socket=yu(r,{autoConnect:!0,reconnection:!0}),this.connectPromise=new Promise(i=>{this.resolveConnect=i}),this.socket.on("connect",()=>{We.info("[SocketIO] Connected to server"),this.isConnected=!0,this.resolveConnect?.(),this.emit("connect")}),this.socket.on("unauthorized",i=>{this.emit("unauthorized",i)}),this.socket.on("messageBroadcast",i=>{const s=typeof i=="string"?(()=>{try{return JSON.parse(i)}catch{return We.warn("[SocketIO] Failed to parse string messageBroadcast payload:",i),{}}})():i;We.info("[SocketIO] Message broadcast received:",s);const l=s&&typeof s=="object",a=l?Object.keys(s):[];We.debug("[SocketIO] Message broadcast data structure:",{keys:a,senderId:s.senderId,senderNameType:typeof s.senderName,textType:typeof s.text,textLength:s.text?s.text.length:0,hasThought:l&&"thought"in s,hasActions:l&&"actions"in s,additionalKeys:a.filter(g=>!["senderId","senderName","text","roomId","createdAt","source","thought","actions"].includes(g))});const v=s.channelId||s.roomId;v&&this.activeChannelIds.has(v)?(We.info(`[SocketIO] Handling message for active channel ${v}`),this.emit("messageBroadcast",{...s,channelId:v,roomId:v,name:s.senderName})):We.warn(`[SocketIO] Received message for inactive channel ${v}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageComplete",i=>{this.emit("messageComplete",i)}),this.socket.on("controlMessage",i=>{We.info("[SocketIO] Control message received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling control message for active channel ${s}`),this.emit("controlMessage",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received control message for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageDeleted",i=>{We.debug("[SocketIO] Message deleted event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling message deletion for active channel ${s}`),this.emit("messageDeleted",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received message deleted event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelCleared",i=>{We.info("[SocketIO] Channel cleared event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling channel cleared for active channel ${s}`),this.emit("channelCleared",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received channel cleared event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelDeleted",i=>{We.info("[SocketIO] Channel deleted event received:",i);const s=i.channelId||i.roomId;s&&this.activeChannelIds.has(s)?(We.info(`[SocketIO] Handling channel deleted for active channel ${s}`),this.emit("channelDeleted",{...i,channelId:s,roomId:s})):We.warn(`[SocketIO] Received channel deleted event for inactive channel ${s}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("disconnect",i=>{We.info(`[SocketIO] Disconnected. Reason: ${i}`),this.isConnected=!1,this.emit("disconnect",i),this.connectPromise=new Promise(s=>{this.resolveConnect=s}),i==="io server disconnect"&&this.socket?.connect()}),this.socket.on("reconnect_attempt",i=>{We.info("[SocketIO] Reconnect attempt",i),this.emit("reconnect_attempt",i)}),this.socket.on("reconnect",i=>{We.info(`[SocketIO] Reconnected after ${i} attempts`),this.emit("reconnect",i)}),this.socket.on("connect_error",i=>{We.error("[SocketIO] Connection error:",i),this.emit("connect_error",i)}),this.socket.on("log_stream",i=>{We.debug("[SocketIO] Log stream data received:",i),i.type==="log_entry"&&i.payload&&this.emit("logStream",i.payload)}),this.socket.on("log_subscription_confirmed",i=>{We.info("[SocketIO] Log subscription confirmed:",i),this.logStreamSubscribed=i.subscribed})}async joinChannel(e){if(!this.socket){We.error("[SocketIO] Cannot join channel: socket not initialized");return}this.isConnected||await this.connectPromise,We.info(`[SocketIO] joinChannel: Attempting to join ${e}. Current activeChannelIds before add:`,new Set(this.activeChannelIds)),this.activeChannelIds.add(e),We.info(`[SocketIO] joinChannel: Joined ${e}. Current activeChannelIds after add:`,new Set(this.activeChannelIds)),this.socket.emit("message",{type:Cm.ROOM_JOINING,payload:{channelId:e,roomId:e,entityId:this.clientEntityId}}),We.info(`[SocketIO] Emitted ROOM_JOINING for ${e}`)}async joinRoom(e){return this.joinChannel(e)}leaveChannel(e){if(!this.socket||!this.isConnected){We.warn(`[SocketIO] Cannot leave channel ${e}: not connected`);return}We.info(`[SocketIO] leaveChannel: Attempting to leave ${e}. Current activeChannelIds before delete:`,new Set(this.activeChannelIds)),this.activeChannelIds.delete(e),We.info(`[SocketIO] leaveChannel: Left ${e}. Current activeChannelIds after delete:`,new Set(this.activeChannelIds))}leaveRoom(e){return this.leaveChannel(e)}async sendMessage(e,r,i,s,l,a,v){if(!this.socket){We.error("[SocketIO] Cannot send message: socket not initialized");return}this.isConnected||await this.connectPromise;const g=a||cn();We.info(`[SocketIO] Sending message to central channel ${r} on server ${i}`),this.socket.emit("message",{type:Cm.SEND_MESSAGE,payload:{senderId:this.clientEntityId,senderName:$s,message:e,channelId:r,roomId:r,serverId:i,messageId:g,source:s,attachments:l,metadata:v}})}async subscribeToLogStream(){if(!this.socket){We.error("[SocketIO] Cannot subscribe to logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("subscribe_logs"),We.info("[SocketIO] Subscribed to log stream")}async unsubscribeFromLogStream(){if(!this.socket){We.error("[SocketIO] Cannot unsubscribe from logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("unsubscribe_logs"),We.info("[SocketIO] Unsubscribed from log stream")}async updateLogStreamFilters(e){if(!this.socket){We.error("[SocketIO] Cannot update log filters: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("update_log_filters",e),We.info("[SocketIO] Updated log stream filters:",e)}isLogStreamSubscribed(){return this.logStreamSubscribed}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1,We.info("[SocketIO] Disconnected from server"))}}const xn={setUnauthorized:n(t=>{console.warn("setUnauthorized called before ConnectionContext is ready",t)},"setUnauthorized"),setOfflineStatus:n(t=>{console.warn("setOfflineStatus called before ConnectionContext is ready",t)},"setOfflineStatus")},s9=K.createContext(void 0),_B=n(({children:t})=>{const{toast:e}=er(),[r,i]=K.useState("loading"),[s,l]=K.useState(null),a=K.useRef(!0),v=ri.getInstance(),g=K.useCallback(c=>{i("unauthorized"),l(c),e({title:"Authorization Required",description:c||"Please provide a valid API Key.",variant:"destructive"})},[e]),h=K.useCallback(c=>{c?r!=="error"&&r!=="unauthorized"&&(i("error"),l("Network connection appears to be offline."),e({title:"Network Offline",description:"Please check your internet connection.",variant:"destructive"})):r==="error"&&s?.includes("offline")},[r,s,e]),d=K.useCallback(c=>{try{c!==void 0&&PL(c),console.log("API client refreshed with new configuration")}catch(y){console.error("Failed to refresh API client:",y)}},[]);return K.useEffect(()=>{xn.setUnauthorized=g,xn.setOfflineStatus=h},[g,h]),K.useEffect(()=>{const c=n(()=>{i("connected"),l(null),xn.setOfflineStatus&&xn.setOfflineStatus(!1),a.current?a.current=!1:e({title:"Connection Restored",description:"Successfully reconnected to the Eliza server."})},"onConnect"),y=n(C=>{i("error"),l(`Connection lost: ${C}`),xn.setOfflineStatus&&xn.setOfflineStatus(!0),e({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server",variant:"destructive"})},"onDisconnect"),b=n(()=>{i("reconnecting"),l("Reconnecting...")},"onReconnectAttempt"),w=n(C=>{i("error"),l(C.message),xn.setOfflineStatus&&xn.setOfflineStatus(!0)},"onConnectError"),S=n(C=>{i("unauthorized"),l(`Unauthorized: ${C}`),e({title:"Unauthorized",description:"Please log in again.",variant:"destructive"})},"onUnauthorized");return v.on("connect",c),v.on("disconnect",y),v.on("reconnect",c),v.on("reconnect_attempt",b),v.on("connect_error",w),v.on("unauthorized",S),ri.isConnected()&&c(),()=>{v.off("connect",c),v.off("disconnect",y),v.off("reconnect",c),v.off("reconnect_attempt",b),v.off("connect_error",w),v.off("unauthorized",S)}},[e,v,h]),N.jsx(s9.Provider,{value:{status:r,error:s,setUnauthorizedFromApi:g,setOfflineStatusFromProvider:h,refreshApiClient:d},children:t})},"ConnectionProvider"),wv=n(()=>{const t=K.useContext(s9);if(!t)throw new Error("useConnection must be inside ConnectionProvider");return t},"useConnection");function MB(){const{toast:t}=er(),[e,r]=K.useState(null),{openApiKeyDialog:i}=XL(),{status:s,error:l}=wv(),a=s==="loading",v=s==="connected",g=s==="error",h=s==="unauthorized",d=g||h;K.useEffect(()=>{(e==="error"||e==="unauthorized"||e==="disconnected")&&v?t({title:"Connection Restored",description:N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(ax,{className:"h-4 w-4 text-green-500"}),N.jsx("span",{children:"Successfully reconnected to the Eliza server."})]})}):e==="connected"&&(g||h)&&t({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server...",variant:"destructive"}),r(s)},[s,e,v,g,h,t]),K.useEffect(()=>{h&&e!=="unauthorized"&&i()},[h,e,i]);const c=n(()=>h?"bg-yellow-500":a?"bg-muted-foreground":v?"bg-green-600":"bg-red-600","getStatusColor"),y=n(()=>h?"Unauthorized":a?"Connecting...":v?"Connected":"Disconnected","getStatusText"),b=n(()=>h?"text-yellow-500":a?"text-muted-foreground":v?"text-green-600":"text-red-600","getTextColor"),w=n(()=>l?h?"Unauthorized: Invalid or missing API Key. Check client configuration or server logs.":l.includes("NetworkError")||l.includes("Failed to fetch")?"Cannot reach server":l.includes("ECONNREFUSED")?"Connection refused":l.includes("timeout")?"Connection timeout":l.includes("404")||l.includes("not found")||l.includes("API endpoint not found")?"Endpoint not found":l:"Connection failed","getErrorMessage");return N.jsx(yi,{"data-testid":"connection-status",children:N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(ws,{className:"rounded",children:N.jsx("div",{className:"flex flex-col gap-1 select-none",children:N.jsxs("div",{className:"flex items-center gap-1",children:[d||h?N.jsx(ii,{className:Ve("h-3.5 w-3.5",h?"text-yellow-500":"text-red-600")}):N.jsx("div",{className:Ve(["h-2.5 w-2.5 rounded-full",c()])}),N.jsx("span",{className:Ve("text-xs",b()),children:y()})]})})})}),d&&N.jsx(or,{side:"top",align:"center",className:"max-w-xs",children:N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsx("div",{className:Ve("font-semibold",h?"text-yellow-500":"text-red-500"),children:w()}),N.jsx("p",{className:"text-xs",children:"Please ensure the Eliza server is running and accessible."}),!h&&N.jsx("p",{className:"text-xs",children:"Try refreshing the connection or check server logs."}),h&&N.jsx("p",{className:"text-xs",children:"Check the X-API-KEY configured in your client or the ELIZA_SERVER_AUTH_TOKEN on the server."})]})})]})})}n(MB,"ConnectionStatus");const Fn=K.forwardRef(({className:t,...e},r)=>N.jsx(ox,{ref:r,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-md",t),"data-testid":e["data-testid"]||"avatar",...e}));Fn.displayName=ox.displayName;const Ns=K.forwardRef(({className:t,...e},r)=>N.jsx(lx,{ref:r,className:Ve("aspect-square h-full w-full object-cover",t),"data-testid":e["data-testid"]||"avatar-image",...e}));Ns.displayName=lx.displayName;const Vf=K.forwardRef(({className:t,...e},r)=>N.jsx(ux,{ref:r,className:Ve("flex h-full w-full items-center justify-center rounded-md bg-muted",t),"data-testid":e["data-testid"]||"avatar-fallback",...e}));Vf.displayName=ux.displayName;function Rs(){const[t,e]=K.useState({open:!1,options:null,onConfirm:null}),r=K.useCallback((l,a)=>{e({open:!0,options:l,onConfirm:a})},[]),i=K.useCallback(l=>{l||e({open:!1,options:null,onConfirm:null})},[]),s=K.useCallback(()=>{t.onConfirm&&t.onConfirm(),i(!1)},[t.onConfirm,i]);return{confirm:r,isOpen:t.open,onOpenChange:i,onConfirm:s,options:t.options}}n(Rs,"useConfirmation");function SB(t){switch(t){case"active":return hr.ACTIVE;case"inactive":case"stopped":return hr.INACTIVE;default:return hr.INACTIVE}}n(SB,"mapApiStatusToEnum");function a9(t){return{...t,id:t.id,status:SB(t.status),createdAt:t.createdAt instanceof Date?t.createdAt.getTime():new Date(t.createdAt).getTime(),updatedAt:t.updatedAt instanceof Date?t.updatedAt.getTime():new Date(t.updatedAt).getTime()}}n(a9,"mapApiAgentToClient");function Wu(t){return t instanceof Date?t.getTime():typeof t=="string"?new Date(t).getTime():t}n(Wu,"apiDateToTimestamp");function Ku(t){return t instanceof Date?t.toISOString():t}n(Ku,"apiDateToString");function xv(t){return{...t,id:t.id,messageServerId:t.messageServerId,type:t.type,createdAt:Ku(t.createdAt),updatedAt:Ku(t.updatedAt)}}n(xv,"mapApiChannelToClient");function EB(t){return{...t,id:t.id,createdAt:Ku(t.createdAt),updatedAt:Ku(t.updatedAt)}}n(EB,"mapApiServerToClient");function AB(t){return t.map(EB)}n(AB,"mapApiServersToClient");function kB(t){return t.map(xv)}n(kB,"mapApiChannelsToClient");function NB(t,e){const r=t.metadata?.attachments?.map(l=>({id:l.id||crypto.randomUUID(),url:l.url,title:l.title||l.name,source:l.source,description:l.description,text:l.text,contentType:l.contentType||l.type}))||void 0,i=t.sourceType,s=t.rawMessage;return{id:t.id,text:t.content,name:t.metadata?.authorDisplayName||t.metadata?.agentName||"Unknown",senderId:t.authorId,isAgent:!!t.metadata?.isAgent||!1,createdAt:Wu(t.createdAt),channelId:t.channelId,serverId:e||t.metadata?.serverId,prompt:t.metadata?.prompt,attachments:r,thought:t.metadata?.thought,actions:t.metadata?.actions,type:i,rawMessage:s}}n(NB,"mapApiMessageToUi");function CB(t){return{id:t.id,type:t?.type||t.body?.modelType,timestamp:t.timestamp?Wu(t.timestamp):void 0,message:t.message,details:t.details,roomId:t.roomId,body:t.body,createdAt:t.createdAt?Wu(t.createdAt):void 0}}n(CB,"mapApiLogToClient");function RB(t){return{id:t.id,entityId:t.metadata?.entityId||t.metadata?.userId||t.agentId,agentId:t.agentId,content:t.content,embedding:t.embedding,roomId:t.roomId,createdAt:Wu(t.createdAt),unique:t.metadata?.unique}}n(RB,"mapApiMemoryToClient");const pr=qt(),rr={FREQUENT:3e4,STANDARD:12e4,RARE:6e5,NEVER:Number.POSITIVE_INFINITY},Zn=n(()=>{const t=typeof navigator<"u"&&"connection"in navigator?navigator.connection:null;return{isOffline:typeof navigator<"u"&&!navigator.onLine,effectiveType:t?.effectiveType||"unknown",saveData:t?.saveData||!1}},"useNetworkStatus");function _v(t={}){const e=Zn();return Ar({queryKey:["agents"],queryFn:n(async()=>({data:{agents:(await pr.agents.listAgents()).agents.map(s=>a9(s))}}),"queryFn"),staleTime:rr.FREQUENT,refetchInterval:e.isOffline?!1:rr.FREQUENT,refetchIntervalInBackground:!1,...!e.isOffline&&e.effectiveType==="slow-2g"&&{refetchInterval:rr.STANDARD},...t})}n(_v,"useAgents");function hl(t,e={}){const r=Zn();return Ar({queryKey:["agent",t],queryFn:n(async()=>{if(!t)throw new Error("Agent ID is required");const i=await pr.agents.getAgent(t);return{data:a9(i)}},"queryFn"),staleTime:rr.FREQUENT,enabled:!!t,refetchInterval:!r.isOffline&&t?rr.FREQUENT:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:rr.STANDARD},...e})}n(hl,"useAgent");function IB(){const t=vr(),{toast:e}=er();return Zr({mutationFn:n(async r=>{try{const i=await pr.agents.startAgent(r);return{data:{id:r,name:"Agent",status:i.status}}}catch(i){throw i instanceof Error&&i.message.includes("already running")?new Error("Agent is already running."):i}},"mutationFn"),onMutate:n(async r=>(e({title:"Starting Agent",description:"Initializing agent..."}),{}),"onMutate"),onSuccess:n((r,i)=>{t.invalidateQueries({queryKey:["agents"]}),t.invalidateQueries({queryKey:["agent",i]}),e({title:"Agent Started",description:`${r?.data?.name||"Agent"} is now running`})},"onSuccess"),onError:n(r=>{const i=r instanceof Error?r.message:"Failed to start agent";e({title:"Error Starting Agent",description:`${i}. Please try again.`,variant:"destructive"})},"onError")})}n(IB,"useStartAgent");function TB(){const t=vr(),{toast:e}=er();return Zr({mutationFn:n(async r=>({data:{message:`Agent ${(await pr.agents.stopAgent(r)).status}`}}),"mutationFn"),onMutate:n(async r=>{const i=t.getQueryData(["agent",r]);i&&e({title:"Stopping Agent",description:`Stopping ${i.name}...`})},"onMutate"),onSuccess:n((r,i)=>{t.invalidateQueries({queryKey:["agents"]}),t.invalidateQueries({queryKey:["agent",i]}),e({title:"Agent Stopped",description:r?.data?.message||"The agent has been successfully stopped"})},"onSuccess"),onError:n((r,i)=>{t.invalidateQueries({queryKey:["agents"]}),t.invalidateQueries({queryKey:["agent",i]}),e({title:"Error",description:r instanceof Error?r.message:"Failed to stop agent",variant:"destructive"})},"onError")})}n(TB,"useStopAgent");function p3(t,e){const r=ys(),[i,s]=K.useState([]),[l,a]=K.useState(null),[v,g]=K.useState(!0),[h,d]=K.useState(!0),[c,y]=K.useState(!1),[b,w]=K.useState(null),[S,C]=K.useState(!1),R=K.useCallback((W,ee)=>{const $=W.authorId!==r;let U=Date.now();if(typeof W.createdAt=="number")U=W.createdAt;else if(typeof W.createdAt=="string"){const u=Date.parse(W.createdAt);isNaN(u)?We.warn("[transformServerMessageToUiMessage] createdAt string was not directly parsable by Date.parse():",W.createdAt,"for message id:",W.id):U=u}else if(W.createdAt)try{const u=new Date(W.createdAt).getTime();isNaN(u)||(U=u)}catch{We.warn("[transformServerMessageToUiMessage] Could not process createdAt (unknown type):",W.createdAt,"for message:",W.id)}return{id:W.id,text:W.content,name:$?W.metadata?.agentName||W.metadata?.authorDisplayName||W.authorDisplayName||"Agent":$s,senderId:W.authorId,isAgent:$,createdAt:U,attachments:W.metadata?.attachments,thought:$?W.metadata?.thought:void 0,actions:$?W.metadata?.actions:void 0,channelId:W.channelId,serverId:ee||W.metadata?.serverId||W.serverId||e,source:W.sourceType,isLoading:!1,prompt:$?W.metadata?.prompt:void 0}},[r,e]),T=K.useCallback(async W=>{if(!t){s([]),d(!1);return}W?C(!0):d(!0),y(!1),w(null);try{const $=(await pr.messaging.getChannelMessages(t,{limit:30,before:W?new Date(W).toISOString():void 0})).messages.map(U=>NB(U,e||U.metadata?.serverId));if(s(U=>{const u=W?[...$,...U]:$;return Array.from(new Map(u.map(o=>[o.id,o])).values()).sort((o,p)=>o.createdAt-p.createdAt)}),$.length>0){const U=Math.min(...$.map(u=>u.createdAt));(!W||U<(l||1/0))&&a(U)}g($.length>=30)}catch(ee){y(!0),w(ee),We.error(`Failed to fetch messages for channel ${t}:`,ee)}finally{d(!1),C(!1)}},[t,R,e]);K.useEffect(()=>{t?(We.info(`[useChannelMessages] ChannelId changed or became available: ${t}. Clearing messages and fetching initial set.`),s([]),a(null),g(!0),T()):(We.info("[useChannelMessages] ChannelId is undefined. Clearing messages."),s([]),a(null),g(!0),d(!1))},[t,T]);const P=n(async()=>{v&&!S&&l&&await T(l-1)},"fetchNextPage"),O=K.useCallback(W=>{s(ee=>{const $=ee.findIndex(U=>U.id===W.id);if($>=0){const U=[...ee];return U[$]=W,U.sort((u,m)=>u.createdAt-m.createdAt)}else return[...ee,W].sort((U,u)=>U.createdAt-u.createdAt)})},[]),j=K.useCallback((W,ee)=>{s($=>$.map(U=>U.id===W?{...U,...ee}:U))},[]),B=K.useCallback(W=>{s(ee=>ee.filter($=>$.id!==W))},[]),Z=K.useCallback(()=>{s([]),a(null),g(!0)},[]);return{data:i,isLoading:h&&i.length===0,isError:c,error:b,fetchNextPage:P,hasNextPage:v,isFetchingNextPage:S,addMessage:O,updateMessage:j,removeMessage:B,clearMessages:Z}}n(p3,"useChannelMessages");function PB(t,e,r){return Ar({queryKey:["agentActions",t,e,r],queryFn:n(async()=>{const i=await pr.agents.getAgentLogs(t,{limit:50});return i?i.map(CB):[]},"queryFn"),refetchInterval:1e3,staleTime:1e3})}n(PB,"useAgentActions");function OB(){const t=vr(),{toast:e}=er();return Zr({mutationFn:n(async({agentId:r,logId:i})=>(await pr.agents.deleteAgentLog(r,i),{agentId:r,logId:i}),"mutationFn"),onMutate:n(async({agentId:r,logId:i})=>{const s=t.getQueryData(["agentActions",r]);return s&&t.setQueryData(["agentActions",r],l=>l.filter(a=>a.id!==i)),{previousLogs:s,agentId:r,logId:i}},"onMutate"),onSuccess:n((r,{agentId:i})=>{t.invalidateQueries({queryKey:["agentActions",i]}),e({title:"Log Deleted",description:"The log entry has been successfully removed"})},"onSuccess"),onError:n((r,{agentId:i},s)=>{s?.previousLogs&&t.setQueryData(["agentActions",i],s.previousLogs),e({title:"Error",description:r instanceof Error?r.message:"Failed to delete log",variant:"destructive"}),t.invalidateQueries({queryKey:["agentActions",i]})},"onError")})}n(OB,"useDeleteLog");function m3(t,e,r,i=!1){return Ar({queryKey:r?["agents",t,"channels",r,"memories",e,i]:["agents",t,"memories",e,i],queryFn:n(async()=>{const l={tableName:e,includeEmbedding:i},a=r?await pr.memory.getRoomMemories(t,r,l):await pr.memory.getAgentMemories(t,l);return console.log("Agent memories result:",{agentId:t,tableName:e,includeEmbedding:i,channelId:r,result:a,dataLength:a.memories?.length,firstMemory:a.memories?.[0],hasEmbeddings:(a.memories||[]).some(g=>g.embedding?.length>0)}),(a.memories||[]).map(RB)},"queryFn"),enabled:!!(t&&e),staleTime:1e3,refetchInterval:10*1e3})}n(m3,"useAgentMemories");function jB(){const t=vr();return Zr({mutationFn:n(async({agentId:e,memoryId:r})=>(await pr.memory.deleteMemory(e,r),{agentId:e,memoryId:r}),"mutationFn"),onSuccess:n(e=>{t.invalidateQueries({queryKey:["agents",e.agentId,"memories"]}),t.invalidateQueries({queryKey:["agents",e.agentId,"rooms"],predicate:n(r=>r.queryKey.length>3&&r.queryKey[4]==="memories","predicate")})},"onSuccess")})}n(jB,"useDeleteMemory");function LB(){const t=vr(),{toast:e}=er();return Zr({mutationFn:n(async({agentId:r,memoryId:i,memoryData:s})=>{const l=await pr.memory.updateMemory(r,i,s);return{agentId:r,memoryId:i,result:l}},"mutationFn"),onSuccess:n(r=>{t.invalidateQueries({queryKey:["agents",r.agentId,"memories"]}),r.result?.roomId?t.invalidateQueries({queryKey:["agents",r.agentId,"rooms",r.result.roomId,"memories"]}):t.invalidateQueries({queryKey:["agents",r.agentId,"rooms"],predicate:n(i=>i.queryKey.length>3&&i.queryKey[4]==="memories","predicate")}),r.result?.roomId&&t.invalidateQueries({queryKey:["messages",r.agentId,r.result.roomId]}),e({title:"Memory Updated",description:"The memory has been successfully updated"})},"onSuccess"),onError:n(r=>{e({title:"Error",description:r instanceof Error?r.message:"Failed to update memory",variant:"destructive"})},"onError")})}n(LB,"useUpdateMemory");function DB(t,e={}){const r=Zn();return Ar({queryKey:["agentPanels",t],queryFn:n(async()=>{if(!t)throw new Error("Agent ID required");return{success:!0,data:(await pr.agents.getAgentPanels(t)).panels}},"queryFn"),enabled:!!t,staleTime:rr.STANDARD,refetchInterval:!r.isOffline&&t?rr.RARE:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:rr.NEVER},...e})}n(DB,"useAgentPanels");function ba(){const t=Zn(),{data:e,isLoading:r}=_v(),i=e?.data?.agents?.map(h=>h.id)||[],s=ZM({queries:i.map(h=>({queryKey:["agent",h],queryFn:n(async()=>({data:await pr.agents.getAgent(h)}),"queryFn"),staleTime:rr.FREQUENT,enabled:!!h,refetchInterval:!t.isOffline&&h?rr.FREQUENT:!1,refetchIntervalInBackground:!1,...!t.isOffline&&t.effectiveType==="slow-2g"&&{refetchInterval:rr.STANDARD}}))}),l=r||s.some(h=>h.isLoading),a=s.some(h=>h.isError),v=s.find(h=>h.error)?.error;return{data:{agents:s.filter(h=>!!h.data?.data).map(h=>h.data.data)},isLoading:l,isError:a,error:v}}n(ba,"useAgentsWithDetails");function o9(t={}){const e=Zn();return Ar({queryKey:["servers"],queryFn:n(async()=>{const r=await pr.messaging.listServers();return{data:{servers:AB(r.servers)}}},"queryFn"),staleTime:rr.RARE,refetchInterval:e.isOffline?!1:rr.RARE,...t})}n(o9,"useServers");function Mv(t,e={}){const r=Zn();return Ar({queryKey:["channels",t],queryFn:n(async()=>{if(!t)return Promise.resolve({data:{channels:[]}});const i=await pr.messaging.getServerChannels(t);return{data:{channels:kB(i.channels)}}},"queryFn"),enabled:!!t,staleTime:rr.STANDARD,refetchInterval:!r.isOffline&&t?rr.STANDARD:!1,...e})}n(Mv,"useChannels");function BB(t,e={}){const r=Zn();return Ar({queryKey:["channelDetails",t],queryFn:n(async()=>{if(!t)return Promise.resolve({success:!0,data:null});const i=await pr.messaging.getChannelDetails(t);return{success:!0,data:xv(i)}},"queryFn"),enabled:!!t,staleTime:rr.STANDARD,refetchInterval:!r.isOffline&&t?rr.RARE:!1,...e})}n(BB,"useChannelDetails");function Sv(t,e={}){const r=Zn();return Ar({queryKey:["channelParticipants",t],queryFn:n(async()=>{if(!t)return Promise.resolve({success:!0,data:[]});try{const i=await pr.messaging.getChannelParticipants(t);let s=[];return i&&Array.isArray(i.participants)?s=i.participants.map(l=>l.userId):i&&Array.isArray(i)&&(s=i.map(l=>l.userId||l.id||l)),{success:!0,data:s}}catch(i){return console.error("[useChannelParticipants] Error:",i),{success:!1,data:[]}}},"queryFn"),enabled:!!t,staleTime:rr.STANDARD,refetchInterval:!r.isOffline&&t?rr.FREQUENT:!1,...e})}n(Sv,"useChannelParticipants");function FB(){vr();const{toast:t}=er();return Zr({mutationFn:n(async({channelId:e,messageId:r})=>(await pr.messaging.deleteMessage(e,r),{channelId:e,messageId:r}),"mutationFn"),onSuccess:n((e,r)=>{t({title:"Message Deleted",description:"Message removed successfully."})},"onSuccess"),onError:n(e=>{t({title:"Error Deleting Message",description:e instanceof Error?e.message:"Failed to delete message",variant:"destructive"})},"onError")})}n(FB,"useDeleteChannelMessage");function UB(){const t=vr(),{toast:e}=er();return Zr({mutationFn:n(async r=>(await pr.messaging.clearChannelHistory(r),{channelId:r}),"mutationFn"),onSuccess:n((r,i)=>{e({title:"Channel Cleared",description:`All messages in channel ${i} cleared.`}),t.invalidateQueries({queryKey:["messages",i]}),t.setQueryData(["messages",i],()=>[])},"onSuccess"),onError:n(r=>{e({title:"Error Clearing Channel",description:r instanceof Error?r.message:"Failed to clear messages",variant:"destructive"})},"onError")})}n(UB,"useClearChannelMessages");function l9(){return Ar({queryKey:["server-version"],queryFn:n(async()=>{try{const t=await fetch("/api/system/version");if(!t.ok)throw new Error(`Failed to fetch server version: ${t.status} ${t.statusText}`);return await t.json()}catch(t){throw We.error("Error fetching server version:",t),t}},"queryFn"),staleTime:300*1e3,retry:3,retryDelay:n(t=>Math.min(1e3*2**t,3e4),"retryDelay")})}n(l9,"useServerVersion");function zB(){const{data:t}=l9();return t?.version||"0.0.0-loading"}n(zB,"useServerVersionString");const $B=n((t,e)=>{const r=[],i=[];return t.forEach(s=>(e(s)?r:i).push(s)),[r,i]},"partition"),Ev=n(({children:t,className:e=""})=>N.jsx("div",{className:Ve("px-4 pt-1 pb-0 text-sm font-medium text-muted-foreground sidebar-section-header",e),children:t}),"SectionHeader"),HB=n(({title:t,children:e,className:r=""})=>N.jsxs(N.Fragment,{children:[N.jsx(Ev,{className:r,children:t}),N.jsx(af,{children:N.jsx(of,{className:"mt-0",children:N.jsx(fs,{children:e})})})]}),"SidebarSection"),ZB=n(({agent:t,isOnline:e,active:r})=>N.jsx(yi,{children:N.jsx(tf,{to:`/chat/${t.id}`,children:N.jsxs(ws,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[N.jsx("span",{className:"text-base truncate max-w-36",children:t.name}),N.jsx("div",{className:"flex items-center",children:N.jsxs("div",{className:"relative",children:[N.jsxs(Fn,{className:"h-6 w-6 rounded-full",children:[N.jsx(Ns,{src:lo(t),alt:t.name||"avatar"}),N.jsx(Vf,{className:"rounded-full",children:bs(t.name||"")})]}),N.jsx("span",{className:Ve("absolute bottom-0 right-0 w-[8px] h-[8px] rounded border border-white",e?"bg-green-500":"bg-muted-foreground")})]})})]})})}),"AgentRow"),VB=n(({channel:t,serverId:e,active:r})=>{const i=ys(),{data:s}=ba(),l=s?.agents||[],{data:a}=Sv(t.id),v=a?.data,g=v&&Array.isArray(v)?v:[],h=l.filter(y=>y.id&&g.includes(y.id)),d=h.slice(0,3),c=h.length>3?h.length-3:0;return N.jsx(yi,{children:N.jsx(tf,{to:`/group/${t.id}?serverId=${e}`,className:"flex-1",children:N.jsxs(ws,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[N.jsx("span",{className:"text-base truncate max-w-36",children:t.name||dg(t,t.participants||[],i)}),N.jsx("div",{className:"flex items-center gap-2",children:N.jsxs("div",{className:"flex -space-x-2",children:[d.map(y=>N.jsxs(Fn,{className:"h-6 w-6 rounded-full border border-background",children:[N.jsx(Ns,{src:typeof y.settings?.avatar=="string"?y.settings.avatar:"",alt:y.name||""}),N.jsx(Vf,{className:"rounded-full text-xs",children:bs(y.name||"")})]},y.id)),c>0&&N.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted text-[10px] flex items-center justify-center border border-background",children:["+",c]})]})})]})})})},"GroupRow"),GB=n(({agents:t,activePath:e})=>N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[N.jsx(Ev,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:N.jsx("div",{children:"Agents"})}),N.jsx(Yr,{})]}),N.jsx(af,{children:N.jsx(of,{className:"px-1 mt-0",children:N.jsx(fs,{children:t.map(r=>N.jsx(ZB,{agent:r,isOnline:r.status===hr.ACTIVE,active:e.includes(`/chat/${String(r?.id)}`)},r?.id))})})})]}),"AgentListSection"),WB=n(({servers:t,isLoadingServers:e,activePath:r})=>N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[N.jsx(Ev,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:N.jsx("div",{children:"Groups"})}),N.jsx(Yr,{})]}),N.jsx(af,{children:N.jsx(of,{className:"px-1 mt-0",children:N.jsxs(fs,{children:[e&&Array.from({length:3}).map((i,s)=>N.jsx(yi,{children:N.jsx(lf,{})},`skel-group-${s}`)),t?.map(i=>N.jsx(KB,{serverId:i.id,activePath:r},i.id)),(!t||t.length===0)&&!e&&N.jsx(yi,{children:N.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"No groups found."})})]})})})]}),"GroupListSection"),KB=n(({serverId:t,activePath:e})=>{const{data:r,isLoading:i}=Mv(t),s=K.useMemo(()=>r?.data?.channels?.filter(l=>l.type===vt.GROUP)||[],[r]);return i?N.jsx(yi,{children:N.jsx(lf,{})}):s.length?N.jsx(N.Fragment,{children:s.map(l=>N.jsx(VB,{channel:l,serverId:t,active:e.includes(`/group/${l.id}`)},l.id))}):null},"GroupChannelsForServer");function g3({refreshHomePage:t,isMobile:e=!1}){const r=ef(),i=xr(),s=vr(),l=zB(),{data:a,error:v,isLoading:g}=ba(),{data:h,isLoading:d}=o9(),c=K.useMemo(()=>a?.agents||[],[a]),y=K.useMemo(()=>h?.data?.servers||[],[h]),[b,w]=K.useMemo(()=>$B(c,T=>T.status===hr.ACTIVE),[c]),S=v?"Error loading agents: NetworkError: Unable to connect to the server. Please check if the server is running.":void 0,C=n(T=>{T.preventDefault(),We.info("[AppSidebar] handleLogoClick triggered",{currentPath:r.pathname}),s.invalidateQueries({queryKey:["agents"]}),s.invalidateQueries({queryKey:["agentsWithDetails"]}),s.invalidateQueries({queryKey:["servers"]}),s.invalidateQueries({queryKey:["channels"]}),r.pathname==="/"?(We.info("[AppSidebar] Already on home page. Calling refreshHomePage()."),t()):(We.info('[AppSidebar] Not on home page. Navigating to "/".'),i("/"))},"handleLogoClick");function R(){const T=xr(),P=n(()=>{T("/create")},"handleCreateAgent"),O=n(()=>{T("/group/new")},"handleCreateGroup");return N.jsxs(co,{children:[N.jsx(ho,{asChild:!0,children:N.jsxs(qe,{variant:"ghost",className:"w-full bg-sidebar-accent hover:bg-sidebar-accent/80 h-10 rounded justify-start",children:[N.jsx(sg,{className:"w-4 h-4 bg"}),"Create New"]})}),N.jsxs(po,{align:"start",className:"w-full min-w-[var(--radix-dropdown-menu-trigger-width)]",children:[N.jsx(Ti,{onClick:P,className:"w-full",children:"Create New Agent"}),N.jsx(Ti,{onClick:O,className:"w-full",children:"Create New Group"})]})]})}return n(R,"renderCreateNewButton"),N.jsx(N.Fragment,{children:N.jsxs(jx,{className:Ve("bg-background border-r overflow-hidden",e?"p-3 pt-12 w-full h-full":"p-4 w-72 fixed left-0 top-0 z-40 h-screen",!e&&"hidden md:flex md:flex-col"),collapsible:"none","data-testid":"app-sidebar",children:[N.jsx(Dx,{children:N.jsx(fs,{children:N.jsx(yi,{children:N.jsx(ws,{size:"lg",asChild:!0,children:N.jsx("a",{href:"/",onClick:C,className:"px-4 py-2 h-full sidebar-logo no-underline cursor-pointer",children:N.jsxs("div",{className:"flex flex-col pt-2 gap-1 items-start justify-center",children:[N.jsx("img",{alt:"elizaos-logo",src:"/elizaos-logo-light.png",className:"w-32 max-w-full"}),N.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["v",l]})]})})})})})}),N.jsxs(Fx,{className:"flex-1 overflow-y-auto",children:[S&&N.jsx("div",{className:"px-4 py-2 text-xs text-red-500",children:S}),N.jsx(fs,{className:"my-2",children:N.jsx(yi,{className:"list-none",children:R()})}),N.jsxs("div",{className:"pt-2",children:[g&&!S&&N.jsx(HB,{title:"Agents",children:N.jsx(lf,{})}),!g&&!S&&N.jsxs(N.Fragment,{children:[N.jsx(GB,{agents:[...b,...w],activePath:r.pathname}),N.jsx(WB,{servers:y,isLoadingServers:d,activePath:r.pathname})]})]})]}),N.jsx(Bx,{className:"px-2 py-4",children:N.jsxs(fs,{children:[N.jsx(rp,{to:"https://eliza.how/",Icon:VM,label:"Documentation"}),N.jsx(rp,{to:"/logs",Icon:GM,label:"Logs"}),N.jsx(rp,{to:"/settings",Icon:WM,label:"Settings"}),N.jsx(MB,{})]})})]})})}n(g3,"AppSidebar");const rp=n(({to:t,Icon:e,label:r})=>t.startsWith("http://")||t.startsWith("https://")?N.jsx(yi,{children:N.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:N.jsxs(ws,{className:"rounded cursor-pointer",children:[N.jsx(e,{className:"h-4 w-4 mr-3"}),r]})})}):N.jsx(yi,{children:N.jsx(tf,{to:t,children:N.jsxs(ws,{className:"rounded cursor-pointer",children:[N.jsx(e,{className:"h-4 w-4 mr-3"}),r]})})}),"FooterLink");function YB({className:t}){const{status:e,error:r}=wv();if(!(e==="error"||e==="unauthorized"))return null;let s="Connection Failed",l="Please ensure the Eliza server is running and accessible.";const a=e==="unauthorized";if(r){const v=r;a?(s="Unauthorized",l="Invalid or missing API Key provided."):v.includes("NetworkError")||v.includes("Failed to fetch")?(s="Network Error",l="Cannot reach the server. Please check your network connection."):v.includes("ECONNREFUSED")?(s="Connection Refused",l="The server refused the connection. Please ensure it is running."):v.includes("timeout")?(s="Connection Timeout",l="The server took too long to respond."):v.includes("404")||v.includes("not found")||v.includes("API endpoint not found")||v.includes("Endpoint not found")?(s="Endpoint Not Found",l="The server API endpoint could not be found."):l=v}return N.jsx("div",{className:Ve("bg-opacity-10 border rounded-md p-3 mb-4 w-full md:max-w-4xl","flex items-center justify-between w-full mt-4",a?"bg-yellow-900/20 border-yellow-700 text-yellow-100":"bg-red-900/20 border-red-700 text-red-100",t),children:N.jsxs("div",{className:"flex items-center space-x-3",children:[N.jsx(ii,{className:Ve("h-5 w-5 flex-shrink-0",a?"text-yellow-400":"text-red-400")}),N.jsxs("div",{children:[N.jsx("h4",{className:Ve("font-medium text-sm",a?"text-yellow-200":"text-red-200"),children:s}),N.jsx("p",{className:Ve("text-xs mt-1",a?"text-yellow-300":"text-red-300"),children:l}),N.jsx("div",{className:"mt-2 flex space-x-4",children:N.jsxs("a",{href:"https://eliza.how",target:"_blank",rel:"noopener noreferrer",className:Ve("text-xs flex items-center",a?"hover:text-yellow-200 text-yellow-300":"hover:text-red-200 text-red-300"),children:[N.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Troubleshooting Guide"]})})]})]})})}n(YB,"ConnectionErrorBanner");const $i=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),"data-slot":"card",...e}));$i.displayName="Card";const Gf=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,className:Ve("flex flex-col space-y-1.5 bg-black/50 rounded-t-lg p-2",t),"data-slot":"card-header",...e}));Gf.displayName="CardHeader";const Av=K.forwardRef(({className:t,...e},r)=>N.jsx("h3",{ref:r,className:Ve("text-2xl font-semibold leading-none tracking-tight",t),"data-slot":"card-title",...e}));Av.displayName="CardTitle";const XB=K.forwardRef(({className:t,...e},r)=>N.jsx("p",{ref:r,className:Ve("text-sm text-muted-foreground",t),"data-slot":"card-description",...e}));XB.displayName="CardDescription";const Is=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,className:Ve("p-6 pt-0",t),"data-slot":"card-content",...e}));Is.displayName="CardContent";const Wf=K.forwardRef(({className:t,...e},r)=>N.jsx("div",{ref:r,className:Ve("flex items-center p-6 pt-0",t),"data-slot":"card-footer",...e}));Wf.displayName="CardFooter";function QB(){const[t,e]=K.useState(""),[r,i]=K.useState(""),[s,l]=K.useState(!1),[a,v]=K.useState(null),[g,h]=K.useState(null),[d,c]=K.useState(""),[y,b]=K.useState({}),w=K.useRef(null),[S,C]=K.useState(!1),[R,T]=K.useState(!1),{toast:P}=er();K.useEffect(()=>{const U=n(u=>{w.current&&!w.current.contains(u.target)&&v(null)},"handleClickOutside");return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]),K.useEffect(()=>{O()},[]);const O=n(async()=>{const u=await qt().system.getEnvironment();b(u)},"fetchLocalEnvs"),j=n(async()=>{await O(),h(null),v(null),e(""),i("")},"handleReset"),B=n(U=>{h(a),c(y[U]),v(null)},"handleEdit"),Z=n(U=>{const u={...y};delete u[U],b(u),v(null)},"handleRemove"),W=n(U=>{b({...y,[U]:d}),h(null)},"saveEdit"),ee=n(()=>{!t||!r||(b({...y,[t]:r}),e(""),i(""),h(null))},"addEnv"),$=n(()=>{console.log("API Key was saved")},"handleApiKeySaved");return N.jsxs("div",{className:"container max-w-4xl mx-auto p-6",children:[N.jsx(B7,{open:R,onOpenChange:T,onApiKeySaved:$}),N.jsxs("div",{className:"flex items-center justify-between mb-6",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold",children:"Env settings"}),N.jsx("p",{className:"text-muted-foreground mt-1",children:"Env settings"})]}),N.jsxs(qe,{onClick:n(()=>T(!0),"onClick"),"aria-label":"Manage API Key",children:[N.jsx(vs,{className:"h-5 w-5"}),"Manage API Key"]})]}),N.jsx($i,{children:N.jsx(Is,{className:"p-6",children:N.jsx("div",{className:"space-y-6",children:N.jsxs("div",{className:"rounded-lg w-full flex flex-col gap-3",children:[N.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Environment Settings"}),N.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-end w-full pb-4",children:[N.jsxs("div",{className:"flex flex-col gap-1",children:[N.jsx("label",{htmlFor:"secret-name",className:"ml-2 text-xs font-medium text-gray-400",children:"NAME"}),N.jsx(cr,{id:"secret-name",placeholder:"VARIABLE_NAME",value:t,onChange:n(U=>e(U.target.value),"onChange")})]}),N.jsxs("div",{className:"flex flex-col gap-1 relative",children:[N.jsx("label",{htmlFor:"secret-value",className:"ml-2 text-xs font-medium text-gray-400",children:"VALUE"}),N.jsxs("div",{className:"relative",children:[N.jsx(cr,{id:"secret-value",type:s?"text":"password",placeholder:"i9ju23nfsdf56",value:r,onChange:n(U=>i(U.target.value),"onChange"),className:"pr-10"}),N.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500",onClick:n(()=>l(!s),"onClick"),children:s?N.jsx(on,{}):N.jsx(Ri,{})})]})]}),N.jsx(qe,{className:"shrink-0",onClick:ee,children:"Add"})]}),Object.keys(y).length>0&&N.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 mt-6 font-medium text-gray-400 border-b pb-2 ml-1",children:[N.jsx("div",{children:"Name"}),N.jsx("div",{children:"Value"}),N.jsx("div",{children:"Action"})]}),N.jsx("div",{className:"mt-2",children:Object.entries(y).map(([U,u],m)=>N.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-center border-b py-2 ml-1 relative",children:[N.jsx("div",{className:"truncate max-w-48",children:U}),N.jsx("div",{children:g===m?N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(cr,{value:d,onChange:n(o=>c(o.target.value),"onChange"),className:"w-full"}),N.jsx(qe,{variant:"ghost",onClick:n(()=>W(U),"onClick"),children:N.jsx(qs,{className:"w-5 h-5 text-green-500"})}),N.jsx(qe,{variant:"ghost",onClick:n(()=>h(null),"onClick"),children:N.jsx(Wr,{className:"w-5 h-5 text-red-500"})})]}):N.jsx("div",{className:"truncate text-gray-500",children:"Encrypted"})}),N.jsxs("div",{className:"relative",children:[N.jsx(qe,{variant:"ghost",className:"p-2 text-gray-500",onClick:n(()=>v(a===m?null:m),"onClick"),children:N.jsx(q4,{className:"h-5 w-5"})}),a===m&&N.jsx("div",{ref:w,className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card ring-1 ring-black ring-opacity-5 z-10",children:N.jsxs("div",{className:"py-1",children:[N.jsx("button",{onClick:n(()=>B(U),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Edit"}),N.jsx("button",{onClick:n(()=>Z(U),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-accent",children:"Remove"})]})})]})]},m))})]})})})}),N.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[N.jsx(qe,{variant:"outline",onClick:j,children:"Reset"}),N.jsx(qe,{type:"submit",disabled:S,onClick:n(async()=>{C(!0);try{await qt().system.updateLocalEnvironment(y),P({title:"Success",description:"Environment variables updated successfully!"})}catch{P({title:"Error",description:"Failed to update environment variables.",variant:"destructive"})}finally{C(!1)}},"onClick"),children:"Save Changes"})]})]})}n(QB,"EnvSettings");const JB={10:"TRACE",20:"DEBUG",27:"SUCCESS",28:"PROGRESS",29:"LOG",30:"INFO",40:"WARN",50:"ERROR",60:"FATAL"};function v3(t){return JB[t]||"UNKNOWN"}n(v3,"getLevelName");function qB(t){return t>=50?"bg-red-600/80":t>=40?"bg-amber-600/80":t>=27?"bg-emerald-600/80":"bg-slate-500"}n(qB,"getLevelColor");function eF(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}n(eF,"formatTimestamp");function tF(t){const e=Date.now(),r=24,i={};for(let l=r-1;l>=0;l--){const a=new Date(e-l*60*60*1e3);a.setMinutes(0,0,0);const v=a.toISOString();i[v]={info:0,errors:0}}const s=e-1440*60*1e3;return t.forEach(l=>{if(l.time>=s){const a=new Date(l.time);a.setMinutes(0,0,0);const v=a.toISOString();i[v]&&(l.level>=50?i[v].errors++:i[v].info++)}}),Object.entries(i).map(([l,a])=>({timestamp:new Date(l),...a,total:a.info+a.errors}))}n(tF,"generateLogChart");function rF({data:t}){const e=Math.max(...t.map(r=>r.total),1);return N.jsxs("div",{className:"mb-6",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),N.jsxs("span",{className:"text-sm text-muted-foreground",children:["Info"," ",N.jsx("span",{className:"font-mono",children:t.reduce((r,i)=>r+i.info,0).toLocaleString()})]})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600/80"}),N.jsxs("span",{className:"text-sm text-muted-foreground",children:["Errors"," ",N.jsx("span",{className:"font-mono",children:t.reduce((r,i)=>r+i.errors,0).toLocaleString()})]})]})]}),N.jsxs("div",{className:"text-sm text-muted-foreground",children:[t[t.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," ","- (UTC-7)"]})]}),N.jsx("div",{className:"h-32 flex items-end gap-1 bg-muted/30 rounded p-4",children:t.map((r,i)=>N.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[N.jsx("div",{style:{height:`${r.info/e*100}%`},className:"bg-slate-500 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.info} info logs`},`${r.timestamp.getTime()}-info`),N.jsx("div",{style:{height:`${r.errors/e*100}%`},className:"bg-red-600/80 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.errors} error logs`},`${r.timestamp.getTime()}-errors`)]},i))}),N.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[N.jsx("span",{children:t[0]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),N.jsx("span",{children:t[t.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit"})})]})]})}n(rF,"LogChart");function iF(){return N.jsx("div",{className:"flex items-center justify-center py-8",children:N.jsxs("div",{className:"flex flex-col items-center gap-4",children:[N.jsx(so,{className:"h-8 w-8 animate-spin text-muted-foreground"}),N.jsxs("div",{className:"text-center",children:[N.jsx("h3",{className:"font-medium",children:"Loading Logs"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching system logs..."})]})]})})}n(iF,"LoadingIndicator$1");function nF({selectedLevel:t,searchQuery:e}){return N.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[N.jsx(Rn,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),N.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Logs Found"}),N.jsx("p",{className:"text-muted-foreground max-w-md",children:e?`No logs match "${e}". Try adjusting your search or filter.`:t==="all"?"No logs available. Logs will appear here as the system generates them.":`No ${t.toUpperCase()} logs found.`})]})}n(nF,"EmptyState$1");function u9({agentName:t,level:e}){const[r,i]=K.useState(e||"all"),[s,l]=K.useState(t||"all"),[a,v]=K.useState(""),[g,h]=K.useState("7 days"),[d,c]=K.useState(!0),[y,b]=K.useState(!1),[w,S]=K.useState([]),[C,R]=K.useState(!1),T=vr(),{confirm:P,isOpen:O,onOpenChange:j,onConfirm:B,options:Z}=Rs(),{data:W,isLoading:ee,error:$,refetch:U}=Ar({queryKey:["logs",r,s],queryFn:n(async()=>await qt().system.getGlobalLogs({level:r==="all"?"":r,agentName:s==="all"?void 0:s}),"queryFn"),refetchInterval:d&&!C?5e3:!1,staleTime:1e3,enabled:!0}),{data:u}=_v(),m=K.useCallback(I=>{(r==="all"||v3(I.level).toLowerCase()===r.toLowerCase())&&(s==="all"||I.agentName===s)&&S(D=>[I,...D].slice(0,1e3))},[r,s]);K.useEffect(()=>{if(d&&C){const I=ri.getInstance();return I.subscribeToLogStream().catch(console.error),I.on("logStream",m),()=>{I.off("logStream",m),I.unsubscribeFromLogStream().catch(console.error)}}},[d,C,m]),K.useEffect(()=>{d?ri.isConnected()?R(!0):R(!1):(R(!1),S([]))},[d]),K.useEffect(()=>{C&&d&&ri.getInstance().updateLogStreamFilters({agentName:s,level:r}).catch(console.error)},[s,r,C,d]);const o=W?.logs||[];let p;C&&d&&w.length>0?p=w:p=o;const x=p.sort((I,L)=>L.time-I.time),A=W?.levels||[],k=u?.data?.agents?.map(I=>I.name)||[],M=x.filter(I=>{if(a.trim()){const L=a.toLowerCase();return[I.msg,I.agentName,I.roomId,v3(I.level),...Object.entries(I).filter(([F])=>!Number.isNaN(Number(F))).map(([F,z])=>String(z))].filter(Boolean).join(" ").toLowerCase().includes(L)}return!0}),f=tF(M),_=n(()=>{P({title:"Clear All Logs",description:"Are you sure you want to permanently delete all system logs? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{b(!0),await qt().system.deleteGlobalLogs(),T.invalidateQueries({queryKey:["logs"]}),C&&S([])}catch(I){console.error("Failed to clear logs:",I)}finally{b(!1)}})},"handleClearLogs"),E=n(()=>{C&&d?S([]):U&&U()},"handleRefresh");if(ee&&x.length===0)return N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx(iF,{})});if($){const I=$.message?.includes("404")||$.message?.includes("endpoint not found")||$.message?.includes("Not Found");return N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx("div",{className:"flex items-center justify-center flex-1",children:N.jsxs("div",{className:"text-center max-w-md",children:[N.jsx(Rn,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),N.jsx("h3",{className:"font-medium mb-2",children:I?"Global Logs API Not Available":"Failed to Load Logs"}),N.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:I?"The server does not have the global logs API endpoint configured. You can still view individual agent logs from the agent details pages.":`There was an error loading the system logs: ${$.message}`}),!I&&N.jsxs(qe,{variant:"outline",size:"sm",onClick:n(()=>U?.(),"onClick"),children:[N.jsx(zv,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})}return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-6 px-4 pt-4 flex-none",children:[N.jsxs(cs,{value:r,onValueChange:i,children:[N.jsxs(En,{className:"w-32 h-9",children:[N.jsx(KM,{className:"h-4 w-4 mr-2"}),N.jsx(hs,{placeholder:"Filter"})]}),N.jsxs(An,{children:[N.jsx(Jt,{value:"all",children:"ALL"}),A.map(I=>N.jsx(Jt,{value:I,children:I.toUpperCase()},I))]})]}),N.jsxs("div",{className:"relative flex-1 max-w-md",children:[N.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(cr,{placeholder:"Full-text log search",value:a,onChange:n(I=>v(I.target.value),"onChange"),className:"pl-10 h-9"})]}),k&&k.length>0&&!t&&N.jsxs(cs,{value:s,onValueChange:l,children:[N.jsx(En,{className:"w-40 h-9",children:N.jsx(hs,{placeholder:"Agent"})}),N.jsxs(An,{children:[N.jsx(Jt,{value:"all",children:"ALL AGENTS"}),k?.map(I=>N.jsx(Jt,{value:I,children:I},I))]})]}),N.jsxs(cs,{value:g,onValueChange:h,children:[N.jsxs(En,{className:"w-32 h-9",children:[N.jsx(rf,{className:"h-4 w-4 mr-2"}),N.jsx(hs,{})]}),N.jsxs(An,{children:[N.jsx(Jt,{value:"1 hour",children:"1 hour"}),N.jsx(Jt,{value:"6 hours",children:"6 hours"}),N.jsx(Jt,{value:"24 hours",children:"24 hours"}),N.jsx(Jt,{value:"7 days",children:"7 days"}),N.jsx(Jt,{value:"30 days",children:"30 days"})]})]}),N.jsx(qe,{variant:"outline",size:"sm",onClick:E,className:"h-9 w-9 p-0",children:N.jsx(zv,{className:"h-4 w-4"})}),N.jsxs(qe,{variant:d?"default":"outline",size:"sm",onClick:n(()=>c(!d),"onClick"),className:"h-9 px-3",title:d?C?"Live mode (WebSocket)":"Live mode (Polling)":"Live mode disabled",children:[N.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${d?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),"Live"]})]}),N.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:M.length===0?N.jsx(nF,{selectedLevel:r,searchQuery:a}):N.jsxs("div",{className:"space-y-6",children:[N.jsx(rF,{data:f}),N.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[N.jsx("div",{className:"bg-muted/50 border-b px-4 py-3",children:N.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4",children:[N.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),N.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Message"})]})}),N.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:M.slice(0,100).map((I,L)=>N.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 px-4 py-3 hover:bg-muted/30 transition-colors",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-1 h-6 rounded-full ${qB(I.level)}`}),N.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:eF(I.time)})]}),N.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[N.jsx("div",{className:"font-mono text-sm leading-relaxed break-all",children:I.msg}),I.agentName&&N.jsx(di,{variant:"secondary",className:"text-xs flex-shrink-0",children:I.agentName})]})]},`${I.time}-${I.msg}-${L}`))}),M.length>100&&N.jsx("div",{className:"border-t bg-muted/30 px-4 py-3 text-center",children:N.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing first 100 of ",M.length.toLocaleString()," logs"]})})]})]})}),N.jsxs("div",{className:"border-t bg-muted/30 px-4 py-3 flex items-center justify-between",children:[N.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:d&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),N.jsxs("span",{children:["Live updates enabled ",C?"(streaming)":"(polling)"]})]})}),N.jsxs(qe,{variant:"destructive",size:"sm",onClick:_,disabled:y,className:"h-8 px-3 text-xs",children:[N.jsx(gs,{className:"h-3 w-3 mr-1"}),y?"Clearing...":"Clear All Logs"]})]})]}),N.jsx(Cs,{open:O,onOpenChange:j,title:Z?.title||"",description:Z?.description||"",confirmText:Z?.confirmText,cancelText:Z?.cancelText,variant:Z?.variant,onConfirm:B})]})}n(u9,"AgentLogViewer");const b3="eliza-onboarding-completed",sF=n(()=>{const[t,e]=K.useState(()=>{try{return localStorage.getItem(b3)==="true"}catch(s){return We.error("Error accessing localStorage:",s),!1}});return K.useEffect(()=>{try{localStorage.setItem(b3,t.toString())}catch(s){We.error("Error writing to localStorage:",s)}},[t]),{onboardingCompleted:t,completeOnboarding:n(()=>{e(!0)},"completeOnboarding"),resetOnboarding:n(()=>{e(!1)},"resetOnboarding")}},"useOnboarding");function aF(){const{onboardingCompleted:t,completeOnboarding:e}=sF(),[r,i]=K.useState(!1),s=ef(),[l,a]=K.useState(0),v=[{target:".sidebar-logo",content:"Welcome to ElizaOS! This is your gateway to creating and managing intelligent AI agents.",disableBeacon:!0,title:"Welcome to ElizaOS"},{target:".sidebar-create-button",content:"This is your main creation button. Click here to create new agents or rooms quickly.",title:"Create Button"},{target:".sidebar-online-section, .sidebar-offline-section",content:"Your agents are organized here. Online agents (green dot) are ready to chat, while offline agents need to be activated first.",title:"Your Agents"},{target:".sidebar-groups-section",content:"Access your agent groups from here to see collaborative conversations between multiple agents.",title:"Groups Navigation"},{target:".sidebar-docs-button, .sidebar-logs-button, .sidebar-settings-button",content:"Access documentation, system logs, and global settings from these utility buttons.",title:"System Utilities"},{target:".sidebar-connection-status",content:"This indicator shows your connection status to the ElizaOS server.",title:"Connection Status"},{target:".agents-section",content:'This is your main workspace showing all your agents. Active agents have a green dot, while inactive ones appear grayed out with an "Offline" label.',title:"Agent Dashboard"},{target:".message-button, .start-button",content:'Click "Message" to chat with active agents, or "Start" to activate offline agents first.',title:"Agent Interaction"},{target:".agent-info-button, .agent-settings-button",content:"View agent details or configure settings using these buttons on each agent card.",title:"Agent Management"},{target:".groups-section",content:"This section displays your agent groups for collaborative interactions between multiple agents.",title:"Agent Groups"},{target:".groups-create-button",content:"Create a new group by clicking this button. Groups allow multiple agents to interact together.",title:"Create New Group"},{target:".create-agent-button",content:"Let's create your first agent! Click this button to get started.",title:"Create Your First Agent",spotlightClicks:!0}],g=[{target:".agent-form-name",content:"Give your agent a name that reflects its purpose or personality.",title:"Name Your Agent",disableBeacon:!0},{target:".agent-form-system-prompt",content:"The system prompt defines your agent's behavior and capabilities. This is the most important field for shaping how your agent will respond.",title:"Define Agent Behavior"},{target:".tabs-list",content:"Switch between these tabs to configure different aspects of your agent such as content, style, plugins, and appearance.",title:"Configuration Tabs"},{target:".agent-form-submit",content:"Click Save to create your agent and return to the dashboard.",title:"Save Your Agent",spotlightClicks:!0}],h=s.pathname==="/"?v:s.pathname==="/create"?g:[];K.useEffect(()=>{if(s.pathname==="/"&&!t&&l===0){const c=setTimeout(()=>{i(!0)},1e3);return()=>clearTimeout(c)}else if(s.pathname==="/create"&&!t&&l===1){const c=setTimeout(()=>{i(!0)},1e3);return()=>clearTimeout(c)}else i(!1)},[s.pathname,t,l]);const d=n(c=>{const{status:y,index:b,type:w,action:S}=c;s.pathname==="/"&&w==="step:after"&&b===v.length-1&&(a(1),i(!1)),(y===$v.FINISHED||y===$v.SKIPPED||S===XM.CLOSE)&&(e(),i(!1))},"handleJoyrideCallback");return t||h.length===0?null:N.jsx(YM,{callback:d,continuous:!0,run:r,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:h,floaterProps:{disableAnimation:!1,styles:{floater:{filter:"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.25))"}}},styles:{options:{primaryColor:"#3b82f6",backgroundColor:"#1f2937",textColor:"#f3f4f6",overlayColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,arrowColor:"#1f2937",beaconSize:36},tooltip:{fontSize:"14px",padding:"16px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},tooltipContent:{padding:"5px 0",fontSize:"14px",lineHeight:"1.5"},buttonClose:{color:"#9ca3af",opacity:.8},buttonBack:{color:"#9ca3af",fontSize:"14px",fontWeight:"500",padding:"8px 12px",borderRadius:"6px",marginRight:"8px",transition:"background-color 0.2s ease"},buttonNext:{backgroundColor:"#3b82f6",fontSize:"14px",fontWeight:"500",padding:"8px 16px",borderRadius:"6px",color:"white",border:"none",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSkip:{color:"#9ca3af",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",transition:"background-color 0.2s ease"},spotlight:{borderRadius:"8px",backgroundColor:"transparent"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}})}n(aF,"OnboardingTour");const oF=QM,f9=K.forwardRef(({className:t,...e},r)=>N.jsx(mx,{ref:r,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));f9.displayName=mx.displayName;const lF=mn("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c9=K.forwardRef(({className:t,variant:e,...r},i)=>N.jsx(cx,{ref:i,className:Ve(lF({variant:e}),t),...r}));c9.displayName=cx.displayName;const h9=K.forwardRef(({className:t,...e},r)=>N.jsx(fx,{ref:r,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));h9.displayName=fx.displayName;const d9=K.forwardRef(({className:t,...e},r)=>N.jsx(px,{ref:r,className:Ve("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:N.jsx(Wr,{className:"h-4 w-4"})}));d9.displayName=px.displayName;const p9=K.forwardRef(({className:t,...e},r)=>N.jsx(hx,{ref:r,className:Ve("text-sm font-semibold [&+div]:text-xs",t),...e}));p9.displayName=hx.displayName;const m9=K.forwardRef(({className:t,...e},r)=>N.jsx(dx,{ref:r,className:Ve("text-sm opacity-90",t),...e}));m9.displayName=dx.displayName;function uF(){const{toasts:t}=er();return N.jsxs(oF,{children:[t.map(({id:e,title:r,description:i,action:s,...l})=>N.jsxs(c9,{...l,children:[N.jsxs("div",{className:"grid gap-1",children:[r&&N.jsx(p9,{children:r}),i&&N.jsx(m9,{children:i})]}),s,N.jsx(d9,{})]},e)),N.jsx(f9,{})]})}n(uF,"Toaster");var Ql={exports:{}},ip,y3;function Kf(){if(y3)return ip;y3=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,s=e-6;return ip={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ip}n(Kf,"requireConstants");var np,w3;function Yf(){if(w3)return np;w3=1;var t={};return np=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},np}n(Yf,"requireDebug");var x3;function dl(){return x3||(x3=1,(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=Kf(),l=Yf();e=t.exports={};const a=e.re=[],v=e.safeRe=[],g=e.src=[],h=e.safeSrc=[],d=e.t={};let c=0;const y="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",s],[y,i]],w=n(C=>{for(const[R,T]of b)C=C.split(`${R}*`).join(`${R}{0,${T}}`).split(`${R}+`).join(`${R}{1,${T}}`);return C},"makeSafeRegex"),S=n((C,R,T)=>{const P=w(R),O=c++;l(C,O,R),d[C]=O,g[O]=R,h[O]=P,a[O]=new RegExp(R,T?"g":void 0),v[O]=new RegExp(P,T?"g":void 0)},"createToken");S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),S("MAINVERSION",`(${g[d.NUMERICIDENTIFIER]})\\.(${g[d.NUMERICIDENTIFIER]})\\.(${g[d.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${g[d.NUMERICIDENTIFIERLOOSE]})\\.(${g[d.NUMERICIDENTIFIERLOOSE]})\\.(${g[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${g[d.NONNUMERICIDENTIFIER]}|${g[d.NUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${g[d.NONNUMERICIDENTIFIER]}|${g[d.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASE",`(?:-(${g[d.PRERELEASEIDENTIFIER]}(?:\\.${g[d.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${g[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[d.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${y}+`),S("BUILD",`(?:\\+(${g[d.BUILDIDENTIFIER]}(?:\\.${g[d.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${g[d.MAINVERSION]}${g[d.PRERELEASE]}?${g[d.BUILD]}?`),S("FULL",`^${g[d.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${g[d.MAINVERSIONLOOSE]}${g[d.PRERELEASELOOSE]}?${g[d.BUILD]}?`),S("LOOSE",`^${g[d.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${g[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${g[d.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${g[d.XRANGEIDENTIFIER]})(?:\\.(${g[d.XRANGEIDENTIFIER]})(?:\\.(${g[d.XRANGEIDENTIFIER]})(?:${g[d.PRERELEASE]})?${g[d.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${g[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[d.XRANGEIDENTIFIERLOOSE]})(?:${g[d.PRERELEASELOOSE]})?${g[d.BUILD]}?)?)?`),S("XRANGE",`^${g[d.GTLT]}\\s*${g[d.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${g[d.GTLT]}\\s*${g[d.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${g[d.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",g[d.COERCEPLAIN]+`(?:${g[d.PRERELEASE]})?(?:${g[d.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",g[d.COERCE],!0),S("COERCERTLFULL",g[d.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${g[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",S("TILDE",`^${g[d.LONETILDE]}${g[d.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${g[d.LONETILDE]}${g[d.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${g[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",S("CARET",`^${g[d.LONECARET]}${g[d.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${g[d.LONECARET]}${g[d.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${g[d.GTLT]}\\s*(${g[d.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${g[d.GTLT]}\\s*(${g[d.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${g[d.GTLT]}\\s*(${g[d.LOOSEPLAIN]}|${g[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${g[d.XRANGEPLAIN]})\\s+-\\s+(${g[d.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${g[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[d.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ql,Ql.exports)),Ql.exports}n(dl,"requireRe");var sp,_3;function kv(){if(_3)return sp;_3=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return sp=n(i=>i?typeof i!="object"?t:i:e,"parseOptions"),sp}n(kv,"requireParseOptions");var ap,M3;function g9(){if(M3)return ap;M3=1;const t=/^[0-9]+$/,e=n((i,s)=>{const l=t.test(i),a=t.test(s);return l&&a&&(i=+i,s=+s),i===s?0:l&&!a?-1:a&&!l?1:i<s?-1:1},"compareIdentifiers");return ap={compareIdentifiers:e,rcompareIdentifiers:n((i,s)=>e(s,i),"rcompareIdentifiers")},ap}n(g9,"requireIdentifiers");var op,S3;function Tr(){if(S3)return op;S3=1;const t=Yf(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=Kf(),{safeRe:i,t:s}=dl(),l=kv(),{compareIdentifiers:a}=g9();class v{static{n(this,"SemVer")}constructor(h,d){if(d=l(d),h instanceof v){if(h.loose===!!d.loose&&h.includePrerelease===!!d.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",h,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const c=h.trim().match(d.loose?i[s.LOOSE]:i[s.FULL]);if(!c)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){const b=+y;if(b>=0&&b<r)return b}return y}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof v)){if(typeof h=="string"&&h===this.version)return 0;h=new v(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof v||(h=new v(h,this.options)),a(this.major,h.major)||a(this.minor,h.minor)||a(this.patch,h.patch)}comparePre(h){if(h instanceof v||(h=new v(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let d=0;do{const c=this.prerelease[d],y=h.prerelease[d];if(t("prerelease compare",d,c,y),c===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(c===void 0)return-1;if(c===y)continue;return a(c,y)}while(++d)}compareBuild(h){h instanceof v||(h=new v(h,this.options));let d=0;do{const c=this.build[d],y=h.build[d];if(t("build compare",d,c,y),c===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(c===void 0)return-1;if(c===y)continue;return a(c,y)}while(++d)}inc(h,d,c){if(h.startsWith("pre")){if(!d&&c===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const y=`-${d}`.match(this.options.loose?i[s.PRERELEASELOOSE]:i[s.PRERELEASE]);if(!y||y[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,c),this.inc("pre",d,c);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,c),this.inc("pre",d,c);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const y=Number(c)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let b=this.prerelease.length;for(;--b>=0;)typeof this.prerelease[b]=="number"&&(this.prerelease[b]++,b=-2);if(b===-1){if(d===this.prerelease.join(".")&&c===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(d){let b=[d,y];c===!1&&(b=[d]),a(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=b):this.prerelease=b}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return op=v,op}n(Tr,"requireSemver$1");var lp,E3;function ya(){if(E3)return lp;E3=1;const t=Tr();return lp=n((r,i,s=!1)=>{if(r instanceof t)return r;try{return new t(r,i)}catch(l){if(!s)return null;throw l}},"parse"),lp}n(ya,"requireParse");var up,A3;function fF(){if(A3)return up;A3=1;const t=ya();return up=n((r,i)=>{const s=t(r,i);return s?s.version:null},"valid"),up}n(fF,"requireValid$1");var fp,k3;function cF(){if(k3)return fp;k3=1;const t=ya();return fp=n((r,i)=>{const s=t(r.trim().replace(/^[=v]+/,""),i);return s?s.version:null},"clean"),fp}n(cF,"requireClean");var cp,N3;function hF(){if(N3)return cp;N3=1;const t=Tr();return cp=n((r,i,s,l,a)=>{typeof s=="string"&&(a=l,l=s,s=void 0);try{return new t(r instanceof t?r.version:r,s).inc(i,l,a).version}catch{return null}},"inc"),cp}n(hF,"requireInc");var hp,C3;function dF(){if(C3)return hp;C3=1;const t=ya();return hp=n((r,i)=>{const s=t(r,null,!0),l=t(i,null,!0),a=s.compare(l);if(a===0)return null;const v=a>0,g=v?s:l,h=v?l:s,d=!!g.prerelease.length;if(!!h.prerelease.length&&!d){if(!h.patch&&!h.minor)return"major";if(h.compareMain(g)===0)return h.minor&&!h.patch?"minor":"patch"}const y=d?"pre":"";return s.major!==l.major?y+"major":s.minor!==l.minor?y+"minor":s.patch!==l.patch?y+"patch":"prerelease"},"diff"),hp}n(dF,"requireDiff");var dp,R3;function pF(){if(R3)return dp;R3=1;const t=Tr();return dp=n((r,i)=>new t(r,i).major,"major"),dp}n(pF,"requireMajor");var pp,I3;function mF(){if(I3)return pp;I3=1;const t=Tr();return pp=n((r,i)=>new t(r,i).minor,"minor"),pp}n(mF,"requireMinor");var mp,T3;function gF(){if(T3)return mp;T3=1;const t=Tr();return mp=n((r,i)=>new t(r,i).patch,"patch"),mp}n(gF,"requirePatch");var gp,P3;function vF(){if(P3)return gp;P3=1;const t=ya();return gp=n((r,i)=>{const s=t(r,i);return s&&s.prerelease.length?s.prerelease:null},"prerelease"),gp}n(vF,"requirePrerelease");var vp,O3;function Ai(){if(O3)return vp;O3=1;const t=Tr();return vp=n((r,i,s)=>new t(r,s).compare(new t(i,s)),"compare"),vp}n(Ai,"requireCompare");var bp,j3;function bF(){if(j3)return bp;j3=1;const t=Ai();return bp=n((r,i,s)=>t(i,r,s),"rcompare"),bp}n(bF,"requireRcompare");var yp,L3;function yF(){if(L3)return yp;L3=1;const t=Ai();return yp=n((r,i)=>t(r,i,!0),"compareLoose"),yp}n(yF,"requireCompareLoose");var wp,D3;function Nv(){if(D3)return wp;D3=1;const t=Tr();return wp=n((r,i,s)=>{const l=new t(r,s),a=new t(i,s);return l.compare(a)||l.compareBuild(a)},"compareBuild"),wp}n(Nv,"requireCompareBuild");var xp,B3;function wF(){if(B3)return xp;B3=1;const t=Nv();return xp=n((r,i)=>r.sort((s,l)=>t(s,l,i)),"sort"),xp}n(wF,"requireSort");var _p,F3;function xF(){if(F3)return _p;F3=1;const t=Nv();return _p=n((r,i)=>r.sort((s,l)=>t(l,s,i)),"rsort"),_p}n(xF,"requireRsort");var Mp,U3;function Xf(){if(U3)return Mp;U3=1;const t=Ai();return Mp=n((r,i,s)=>t(r,i,s)>0,"gt"),Mp}n(Xf,"requireGt");var Sp,z3;function Cv(){if(z3)return Sp;z3=1;const t=Ai();return Sp=n((r,i,s)=>t(r,i,s)<0,"lt"),Sp}n(Cv,"requireLt");var Ep,$3;function v9(){if($3)return Ep;$3=1;const t=Ai();return Ep=n((r,i,s)=>t(r,i,s)===0,"eq"),Ep}n(v9,"requireEq");var Ap,H3;function b9(){if(H3)return Ap;H3=1;const t=Ai();return Ap=n((r,i,s)=>t(r,i,s)!==0,"neq"),Ap}n(b9,"requireNeq");var kp,Z3;function Rv(){if(Z3)return kp;Z3=1;const t=Ai();return kp=n((r,i,s)=>t(r,i,s)>=0,"gte"),kp}n(Rv,"requireGte");var Np,V3;function Iv(){if(V3)return Np;V3=1;const t=Ai();return Np=n((r,i,s)=>t(r,i,s)<=0,"lte"),Np}n(Iv,"requireLte");var Cp,G3;function y9(){if(G3)return Cp;G3=1;const t=v9(),e=b9(),r=Xf(),i=Rv(),s=Cv(),l=Iv();return Cp=n((v,g,h,d)=>{switch(g){case"===":return typeof v=="object"&&(v=v.version),typeof h=="object"&&(h=h.version),v===h;case"!==":return typeof v=="object"&&(v=v.version),typeof h=="object"&&(h=h.version),v!==h;case"":case"=":case"==":return t(v,h,d);case"!=":return e(v,h,d);case">":return r(v,h,d);case">=":return i(v,h,d);case"<":return s(v,h,d);case"<=":return l(v,h,d);default:throw new TypeError(`Invalid operator: ${g}`)}},"cmp"),Cp}n(y9,"requireCmp");var Rp,W3;function _F(){if(W3)return Rp;W3=1;const t=Tr(),e=ya(),{safeRe:r,t:i}=dl();return Rp=n((l,a)=>{if(l instanceof t)return l;if(typeof l=="number"&&(l=String(l)),typeof l!="string")return null;a=a||{};let v=null;if(!a.rtl)v=l.match(a.includePrerelease?r[i.COERCEFULL]:r[i.COERCE]);else{const b=a.includePrerelease?r[i.COERCERTLFULL]:r[i.COERCERTL];let w;for(;(w=b.exec(l))&&(!v||v.index+v[0].length!==l.length);)(!v||w.index+w[0].length!==v.index+v[0].length)&&(v=w),b.lastIndex=w.index+w[1].length+w[2].length;b.lastIndex=-1}if(v===null)return null;const g=v[2],h=v[3]||"0",d=v[4]||"0",c=a.includePrerelease&&v[5]?`-${v[5]}`:"",y=a.includePrerelease&&v[6]?`+${v[6]}`:"";return e(`${g}.${h}.${d}${c}${y}`,a)},"coerce"),Rp}n(_F,"requireCoerce");var Ip,K3;function MF(){if(K3)return Ip;K3=1;class t{static{n(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(r){const i=this.map.get(r);if(i!==void 0)return this.map.delete(r),this.map.set(r,i),i}delete(r){return this.map.delete(r)}set(r,i){if(!this.delete(r)&&i!==void 0){if(this.map.size>=this.max){const l=this.map.keys().next().value;this.delete(l)}this.map.set(r,i)}return this}}return Ip=t,Ip}n(MF,"requireLrucache");var Tp,Y3;function ki(){if(Y3)return Tp;Y3=1;const t=/\s+/g;class e{static{n(this,"Range")}constructor(p,x){if(x=s(x),p instanceof e)return p.loose===!!x.loose&&p.includePrerelease===!!x.includePrerelease?p:new e(p.raw,x);if(p instanceof l)return this.raw=p.value,this.set=[[p]],this.formatted=void 0,this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=p.trim().replace(t," "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(k=>!S(k[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&C(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let p=0;p<this.set.length;p++){p>0&&(this.formatted+="||");const x=this.set[p];for(let A=0;A<x.length;A++)A>0&&(this.formatted+=" "),this.formatted+=x[A].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(p){const A=((this.options.includePrerelease&&b)|(this.options.loose&&w))+":"+p,k=i.get(A);if(k)return k;const M=this.options.loose,f=M?g[h.HYPHENRANGELOOSE]:g[h.HYPHENRANGE];p=p.replace(f,u(this.options.includePrerelease)),a("hyphen replace",p),p=p.replace(g[h.COMPARATORTRIM],d),a("comparator trim",p),p=p.replace(g[h.TILDETRIM],c),a("tilde trim",p),p=p.replace(g[h.CARETTRIM],y),a("caret trim",p);let _=p.split(" ").map(D=>T(D,this.options)).join(" ").split(/\s+/).map(D=>U(D,this.options));M&&(_=_.filter(D=>(a("loose invalid filter",D,this.options),!!D.match(g[h.COMPARATORLOOSE])))),a("range list",_);const E=new Map,I=_.map(D=>new l(D,this.options));for(const D of I){if(S(D))return[D];E.set(D.value,D)}E.size>1&&E.has("")&&E.delete("");const L=[...E.values()];return i.set(A,L),L}intersects(p,x){if(!(p instanceof e))throw new TypeError("a Range is required");return this.set.some(A=>R(A,x)&&p.set.some(k=>R(k,x)&&A.every(M=>k.every(f=>M.intersects(f,x)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new v(p,this.options)}catch{return!1}for(let x=0;x<this.set.length;x++)if(m(this.set[x],p,this.options))return!0;return!1}}Tp=e;const r=MF(),i=new r,s=kv(),l=Qf(),a=Yf(),v=Tr(),{safeRe:g,t:h,comparatorTrimReplace:d,tildeTrimReplace:c,caretTrimReplace:y}=dl(),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:w}=Kf(),S=n(o=>o.value==="<0.0.0-0","isNullSet"),C=n(o=>o.value==="","isAny"),R=n((o,p)=>{let x=!0;const A=o.slice();let k=A.pop();for(;x&&A.length;)x=A.every(M=>k.intersects(M,p)),k=A.pop();return x},"isSatisfiable"),T=n((o,p)=>(a("comp",o,p),o=B(o,p),a("caret",o),o=O(o,p),a("tildes",o),o=W(o,p),a("xrange",o),o=$(o,p),a("stars",o),o),"parseComparator"),P=n(o=>!o||o.toLowerCase()==="x"||o==="*","isX"),O=n((o,p)=>o.trim().split(/\s+/).map(x=>j(x,p)).join(" "),"replaceTildes"),j=n((o,p)=>{const x=p.loose?g[h.TILDELOOSE]:g[h.TILDE];return o.replace(x,(A,k,M,f,_)=>{a("tilde",o,A,k,M,f,_);let E;return P(k)?E="":P(M)?E=`>=${k}.0.0 <${+k+1}.0.0-0`:P(f)?E=`>=${k}.${M}.0 <${k}.${+M+1}.0-0`:_?(a("replaceTilde pr",_),E=`>=${k}.${M}.${f}-${_} <${k}.${+M+1}.0-0`):E=`>=${k}.${M}.${f} <${k}.${+M+1}.0-0`,a("tilde return",E),E})},"replaceTilde"),B=n((o,p)=>o.trim().split(/\s+/).map(x=>Z(x,p)).join(" "),"replaceCarets"),Z=n((o,p)=>{a("caret",o,p);const x=p.loose?g[h.CARETLOOSE]:g[h.CARET],A=p.includePrerelease?"-0":"";return o.replace(x,(k,M,f,_,E)=>{a("caret",o,k,M,f,_,E);let I;return P(M)?I="":P(f)?I=`>=${M}.0.0${A} <${+M+1}.0.0-0`:P(_)?M==="0"?I=`>=${M}.${f}.0${A} <${M}.${+f+1}.0-0`:I=`>=${M}.${f}.0${A} <${+M+1}.0.0-0`:E?(a("replaceCaret pr",E),M==="0"?f==="0"?I=`>=${M}.${f}.${_}-${E} <${M}.${f}.${+_+1}-0`:I=`>=${M}.${f}.${_}-${E} <${M}.${+f+1}.0-0`:I=`>=${M}.${f}.${_}-${E} <${+M+1}.0.0-0`):(a("no pr"),M==="0"?f==="0"?I=`>=${M}.${f}.${_}${A} <${M}.${f}.${+_+1}-0`:I=`>=${M}.${f}.${_}${A} <${M}.${+f+1}.0-0`:I=`>=${M}.${f}.${_} <${+M+1}.0.0-0`),a("caret return",I),I})},"replaceCaret"),W=n((o,p)=>(a("replaceXRanges",o,p),o.split(/\s+/).map(x=>ee(x,p)).join(" ")),"replaceXRanges"),ee=n((o,p)=>{o=o.trim();const x=p.loose?g[h.XRANGELOOSE]:g[h.XRANGE];return o.replace(x,(A,k,M,f,_,E)=>{a("xRange",o,A,k,M,f,_,E);const I=P(M),L=I||P(f),D=L||P(_),F=D;return k==="="&&F&&(k=""),E=p.includePrerelease?"-0":"",I?k===">"||k==="<"?A="<0.0.0-0":A="*":k&&F?(L&&(f=0),_=0,k===">"?(k=">=",L?(M=+M+1,f=0,_=0):(f=+f+1,_=0)):k==="<="&&(k="<",L?M=+M+1:f=+f+1),k==="<"&&(E="-0"),A=`${k+M}.${f}.${_}${E}`):L?A=`>=${M}.0.0${E} <${+M+1}.0.0-0`:D&&(A=`>=${M}.${f}.0${E} <${M}.${+f+1}.0-0`),a("xRange return",A),A})},"replaceXRange"),$=n((o,p)=>(a("replaceStars",o,p),o.trim().replace(g[h.STAR],"")),"replaceStars"),U=n((o,p)=>(a("replaceGTE0",o,p),o.trim().replace(g[p.includePrerelease?h.GTE0PRE:h.GTE0],"")),"replaceGTE0"),u=n(o=>(p,x,A,k,M,f,_,E,I,L,D,F)=>(P(A)?x="":P(k)?x=`>=${A}.0.0${o?"-0":""}`:P(M)?x=`>=${A}.${k}.0${o?"-0":""}`:f?x=`>=${x}`:x=`>=${x}${o?"-0":""}`,P(I)?E="":P(L)?E=`<${+I+1}.0.0-0`:P(D)?E=`<${I}.${+L+1}.0-0`:F?E=`<=${I}.${L}.${D}-${F}`:o?E=`<${I}.${L}.${+D+1}-0`:E=`<=${E}`,`${x} ${E}`.trim()),"hyphenReplace"),m=n((o,p,x)=>{for(let A=0;A<o.length;A++)if(!o[A].test(p))return!1;if(p.prerelease.length&&!x.includePrerelease){for(let A=0;A<o.length;A++)if(a(o[A].semver),o[A].semver!==l.ANY&&o[A].semver.prerelease.length>0){const k=o[A].semver;if(k.major===p.major&&k.minor===p.minor&&k.patch===p.patch)return!0}return!1}return!0},"testSet");return Tp}n(ki,"requireRange");var Pp,X3;function Qf(){if(X3)return Pp;X3=1;const t=Symbol("SemVer ANY");class e{static{n(this,"Comparator")}static get ANY(){return t}constructor(d,c){if(c=r(c),d instanceof e){if(d.loose===!!c.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),a("comparator",d,c),this.options=c,this.loose=!!c.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(d){const c=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],y=d.match(c);if(!y)throw new TypeError(`Invalid comparator: ${d}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new v(y[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(a("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new v(d,this.options)}catch{return!1}return l(d,this.operator,this.semver,this.options)}intersects(d,c){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new g(d.value,c).test(this.value):d.operator===""?d.value===""?!0:new g(this.value,c).test(d.semver):(c=r(c),c.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!c.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||l(this.semver,"<",d.semver,c)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||l(this.semver,">",d.semver,c)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Pp=e;const r=kv(),{safeRe:i,t:s}=dl(),l=y9(),a=Yf(),v=Tr(),g=ki();return Pp}n(Qf,"requireComparator");var Op,Q3;function Jf(){if(Q3)return Op;Q3=1;const t=ki();return Op=n((r,i,s)=>{try{i=new t(i,s)}catch{return!1}return i.test(r)},"satisfies"),Op}n(Jf,"requireSatisfies");var jp,J3;function SF(){if(J3)return jp;J3=1;const t=ki();return jp=n((r,i)=>new t(r,i).set.map(s=>s.map(l=>l.value).join(" ").trim().split(" ")),"toComparators"),jp}n(SF,"requireToComparators");var Lp,q3;function EF(){if(q3)return Lp;q3=1;const t=Tr(),e=ki();return Lp=n((i,s,l)=>{let a=null,v=null,g=null;try{g=new e(s,l)}catch{return null}return i.forEach(h=>{g.test(h)&&(!a||v.compare(h)===-1)&&(a=h,v=new t(a,l))}),a},"maxSatisfying"),Lp}n(EF,"requireMaxSatisfying");var Dp,e4;function AF(){if(e4)return Dp;e4=1;const t=Tr(),e=ki();return Dp=n((i,s,l)=>{let a=null,v=null,g=null;try{g=new e(s,l)}catch{return null}return i.forEach(h=>{g.test(h)&&(!a||v.compare(h)===1)&&(a=h,v=new t(a,l))}),a},"minSatisfying"),Dp}n(AF,"requireMinSatisfying");var Bp,t4;function kF(){if(t4)return Bp;t4=1;const t=Tr(),e=ki(),r=Xf();return Bp=n((s,l)=>{s=new e(s,l);let a=new t("0.0.0");if(s.test(a)||(a=new t("0.0.0-0"),s.test(a)))return a;a=null;for(let v=0;v<s.set.length;++v){const g=s.set[v];let h=null;g.forEach(d=>{const c=new t(d.semver.version);switch(d.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!h||r(c,h))&&(h=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),h&&(!a||r(a,h))&&(a=h)}return a&&s.test(a)?a:null},"minVersion"),Bp}n(kF,"requireMinVersion");var Fp,r4;function NF(){if(r4)return Fp;r4=1;const t=ki();return Fp=n((r,i)=>{try{return new t(r,i).range||"*"}catch{return null}},"validRange"),Fp}n(NF,"requireValid");var Up,i4;function Tv(){if(i4)return Up;i4=1;const t=Tr(),e=Qf(),{ANY:r}=e,i=ki(),s=Jf(),l=Xf(),a=Cv(),v=Iv(),g=Rv();return Up=n((d,c,y,b)=>{d=new t(d,b),c=new i(c,b);let w,S,C,R,T;switch(y){case">":w=l,S=v,C=a,R=">",T=">=";break;case"<":w=a,S=g,C=l,R="<",T="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(d,c,b))return!1;for(let P=0;P<c.set.length;++P){const O=c.set[P];let j=null,B=null;if(O.forEach(Z=>{Z.semver===r&&(Z=new e(">=0.0.0")),j=j||Z,B=B||Z,w(Z.semver,j.semver,b)?j=Z:C(Z.semver,B.semver,b)&&(B=Z)}),j.operator===R||j.operator===T||(!B.operator||B.operator===R)&&S(d,B.semver))return!1;if(B.operator===T&&C(d,B.semver))return!1}return!0},"outside"),Up}n(Tv,"requireOutside");var zp,n4;function CF(){if(n4)return zp;n4=1;const t=Tv();return zp=n((r,i,s)=>t(r,i,">",s),"gtr"),zp}n(CF,"requireGtr");var $p,s4;function RF(){if(s4)return $p;s4=1;const t=Tv();return $p=n((r,i,s)=>t(r,i,"<",s),"ltr"),$p}n(RF,"requireLtr");var Hp,a4;function IF(){if(a4)return Hp;a4=1;const t=ki();return Hp=n((r,i,s)=>(r=new t(r,s),i=new t(i,s),r.intersects(i,s)),"intersects"),Hp}n(IF,"requireIntersects");var Zp,o4;function TF(){if(o4)return Zp;o4=1;const t=Jf(),e=Ai();return Zp=n((r,i,s)=>{const l=[];let a=null,v=null;const g=r.sort((y,b)=>e(y,b,s));for(const y of g)t(y,i,s)?(v=y,a||(a=y)):(v&&l.push([a,v]),v=null,a=null);a&&l.push([a,null]);const h=[];for(const[y,b]of l)y===b?h.push(y):!b&&y===g[0]?h.push("*"):b?y===g[0]?h.push(`<=${b}`):h.push(`${y} - ${b}`):h.push(`>=${y}`);const d=h.join(" || "),c=typeof i.raw=="string"?i.raw:String(i);return d.length<c.length?d:i},"simplify"),Zp}n(TF,"requireSimplify");var Vp,l4;function PF(){if(l4)return Vp;l4=1;const t=ki(),e=Qf(),{ANY:r}=e,i=Jf(),s=Ai(),l=n((c,y,b={})=>{if(c===y)return!0;c=new t(c,b),y=new t(y,b);let w=!1;e:for(const S of c.set){for(const C of y.set){const R=g(S,C,b);if(w=w||R!==null,R)continue e}if(w)return!1}return!0},"subset"),a=[new e(">=0.0.0-0")],v=[new e(">=0.0.0")],g=n((c,y,b)=>{if(c===y)return!0;if(c.length===1&&c[0].semver===r){if(y.length===1&&y[0].semver===r)return!0;b.includePrerelease?c=a:c=v}if(y.length===1&&y[0].semver===r){if(b.includePrerelease)return!0;y=v}const w=new Set;let S,C;for(const W of c)W.operator===">"||W.operator===">="?S=h(S,W,b):W.operator==="<"||W.operator==="<="?C=d(C,W,b):w.add(W.semver);if(w.size>1)return null;let R;if(S&&C){if(R=s(S.semver,C.semver,b),R>0)return null;if(R===0&&(S.operator!==">="||C.operator!=="<="))return null}for(const W of w){if(S&&!i(W,String(S),b)||C&&!i(W,String(C),b))return null;for(const ee of y)if(!i(W,String(ee),b))return!1;return!0}let T,P,O,j,B=C&&!b.includePrerelease&&C.semver.prerelease.length?C.semver:!1,Z=S&&!b.includePrerelease&&S.semver.prerelease.length?S.semver:!1;B&&B.prerelease.length===1&&C.operator==="<"&&B.prerelease[0]===0&&(B=!1);for(const W of y){if(j=j||W.operator===">"||W.operator===">=",O=O||W.operator==="<"||W.operator==="<=",S){if(Z&&W.semver.prerelease&&W.semver.prerelease.length&&W.semver.major===Z.major&&W.semver.minor===Z.minor&&W.semver.patch===Z.patch&&(Z=!1),W.operator===">"||W.operator===">="){if(T=h(S,W,b),T===W&&T!==S)return!1}else if(S.operator===">="&&!i(S.semver,String(W),b))return!1}if(C){if(B&&W.semver.prerelease&&W.semver.prerelease.length&&W.semver.major===B.major&&W.semver.minor===B.minor&&W.semver.patch===B.patch&&(B=!1),W.operator==="<"||W.operator==="<="){if(P=d(C,W,b),P===W&&P!==C)return!1}else if(C.operator==="<="&&!i(C.semver,String(W),b))return!1}if(!W.operator&&(C||S)&&R!==0)return!1}return!(S&&O&&!C&&R!==0||C&&j&&!S&&R!==0||Z||B)},"simpleSubset"),h=n((c,y,b)=>{if(!c)return y;const w=s(c.semver,y.semver,b);return w>0?c:w<0||y.operator===">"&&c.operator===">="?y:c},"higherGT"),d=n((c,y,b)=>{if(!c)return y;const w=s(c.semver,y.semver,b);return w<0?c:w>0||y.operator==="<"&&c.operator==="<="?y:c},"lowerLT");return Vp=l,Vp}n(PF,"requireSubset");var Gp,u4;function OF(){if(u4)return Gp;u4=1;const t=dl(),e=Kf(),r=Tr(),i=g9(),s=ya(),l=fF(),a=cF(),v=hF(),g=dF(),h=pF(),d=mF(),c=gF(),y=vF(),b=Ai(),w=bF(),S=yF(),C=Nv(),R=wF(),T=xF(),P=Xf(),O=Cv(),j=v9(),B=b9(),Z=Rv(),W=Iv(),ee=y9(),$=_F(),U=Qf(),u=ki(),m=Jf(),o=SF(),p=EF(),x=AF(),A=kF(),k=NF(),M=Tv(),f=CF(),_=RF(),E=IF(),I=TF(),L=PF();return Gp={parse:s,valid:l,clean:a,inc:v,diff:g,major:h,minor:d,patch:c,prerelease:y,compare:b,rcompare:w,compareLoose:S,compareBuild:C,sort:R,rsort:T,gt:P,lt:O,eq:j,neq:B,gte:Z,lte:W,cmp:ee,coerce:$,Comparator:U,Range:u,satisfies:m,toComparators:o,maxSatisfying:p,minSatisfying:x,minVersion:A,validRange:k,outside:M,gtr:f,ltr:_,intersects:E,simplifyRange:I,subset:L,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},Gp}n(OF,"requireSemver");var jF=OF();const LF=Ko(jF);function DF(){const{toast:t}=er(),{data:e}=l9();async function r(s){const l=`https://api.github.com/repos/${s}/releases/latest`;try{const a=await fetch(l,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"fetch-latest-release"}});if(!a.ok)throw new Error(`Failed to fetch latest release: ${a.status} ${a.statusText}`);return(await a.json()).tag_name}catch{}}n(r,"getLatestRelease");const i=K.useCallback(async()=>{try{const s=await r("elizaos/eliza"),l=e?.version;s&&l&&LF.gt(s.replace("v",""),l.replace("v",""))&&t({variant:"default",title:`New version ${s} is available.`,description:"Visit GitHub for more information.",action:N.jsx(tf,{to:"https://github.com/elizaos/eliza/releases",target:"_blank",children:N.jsx(h9,{altText:"Update",children:"Update"})})})}catch(s){We.error(`Unable to retrieve latest version from GitHub: ${s}`)}},[t,e?.version]);return K.useEffect(()=>{i()},[i]),null}n(DF,"useVersion");const BF=n(({text:t})=>{const[e,r]=K.useState(!1),i=n(()=>{navigator.clipboard.writeText(t).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},"handleCopy");return N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{onClick:i,variant:"ghost",size:"icon",className:"flex items-center space-x-2 text-muted-foreground",children:e?N.jsx(qs,{className:"size-3"}):N.jsx(Mn,{className:"size-3"})})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Copy"})})]})},"CopyButton"),FF=n(({onClick:t})=>N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{onClick:t,variant:"ghost",size:"icon",className:"text-muted-foreground",children:N.jsx(gs,{className:"size-3"})})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Delete"})})]}),"DeleteButton");function UF({onClick:t,className:e}){return N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{variant:"ghost",size:"icon",className:`text-muted-foreground ${e}`,onClick:t,children:N.jsx(JM,{className:"size-3"})})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Retry message"})})]})}n(UF,"RetryButton");const zF=n(t=>{const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const r of e){const i=t.match(r);if(i)return i[1]}return null},"getYouTubeId"),$F=n(t=>{const e=t.match(/spotify\.com\/(track|album|playlist|episode|show)\/([a-zA-Z0-9]+)(?:\?.*)?/);return e?{type:e[1],id:e[2]}:null},"getSpotifyId"),HF=n(t=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)(\?.*)?$/i.test(t),"isImageUrl$1"),ZF=n(t=>/\.(mp4|webm|ogg|mov|avi|wmv|flv|mkv)(\?.*)?$/i.test(t),"isVideoUrl"),VF=n(t=>/\.(mp3|wav|ogg|aac|flac|m4a|wma)(\?.*)?$/i.test(t),"isAudioUrl"),GF=n(t=>/\.pdf(\?.*)?$/i.test(t)||t.includes("pdf"),"isPdfUrl"),WF=n(t=>/\.(pdf|doc|docx|ppt|pptx|xls|xlsx|txt)(\?.*)?$/i.test(t),"isDocumentUrl");function f4({url:t,title:e,className:r,maxWidth:i=600,maxHeight:s=400}){const[l,a]=K.useState(!0),[v,g]=K.useState(!1),h=n(()=>a(!1),"handleLoad"),d=n(()=>{a(!1),g(!0)},"handleError"),c=zF(t);if(c)return N.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:i,maxHeight:s},children:[l&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:N.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[N.jsx(og,{className:"w-6 h-6"}),N.jsx("span",{children:"Loading video..."})]})}),N.jsx("iframe",{src:`https://www.youtube.com/embed/${c}`,title:e||"YouTube video",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:h,onError:d})]});const y=$F(t);if(y){const b=y.type==="track"?152:y.type==="episode"?232:352;return N.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:i},children:[l&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:N.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[N.jsx(sm,{className:"w-6 h-6"}),N.jsx("span",{children:"Loading Spotify content..."})]})}),N.jsx("iframe",{src:`https://open.spotify.com/embed/${y.type}/${y.id}?utm_source=generator`,width:"100%",height:b,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:e||"Spotify content",onLoad:h,onError:d})]})}return HF(t)?N.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:i,maxHeight:s},children:[l&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:N.jsx("div",{className:"animate-pulse w-full h-32 bg-muted-foreground/20 rounded"})}),v?N.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[N.jsx(ii,{className:"w-6 h-6 mr-2"}),N.jsx("span",{children:"Failed to load image"})]}):N.jsx("img",{src:t||"/placeholder.svg",alt:e||"Image",width:i,height:s,className:"w-full h-auto object-contain",onLoad:h,onError:d})]}):ZF(t)?N.jsx("div",{className:Ve("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:i,maxHeight:s},children:v?N.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[N.jsx(ii,{className:"w-6 h-6 mr-2"}),N.jsx("span",{children:"Failed to load video"})]}):N.jsxs("video",{controls:!0,preload:"metadata",className:"w-full h-auto",onLoadedData:h,onError:d,crossOrigin:"anonymous",children:[N.jsx("source",{src:t}),"Your browser does not support the video tag."]})}):VF(t)?N.jsxs("div",{className:Ve("relative rounded-lg bg-card border p-4",r),style:{maxWidth:i},children:[N.jsxs("div",{className:"flex items-center space-x-3 mb-3 overflow-hidden",children:[N.jsx(sm,{className:"w-5 h-5 text-muted-foreground"}),N.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:e||"Audio File"})]}),v?N.jsxs("div",{className:"flex items-center text-muted-foreground",children:[N.jsx(ii,{className:"w-4 h-4 mr-2"}),N.jsx("span",{className:"text-sm",children:"Failed to load audio"})]}):N.jsxs("audio",{controls:!0,className:"w-full",preload:"metadata",onLoadedData:h,onError:d,crossOrigin:"anonymous",children:[N.jsx("source",{src:t}),"Your browser does not support the audio tag."]})]}):GF(t)?N.jsxs("div",{className:Ve("relative rounded-lg overflow-hidden bg-card border",r),style:{maxWidth:i},children:[N.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 border-b gap-10",children:[N.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[N.jsx(ls,{className:"w-5 h-5 text-muted-foreground"}),N.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:e||"PDF Document"})]}),N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsxs("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(t)}&embedded=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[N.jsx(Xa,{className:"w-4 h-4"}),N.jsx("span",{children:"View"})]}),N.jsxs("a",{href:t,download:!0,className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[N.jsx(gx,{className:"w-4 h-4"}),N.jsx("span",{children:"Download"})]})]})]}),N.jsx("div",{className:"relative",style:{height:Math.min(s,500)},children:v?N.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground h-full",children:[N.jsx(ii,{className:"w-8 h-8 mb-2"}),N.jsx("span",{className:"text-center mb-4",children:"PDF preview not available"}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsx("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(t)}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",children:"Open in Google Viewer"}),N.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",children:"Open Original"})]})]}):N.jsxs(N.Fragment,{children:[l&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:N.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[N.jsx(ls,{className:"w-6 h-6"}),N.jsx("span",{children:"Loading PDF..."})]})}),N.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(t)}&embedded=true`,className:"w-full h-full border-0",title:e||"PDF Document",onLoad:h,onError:n(()=>{const b=document.createElement("iframe");b.src=`${t}#toolbar=0&navpanes=0&scrollbar=0`,b.className="w-full h-full border-0",b.title=e||"PDF Document",b.onload=h,b.onerror=d;const w=document.querySelector(`[data-pdf-container="${t}"]`);w&&(w.innerHTML="",w.appendChild(b))},"onError")}),N.jsx("div",{"data-pdf-container":t,className:"hidden"})]})}),N.jsx("div",{className:"p-2 bg-muted/50 border-t text-xs text-muted-foreground",children:N.jsx("span",{children:`PDF Document  Click "View" or "Download" if preview doesn't load`})})]}):WF(t)?N.jsx("div",{className:Ve("rounded-lg bg-card border p-4",r),style:{maxWidth:i},children:N.jsxs("div",{className:"flex items-center space-x-3",children:[N.jsx(ls,{className:"w-8 h-8 text-muted-foreground"}),N.jsxs("div",{className:"flex-1 overflow-hidden mr-6",children:[N.jsx("p",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:e||"Document"}),N.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.split(".").pop()?.toUpperCase()," file"]})]}),N.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[N.jsx(Xa,{className:"w-4 h-4"}),N.jsx("span",{children:"Open"})]})]})}):N.jsx("div",{className:Ve("rounded-lg bg-card border p-4",r),style:{maxWidth:i},children:N.jsxs("div",{className:"flex items-center space-x-3",children:[N.jsx(Xa,{className:"w-8 h-8 text-muted-foreground"}),N.jsxs("div",{className:"flex-1",children:[N.jsx("p",{className:"text-sm text-primary font-medium",children:e||"External Link"}),N.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t})]}),N.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[N.jsx(Xa,{className:"w-4 h-4"}),N.jsx("span",{children:"Open"})]})]})})}n(f4,"MediaContent");function wa(){xr(),vr();const{toast:t}=er(),e=IB(),r=TB(),[i,s]=K.useState([]),[l,a]=K.useState([]);return{startAgent:n(async c=>{if(!c.id){t({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const y=c.id;if(!i.includes(y))try{s(b=>[...b,y]),await e.mutateAsync(y)}catch(b){console.error("Failed to start agent:",b)}finally{s(b=>b.filter(w=>w!==y))}},"startAgent"),stopAgent:n(async c=>{if(!c.id){t({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const y=c.id;if(!l.includes(y))try{a(b=>[...b,y]),await r.mutateAsync(y),t({title:"Agent Stopped",description:`${c.name} has been stopped`})}catch(b){console.error("Failed to stop agent:",b)}finally{a(b=>b.filter(w=>w!==y))}},"stopAgent"),isAgentStarting:n(c=>c?i.includes(c):!1,"isAgentStarting"),isAgentStopping:n(c=>c?l.includes(c):!1,"isAgentStopping"),startingAgents:i,stoppingAgents:l}}n(wa,"useAgentManagement");function KF({agent:t,variant:e="destructive",size:r="default",className:i="",showIcon:s=!0,redirectToHome:l=!1,onStopComplete:a}){const{stopAgent:v,isAgentStopping:g}=wa(),h=xr(),d=g(t.id),{confirm:c,isOpen:y,onOpenChange:b,onConfirm:w,options:S}=Rs(),C=n(()=>{c({title:"Stop Agent",description:`Are you sure you want to stop "${t.name}"?`,confirmText:"Stop",variant:"destructive"},async()=>{try{await v(t),a&&a(),l&&h("/")}catch(R){We.error("Error stopping agent:",R)}})},"handleStopAgent");return N.jsxs(N.Fragment,{children:[N.jsx(qe,{type:"button",variant:e,size:r,className:i,onClick:C,disabled:d,children:d?N.jsxs(N.Fragment,{children:[s&&N.jsx(Nr,{className:"mr-2 h-4 w-4 animate-spin"}),"Stopping..."]}):N.jsxs(N.Fragment,{children:[s&&N.jsx(qM,{className:"mr-2 h-4 w-4"}),"Stop"]})}),N.jsx(Cs,{open:y,onOpenChange:b,title:S?.title||"",description:S?.description||"",confirmText:S?.confirmText,cancelText:S?.cancelText,variant:S?.variant,onConfirm:w})]})}n(KF,"StopAgentButton");function w9({isOpen:t,onClose:e,agentId:r}){if(!t)return null;const{startAgent:i,isAgentStarting:s,isAgentStopping:l}=wa(),{toast:a}=er(),v=xr(),{data:g}=hl(r),h=g?.data,d=h?.status===hr.ACTIVE,c=s(r),y=l(r),b=c||y,w={label:"Start",icon:N.jsx(og,{className:"w-4 h-4"})};c&&(w.label="Starting...",w.icon=N.jsx(Nr,{className:"animate-spin w-4 h-4"}));const S=n(()=>{b||i(h)},"handleAgentStart"),C=n(()=>{if(!g?.data)return;const R={...g.data,createdAt:g.data.createdAt||Date.now(),updatedAt:g.data.updatedAt||Date.now()};vg(R,a)},"handleExportCharacter");return N.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:e,onKeyUp:n(R=>{(R.key==="Enter"||R.key===" ")&&e()},"onKeyUp"),children:N.jsxs($i,{className:"flex flex-col w-full max-w-md md:max-w-xl overflow-hidden relative",onClick:n(R=>R.stopPropagation(),"onClick"),children:[N.jsxs(Gf,{className:"p-0 space-y-0",children:[N.jsx("div",{className:"absolute top-4 right-4 z-10",children:N.jsx(qe,{variant:"ghost",size:"icon",onClick:e,children:N.jsx(Wr,{className:"w-5 h-5"})})}),N.jsx("div",{className:"p-6 w-full flex items-end bg-gradient-to-b from-primary/20 to-background",children:N.jsx("div",{className:"flex w-full justify-between items-end",children:N.jsxs("div",{className:"flex flex-col gap-2",children:[N.jsxs("div",{className:"w-24 h-24 flex justify-center items-center relative",children:[N.jsx("div",{className:"text-4xl bg-muted rounded-full h-full w-full flex justify-center items-center overflow-hidden border-4 border-background",children:typeof h?.settings?.avatar=="string"?N.jsx("img",{src:h.settings.avatar,alt:"Agent Avatar",className:"w-full h-full object-cover"}):bs(h?.name??"")}),N.jsx("div",{className:`absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-background ${d?"bg-emerald-500":"bg-muted-foreground"}`})]}),N.jsxs("div",{className:"flex flex-col justify-center mr-4",children:[N.jsx("div",{className:"text-xl font-bold truncate max-w-48",children:h?.name}),N.jsx("div",{className:"text-xs text-muted-foreground",children:N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs("span",{className:"cursor-pointer hover:underline",onClick:n(R=>{R.stopPropagation(),h?.id&&navigator.clipboard.writeText(h.id)},"onClick"),onKeyUp:n(R=>{(R.key==="Enter"||R.key===" ")&&(R.stopPropagation(),h?.id&&navigator.clipboard.writeText(h.id))},"onKeyUp"),children:["ID: ",h?.id??"N/A"]})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Click to copy agent ID"})})]})})]})]})})})]}),N.jsxs(Is,{className:"p-6 overflow-auto",children:[N.jsxs("div",{className:"rounded-md bg-muted p-4 mb-6 max-h-60 overflow-y-auto",children:[N.jsx("p",{className:"font-medium text-sm mb-2",children:"About Me"}),N.jsx("p",{className:"font-light text-sm text-gray-500",children:g?.data?.system})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-sm mb-2",children:"Status"}),N.jsxs("div",{className:"flex items-center",children:[N.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${d?"bg-green-500":"bg-gray-400"}`}),N.jsx("span",{className:"text-sm",children:d?"Active":"Inactive"})]})]}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-sm mb-2",children:"Model"}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(xu,{className:"w-4 h-4 text-muted-foreground"}),N.jsx("span",{className:"text-sm",children:typeof h?.settings?.model=="string"?h.settings.model:h?.settings?.model!==void 0?String(h.settings.model):"Default"})]})]}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-sm mb-2",children:"Created"}),N.jsx("p",{className:"text-sm text-gray-500",children:h?.createdAt?us(h.createdAt).format("LLL"):us().format("LLL")})]}),N.jsxs("div",{children:[N.jsx("p",{className:"font-medium text-sm mb-2",children:"Plugins"}),N.jsx("div",{className:"flex flex-wrap gap-2",children:h?.plugins&&h.plugins.length>0?h.plugins.map((R,T)=>{const P=R.replace("@elizaos/plugin-","").replace("@elizaos-plugins/plugin-","");return N.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border",children:P},T)}):N.jsx("p",{className:"text-sm text-gray-500",children:"No plugins enabled"})})]})]})]}),N.jsxs(Wf,{className:"flex justify-between items-center p-4 border-t",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[d?N.jsx(KF,{agent:h,showIcon:!0,size:"default",className:"h-9"}):N.jsxs(qe,{variant:"default",onClick:S,disabled:b,className:"h-9",children:[w.icon,N.jsx("span",{className:"ml-2",children:w.label})]}),N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs(qe,{variant:"outline",onClick:C,disabled:!h,className:"h-9",size:"sm",children:["Export",N.jsx(gx,{size:16})]})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Export character as JSON"})})]}),N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs(qe,{variant:"outline",onClick:n(()=>v(`/settings/${r}`),"onClick"),disabled:!h,className:"h-9",size:"sm",children:[N.jsx(vs,{size:16,className:"mr-1"}),"Settings"]})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:"Configure agent settings"})})]})]}),d&&N.jsx(qe,{variant:"default",className:"h-9",onClick:n(()=>v(`/chat/${h.id}`),"onClick"),children:"Message"})]})]})})}n(w9,"ProfileOverlay");function YF(){return N.jsxs("svg",{role:"img","aria-label":"Loading animation",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"text-foreground","data-testid":"loading",children:[N.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:N.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),N.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:N.jsx("animate",{begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),N.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:N.jsx("animate",{id:"spinner_OcgL",begin:"spinner_qFRN.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})}n(YF,"MessageLoading");const XF=mn("flex gap-2 max-w-[60%] relative group",{variants:{variant:{received:"self-start",sent:"self-end flex-row-reverse"},layout:{default:"",ai:"max-w-full w-full items-center"}},defaultVariants:{variant:"received",layout:"default"}}),x9=K.forwardRef(({className:t,variant:e,layout:r,children:i,...s},l)=>N.jsx("div",{className:Ve(XF({variant:e,layout:r,className:t}),"relative group"),ref:l,...s,children:K.Children.map(i,a=>K.isValidElement(a)&&typeof a.type!="string"&&a.type!==K.Fragment?K.cloneElement(a,{variant:e,layout:r}):a)}));x9.displayName="ChatBubble";const QF=mn("",{variants:{variant:{received:"text-secondary-foreground",sent:"px-5 py-2.5 bg-secondary text-secondary-foreground rounded-lg"},layout:{default:"",ai:"border-t w-full rounded-none bg-transparent"}},defaultVariants:{variant:"received",layout:"default"}}),_9=K.forwardRef(({className:t,variant:e,layout:r,isLoading:i=!1,children:s,...l},a)=>N.jsx("div",{className:Ve(QF({variant:e,layout:r,className:t}),"break-words max-w-full whitespace-pre-wrap"),ref:a,...l,children:i?N.jsx("div",{className:"flex items-center space-x-2",children:N.jsx(YF,{})}):s}));_9.displayName="ChatBubbleMessage";const JF=n(({timestamp:t,className:e,...r})=>N.jsx("div",{className:Ve("text-xs text-right select-none",e),...r,children:t}),"ChatBubbleTimestamp"),qF=K.forwardRef(({variant:t,className:e,children:r,...i},s)=>N.jsx("div",{ref:s,className:Ve("absolute top-1/2 -translate-y-1/2 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200",t==="sent"?"-left-1 -translate-x-full flex-row-reverse":"-right-1 translate-x-full",e),...i,children:r}));qF.displayName="ChatBubbleActionWrapper";let rn=null;function eU({agentId:t,text:e}){const{toast:r}=er(),[i,s]=K.useState(!1),[l,a]=K.useState(null),[v,g]=K.useState(null),h=K.useRef(null),d=K.useRef(null),c=qt();K.useEffect(()=>()=>{v&&URL.revokeObjectURL(v)},[v]);const y=Zr({mutationKey:["tts",e],mutationFn:n(async()=>{console.log(" Starting TTS API call..."),console.log(" agentId:",t),console.log(" text:",e);const R=await c.audio.generateSpeech(t,{text:e});console.log(" TTS API response:",R);const{audio:T,format:P}=R;let O,j;if(T.startsWith("data:")){const[W,ee]=T.split(","),$=W.match(/data:([^;]+)/);j=$?$[1]:`audio/${P||"mpeg"}`,O=ee}else O=T,j=`audio/${P||"mpeg"}`;const B=atob(O),Z=new Uint8Array(B.length);for(let W=0;W<B.length;W++)Z[W]=B.charCodeAt(W);return new Blob([Z],{type:j})},"mutationFn"),onSuccess:n(R=>{a(R),d.current=R;const T=URL.createObjectURL(R);g(T),setTimeout(()=>{b()},100)},"onSuccess"),onError:n(R=>{r({variant:"destructive",title:"Unable to read message aloud",description:R.message})},"onError")}),b=n(async()=>{if(h.current)try{rn&&rn!==h.current&&(rn.pause(),rn.currentTime=0),rn=h.current,h.current.volume=1,h.current.muted=!1,await h.current.play(),s(!0)}catch(R){r({variant:"destructive",title:"Audio playback failed",description:R.message}),s(!1)}},"play"),w=n(()=>{h.current&&(h.current.pause(),h.current.currentTime=0,rn===h.current&&(rn=null)),s(!1)},"stop"),S=n(async()=>{if(y?.isPending)return;if(i){w();return}if(l||d.current||h.current?.src&&h.current.src.startsWith("blob:")){await b();return}y.mutate()},"execute"),C="text-muted-foreground size-3";return N.jsxs(N.Fragment,{children:[l?N.jsx("audio",{crossOrigin:"anonymous",playsInline:!0,ref:h,src:v||"",onEnded:n(()=>{s(!1),rn===h.current&&(rn=null)},"onEnded"),children:"Your browser does not support the audio element."}):null,N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{size:"icon",variant:"ghost",type:"button",onClick:n(()=>S(),"onClick"),disabled:y?.isPending,children:y?.isPending?N.jsx(vx,{className:C}):i?N.jsx(ng,{className:C}):N.jsx(sm,{className:C})})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:i?"Stop":"Read aloud"})})]})]})}n(eU,"ChatTtsButton");function c4(t,e){const r=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,s=r.indexOf(e);for(;s!==-1;)i++,s=r.indexOf(e,s+e.length);return i}n(c4,"ccount");function tU(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(tU,"escapeStringRegexp");function rU(t,e,r){const s=bx((r||{}).ignore||[]),l=iU(e);let a=-1;for(;++a<l.length;)eS(t,"text",v);function v(h,d){let c=-1,y;for(;++c<d.length;){const b=d[c],w=y?y.children:void 0;if(s(b,w?w.indexOf(b):void 0,y))return;y=b}if(y)return g(h,d)}n(v,"visitor");function g(h,d){const c=d[d.length-1],y=l[a][0],b=l[a][1];let w=0;const C=c.children.indexOf(h);let R=!1,T=[];y.lastIndex=0;let P=y.exec(h.value);for(;P;){const O=P.index,j={index:P.index,input:P.input,stack:[...d,h]};let B=b(...P,j);if(typeof B=="string"&&(B=B.length>0?{type:"text",value:B}:void 0),B===!1?y.lastIndex=O+1:(w!==O&&T.push({type:"text",value:h.value.slice(w,O)}),Array.isArray(B)?T.push(...B):B&&T.push(B),w=O+P[0].length,R=!0),!y.global)break;P=y.exec(h.value)}return R?(w<h.value.length&&T.push({type:"text",value:h.value.slice(w)}),c.children.splice(C,1,...T)):T=[h],C+T.length}n(g,"handler")}n(rU,"findAndReplace");function iU(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<r.length;){const s=r[i];e.push([nU(s[0]),sU(s[1])])}return e}n(iU,"toPairs");function nU(t){return typeof t=="string"?new RegExp(tU(t),"g"):t}n(nU,"toExpression");function sU(t){return typeof t=="function"?t:function(){return t}}n(sU,"toFunction");const Wp="phrasing",Kp=["autolink","link","image","label"];function aU(){return{transforms:[dU],enter:{literalAutolink:lU,literalAutolinkEmail:Yp,literalAutolinkHttp:Yp,literalAutolinkWww:Yp},exit:{literalAutolink:hU,literalAutolinkEmail:cU,literalAutolinkHttp:uU,literalAutolinkWww:fU}}}n(aU,"gfmAutolinkLiteralFromMarkdown");function oU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wp,notInConstruct:Kp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wp,notInConstruct:Kp},{character:":",before:"[ps]",after:"\\/",inConstruct:Wp,notInConstruct:Kp}]}}n(oU,"gfmAutolinkLiteralToMarkdown");function lU(t){this.enter({type:"link",title:null,url:"",children:[]},t)}n(lU,"enterLiteralAutolink");function Yp(t){this.config.enter.autolinkProtocol.call(this,t)}n(Yp,"enterLiteralAutolinkValue");function uU(t){this.config.exit.autolinkProtocol.call(this,t)}n(uU,"exitLiteralAutolinkHttp");function fU(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];fa(e.type==="link"),e.url="http://"+this.sliceSerialize(t)}n(fU,"exitLiteralAutolinkWww");function cU(t){this.config.exit.autolinkEmail.call(this,t)}n(cU,"exitLiteralAutolinkEmail");function hU(t){this.exit(t)}n(hU,"exitLiteralAutolink");function dU(t){rU(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,pU],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,mU]],{ignore:["link","linkReference"]})}n(dU,"transformGfmAutolinkLiterals");function pU(t,e,r,i,s){let l="";if(!M9(s)||(/^w/i.test(e)&&(r=e+r,e="",l="http://"),!gU(r)))return!1;const a=vU(r+i);if(!a[0])return!1;const v={type:"link",title:null,url:l+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[v,{type:"text",value:a[1]}]:v}n(pU,"findUrl");function mU(t,e,r,i){return!M9(i,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}n(mU,"findEmail");function gU(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}n(gU,"isCorrectDomain");function vU(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let r=e[0],i=r.indexOf(")");const s=c4(t,"(");let l=c4(t,")");for(;i!==-1&&s>l;)t+=r.slice(0,i+1),r=r.slice(i+1),i=r.indexOf(")"),l++;return[t,r]}n(vU,"splitUrl");function M9(t,e){const r=t.input.charCodeAt(t.index-1);return(t.index===0||ea(r)||lg(r))&&(!e||r!==47)}n(M9,"previous");S9.peek=AU;function bU(){this.buffer()}n(bU,"enterFootnoteCallString");function yU(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}n(yU,"enterFootnoteCall");function wU(){this.buffer()}n(wU,"enterFootnoteDefinitionLabelString");function xU(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}n(xU,"enterFootnoteDefinition");function _U(t){const e=this.resume(),r=this.stack[this.stack.length-1];fa(r.type==="footnoteReference"),r.identifier=Xo(this.sliceSerialize(t)).toLowerCase(),r.label=e}n(_U,"exitFootnoteCallString");function MU(t){this.exit(t)}n(MU,"exitFootnoteCall");function SU(t){const e=this.resume(),r=this.stack[this.stack.length-1];fa(r.type==="footnoteDefinition"),r.identifier=Xo(this.sliceSerialize(t)).toLowerCase(),r.label=e}n(SU,"exitFootnoteDefinitionLabelString");function EU(t){this.exit(t)}n(EU,"exitFootnoteDefinition");function AU(){return"["}n(AU,"footnoteReferencePeek");function S9(t,e,r,i){const s=r.createTracker(i);let l=s.move("[^");const a=r.enter("footnoteReference"),v=r.enter("reference");return l+=s.move(r.safe(r.associationId(t),{after:"]",before:l})),v(),a(),l+=s.move("]"),l}n(S9,"footnoteReference");function kU(){return{enter:{gfmFootnoteCallString:bU,gfmFootnoteCall:yU,gfmFootnoteDefinitionLabelString:wU,gfmFootnoteDefinition:xU},exit:{gfmFootnoteCallString:_U,gfmFootnoteCall:MU,gfmFootnoteDefinitionLabelString:SU,gfmFootnoteDefinition:EU}}}n(kU,"gfmFootnoteFromMarkdown");function NU(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:r,footnoteReference:S9},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(i,s,l,a){const v=l.createTracker(a);let g=v.move("[^");const h=l.enter("footnoteDefinition"),d=l.enter("label");return g+=v.move(l.safe(l.associationId(i),{before:g,after:"]"})),d(),g+=v.move("]:"),i.children&&i.children.length>0&&(v.shift(4),g+=v.move((e?`
`:" ")+l.indentLines(l.containerFlow(i,v.current()),e?E9:CU))),h(),g}n(r,"footnoteDefinition")}n(NU,"gfmFootnoteToMarkdown");function CU(t,e,r){return e===0?t:E9(t,e,r)}n(CU,"mapExceptFirst");function E9(t,e,r){return(r?"":"    ")+t}n(E9,"mapAll");const RU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];A9.peek=jU;function IU(){return{canContainEols:["delete"],enter:{strikethrough:PU},exit:{strikethrough:OU}}}n(IU,"gfmStrikethroughFromMarkdown");function TU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:RU}],handlers:{delete:A9}}}n(TU,"gfmStrikethroughToMarkdown");function PU(t){this.enter({type:"delete",children:[]},t)}n(PU,"enterStrikethrough");function OU(t){this.exit(t)}n(OU,"exitStrikethrough");function A9(t,e,r,i){const s=r.createTracker(i),l=r.enter("strikethrough");let a=s.move("~~");return a+=r.containerPhrasing(t,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),l(),a}n(A9,"handleDelete");function jU(){return"~"}n(jU,"peekDelete");function LU(t){return t.length}n(LU,"defaultStringLength");function DU(t,e){const r=e||{},i=(r.align||[]).concat(),s=r.stringLength||LU,l=[],a=[],v=[],g=[];let h=0,d=-1;for(;++d<t.length;){const S=[],C=[];let R=-1;for(t[d].length>h&&(h=t[d].length);++R<t[d].length;){const T=BU(t[d][R]);if(r.alignDelimiters!==!1){const P=s(T);C[R]=P,(g[R]===void 0||P>g[R])&&(g[R]=P)}S.push(T)}a[d]=S,v[d]=C}let c=-1;if(typeof i=="object"&&"length"in i)for(;++c<h;)l[c]=h4(i[c]);else{const S=h4(i);for(;++c<h;)l[c]=S}c=-1;const y=[],b=[];for(;++c<h;){const S=l[c];let C="",R="";S===99?(C=":",R=":"):S===108?C=":":S===114&&(R=":");let T=r.alignDelimiters===!1?1:Math.max(1,g[c]-C.length-R.length);const P=C+"-".repeat(T)+R;r.alignDelimiters!==!1&&(T=C.length+T+R.length,T>g[c]&&(g[c]=T),b[c]=T),y[c]=P}a.splice(1,0,y),v.splice(1,0,b),d=-1;const w=[];for(;++d<a.length;){const S=a[d],C=v[d];c=-1;const R=[];for(;++c<h;){const T=S[c]||"";let P="",O="";if(r.alignDelimiters!==!1){const j=g[c]-(C[c]||0),B=l[c];B===114?P=" ".repeat(j):B===99?j%2?(P=" ".repeat(j/2+.5),O=" ".repeat(j/2-.5)):(P=" ".repeat(j/2),O=P):O=" ".repeat(j)}r.delimiterStart!==!1&&!c&&R.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&T==="")&&(r.delimiterStart!==!1||c)&&R.push(" "),r.alignDelimiters!==!1&&R.push(P),R.push(T),r.alignDelimiters!==!1&&R.push(O),r.padding!==!1&&R.push(" "),(r.delimiterEnd!==!1||c!==h-1)&&R.push("|")}w.push(r.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return w.join(`
`)}n(DU,"markdownTable");function BU(t){return t==null?"":String(t)}n(BU,"serialize");function h4(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}n(h4,"toAlignment");function FU(t,e,r,i){const s=r.enter("blockquote"),l=r.createTracker(i);l.move("> "),l.shift(2);const a=r.indentLines(r.containerFlow(t,l.current()),UU);return s(),a}n(FU,"blockquote");function UU(t,e,r){return">"+(r?"":" ")+t}n(UU,"map$1");function zU(t,e){return d4(t,e.inConstruct,!0)&&!d4(t,e.notInConstruct,!1)}n(zU,"patternInScope");function d4(t,e,r){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return r;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}n(d4,"listInScope");function p4(t,e,r,i){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&zU(r.stack,r.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}n(p4,"hardBreak");function $U(t,e){const r=String(t);let i=r.indexOf(e),s=i,l=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++l>a&&(a=l):l=1,s=i+e.length,i=r.indexOf(e,s);return a}n($U,"longestStreak");function HU(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}n(HU,"formatCodeAsIndented");function ZU(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}n(ZU,"checkFence");function VU(t,e,r,i){const s=ZU(r),l=t.value||"",a=s==="`"?"GraveAccent":"Tilde";if(HU(t,r)){const c=r.enter("codeIndented"),y=r.indentLines(l,GU);return c(),y}const v=r.createTracker(i),g=s.repeat(Math.max($U(l,s)+1,3)),h=r.enter("codeFenced");let d=v.move(g);if(t.lang){const c=r.enter(`codeFencedLang${a}`);d+=v.move(r.safe(t.lang,{before:d,after:" ",encode:["`"],...v.current()})),c()}if(t.lang&&t.meta){const c=r.enter(`codeFencedMeta${a}`);d+=v.move(" "),d+=v.move(r.safe(t.meta,{before:d,after:`
`,encode:["`"],...v.current()})),c()}return d+=v.move(`
`),l&&(d+=v.move(l+`
`)),d+=v.move(g),h(),d}n(VU,"code$1");function GU(t,e,r){return(r?"":"    ")+t}n(GU,"map");function Pv(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}n(Pv,"checkQuote");function WU(t,e,r,i){const s=Pv(r),l=s==='"'?"Quote":"Apostrophe",a=r.enter("definition");let v=r.enter("label");const g=r.createTracker(i);let h=g.move("[");return h+=g.move(r.safe(r.associationId(t),{before:h,after:"]",...g.current()})),h+=g.move("]: "),v(),!t.url||/[\0- \u007F]/.test(t.url)?(v=r.enter("destinationLiteral"),h+=g.move("<"),h+=g.move(r.safe(t.url,{before:h,after:">",...g.current()})),h+=g.move(">")):(v=r.enter("destinationRaw"),h+=g.move(r.safe(t.url,{before:h,after:t.title?" ":`
`,...g.current()}))),v(),t.title&&(v=r.enter(`title${l}`),h+=g.move(" "+s),h+=g.move(r.safe(t.title,{before:h,after:s,...g.current()})),h+=g.move(s),v()),a(),h}n(WU,"definition");function KU(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}n(KU,"checkEmphasis");function Wo(t){return"&#x"+t.toString(16).toUpperCase()+";"}n(Wo,"encodeCharacterReference");function Yu(t,e,r){const i=_u(t),s=_u(e);return i===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}n(Yu,"encodeInfo");k9.peek=YU;function k9(t,e,r,i){const s=KU(r),l=r.enter("emphasis"),a=r.createTracker(i),v=a.move(s);let g=a.move(r.containerPhrasing(t,{after:s,before:v,...a.current()}));const h=g.charCodeAt(0),d=Yu(i.before.charCodeAt(i.before.length-1),h,s);d.inside&&(g=Wo(h)+g.slice(1));const c=g.charCodeAt(g.length-1),y=Yu(i.after.charCodeAt(0),c,s);y.inside&&(g=g.slice(0,-1)+Wo(c));const b=a.move(s);return l(),r.attentionEncodeSurroundingInfo={after:y.outside,before:d.outside},v+g+b}n(k9,"emphasis");function YU(t,e,r){return r.options.emphasis||"*"}n(YU,"emphasisPeek");function XU(t,e){let r=!1;return tS(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return r=!0,rS}),!!((!t.depth||t.depth<3)&&yx(t)&&(e.options.setext||r))}n(XU,"formatHeadingAsSetext");function QU(t,e,r,i){const s=Math.max(Math.min(6,t.depth||1),1),l=r.createTracker(i);if(XU(t,r)){const d=r.enter("headingSetext"),c=r.enter("phrasing"),y=r.containerPhrasing(t,{...l.current(),before:`
`,after:`
`});return c(),d(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const a="#".repeat(s),v=r.enter("headingAtx"),g=r.enter("phrasing");l.move(a+" ");let h=r.containerPhrasing(t,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(h)&&(h=Wo(h.charCodeAt(0))+h.slice(1)),h=h?a+" "+h:a,r.options.closeAtx&&(h+=" "+a),g(),v(),h}n(QU,"heading");N9.peek=JU;function N9(t){return t.value||""}n(N9,"html");function JU(){return"<"}n(JU,"htmlPeek");C9.peek=qU;function C9(t,e,r,i){const s=Pv(r),l=s==='"'?"Quote":"Apostrophe",a=r.enter("image");let v=r.enter("label");const g=r.createTracker(i);let h=g.move("![");return h+=g.move(r.safe(t.alt,{before:h,after:"]",...g.current()})),h+=g.move("]("),v(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(v=r.enter("destinationLiteral"),h+=g.move("<"),h+=g.move(r.safe(t.url,{before:h,after:">",...g.current()})),h+=g.move(">")):(v=r.enter("destinationRaw"),h+=g.move(r.safe(t.url,{before:h,after:t.title?" ":")",...g.current()}))),v(),t.title&&(v=r.enter(`title${l}`),h+=g.move(" "+s),h+=g.move(r.safe(t.title,{before:h,after:s,...g.current()})),h+=g.move(s),v()),h+=g.move(")"),a(),h}n(C9,"image");function qU(){return"!"}n(qU,"imagePeek");R9.peek=ez;function R9(t,e,r,i){const s=t.referenceType,l=r.enter("imageReference");let a=r.enter("label");const v=r.createTracker(i);let g=v.move("![");const h=r.safe(t.alt,{before:g,after:"]",...v.current()});g+=v.move(h+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const c=r.safe(r.associationId(t),{before:g,after:"]",...v.current()});return a(),r.stack=d,l(),s==="full"||!h||h!==c?g+=v.move(c+"]"):s==="shortcut"?g=g.slice(0,-1):g+=v.move("]"),g}n(R9,"imageReference");function ez(){return"!"}n(ez,"imageReferencePeek");I9.peek=tz;function I9(t,e,r){let i=t.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++l<r.unsafe.length;){const a=r.unsafe[l],v=r.compilePattern(a);let g;if(a.atBreak)for(;g=v.exec(i);){let h=g.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(g.index+1)}}return s+i+s}n(I9,"inlineCode");function tz(){return"`"}n(tz,"inlineCodePeek");function T9(t,e){const r=yx(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(r===t.url||"mailto:"+r===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}n(T9,"formatLinkAsAutolink");P9.peek=rz;function P9(t,e,r,i){const s=Pv(r),l=s==='"'?"Quote":"Apostrophe",a=r.createTracker(i);let v,g;if(T9(t,r)){const d=r.stack;r.stack=[],v=r.enter("autolink");let c=a.move("<");return c+=a.move(r.containerPhrasing(t,{before:c,after:">",...a.current()})),c+=a.move(">"),v(),r.stack=d,c}v=r.enter("link"),g=r.enter("label");let h=a.move("[");return h+=a.move(r.containerPhrasing(t,{before:h,after:"](",...a.current()})),h+=a.move("]("),g(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(g=r.enter("destinationLiteral"),h+=a.move("<"),h+=a.move(r.safe(t.url,{before:h,after:">",...a.current()})),h+=a.move(">")):(g=r.enter("destinationRaw"),h+=a.move(r.safe(t.url,{before:h,after:t.title?" ":")",...a.current()}))),g(),t.title&&(g=r.enter(`title${l}`),h+=a.move(" "+s),h+=a.move(r.safe(t.title,{before:h,after:s,...a.current()})),h+=a.move(s),g()),h+=a.move(")"),v(),h}n(P9,"link");function rz(t,e,r){return T9(t,r)?"<":"["}n(rz,"linkPeek");O9.peek=iz;function O9(t,e,r,i){const s=t.referenceType,l=r.enter("linkReference");let a=r.enter("label");const v=r.createTracker(i);let g=v.move("[");const h=r.containerPhrasing(t,{before:g,after:"]",...v.current()});g+=v.move(h+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const c=r.safe(r.associationId(t),{before:g,after:"]",...v.current()});return a(),r.stack=d,l(),s==="full"||!h||h!==c?g+=v.move(c+"]"):s==="shortcut"?g=g.slice(0,-1):g+=v.move("]"),g}n(O9,"linkReference");function iz(){return"["}n(iz,"linkReferencePeek");function Ov(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}n(Ov,"checkBullet");function nz(t){const e=Ov(t),r=t.options.bulletOther;if(!r)return e==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+r+"`) to be different");return r}n(nz,"checkBulletOther");function sz(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}n(sz,"checkBulletOrdered");function j9(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}n(j9,"checkRule");function az(t,e,r,i){const s=r.enter("list"),l=r.bulletCurrent;let a=t.ordered?sz(r):Ov(r);const v=t.ordered?a==="."?")":".":nz(r);let g=e&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(g=!0),j9(r)===a&&d){let c=-1;for(;++c<t.children.length;){const y=t.children[c];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){g=!0;break}}}}g&&(a=v),r.bulletCurrent=a;const h=r.containerFlow(t,i);return r.bulletLastUsed=a,r.bulletCurrent=l,s(),h}n(az,"list");function oz(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}n(oz,"checkListItemIndent");function lz(t,e,r,i){const s=oz(r);let l=r.bulletCurrent||Ov(r);e&&e.type==="list"&&e.ordered&&(l=(typeof e.start=="number"&&e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+l);let a=l.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const v=r.createTracker(i);v.move(l+" ".repeat(a-l.length)),v.shift(a);const g=r.enter("listItem"),h=r.indentLines(r.containerFlow(t,v.current()),d);return g(),h;function d(c,y,b){return y?(b?"":" ".repeat(a))+c:(b?l:l+" ".repeat(a-l.length))+c}n(d,"map")}n(lz,"listItem");function uz(t,e,r,i){const s=r.enter("paragraph"),l=r.enter("phrasing"),a=r.containerPhrasing(t,i);return l(),s(),a}n(uz,"paragraph");const fz=bx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cz(t,e,r,i){return(t.children.some(function(a){return fz(a)})?r.containerPhrasing:r.containerFlow).call(r,t,i)}n(cz,"root");function hz(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}n(hz,"checkStrong");L9.peek=dz;function L9(t,e,r,i){const s=hz(r),l=r.enter("strong"),a=r.createTracker(i),v=a.move(s+s);let g=a.move(r.containerPhrasing(t,{after:s,before:v,...a.current()}));const h=g.charCodeAt(0),d=Yu(i.before.charCodeAt(i.before.length-1),h,s);d.inside&&(g=Wo(h)+g.slice(1));const c=g.charCodeAt(g.length-1),y=Yu(i.after.charCodeAt(0),c,s);y.inside&&(g=g.slice(0,-1)+Wo(c));const b=a.move(s+s);return l(),r.attentionEncodeSurroundingInfo={after:y.outside,before:d.outside},v+g+b}n(L9,"strong");function dz(t,e,r){return r.options.strong||"*"}n(dz,"strongPeek");function pz(t,e,r,i){return r.safe(t.value,i)}n(pz,"text$1");function mz(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}n(mz,"checkRuleRepetition");function gz(t,e,r){const i=(j9(r)+(r.options.ruleSpaces?" ":"")).repeat(mz(r));return r.options.ruleSpaces?i.slice(0,-1):i}n(gz,"thematicBreak");const D9={blockquote:FU,break:p4,code:VU,definition:WU,emphasis:k9,hardBreak:p4,heading:QU,html:N9,image:C9,imageReference:R9,inlineCode:I9,link:P9,linkReference:O9,list:az,listItem:lz,paragraph:uz,root:cz,strong:L9,text:pz,thematicBreak:gz};function vz(){return{enter:{table:bz,tableData:m4,tableHeader:m4,tableRow:wz},exit:{codeText:xz,table:yz,tableData:Xp,tableHeader:Xp,tableRow:Xp}}}n(vz,"gfmTableFromMarkdown");function bz(t){const e=t._align;this.enter({type:"table",align:e.map(function(r){return r==="none"?null:r}),children:[]},t),this.data.inTable=!0}n(bz,"enterTable");function yz(t){this.exit(t),this.data.inTable=void 0}n(yz,"exitTable");function wz(t){this.enter({type:"tableRow",children:[]},t)}n(wz,"enterRow");function Xp(t){this.exit(t)}n(Xp,"exit");function m4(t){this.enter({type:"tableCell",children:[]},t)}n(m4,"enterCell");function xz(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,_z));const r=this.stack[this.stack.length-1];fa(r.type==="inlineCode"),r.value=e,this.exit(t)}n(xz,"exitCodeText");function _z(t,e){return e==="|"?e:t}n(_z,"replace");function Mz(t){const e=t||{},r=e.tableCellPadding,i=e.tablePipeAlign,s=e.stringLength,l=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:a,tableCell:g,tableRow:v}};function a(b,w,S,C){return h(d(b,S,C),b.align)}function v(b,w,S,C){const R=c(b,S,C),T=h([R]);return T.slice(0,T.indexOf(`
`))}function g(b,w,S,C){const R=S.enter("tableCell"),T=S.enter("phrasing"),P=S.containerPhrasing(b,{...C,before:l,after:l});return T(),R(),P}function h(b,w){return DU(b,{align:w,alignDelimiters:i,padding:r,stringLength:s})}function d(b,w,S){const C=b.children;let R=-1;const T=[],P=w.enter("table");for(;++R<C.length;)T[R]=c(C[R],w,S);return P(),T}function c(b,w,S){const C=b.children;let R=-1;const T=[],P=w.enter("tableRow");for(;++R<C.length;)T[R]=g(C[R],b,w,S);return P(),T}function y(b,w,S){let C=D9.inlineCode(b,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}n(Mz,"gfmTableToMarkdown");function Sz(){return{exit:{taskListCheckValueChecked:g4,taskListCheckValueUnchecked:g4,paragraph:Az}}}n(Sz,"gfmTaskListItemFromMarkdown");function Ez(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kz}}}n(Ez,"gfmTaskListItemToMarkdown");function g4(t){const e=this.stack[this.stack.length-2];fa(e.type==="listItem"),e.checked=t.type==="taskListCheckValueChecked"}n(g4,"exitCheck");function Az(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const r=this.stack[this.stack.length-1];fa(r.type==="paragraph");const i=r.children[0];if(i&&i.type==="text"){const s=e.children;let l=-1,a;for(;++l<s.length;){const v=s[l];if(v.type==="paragraph"){a=v;break}}a===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(t)}n(Az,"exitParagraphWithTaskListItem");function kz(t,e,r,i){const s=t.children[0],l=typeof t.checked=="boolean"&&s&&s.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",v=r.createTracker(i);l&&v.move(a);let g=D9.listItem(t,e,r,{...i,...v.current()});return l&&(g=g.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),g;function h(d){return d+a}n(h,"check")}n(kz,"listItemWithTaskListItem");function Nz(){return[aU(),kU(),IU(),vz(),Sz()]}n(Nz,"gfmFromMarkdown");function Cz(t){return{extensions:[oU(),NU(t),TU(),Mz(t),Ez()]}}n(Cz,"gfmToMarkdown");const Rz={tokenize:Lz,partial:!0},B9={tokenize:Dz,partial:!0},F9={tokenize:Bz,partial:!0},U9={tokenize:Fz,partial:!0},Iz={tokenize:Uz,partial:!0},z9={name:"wwwAutolink",tokenize:Oz,previous:H9},$9={name:"protocolAutolink",tokenize:jz,previous:Z9},gn={name:"emailAutolink",tokenize:Pz,previous:V9},Vi={};function Tz(){return{text:Vi}}n(Tz,"gfmAutolinkLiteral");let as=48;for(;as<123;)Vi[as]=gn,as++,as===58?as=65:as===91&&(as=97);Vi[43]=gn;Vi[45]=gn;Vi[46]=gn;Vi[95]=gn;Vi[72]=[gn,$9];Vi[104]=[gn,$9];Vi[87]=[gn,z9];Vi[119]=[gn,z9];function Pz(t,e,r){const i=this;let s,l;return a;function a(c){return!tg(c)||!V9.call(i,i.previous)||jv(i.events)?r(c):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),v(c))}function v(c){return tg(c)?(t.consume(c),v):c===64?(t.consume(c),g):r(c)}function g(c){return c===46?t.check(Iz,d,h)(c):c===45||c===95||ug(c)?(l=!0,t.consume(c),g):d(c)}function h(c){return t.consume(c),s=!0,g}function d(c){return l&&s&&ao(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(c)):r(c)}}n(Pz,"tokenizeEmailAutolink");function Oz(t,e,r){const i=this;return s;function s(a){return a!==87&&a!==119||!H9.call(i,i.previous)||jv(i.events)?r(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Rz,t.attempt(B9,t.attempt(F9,l),r),r)(a))}function l(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}n(Oz,"tokenizeWwwAutolink");function jz(t,e,r){const i=this;let s="",l=!1;return a;function a(c){return(c===72||c===104)&&Z9.call(i,i.previous)&&!jv(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(c),t.consume(c),v):r(c)}function v(c){if(ao(c)&&s.length<5)return s+=String.fromCodePoint(c),t.consume(c),v;if(c===58){const y=s.toLowerCase();if(y==="http"||y==="https")return t.consume(c),g}return r(c)}function g(c){return c===47?(t.consume(c),l?h:(l=!0,g)):r(c)}function h(c){return c===null||iS(c)||Kr(c)||ea(c)||lg(c)?r(c):t.attempt(B9,t.attempt(F9,d),r)(c)}function d(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}n(jz,"tokenizeProtocolAutolink");function Lz(t,e,r){let i=0;return s;function s(a){return(a===87||a===119)&&i<3?(i++,t.consume(a),s):a===46&&i===3?(t.consume(a),l):r(a)}function l(a){return a===null?r(a):e(a)}}n(Lz,"tokenizeWwwPrefix");function Dz(t,e,r){let i,s,l;return a;function a(h){return h===46||h===95?t.check(U9,g,v)(h):h===null||Kr(h)||ea(h)||h!==45&&lg(h)?g(h):(l=!0,t.consume(h),a)}function v(h){return h===95?i=!0:(s=i,i=void 0),t.consume(h),a}function g(h){return s||i||!l?r(h):e(h)}}n(Dz,"tokenizeDomain");function Bz(t,e){let r=0,i=0;return s;function s(a){return a===40?(r++,t.consume(a),s):a===41&&i<r?l(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(U9,e,l)(a):a===null||Kr(a)||ea(a)?e(a):(t.consume(a),s)}function l(a){return a===41&&i++,t.consume(a),s}}n(Bz,"tokenizePath");function Fz(t,e,r){return i;function i(v){return v===33||v===34||v===39||v===41||v===42||v===44||v===46||v===58||v===59||v===63||v===95||v===126?(t.consume(v),i):v===38?(t.consume(v),l):v===93?(t.consume(v),s):v===60||v===null||Kr(v)||ea(v)?e(v):r(v)}function s(v){return v===null||v===40||v===91||Kr(v)||ea(v)?e(v):i(v)}function l(v){return ao(v)?a(v):r(v)}function a(v){return v===59?(t.consume(v),i):ao(v)?(t.consume(v),a):r(v)}}n(Fz,"tokenizeTrail");function Uz(t,e,r){return i;function i(l){return t.consume(l),s}function s(l){return ug(l)?r(l):e(l)}}n(Uz,"tokenizeEmailDomainDotTrail");function H9(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Kr(t)}n(H9,"previousWww");function Z9(t){return!ao(t)}n(Z9,"previousProtocol");function V9(t){return!(t===47||tg(t))}n(V9,"previousEmail");function tg(t){return t===43||t===45||t===46||t===95||ug(t)}n(tg,"gfmAtext");function jv(t){let e=t.length,r=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){r=!0;break}if(i._gfmAutolinkLiteralWalkedInto){r=!1;break}}return t.length>0&&!r&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}n(jv,"previousUnbalanced");const zz={tokenize:Yz,partial:!0};function $z(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Gz,continuation:{tokenize:Wz},exit:Kz}},text:{91:{name:"gfmFootnoteCall",tokenize:Vz},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Hz,resolveTo:Zz}}}}n($z,"gfmFootnote");function Hz(t,e,r){const i=this;let s=i.events.length;const l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;s--;){const g=i.events[s][1];if(g.type==="labelImage"){a=g;break}if(g.type==="gfmFootnoteCall"||g.type==="labelLink"||g.type==="label"||g.type==="image"||g.type==="link")break}return v;function v(g){if(!a||!a._balanced)return r(g);const h=Xo(i.sliceSerialize({start:a.end,end:i.now()}));return h.codePointAt(0)!==94||!l.includes(h.slice(1))?r(g):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),e(g))}}n(Hz,"tokenizePotentialGfmFootnoteCall");function Zz(t,e){let r=t.length;for(;r--;)if(t[r][1].type==="labelImage"&&t[r][0]==="enter"){t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},v=[t[r+1],t[r+2],["enter",i,e],t[r+3],t[r+4],["enter",s,e],["exit",s,e],["enter",l,e],["enter",a,e],["exit",a,e],["exit",l,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(r,t.length-r+1,...v),t}n(Zz,"resolveToPotentialGfmFootnoteCall");function Vz(t,e,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l=0,a;return v;function v(c){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),g}function g(c){return c!==94?r(c):(t.enter("gfmFootnoteCallMarker"),t.consume(c),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",h)}function h(c){if(l>999||c===93&&!a||c===null||c===91||Kr(c))return r(c);if(c===93){t.exit("chunkString");const y=t.exit("gfmFootnoteCallString");return s.includes(Xo(i.sliceSerialize(y)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):r(c)}return Kr(c)||(a=!0),l++,t.consume(c),c===92?d:h}function d(c){return c===91||c===92||c===93?(t.consume(c),l++,h):h(c)}}n(Vz,"tokenizeGfmFootnoteCall");function Gz(t,e,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,a=0,v;return g;function g(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):r(w)}function d(w){if(a>999||w===93&&!v||w===null||w===91||Kr(w))return r(w);if(w===93){t.exit("chunkString");const S=t.exit("gfmFootnoteDefinitionLabelString");return l=Xo(i.sliceSerialize(S)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),y}return Kr(w)||(v=!0),a++,t.consume(w),w===92?c:d}function c(w){return w===91||w===92||w===93?(t.consume(w),a++,d):d(w)}function y(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),s.includes(l)||s.push(l),_n(t,b,"gfmFootnoteDefinitionWhitespace")):r(w)}function b(w){return e(w)}}n(Gz,"tokenizeDefinitionStart");function Wz(t,e,r){return t.check(nS,e,t.attempt(zz,e,r))}n(Wz,"tokenizeDefinitionContinuation");function Kz(t){t.exit("gfmFootnoteDefinition")}n(Kz,"gfmFootnoteDefinitionEnd");function Yz(t,e,r){const i=this;return _n(t,s,"gfmFootnoteDefinitionIndent",5);function s(l){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(l):r(l)}}n(Yz,"tokenizeIndent");function Xz(t){let r=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:l,resolveAll:s};return r==null&&(r=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(a,v){let g=-1;for(;++g<a.length;)if(a[g][0]==="enter"&&a[g][1].type==="strikethroughSequenceTemporary"&&a[g][1]._close){let h=g;for(;h--;)if(a[h][0]==="exit"&&a[h][1].type==="strikethroughSequenceTemporary"&&a[h][1]._open&&a[g][1].end.offset-a[g][1].start.offset===a[h][1].end.offset-a[h][1].start.offset){a[g][1].type="strikethroughSequence",a[h][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[h][1].start),end:Object.assign({},a[g][1].end)},c={type:"strikethroughText",start:Object.assign({},a[h][1].end),end:Object.assign({},a[g][1].start)},y=[["enter",d,v],["enter",a[h][1],v],["exit",a[h][1],v],["enter",c,v]],b=v.parser.constructs.insideSpan.null;b&&sc(y,y.length,0,sS(b,a.slice(h+1,g),v)),sc(y,y.length,0,[["exit",c,v],["enter",a[g][1],v],["exit",a[g][1],v],["exit",d,v]]),sc(a,h-1,g-h+3,y),g=h+y.length-2;break}}for(g=-1;++g<a.length;)a[g][1].type==="strikethroughSequenceTemporary"&&(a[g][1].type="data");return a}n(s,"resolveAllStrikethrough");function l(a,v,g){const h=this.previous,d=this.events;let c=0;return y;function y(w){return h===126&&d[d.length-1][1].type!=="characterEscape"?g(w):(a.enter("strikethroughSequenceTemporary"),b(w))}function b(w){const S=_u(h);if(w===126)return c>1?g(w):(a.consume(w),c++,b);if(c<2&&!r)return g(w);const C=a.exit("strikethroughSequenceTemporary"),R=_u(w);return C._open=!R||R===2&&!!S,C._close=!S||S===2&&!!R,v(w)}}n(l,"tokenizeStrikethrough")}n(Xz,"gfmStrikethrough");class Qz{static{n(this,"EditMap")}constructor(){this.map=[]}add(e,r,i){Jz(this,e,r,i)}consume(e){if(this.map.sort(function(l,a){return l[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const i=[];for(;r>0;)r-=1,i.push(e.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),e.length=this.map[r][0];i.push(e.slice()),e.length=0;let s=i.pop();for(;s;){for(const l of s)e.push(l);s=i.pop()}this.map.length=0}}function Jz(t,e,r,i){let s=0;if(!(r===0&&i.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=r,t.map[s][2].push(...i);return}s+=1}t.map.push([e,r,i])}}n(Jz,"addImplementation");function qz(t,e){let r=!1;const i=[];for(;e<t.length;){const s=t[e];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const l=i.length-1;i[l]=i[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);e+=1}return i}n(qz,"gfmTableAlign");function e$(){return{flow:{null:{name:"table",tokenize:t$,resolveAll:r$}}}}n(e$,"gfmTable");function t$(t,e,r){const i=this;let s=0,l=0,a;return v;function v($){let U=i.events.length-1;for(;U>-1;){const o=i.events[U][1].type;if(o==="lineEnding"||o==="linePrefix")U--;else break}const u=U>-1?i.events[U][1].type:null,m=u==="tableHead"||u==="tableRow"?B:g;return m===B&&i.parser.lazy[i.now().line]?r($):m($)}function g($){return t.enter("tableHead"),t.enter("tableRow"),h($)}function h($){return $===124||(a=!0,l+=1),d($)}function d($){return $===null?r($):Qa($)?l>1?(l=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),b):r($):Bs($)?_n(t,d,"whitespace")($):(l+=1,a&&(a=!1,s+=1),$===124?(t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),a=!0,d):(t.enter("data"),c($)))}function c($){return $===null||$===124||Kr($)?(t.exit("data"),d($)):(t.consume($),$===92?y:c)}function y($){return $===92||$===124?(t.consume($),c):c($)}function b($){return i.interrupt=!1,i.parser.lazy[i.now().line]?r($):(t.enter("tableDelimiterRow"),a=!1,Bs($)?_n(t,w,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):w($))}function w($){return $===45||$===58?C($):$===124?(a=!0,t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),S):j($)}function S($){return Bs($)?_n(t,C,"whitespace")($):C($)}function C($){return $===58?(l+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume($),t.exit("tableDelimiterMarker"),R):$===45?(l+=1,R($)):$===null||Qa($)?O($):j($)}function R($){return $===45?(t.enter("tableDelimiterFiller"),T($)):j($)}function T($){return $===45?(t.consume($),T):$===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume($),t.exit("tableDelimiterMarker"),P):(t.exit("tableDelimiterFiller"),P($))}function P($){return Bs($)?_n(t,O,"whitespace")($):O($)}function O($){return $===124?w($):$===null||Qa($)?!a||s!==l?j($):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e($)):j($)}function j($){return r($)}function B($){return t.enter("tableRow"),Z($)}function Z($){return $===124?(t.enter("tableCellDivider"),t.consume($),t.exit("tableCellDivider"),Z):$===null||Qa($)?(t.exit("tableRow"),e($)):Bs($)?_n(t,Z,"whitespace")($):(t.enter("data"),W($))}function W($){return $===null||$===124||Kr($)?(t.exit("data"),Z($)):(t.consume($),$===92?ee:W)}function ee($){return $===92||$===124?(t.consume($),W):W($)}}n(t$,"tokenizeTable");function r$(t,e){let r=-1,i=!0,s=0,l=[0,0,0,0],a=[0,0,0,0],v=!1,g=0,h,d,c;const y=new Qz;for(;++r<t.length;){const b=t[r],w=b[1];b[0]==="enter"?w.type==="tableHead"?(v=!1,g!==0&&(v4(y,e,g,h,d),d=void 0,g=0),h={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},y.add(r,0,[["enter",h,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(i=!0,c=void 0,l=[0,0,0,0],a=[0,r+1,0,0],v&&(v=!1,d={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},y.add(r,0,[["enter",d,e]])),s=w.type==="tableDelimiterRow"?2:d?3:1):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(l[1]!==0&&(a[0]=a[1],c=Jl(y,e,l,s,void 0,c),l=[0,0,0,0]),a[2]=r)):w.type==="tableCellDivider"&&(i?i=!1:(l[1]!==0&&(a[0]=a[1],c=Jl(y,e,l,s,void 0,c)),l=a,a=[l[1],r,0,0])):w.type==="tableHead"?(v=!0,g=r):w.type==="tableRow"||w.type==="tableDelimiterRow"?(g=r,l[1]!==0?(a[0]=a[1],c=Jl(y,e,l,s,r,c)):a[1]!==0&&(c=Jl(y,e,a,s,r,c)),s=0):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(a[3]=r)}for(g!==0&&v4(y,e,g,h,d),y.consume(e.events),r=-1;++r<e.events.length;){const b=e.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=qz(e.events,r))}return t}n(r$,"resolveTable");function Jl(t,e,r,i,s,l){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",v="tableContent";r[0]!==0&&(l.end=Object.assign({},zs(e.events,r[0])),t.add(r[0],0,[["exit",l,e]]));const g=zs(e.events,r[1]);if(l={type:a,start:Object.assign({},g),end:Object.assign({},g)},t.add(r[1],0,[["enter",l,e]]),r[2]!==0){const h=zs(e.events,r[2]),d=zs(e.events,r[3]),c={type:v,start:Object.assign({},h),end:Object.assign({},d)};if(t.add(r[2],0,[["enter",c,e]]),i!==2){const y=e.events[r[2]],b=e.events[r[3]];if(y[1].end=Object.assign({},b[1].end),y[1].type="chunkText",y[1].contentType="text",r[3]>r[2]+1){const w=r[2]+1,S=r[3]-r[2]-1;t.add(w,S,[])}}t.add(r[3]+1,0,[["exit",c,e]])}return s!==void 0&&(l.end=Object.assign({},zs(e.events,s)),t.add(s,0,[["exit",l,e]]),l=void 0),l}n(Jl,"flushCell");function v4(t,e,r,i,s){const l=[],a=zs(e.events,r);s&&(s.end=Object.assign({},a),l.push(["exit",s,e])),i.end=Object.assign({},a),l.push(["exit",i,e]),t.add(r+1,0,l)}n(v4,"flushTableEnd");function zs(t,e){const r=t[e],i=r[0]==="enter"?"start":"end";return r[1][i]}n(zs,"getPoint");const i$={name:"tasklistCheck",tokenize:s$};function n$(){return{text:{91:i$}}}n(n$,"gfmTaskListItem");function s$(t,e,r){const i=this;return s;function s(g){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?r(g):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(g),t.exit("taskListCheckMarker"),l)}function l(g){return Kr(g)?(t.enter("taskListCheckValueUnchecked"),t.consume(g),t.exit("taskListCheckValueUnchecked"),a):g===88||g===120?(t.enter("taskListCheckValueChecked"),t.consume(g),t.exit("taskListCheckValueChecked"),a):r(g)}function a(g){return g===93?(t.enter("taskListCheckMarker"),t.consume(g),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),v):r(g)}function v(g){return Qa(g)?e(g):Bs(g)?t.check({tokenize:a$},e,r)(g):r(g)}}n(s$,"tokenizeTasklistCheck");function a$(t,e,r){return _n(t,i,"whitespace");function i(s){return s===null?r(s):e(s)}}n(a$,"spaceThenNonSpace");function o$(t){return aS([Tz(),$z(),Xz(t),e$(),n$()])}n(o$,"gfm");const l$={};function u$(t){const e=this,r=t||l$,i=e.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),l=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(o$(r)),l.push(Nz()),a.push(Cz(r))}n(u$,"remarkGfm");const G9=K.forwardRef(({className:t,children:e,variant:r="agent",...i},s)=>N.jsx("div",{ref:s,className:Ve("not-prose relative overflow-hidden rounded-lg border border-border",t),style:{backgroundColor:"#0f172a",color:"white"},...i,children:e}));G9.displayName="CodeBlock";const f$=K.forwardRef(({className:t,children:e,...r},i)=>N.jsx("div",{ref:i,className:Ve("flex items-center justify-between border-b border-border px-4 py-2 text-sm text-muted-foreground bg-muted/30 dark:bg-slate-800/50",t),...r,children:e}));f$.displayName="CodeBlockGroup";const W9=K.forwardRef(({code:t,language:e="text",className:r,variant:i="agent",...s},l)=>N.jsx("div",{ref:l,className:Ve("overflow-x-auto p-4",r),style:{backgroundColor:"transparent"},...s,children:N.jsx("pre",{className:"text-sm whitespace-pre-wrap",style:{color:"white"},children:N.jsx("code",{className:"font-mono",style:{color:"white"},children:t})})}));W9.displayName="CodeBlockCode";const c$=n((t="agent")=>({pre:n(({children:e,className:r,...i})=>{if(K.Children.toArray(e).some(l=>K.isValidElement(l)&&l.props?.className&&/language-\w+/.test(l.props.className))){const l=K.Children.toArray(e).find(d=>K.isValidElement(d)&&d.props?.className&&/language-\w+/.test(d.props.className)),v=(l.props.className||"").match(/language-(\w+)/),g=v?v[1]:"text",h=String(l.props.children||"").trim();return N.jsxs(G9,{children:[g&&g!=="text"&&N.jsx("div",{className:"flex items-center justify-between px-4 py-2 text-xs bg-black/30 text-white border-b border-border",children:N.jsx("span",{className:"font-mono uppercase tracking-wide",children:g})}),N.jsx(W9,{code:h,language:g})]})}return N.jsx("pre",{className:Ve("overflow-x-auto rounded-md bg-black dark:bg-black/50 border border-border p-4 text-sm font-mono text-white dark:text-white",r),...i,children:e})},"pre"),code:n(({className:e,children:r,...i})=>e&&/language-\w+/.test(e)?N.jsx("code",{className:e,...i,children:r}):N.jsx("code",{className:Ve("relative rounded bg-muted/60 dark:bg-slate-800/60 px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold text-foreground dark:text-slate-100 border border-border/50",e),...i,children:r}),"code"),h1:n(({className:e,...r})=>N.jsx("h1",{className:Ve("mt-2 scroll-m-20 text-xl font-bold tracking-tight",e),...r}),"h1"),h2:n(({className:e,...r})=>N.jsx("h2",{className:Ve("mt-2 scroll-m-20 text-lg font-semibold tracking-tight",e),...r}),"h2"),h3:n(({className:e,...r})=>N.jsx("h3",{className:Ve("mt-2 scroll-m-20 text-base font-semibold tracking-tight",e),...r}),"h3"),h4:n(({className:e,...r})=>N.jsx("h4",{className:Ve("mt-2 scroll-m-20 text-sm font-semibold tracking-tight",e),...r}),"h4"),p:n(({className:e,...r})=>N.jsx("p",{className:Ve("leading-7",e),...r}),"p"),ul:n(({className:e,...r})=>N.jsx("ul",{className:Ve("my-2 ml-6 list-disc [&>li]:mt-1",e),...r}),"ul"),ol:n(({className:e,...r})=>N.jsx("ol",{className:Ve("my-2 ml-6 list-decimal [&>li]:mt-1",e),...r}),"ol"),a:n(({className:e,...r})=>N.jsx("a",{className:Ve("font-medium text-primary underline underline-offset-4",e),...r}),"a"),blockquote:n(({className:e,...r})=>N.jsx("blockquote",{className:Ve("mt-2 border-l-2 border-muted-foreground/20 pl-6 italic",e),...r}),"blockquote"),table:n(({className:e,...r})=>N.jsx("div",{className:"my-2 w-full overflow-y-auto",children:N.jsx("table",{className:Ve("w-full",e),...r})}),"table"),th:n(({className:e,...r})=>N.jsx("th",{className:Ve("border border-muted-foreground/20 px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right",e),...r}),"th"),td:n(({className:e,...r})=>N.jsx("td",{className:Ve("border border-muted-foreground/20 px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",e),...r}),"td"),img:n(({className:e,alt:r,...i})=>N.jsx("img",{className:Ve("rounded-md",e),alt:r,...i}),"img"),hr:n(({...e})=>N.jsx("hr",{className:"my-4 border-muted-foreground/20",...e}),"hr"),strong:n(({className:e,...r})=>N.jsx("strong",{className:Ve("font-semibold",e),...r}),"strong"),em:n(({className:e,...r})=>N.jsx("em",{className:Ve("italic",e),...r}),"em")}),"createComponents"),Lv=K.memo(({children:t,className:e,components:r,variant:i="agent",...s})=>{const l=K.useMemo(()=>c$(i),[i]),a=K.useMemo(()=>({...l,...r}),[l,r]);return N.jsx("div",{className:Ve("markdown-content",e),...s,children:N.jsx(oS,{remarkPlugins:[u$],components:a,children:t})})});Lv.displayName="Markdown";const h$=n(({children:t,className:e,variant:r="agent",shouldAnimate:i=!1,messageId:s,maxDurationMs:l=1e4})=>{const[a,v]=K.useState(i?"":t);return K.useEffect(()=>{if(!i||!t.trim()){v(t);return}const g=Math.max(1e3,l);v("");const h=20,d=t.length,c=Math.ceil(g/h),y=Math.max(1,Math.ceil(d/c));let b=0;const w=setInterval(()=>{b+=y,b>=d?(v(t),clearInterval(w)):v(t.slice(0,b))},h);return()=>clearInterval(w)},[t,i,s,l]),N.jsx(Lv,{className:e,variant:r,children:a})},"AnimatedMarkdown");/*!---------------------------------------------------------------------------------------------
 *  Copyright (c) StackBlitz. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/const d$={damping:.7,stiffness:.05,mass:1.25},p$=70,m$=1e3/60,g$=350;let qf=!1;globalThis.document?.addEventListener("mousedown",()=>{qf=!0});globalThis.document?.addEventListener("mouseup",()=>{qf=!1});globalThis.document?.addEventListener("click",()=>{qf=!1});const v$=n((t={})=>{const[e,r]=K.useState(!1),[i,s]=K.useState(t.initial!==!1),[l,a]=K.useState(!1),v=K.useRef(null);v.current=t;const g=K.useCallback(()=>{if(!qf)return!1;const T=window.getSelection();if(!T||!T.rangeCount)return!1;const P=T.getRangeAt(0);return P.commonAncestorContainer.contains(C.current)||C.current?.contains(P.commonAncestorContainer)},[]),h=K.useCallback(T=>{c.isAtBottom=T,s(T)},[]),d=K.useCallback(T=>{c.escapedFromLock=T,r(T)},[]),c=K.useMemo(()=>{let T;return{escapedFromLock:e,isAtBottom:i,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return C.current?.scrollTop??0},set scrollTop(P){C.current&&(C.current.scrollTop=P,c.ignoreScrollToTop=C.current.scrollTop)},get targetScrollTop(){return!C.current||!R.current?0:C.current.scrollHeight-1-C.current.clientHeight},get calculatedTargetScrollTop(){if(!C.current||!R.current)return 0;const{targetScrollTop:P}=this;if(!t.targetScrollTop)return P;if(T?.targetScrollTop===P)return T.calculatedScrollTop;const O=Math.max(Math.min(t.targetScrollTop(P,{scrollElement:C.current,contentElement:R.current}),P),0);return T={targetScrollTop:P,calculatedScrollTop:O},requestAnimationFrame(()=>{T=void 0}),O},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=p$}}},[]),y=K.useCallback((T={})=>{typeof T=="string"&&(T={animation:T}),T.preserveScrollPosition||h(!0);const P=Date.now()+(Number(T.wait)||0),O=Jp(v.current,T.animation),{ignoreEscapes:j=!1}=T;let B,Z=c.calculatedTargetScrollTop;T.duration instanceof Promise?T.duration.finally(()=>{B=Date.now()}):B=P+(T.duration??0);const W=n(async()=>{const ee=new Promise(requestAnimationFrame).then(()=>{if(!c.isAtBottom)return c.animation=void 0,!1;const{scrollTop:$}=c,U=performance.now(),u=(U-(c.lastTick??U))/m$;if(c.animation||(c.animation={behavior:O,promise:ee,ignoreEscapes:j}),c.animation.behavior===O&&(c.lastTick=U),g()||P>Date.now())return W();if($<Math.min(Z,c.calculatedTargetScrollTop)){if(c.animation?.behavior===O){if(O==="instant")return c.scrollTop=c.calculatedTargetScrollTop,W();c.velocity=(O.damping*c.velocity+O.stiffness*c.scrollDifference)/O.mass,c.accumulated+=c.velocity*u,c.scrollTop+=c.accumulated,c.scrollTop!==$&&(c.accumulated=0)}return W()}return B>Date.now()?(Z=c.calculatedTargetScrollTop,W()):(c.animation=void 0,c.scrollTop<c.calculatedTargetScrollTop?y({animation:Jp(v.current,v.current.resize),ignoreEscapes:j,duration:Math.max(0,B-Date.now())||void 0}):c.isAtBottom)});return ee.then($=>(requestAnimationFrame(()=>{c.animation||(c.lastTick=void 0,c.velocity=0)}),$))},"next");return T.wait!==!0&&(c.animation=void 0),c.animation?.behavior===O?c.animation.promise:W()},[h,g,c]),b=K.useCallback(()=>{d(!0),h(!1)},[d,h]),w=K.useCallback(({target:T})=>{if(T!==C.current)return;const{scrollTop:P,ignoreScrollToTop:O}=c;let{lastScrollTop:j=P}=c;c.lastScrollTop=P,c.ignoreScrollToTop=void 0,O&&O>P&&(j=O),a(c.isNearBottom),setTimeout(()=>{if(c.resizeDifference||P===O)return;if(g()){d(!0),h(!1);return}const B=P>j,Z=P<j;if(c.animation?.ignoreEscapes){c.scrollTop=j;return}Z&&(d(!0),h(!1)),B&&d(!1),!c.escapedFromLock&&c.isNearBottom&&h(!0)},1)},[d,h,g,c]),S=K.useCallback(({target:T,deltaY:P})=>{let O=T;for(;!["scroll","auto"].includes(getComputedStyle(O).overflow);){if(!O.parentElement)return;O=O.parentElement}O===C.current&&P<0&&C.current.scrollHeight>C.current.clientHeight&&!c.animation?.ignoreEscapes&&(d(!0),h(!1))},[d,h,c]),C=b4(T=>{C.current?.removeEventListener("scroll",w),C.current?.removeEventListener("wheel",S),T?.addEventListener("scroll",w,{passive:!0}),T?.addEventListener("wheel",S,{passive:!0})},[]),R=b4(T=>{if(c.resizeObserver?.disconnect(),!T)return;let P;c.resizeObserver=new ResizeObserver(([O])=>{const{height:j}=O.contentRect,B=j-(P??j);if(c.resizeDifference=B,c.scrollTop>c.targetScrollTop&&(c.scrollTop=c.targetScrollTop),a(c.isNearBottom),B>=0){const Z=Jp(v.current,P?v.current.resize:v.current.initial);y({animation:Z,wait:!0,preserveScrollPosition:!0,duration:Z==="instant"?void 0:g$})}else c.isNearBottom&&(d(!1),h(!0));P=j,requestAnimationFrame(()=>{setTimeout(()=>{c.resizeDifference===B&&(c.resizeDifference=0)},1)})}),c.resizeObserver?.observe(T)},[]);return{contentRef:R,scrollRef:C,scrollToBottom:y,stopScroll:b,isAtBottom:i||l,isNearBottom:l,escapedFromLock:e,state:c}},"useStickToBottom");function b4(t,e){const r=K.useCallback(i=>(r.current=i,t(i)),e);return r}n(b4,"useRefCallback");const Qp=new Map;function Jp(...t){const e={...d$};let r=!1;for(const s of t){if(s==="instant"){r=!0;continue}typeof s=="object"&&(r=!1,e.damping=s.damping??e.damping,e.stiffness=s.stiffness??e.stiffness,e.mass=s.mass??e.mass)}const i=JSON.stringify(e);return Qp.has(i)||Qp.set(i,Object.freeze(e)),r?"instant":Qp.get(i)}n(Jp,"mergeAnimations");function b$(t={}){const{smooth:e=!1}=t,r=K.useRef(!1),i=v$({initial:e?"smooth":"instant",resize:e?"smooth":"instant"}),[s,l]=K.useState({isAtBottom:!0,autoScrollEnabled:!0});K.useEffect(()=>{i.isAtBottom?(r.current=!1,l({isAtBottom:!0,autoScrollEnabled:!0})):l(h=>({...h,isAtBottom:!1,autoScrollEnabled:r.current?!1:h.autoScrollEnabled}))},[i.isAtBottom]);const a=K.useCallback(g=>{const h=g?"instant":e?"smooth":"instant";i.scrollToBottom({animation:h,preserveScrollPosition:!1}),l({isAtBottom:!0,autoScrollEnabled:!0}),r.current=!1},[i.scrollToBottom,e]),v=K.useCallback(()=>{i.isAtBottom||(r.current=!0,i.stopScroll(),l(g=>({...g,autoScrollEnabled:!1})))},[i.isAtBottom,i.stopScroll]);return{scrollRef:i.scrollRef,contentRef:i.contentRef,isAtBottom:s.isAtBottom,autoScrollEnabled:s.autoScrollEnabled,scrollToBottom:n(()=>a(!1),"scrollToBottom"),disableAutoScroll:v,_stickToBottom:i}}n(b$,"useAutoScroll");const y$=n(({className:t,...e})=>N.jsx(uS,{className:Ve("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),"ResizablePanelGroup"),y4=lS,w$=n(({withHandle:t,className:e,...r})=>N.jsx(fS,{className:Ve("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...r,children:t&&N.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:N.jsx(cS,{className:"h-2.5 w-2.5"})})}),"ResizableHandle"),rg=K.forwardRef(({mainAction:t,actions:e,variant:r="default",size:i="default",disabled:s,className:l,mainButtonClassName:a,dropdownButtonClassName:v},g)=>{const h=K.useRef(null),[d,c]=K.useState();return K.useImperativeHandle(g,()=>h.current,[]),K.useLayoutEffect(()=>{h.current&&c(h.current.offsetWidth)},[e.length,t.label]),N.jsxs("div",{ref:h,className:Ve("flex w-full",l),children:[N.jsxs(qe,{type:"button",variant:r,size:i,onClick:t.onClick,disabled:s||t.disabled,className:Ve("rounded-r-none flex-1",r==="destructive"?"border-r border-red-700":"border-r-0",a),children:[t.icon&&N.jsx("span",{className:"mr-2",children:t.icon}),t.label]}),N.jsxs(co,{children:[N.jsx(ho,{asChild:!0,children:N.jsxs(qe,{type:"button",variant:r,size:i,disabled:s,className:Ve("rounded-l-none px-2 flex-shrink-0",v),children:[N.jsx(Cn,{className:"h-4 w-4"}),N.jsx("span",{className:"sr-only",children:"More options"})]})}),N.jsx(po,{align:"end",style:{width:d},children:e.map((y,b)=>N.jsxs(K.Fragment,{children:[N.jsxs(Ti,{onClick:y.onClick,disabled:y.disabled,className:Ve(y.variant==="destructive"&&"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50"),children:[y.icon,y.label]}),b<e.length-1&&N.jsx(Mu,{})]},b))})]})]})});rg.displayName="SplitButton";const x$=hS,_$=dS,M$=pS,S$=n(({toolPart:t,defaultOpen:e=!1,className:r})=>{const[i,s]=K.useState(e),{state:l,input:a,output:v,toolCallId:g}=t,h=n(()=>{switch(l){case"input-streaming":return N.jsx(Nr,{className:"h-4 w-4 animate-spin text-blue-500"});case"input-available":return N.jsx(vs,{className:"h-4 w-4 text-orange-500"});case"output-available":return N.jsx(ax,{className:"h-4 w-4 text-green-500"});case"output-error":return N.jsx(mS,{className:"h-4 w-4 text-red-500"});default:return N.jsx(vs,{className:"text-muted-foreground h-4 w-4"})}},"getStateIcon"),d=n(()=>{const y="px-2 py-1 rounded-full text-xs font-medium";switch(l){case"input-streaming":return N.jsx("span",{className:Ve(y,"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:"Processing"});case"input-available":return N.jsx("span",{className:Ve(y,"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"),children:"Ready"});case"output-available":return N.jsx("span",{className:Ve(y,"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:"Completed"});case"output-error":return N.jsx("span",{className:Ve(y,"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"Error"});default:return N.jsx("span",{className:Ve(y,"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"Pending"})}},"getStateBadge"),c=n(y=>y===null?"null":y===void 0?"undefined":typeof y=="string"?y:typeof y=="object"?JSON.stringify(y,null,2):String(y),"formatValue");return N.jsx("div",{className:Ve("border-border mt-3 overflow-hidden rounded-lg border",r),children:N.jsxs(x$,{open:i,onOpenChange:s,children:[N.jsx(_$,{asChild:!0,children:N.jsxs(qe,{variant:"ghost",className:"bg-background h-auto w-full justify-between rounded-b-none px-3 py-2 font-normal",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[h(),N.jsx("span",{className:"font-mono text-sm font-medium",children:t.type}),d()]}),N.jsx(Cn,{className:Ve("h-4 w-4",i&&"rotate-180")})]})}),N.jsx(M$,{className:Ve("border-border border-t","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden"),children:N.jsxs("div",{className:"bg-background space-y-3 p-3",children:[a&&Object.keys(a).length>0&&N.jsxs("div",{children:[N.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Input"}),N.jsx("div",{className:"bg-background rounded border p-2 font-mono text-sm",children:Object.entries(a).map(([y,b])=>N.jsxs("div",{className:"mb-1",children:[N.jsxs("span",{className:"text-muted-foreground",children:[y,":"]})," ",N.jsx("span",{children:c(b)})]},y))})]}),v&&N.jsxs("div",{children:[N.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Output"}),N.jsx("div",{className:"bg-background max-h-60 overflow-auto rounded border p-2 font-mono text-sm",children:N.jsx("pre",{className:"whitespace-pre-wrap",children:c(v)})})]}),l==="output-error"&&t.errorText&&N.jsxs("div",{children:[N.jsx("h4",{className:"mb-2 text-sm font-medium text-red-500",children:"Error"}),N.jsx("div",{className:"bg-background rounded border border-red-200 p-2 text-sm dark:border-red-950 dark:bg-red-900/20",children:t.errorText})]}),l==="input-streaming"&&N.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing tool call..."}),g&&N.jsx("div",{className:"text-muted-foreground border-t border-blue-200 pt-2 text-xs",children:N.jsxs("span",{className:"font-mono",children:["Call ID: ",g]})})]})})]})})},"Tool");function E$({agentId:t,channelId:e,chatType:r}){const[i,s]=K.useState([]),l=K.useRef(new Set),{toast:a}=er(),v=qt();K.useEffect(()=>()=>{l.current.forEach(w=>URL.revokeObjectURL(w)),l.current.clear()},[]);const g=K.useCallback(w=>{const T=Array.from(w.target.files||[]).filter(P=>P.type.startsWith("image/")||P.type.startsWith("video/")||P.type.startsWith("audio/")||P.type==="application/pdf"||P.type==="application/msword"||P.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||P.type==="application/vnd.ms-excel"||P.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||P.type==="application/vnd.ms-powerpoint"||P.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||P.type.startsWith("text/")).filter(P=>!i.some(O=>O.file.name===P.name&&O.file.size===P.size&&O.file.lastModified===P.lastModified)).map(P=>({file:P,id:cn(),isUploading:!1}));s(P=>{const O=[...P,...T];return Array.from(new Map(O.map(j=>[`${j.file.name}-${j.file.size}`,j])).values())}),w.target&&(w.target.value="")},[i]),h=K.useCallback(w=>{s(S=>{const C=S.find(R=>R.id===w);return C?.blobUrl&&(URL.revokeObjectURL(C.blobUrl),l.current.delete(C.blobUrl)),S.filter(R=>R.id!==w)})},[]),d=K.useCallback(w=>w.map(C=>{const R=URL.createObjectURL(C.file);return l.current.add(R),C.blobUrl=R,{id:C.id,url:R,title:C.file.name,contentType:H0(C.file.type),isUploading:!0}}).filter(C=>C.contentType!==void 0),[]),c=K.useCallback(async w=>{if(!w.length)return{uploaded:[],failed:[],blobUrls:[]};const S=w.map(async O=>{try{const j=r===vt.DM&&t?await v.media.uploadAgentMedia(t,{file:O.file,filename:O.file.name}):await v.media.uploadChannelMedia(e,O.file);return{success:!0,media:{id:O.id,url:j.url,title:O.file.name,source:"file_upload",contentType:H0(O.file.type)}}}catch(j){return We.error(`Failed to upload ${O.file.name}:`,j),a({title:`Upload Failed: ${O.file.name}`,description:j instanceof Error?j.message:"Upload failed",variant:"destructive"}),{success:!1,file:O,error:j instanceof Error?j.message:"Upload failed"}}}),C=await Promise.allSettled(S),R=[],T=[],P=[];return C.forEach((O,j)=>{O.status==="fulfilled"?O.value.success&&"media"in O.value?R.push(O.value.media):"file"in O.value&&T.push(O.value):T.push({file:w[j],error:O.reason?.message||"Upload failed"})}),w.forEach(O=>{O.blobUrl&&P.push(O.blobUrl)}),{uploaded:R,failed:T,blobUrls:P}},[r,t,e,a]),y=K.useCallback(w=>{w.forEach(S=>{URL.revokeObjectURL(S),l.current.delete(S)})},[]),b=K.useCallback(()=>{i.forEach(w=>{w.blobUrl&&(URL.revokeObjectURL(w.blobUrl),l.current.delete(w.blobUrl))}),s([])},[i]);return{selectedFiles:i,setSelectedFiles:s,handleFileChange:g,removeFile:h,createBlobUrls:d,uploadFiles:c,cleanupBlobUrls:y,clearFiles:b,getContentTypeFromMimeType:H0}}n(E$,"useFileUpload");function A$({channelId:t,currentUserId:e,contextId:r,chatType:i,allAgents:s,messages:l,onAddMessage:a,onUpdateMessage:v,onDeleteMessage:g,onClearMessages:h,onInputDisabledChange:d}){const c=ri.getInstance(),y=K.useRef(null),b=K.useRef(null),w=K.useCallback(async(S,C,R,T,P,O,j)=>{const B=j||t;if(!B){We.error("[useSocketChat] Cannot send message: no channel ID available");return}const Z={...O,channelType:i,...i===vt.DM&&{isDm:!0,targetUserId:r}};await c.sendMessage(S,B,C,R,T,P,Z)},[t,c,i,r]);return K.useEffect(()=>{if(!t||!e){b.current&&(We.info(`[useSocketChat] useEffect: channelId is now null/undefined, resetting joinedChannelRef from ${b.current}`),b.current=null);return}c.initialize(e),t!==b.current?(We.info(`[useSocketChat] useEffect: Joining channel ${t}. Previous joinedChannelRef: ${b.current}`),c.joinChannel(t),b.current=t):We.info(`[useSocketChat] useEffect: Channel ${t} already marked as joined by this instance. Skipping joinChannel call.`);const S=n(u=>{if(We.info("[useSocketChat] Received raw messageBroadcast data:",JSON.stringify(u)),(u.channelId||u.roomId)!==t)return;const o=u.senderId===e,p=i===vt.DM?u.senderId===r:s.some(A=>A.id===u.senderId);!o&&p&&d(!1);const x=u.clientMessageId;if(x&&o)v(x,{id:u.id||cn(),isLoading:!1,createdAt:typeof u.createdAt=="number"?u.createdAt:Date.parse(u.createdAt),text:u.text,attachments:u.attachments,isAgent:!1});else{const A={id:u.id||cn(),text:u.text,name:u.senderName,senderId:u.senderId,isAgent:p,createdAt:typeof u.createdAt=="number"?u.createdAt:Date.parse(u.createdAt),channelId:u.channelId||u.roomId,serverId:u.serverId,source:u.source,attachments:u.attachments,thought:u.thought,actions:u.actions,isLoading:!1,prompt:u.prompt,rawMessage:u.rawMessage};l.some(M=>M.id===u.id)||(We.info("[useSocketChat] Adding new UiMessage:",JSON.stringify(A)),a(A),p&&A.id?y.current=A.id:y.current=null)}},"handleMessageBroadcasting"),C=n(u=>{(u.channelId||u.roomId)===t&&d(!1)},"handleMessageComplete"),R=n(u=>{(u.channelId||u.roomId)===t&&(u.action==="disable_input"?d(!0):u.action==="enable_input"&&d(!1))},"handleControlMessage"),T=n(u=>{(u.channelId||u.roomId)===t&&u.messageId&&g(u.messageId)},"handleMessageDeleted"),P=n(u=>{(u.channelId||u.roomId)===t&&h()},"handleChannelCleared"),O=n(u=>{(u.channelId||u.roomId)===t&&h()},"handleChannelDeleted"),j=c.evtMessageBroadcast.attach(u=>(u.channelId||u.roomId)===t,S),B=c.evtMessageComplete.attach(u=>(u.channelId||u.roomId)===t,C),Z=c.evtControlMessage.attach(u=>(u.channelId||u.roomId)===t,R),W=c.evtMessageDeleted.attach(u=>(u.channelId||u.roomId)===t,T),ee=c.evtChannelCleared.attach(u=>(u.channelId||u.roomId)===t,P),$=c.evtChannelDeleted.attach(u=>(u.channelId||u.roomId)===t,O);return()=>{t&&(We.info(`[useSocketChat] useEffect cleanup: Leaving channel ${t}. Current joinedChannelRef: ${b.current}`),c.leaveChannel(t),t===b.current&&(b.current=null,We.info(`[useSocketChat] useEffect cleanup: Reset joinedChannelRef for ${t}`))),U([j,B,Z,W,ee,$])};function U(u){u.forEach(m=>m?.detach())}},[t,e,c]),{sendMessage:w,animatedMessageId:y.current}}n(A$,"useSocketChat");const k$=new Set(["jpg","jpeg","png","gif","webp","svg","bmp","ico","tiff","avif"]),N$=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v","ogv"]),C$={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/],getEmbedUrl:n(t=>`https://www.youtube.com/embed/${t}`,"getEmbedUrl")},vimeo:{patterns:[/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/],getEmbedUrl:n(t=>`https://player.vimeo.com/video/${t}`,"getEmbedUrl")}};function K9(t){try{return new URL(t).pathname.split(".").pop()?.toLowerCase()||""}catch{return""}}n(K9,"getFileExtension");function R$(t){const e=K9(t);return k$.has(e)}n(R$,"isImageUrl");function I$(t){const e=K9(t);return N$.has(e)}n(I$,"isVideoFileUrl");function Y9(t){for(const[e,r]of Object.entries(C$))for(const i of r.patterns){const s=t.match(i);if(s&&s[1])return{platform:e,id:s[1],embedUrl:r.getEmbedUrl(s[1])}}return null}n(Y9,"getVideoPlatformInfo");function X9(t){if(!t)return[];const e=/(https?:\/\/[^\s]+)/g;return(t.match(e)||[]).map(i=>{const s=i.replace(/[.,!?;)]*$/,"");if(R$(s))return{url:s,type:"image",isEmbed:!1};if(I$(s))return{url:s,type:"video",isEmbed:!1};const l=Y9(s);return l?{url:l.embedUrl,type:"video",isEmbed:!0}:{url:s,type:"unknown",isEmbed:!1}}).filter(i=>i.type!=="unknown")}n(X9,"parseMediaFromText");function T$(t,e){let r=t;return e.forEach(i=>{if(i.isEmbed){const s=/(https?:\/\/[^\s]+)/g,l=t.match(s)||[];for(const a of l){const v=a.replace(/[.,!?;)]*$/,""),g=Y9(v);if(g&&g.embedUrl===i.url){r=r.replace(a,"").trim();break}}}else r=r.replace(i.url,"").trim()}),r}n(T$,"removeMediaUrlsFromText");const ql=15;function Q9(t){return(t.includes("TEXT")||t.includes("OBJECT"))&&!t.includes("EMBEDDING")&&!t.includes("TRANSCRIPTION")?"LLM":t.includes("EMBEDDING")?"Embedding":t.includes("TRANSCRIPTION")?"Transcription":t.includes("IMAGE")?"Image":!t.includes("TEXT")&&!t.includes("IMAGE")&&!t.includes("EMBEDDING")&&!t.includes("TRANSCRIPTION")?"Other":"Unknown"}n(Q9,"getModelUsageType");function P$(t){if(!t)return"Unknown date";const e=new Date(t),r=new Date,i=(r.getTime()-e.getTime())/(1e3*60*60);return i<1?`${Math.floor((r.getTime()-e.getTime())/6e4)}m ago`:i<24?`${Math.floor(i)}h ago`:i<168?e.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}n(P$,"formatDate");function O$(t=""){return t==="ACTION"?wx:t.includes("TEXT_EMBEDDING")?xu:t.includes("TRANSCRIPTION")?ls:t.includes("TEXT")||t.includes("OBJECT")?xx:t.includes("IMAGE")?gS:vS}n(O$,"getModelIcon");function j$(t){if(!t)return null;const{prompt_tokens:e,completion_tokens:r,total_tokens:i}=t;return i?{prompt:e||0,completion:r||0,total:i}:null}n(j$,"formatTokenUsage");function w4(t,e=100){return t.length<=e?t:t.substring(0,e)+"..."}n(w4,"truncateText");function eu(t){navigator.clipboard.writeText(t).catch(console.error)}n(eu,"copyToClipboard");function L$(t){const e={};for(const r of t){const i=r.createdAt||r.timestamp||0,l=new Date(i).toLocaleDateString();e[l]||(e[l]=[]),e[l].push(r)}return e}n(L$,"groupActionsByDate");function D$({action:t,onDelete:e}){const[r,i]=K.useState(!1),[s,l]=K.useState(!1),[a,v]=K.useState(!1),g=t.body?.modelType||"",h=t.body?.modelKey||"",d=t.type==="action",c=t.body?.action||"",y=O$(d?"ACTION":g),b=d?"Action":Q9(g),w=j$(t.body?.response?.usage||t.body?.usage),S=t.body?.prompts,C=n(()=>{const P=t.body?.params;if(!P&&!S)return null;if(g.includes("TRANSCRIPTION")&&Array.isArray(P))return N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[N.jsx(ls,{className:"h-3 w-3"}),N.jsx("span",{children:"Audio input data"})]});const{prompt:O,...j}=P||{};return N.jsxs("div",{className:"space-y-4",children:[S&&Array.isArray(S)&&S.length>0&&N.jsxs("div",{className:"space-y-2",children:[N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Prompts (",S.length,")"]})}),N.jsx("div",{className:"space-y-3",children:S.map((B,Z)=>N.jsxs("div",{className:"space-y-1",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("span",{className:"text-xs text-muted-foreground",children:[B.modelType||"Prompt"," #",Z+1]}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>eu(B.prompt),"onClick"),className:"h-5 px-1 text-xs",title:"Copy prompt",children:N.jsx(Mn,{className:"h-3 w-3"})})]}),N.jsx("div",{className:"bg-muted/30 rounded-md p-2",children:N.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:B.prompt})})]},Z))})]}),!S&&O&&N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prompt"}),N.jsxs(qe,{variant:"ghost",size:"sm",onClick:n(()=>eu(O),"onClick"),className:"h-6 px-2 text-xs",title:"Copy prompt",children:[N.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),N.jsx("div",{className:"bg-muted/30 rounded-md p-3 relative",children:N.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:typeof O=="string"?O:JSON.stringify(O,null,2)})})]}),Object.keys(j).length>0&&N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Other Parameters"}),JSON.stringify(j,null,2).length>200?N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>l(!s),"onClick"),className:"h-6 px-2 text-xs",children:s?"Show less":"Show more"}):null]}),N.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group",children:[N.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:(()=>{const B=JSON.stringify(j,null,2),Z=B.length>200;return s||!Z?B:w4(B,200)})()}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>eu(JSON.stringify(j,null,2)),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy parameters",children:N.jsx(Mn,{className:"h-3 w-3"})})]})]})]})},"renderParams"),R=n(()=>{const P=t.body?.response;if(!P)return null;if(P==="[array]")return N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[N.jsx(Rn,{className:"h-3 w-3"}),N.jsx("span",{children:"Array response data"})]});const O=typeof P=="object"?JSON.stringify(P,null,2):String(P),j=O.length>300;return N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Response"}),j&&N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>v(!a),"onClick"),className:"h-6 px-2 text-xs",children:a?"Show less":"Show more"})]}),N.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group max-h-64 overflow-y-auto",children:[N.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:a||!j?O:w4(O,300)}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>eu(O),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy response",children:N.jsx(Mn,{className:"h-3 w-3"})})]})]})},"renderResponse"),T=t.body?.params||t.body?.response||t.message||t.details;return N.jsxs("div",{className:"border rounded-lg bg-card hover:shadow-sm transition-all duration-200 group",children:[N.jsx("div",{className:"p-4 pb-3",children:N.jsxs("div",{className:"flex items-start justify-between",children:[N.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[N.jsx("div",{className:"p-2 rounded-lg bg-muted",children:N.jsx(y,{className:"h-4 w-4 text-muted-foreground"})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.jsx("h4",{className:"font-semibold text-sm",children:d?c:b}),N.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:d?"Action":g}),t.body?.promptCount&&t.body.promptCount>1&&N.jsxs(di,{variant:"secondary",className:"text-xs px-1.5",children:[t.body.promptCount," prompts"]})]}),N.jsxs("div",{className:"space-y-1",children:[(h||d)&&N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[N.jsx(wx,{className:"h-3 w-3"}),N.jsx("code",{className:"font-mono",children:d?`Action ID: ${t.body?.actionId?.slice(-8)||"N/A"}`:h})]}),N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[N.jsx(rf,{className:"h-3 w-3"}),N.jsx("span",{children:P$(t.createdAt||t.timestamp)}),t.id&&N.jsxs(N.Fragment,{children:[N.jsx("span",{children:""}),N.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:t.id.slice(-8)})]})]})]}),w&&N.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),N.jsx("span",{className:"font-mono",children:w.total.toLocaleString()})]}),w.prompt>0&&N.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[N.jsx("span",{children:"In:"}),N.jsx("span",{className:"font-mono",children:w.prompt.toLocaleString()})]}),w.completion>0&&N.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[N.jsx("span",{children:"Out:"}),N.jsx("span",{className:"font-mono",children:w.completion.toLocaleString()})]})]})]})]}),N.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T&&N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>i(!r),"onClick"),className:"h-8 w-8 p-0",title:r?"Collapse details":"Expand details",children:r?N.jsx(V4,{className:"h-3 w-3"}):N.jsx(Cn,{className:"h-3 w-3"})}),t.id&&e&&N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>{typeof t.id=="string"&&e(t.id)},"onClick"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete log entry",children:N.jsx(gs,{className:"h-3 w-3"})})]})]})}),r&&T&&N.jsxs(N.Fragment,{children:[N.jsx(Yr,{}),N.jsxs("div",{className:"p-4 pt-3 space-y-4",children:[C(),R(),(t.message||t.details)&&N.jsxs("div",{className:"space-y-2",children:[N.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Additional Info"}),N.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[t.message&&N.jsxs("div",{className:"text-xs mb-2",children:[N.jsx("span",{className:"font-medium text-muted-foreground",children:"Message: "}),N.jsx("span",{children:t.message})]}),t.details&&N.jsxs("div",{className:"text-xs",children:[N.jsx("span",{className:"font-medium text-muted-foreground",children:"Details: "}),N.jsx("span",{children:t.details})]})]})]})]})]}),!r&&T&&N.jsxs(N.Fragment,{children:[N.jsx(Yr,{}),N.jsx("div",{className:"p-4 pt-3",children:N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[N.jsx(ii,{className:"h-3 w-3"}),N.jsx("span",{children:(()=>{const P=[];return t.body?.promptCount&&t.body.promptCount>0&&P.push(`${t.body.promptCount} prompt${t.body.promptCount>1?"s":""}`),t.body?.params&&P.push("parameters"),t.body?.response&&P.push("response data"),P.length>0?`Contains ${P.join(" and ")}`:"Contains additional data"})()}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>i(!0),"onClick"),className:"h-5 px-2 text-xs ml-auto",children:"View details"})]})})]})]})}n(D$,"ActionCard");function B$({loadingMore:t,onLoadMore:e}){return N.jsx("div",{className:"flex justify-center py-6",children:t?N.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[N.jsx(so,{className:"h-4 w-4 animate-spin"}),N.jsx("span",{className:"text-sm",children:"Loading more actions..."})]}):N.jsx(qe,{variant:"outline",onClick:e,className:"px-8",children:"Load More"})})}n(B$,"LoadingIndicator");function F$({selectedType:t,searchQuery:e}){return N.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[N.jsx(Rn,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),N.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Actions Found"}),N.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:e?`No actions match "${e}". Try adjusting your search or filter.`:t==="all"?"Actions will appear here once the agent has performed operations.":`No ${t} actions found.`}),e&&N.jsx(qe,{variant:"outline",onClick:n(()=>{},"onClick"),children:"Clear Search"})]})}n(F$,"EmptyState");function U$({agentId:t,roomId:e}){const[r,i]=K.useState("all"),[s,l]=K.useState(""),[a,v]=K.useState(ql),[g,h]=K.useState(!1),d=K.useRef(null),c=["embedding","text_embedding"],{data:y=[],isLoading:b,error:w}=PB(t,e,c),{mutate:S}=OB(),{confirm:C,isOpen:R,onOpenChange:T,onConfirm:P,options:O}=Rs(),j=y.filter(u=>{if(r!=="all"){const m=u.body?.modelType||"",o=Q9(m),p=u.type==="action";switch(r){case"llm":if(o!=="LLM"&&!p)return!1;break;case"transcription":if(o!=="Transcription")return!1;break;case"image":if(o!=="Image")return!1;break;case"other":if(o!=="Other"&&o!=="Unknown"&&!p)return!1;break}}if(s.trim()){const m=s.toLowerCase();return[u.body?.modelType,u.body?.modelKey,u.id,u.message,JSON.stringify(u.body?.params),JSON.stringify(u.body?.response)].filter(Boolean).join(" ").toLowerCase().includes(m)}return!0}),B=K.useCallback(()=>{if(!d.current||g||a>=j.length)return;const{scrollTop:u,scrollHeight:m,clientHeight:o}=d.current;u+o>=m-200&&(h(!0),setTimeout(()=>{v(x=>Math.min(x+ql,j.length)),h(!1)},500))},[g,a,j.length]);K.useEffect(()=>{v(ql)},[r,s]),K.useEffect(()=>{const u=d.current;if(u)return u.addEventListener("scroll",B),()=>u.removeEventListener("scroll",B)},[B]);const Z=j.slice(0,a),W=a<j.length,ee=L$(Z),$=n(u=>{C({title:"Delete Log Entry",description:"Are you sure you want to permanently delete this log entry? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{S({agentId:t,logId:u})})},"handleDelete"),U=n(()=>{v(u=>u+ql)},"handleLoadMore");return b&&y.length===0?N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx("div",{className:"flex items-center justify-center flex-1",children:N.jsxs("div",{className:"flex flex-col items-center gap-4",children:[N.jsx(so,{className:"h-8 w-8 animate-spin text-muted-foreground"}),N.jsxs("div",{className:"text-center",children:[N.jsx("h3",{className:"font-medium",children:"Loading Actions"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent action history..."})]})]})})}):w?N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx("div",{className:"flex items-center justify-center flex-1",children:N.jsxs("div",{className:"text-center",children:[N.jsx(Rn,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),N.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Actions"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent actions."})]})})}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("h3",{className:"text-lg font-medium",children:" Actions"}),!b&&N.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:j.length})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"relative",children:[N.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(cr,{placeholder:"Search actions...",value:s,onChange:n(u=>l(u.target.value),"onChange"),className:"pl-10 w-64"})]}),N.jsxs(cs,{value:r,onValueChange:n(u=>i(u),"onValueChange"),children:[N.jsx(En,{className:"w-40",children:N.jsx(hs,{placeholder:"Filter actions"})}),N.jsxs(An,{children:[N.jsx(Jt,{value:"all",children:"All Actions"}),N.jsx(Jt,{value:"llm",children:"LLM Calls"}),N.jsx(Jt,{value:"transcription",children:"Transcriptions"}),N.jsx(Jt,{value:"image",children:"Image Operations"}),N.jsx(Jt,{value:"other",children:"Other"})]})]})]})]}),N.jsx("div",{ref:d,className:"flex-1 overflow-y-auto px-4",children:j.length===0?N.jsx(F$,{selectedType:r,searchQuery:s}):N.jsxs("div",{className:"space-y-4",children:[Object.entries(ee).map(([u,m])=>N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3 py-2",children:[N.jsx(Yr,{className:"flex-1"}),N.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:u}),N.jsx(Yr,{className:"flex-1"})]}),N.jsx("div",{className:"space-y-3",children:m.map((o,p)=>N.jsx(D$,{action:o,onDelete:$},o.id||p))})]},u)),W&&N.jsx(B$,{loadingMore:g,onLoadMore:U})]})})]}),N.jsx(Cs,{open:R,onOpenChange:T,title:O?.title||"",description:O?.description||"",confirmText:O?.confirmText,cancelText:O?.cancelText,variant:O?.variant,onConfirm:P})]})}n(U$,"AgentActionViewer");function z$({isOpen:t,onClose:e,memory:r,agentId:i}){const{toast:s}=er(),{mutate:l,isPending:a}=LB(),{mutate:v,isPending:g}=jB(),[h,d]=K.useState(""),[c,y]=K.useState(!0),[b,w]=K.useState(!1),[S,C]=K.useState(!1),R=K.useRef(null),T=a||g,P=JSON.stringify(r.content,null,2),{confirm:O,isOpen:j,onOpenChange:B,onConfirm:Z,options:W}=Rs();K.useEffect(()=>{t&&(d(P),y(!0),C(!1),w(!1),setTimeout(()=>{R.current?.focus()},100))},[t,P]),K.useEffect(()=>{C(h!==P)},[h,P]),K.useEffect(()=>{if(!h.trim()){y(!1);return}try{JSON.parse(h),y(!0)}catch{y(!1)}},[h]),K.useEffect(()=>{const x=n(A=>{A.key==="Escape"&&t&&(S?O({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{e()}):e())},"handleEscape");return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[t,S,e]);const ee=K.useCallback(()=>{if(!h.trim()){s({title:"Error",description:"Memory content cannot be empty",variant:"destructive"});return}if(!c){s({title:"Invalid JSON",description:"Please fix JSON syntax errors before saving",variant:"destructive"});return}try{const x=JSON.parse(h);l({agentId:i,memoryId:r.id,memoryData:{content:x}},{onSuccess:n(()=>{e(),s({title:"Memory Updated",description:"The memory content has been successfully updated"})},"onSuccess"),onError:n(A=>{s({title:"Update Failed",description:A.message||"Failed to update memory",variant:"destructive"})},"onError")})}catch{s({title:"Invalid JSON",description:"Please enter valid JSON format",variant:"destructive"})}},[h,c,l,i,r.id,e,s]),$=K.useCallback(()=>{O({title:"Delete Memory",description:"Are you sure you want to delete this memory? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{v({agentId:i,memoryId:r.id},{onSuccess:n(()=>{e(),s({title:"Memory Deleted",description:"The memory has been successfully removed"})},"onSuccess"),onError:n(x=>{s({title:"Delete Failed",description:x.message||"Failed to delete memory",variant:"destructive"})},"onError")})})},[v,i,r.id,e,s]),U=K.useCallback(()=>{try{const x=JSON.parse(h);d(JSON.stringify(x,null,2)),s({title:"Formatted",description:"JSON has been formatted"})}catch{s({title:"Format Error",description:"Cannot format invalid JSON",variant:"destructive"})}},[h,s]),u=K.useCallback(()=>{O({title:"Reset Changes",description:"Reset to original content? All unsaved changes will be lost.",confirmText:"Reset",variant:"destructive"},()=>{d(P)})},[P]),m=K.useCallback(async()=>{try{await navigator.clipboard.writeText(h),s({title:"Copied",description:"Content copied to clipboard"})}catch{s({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},[h,s]),o=n(x=>new Date(x).toLocaleString(),"formatTimestamp"),p=n(x=>{x.target===x.currentTarget&&(S?O({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{e()}):e())},"handleOverlayClick");return t?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:p,role:"dialog","aria-modal":"true","aria-labelledby":"memory-edit-title",children:N.jsxs($i,{className:"w-full max-w-4xl h-[85vh] max-h-[800px] flex flex-col",onClick:n(x=>x.stopPropagation(),"onClick"),children:[N.jsxs(Gf,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(Av,{id:"memory-edit-title",className:"text-xl font-semibold",children:"Edit Memory Content"}),S&&N.jsx("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Unsaved changes"})]}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:e,"aria-label":"Close dialog",children:N.jsx(Wr,{className:"h-4 w-4"})})]}),N.jsx(Yr,{}),N.jsxs(Is,{className:"pt-4 flex-1 overflow-hidden flex flex-col",children:[N.jsxs("div",{className:"mb-4 flex items-start bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[N.jsx(Hv,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),N.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[N.jsx("p",{className:"font-medium mb-1",children:"Editing Raw Memory Content"}),N.jsx("p",{children:"Changes may affect agent behavior. Ensure JSON format is valid before saving."})]})]}),N.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[N.jsxs("div",{className:"space-y-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-muted-foreground",children:"ID:"}),N.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.id})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-muted-foreground",children:"Created:"}),N.jsx("span",{children:o(r.createdAt||0)})]})]}),N.jsxs("div",{className:"space-y-1",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-muted-foreground",children:"Room:"}),N.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.roomId})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-muted-foreground",children:"Type:"}),N.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.entityId===i?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-white-100 text-white dark:bg-white-800 dark:text-white"}`,children:r.entityId===i?"Agent Message":"User Message"})]})]})]}),N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("label",{htmlFor:"memory-content",className:"text-sm font-medium",children:"Memory Content"}),N.jsxs("div",{className:"flex items-center gap-1",children:[c?N.jsx(qs,{className:"h-3 w-3 text-green-500"}):N.jsx(Hv,{className:"h-3 w-3 text-red-500"}),N.jsx("span",{className:`text-xs ${c?"text-green-600":"text-red-600"}`,children:c?"Valid JSON":"Invalid JSON"})]})]}),N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(qe,{variant:"outline",size:"sm",onClick:n(()=>w(!b),"onClick"),disabled:T,title:b?"Switch to edit mode":"Switch to preview mode",children:b?N.jsx(on,{className:"h-3 w-3"}):N.jsx(Ri,{className:"h-3 w-3"})}),N.jsx(qe,{variant:"outline",size:"sm",onClick:m,disabled:T,title:"Copy to clipboard",children:N.jsx(Mn,{className:"h-3 w-3"})}),N.jsx(qe,{variant:"outline",size:"sm",onClick:U,disabled:T||!c,title:"Format JSON",children:"Format"}),N.jsx(qe,{variant:"outline",size:"sm",onClick:u,disabled:T||!S,title:"Reset to original",children:N.jsx(tx,{className:"h-3 w-3"})})]})]}),N.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[b?N.jsx("div",{className:"flex-1 border rounded-md p-3 bg-muted/50 overflow-auto",children:N.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:c?JSON.stringify(JSON.parse(h),null,2):h})}):N.jsx(Qo,{ref:R,id:"memory-content",value:h,onChange:n(x=>d(x.target.value),"onChange"),className:`flex-1 resize-none font-mono text-sm min-h-[300px] ${c?"":"border-red-300 focus:border-red-500"}`,placeholder:"Memory content in JSON format...",disabled:T,"aria-describedby":"json-help"}),N.jsx("p",{id:"json-help",className:"text-xs text-muted-foreground mt-2 flex-shrink-0",children:"Edit the JSON directly. Use Ctrl+A to select all, Ctrl+Z to undo."})]})]}),N.jsxs(Wf,{className:"flex justify-between flex-shrink-0",children:[N.jsxs(qe,{variant:"destructive",onClick:$,disabled:T,children:[N.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Delete Memory"]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx(qe,{variant:"outline",onClick:e,disabled:T,children:"Cancel"}),N.jsxs(qe,{onClick:ee,disabled:T||!c||!S,children:[N.jsx(rx,{className:"mr-2 h-4 w-4"}),a?"Saving...":"Save Changes"]})]})]})]})}),N.jsx(Cs,{open:j,onOpenChange:B,title:W?.title||"",description:W?.description||"",confirmText:W?.confirmText,cancelText:W?.cancelText,variant:W?.variant,onConfirm:Z})]}):null}n(z$,"MemoryEditOverlay");const tu=15;function $$({agentId:t,agentName:e,channelId:r}){const[i,s]=K.useState("all"),[l,a]=K.useState(""),[v,g]=K.useState(null),[h,d]=K.useState(tu),[c,y]=K.useState(!1),b=K.useRef(null),{data:w}=_v(),S=i==="facts"?void 0:"messages",C=i==="facts"||i==="all"?"facts":void 0,R=i==="currentChat"&&r?r:void 0,{data:T=[],isLoading:P,error:O}=m3(t,S,R),{data:j=[],isLoading:B,error:Z}=m3(t,C,R),W=[...T,...j],ee=P||B,$=O||Z,U=W.filter(E=>{if(i!=="all"&&i!=="currentChat"){if(i==="facts")return!0;if(i==="messagesSent"&&E.entityId!==E.agentId||i==="messagesReceived"&&E.entityId===E.agentId)return!1}if(l.trim()){const I=l.toLowerCase(),L=E.content;return[L?.text,L?.thought,E.id,E.metadata].filter(Boolean).join(" ").toLowerCase().includes(I)}return!0}),u=K.useCallback(()=>{if(!b.current||c||h>=U.length)return;const{scrollTop:E,scrollHeight:I,clientHeight:L}=b.current;E+L>=I-200&&(y(!0),setTimeout(()=>{d(F=>Math.min(F+tu,U.length)),y(!1)},500))},[c,h,U.length]);K.useEffect(()=>{d(tu)},[i,l]),K.useEffect(()=>{const E=b.current;if(E)return E.addEventListener("scroll",u),()=>E.removeEventListener("scroll",u)},[u]);const m=n(E=>{const I=new Date(E),D=(new Date().getTime()-I.getTime())/(1e3*60*60);return D<24?I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):D<168?I.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):I.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},"formatDate"),o=n((E,I)=>I?.thought?xu:E.entityId===E.agentId?xx:yS,"getMemoryIcon"),p=n(async E=>{try{await navigator.clipboard.writeText(E)}catch(I){console.error("Failed to copy:",I)}},"copyToClipboard"),x=n(E=>{const I={};for(const L of E){const F=new Date(L.createdAt||0).toLocaleDateString();I[F]||(I[F]=[]),I[F].push(L)}return I},"groupMessagesByDate"),A=U.slice(0,h),k=h<U.length,M=x(A);if(ee&&W.length===0)return N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx("div",{className:"flex items-center justify-center flex-1",children:N.jsxs("div",{className:"flex flex-col items-center gap-4",children:[N.jsx(so,{className:"h-8 w-8 animate-spin text-muted-foreground"}),N.jsxs("div",{className:"text-center",children:[N.jsx("h3",{className:"font-medium",children:"Loading Memories"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent conversation history..."})]})]})})});if($)return N.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:N.jsx("div",{className:"flex items-center justify-center flex-1",children:N.jsxs("div",{className:"text-center",children:[N.jsx(Rn,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),N.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Memories"}),N.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent memories."})]})})});const f=n(()=>N.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[N.jsx(Rn,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),N.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Memories Found"}),N.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:l?`No memories match "${l}". Try adjusting your search or filter.`:"This agent hasn't created any memories yet. Memories will appear here as the agent interacts."}),l&&N.jsx(qe,{variant:"outline",onClick:n(()=>a(""),"onClick"),children:"Clear Search"})]}),"EmptyState"),_=n(({memory:E})=>{const I=E.content,L=o(E,I),D=E.entityId===E.agentId,z=n(()=>D?w?.data?.agents?.find(V=>V.id===E.entityId)?.name||e:E.metadata?.raw?.senderName||E.metadata?.source||"User","getEntityName")();return N.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/5 transition-colors group",children:[N.jsxs("div",{className:"flex items-start justify-between mb-3",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"p-2 rounded-md bg-muted",children:N.jsx(L,{className:"h-4 w-4"})}),N.jsxs("div",{children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"font-medium text-sm",children:z}),N.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:I?.thought?"Thought":D?"Agent":"User"})]}),N.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[N.jsx(rf,{className:"h-3 w-3"}),N.jsx("span",{children:m(E.createdAt||0)}),E.id&&N.jsxs(N.Fragment,{children:[N.jsx("span",{children:""}),N.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:E.id.slice(-8)})]})]})]})]}),N.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[I?.text&&N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>p(I.text||""),"onClick"),className:"h-8 w-8 p-0",title:"Copy text",children:N.jsx(Mn,{className:"h-3 w-3"})}),E.id&&N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>g(E),"onClick"),className:"h-8 w-8 p-0",title:"Edit memory",children:N.jsx(bS,{className:"h-3 w-3"})})]})]}),N.jsxs("div",{className:"space-y-3",children:[I?.text&&N.jsx("div",{className:"bg-muted/50 rounded-md p-3",children:N.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:I.text})}),I?.thought&&N.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[N.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.jsx(xu,{className:"h-3 w-3 text-muted-foreground"}),N.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Thought Process"})]}),N.jsx("p",{className:"text-xs text-muted-foreground italic leading-relaxed",children:String(I.thought)})]}),(I?.actions||I?.providers||I?.source)&&N.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.actions?.map(H=>N.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Action",children:H},H)),I.providers?.map(H=>N.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Provider",children:H},H)),I.source&&N.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",children:I.source})]}),E.metadata&&Object.keys(E.metadata).length>0&&N.jsxs("details",{className:"text-xs",children:[N.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View metadata"}),N.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded text-[10px] font-mono overflow-x-auto",children:N.jsx("pre",{children:JSON.stringify(E.metadata,null,2)})})]})]})]})},"MemoryCard");return N.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("h3",{className:"text-lg font-medium",children:"Memories"}),!ee&&N.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:U.length})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsxs("div",{className:"relative",children:[N.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),N.jsx(cr,{placeholder:"Search memories...",value:l,onChange:n(E=>a(E.target.value),"onChange"),className:"pl-10 w-full min-w-0 max-w-64"})]}),N.jsxs(cs,{value:i,onValueChange:n(E=>s(E),"onValueChange"),children:[N.jsx(En,{className:"w-40",children:N.jsx(hs,{placeholder:"Filter memories"})}),N.jsxs(An,{children:[N.jsx(Jt,{value:"all",children:"All Messages"}),r&&N.jsx(Jt,{value:"currentChat",children:"Current Chat"}),N.jsx(Jt,{value:"messagesSent",children:"Agent Messages"}),N.jsx(Jt,{value:"messagesReceived",children:"User Messages"}),N.jsx(Jt,{value:"facts",children:"Facts"})]})]})]})]}),N.jsx("div",{ref:b,className:"flex-1 overflow-y-auto px-4",children:U.length===0?N.jsx(f,{}):N.jsxs("div",{className:"space-y-4",children:[Object.entries(M).map(([E,I])=>N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{className:"flex items-center gap-3 py-2",children:[N.jsx(Yr,{className:"flex-1"}),N.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:E}),N.jsx(Yr,{className:"flex-1"})]}),N.jsx("div",{className:"space-y-3",children:I.map(L=>N.jsx(_,{memory:L},L.id||L.createdAt))})]},E)),k&&N.jsx("div",{className:"flex justify-center py-6",children:c?N.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[N.jsx(so,{className:"h-4 w-4 animate-spin"}),N.jsx("span",{className:"text-sm",children:"Loading more memories..."})]}):N.jsx(qe,{variant:"outline",onClick:n(()=>d(E=>E+tu),"onClick"),className:"px-8",children:"Load More"})})]})}),v&&N.jsx(z$,{isOpen:!!v,onClose:n(()=>g(null),"onClose"),memory:v,agentId:t})]})}n($$,"AgentMemoryViewer");function J9(t){const[e,r]=K.useState(!1),{toast:i}=er(),s=xr(),l=vr();return{handleDelete:K.useCallback(async()=>{r(!0),i({title:"Deleting...",description:`Deleting agent "${t.name}"`});let v=!1,g=null;try{g=setTimeout(()=>{v||(l.invalidateQueries({queryKey:["agents"]}),s("/"),i({title:"Note",description:"Deletion is still processing in the background."}))},8e3);const h=qt();if(!t.id)throw new Error("Agent ID is required for deletion");const d=await h.agents.deleteAgent(t.id);v=!0,g&&clearTimeout(g);const c=d?.partial;i(c?{title:"Processing",description:"Deletion is still in progress and will complete in the background."}:{title:"Success",description:"Agent deleted successfully"}),l.invalidateQueries({queryKey:["agents"]}),s("/")}catch(h){v=!0,g&&clearTimeout(g);const d=h?.message??"Failed to delete agent",c=h?.statusCode||h?.response?.status;c===409||d.includes("409")||d.includes("Conflict")||d.includes("foreign key constraint")||d.includes("active references")?i({title:"Cannot Delete",description:"This agent cannot be deleted because it has active references. Try stopping the agent first.",variant:"destructive"}):c===408||c===504||d.includes("408")||d.includes("504")||d.includes("timeout")||d.includes("timed out")?(i({title:"Operation Timeout",description:"The deletion is taking longer than expected and will continue in the background.",variant:"destructive"}),l.invalidateQueries({queryKey:["agents"]}),s("/")):i({title:"Error",description:d,variant:"destructive"})}finally{r(!1)}},[t,i,s,l]),isDeleting:e}}n(J9,"useDeleteAgent");function q9({agent:t,agentId:e,onSaveComplete:r}){const{toast:i}=er(),s=xr(),l=vr(),{confirm:a,isOpen:v,onOpenChange:g,onConfirm:h,options:d}=Rs(),c=t?.status===hr.ACTIVE,y=K.useRef(null),[b,w]=K.useState({}),{handleDelete:S,isDeleting:C}=J9(t),R=L7(t),{stopAgent:T,isAgentStopping:P}=wa(),O=n(async()=>{try{await T(t),i({title:"Success",description:"Agent stopped successfully"})}catch(Z){i({title:"Error",description:Z instanceof Error?Z.message:"Failed to stop agent",variant:"destructive"})}},"handleStopAgent"),j=n(async()=>{if(!e){i({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const Z=n(async()=>{try{const W=qt(),ee=Object.keys(b).length>0?b:y.current?.getSecrets()||{},$=R.getChangedFields();if(ee&&Object.keys(ee).length>0){$.settings||($.settings={});const u=Object.entries(ee).filter(([m,o])=>o!==null).reduce((m,[o,p])=>({...m,[o]:p}),{});$.settings.secrets=u}if(Object.keys($).length===0){const u=R.agent?.settings?.secrets;if(u&&Object.keys(u).length>0){const m={id:e,settings:{secrets:u}};await W.agents.updateAgent(e,m),l.invalidateQueries({queryKey:["agent",e]}),l.invalidateQueries({queryKey:["agents"]}),i({title:"Success",description:"Agent secrets updated successfully"}),r?r():s("/");return}i({title:"No Changes",description:"No changes were made to the agent"}),r?r():s("/");return}const U={id:e,...$};await W.agents.updateAgent(e,U),l.invalidateQueries({queryKey:["agent",e]}),l.invalidateQueries({queryKey:["agents"]}),i({title:"Success",description:"Agent updated successfully"}),r?r():s("/")}catch(W){throw i({title:"Error",description:W instanceof Error?W.message:"Failed to update agent",variant:"destructive"}),W}},"performSave");if(y?.current){const W=y.current.validateSecrets();if(!W.isValid){a({title:"Missing Required Secrets",description:`The following required secrets are missing: ${W.missingSecrets.join(", ")}. Do you want to save anyway?`,confirmText:"Save Anyway",cancelText:"Cancel",variant:"destructive"},Z);return}}await Z()},"handleSubmit"),B=n(()=>{C||a({title:"Delete Agent",description:`Are you sure you want to delete the agent "${t.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},S)},"handleDelete");return N.jsxs(N.Fragment,{children:[N.jsx(R7,{characterValue:R.agent,setCharacterValue:R,title:"Agent Settings",description:"Configure your AI agent's behaviour and capabilities.",onSubmit:j,onReset:R.reset,onDelete:B,onStopAgent:c?O:void 0,isAgent:!0,isDeleting:C,isStopping:P(e),customComponents:[{name:"Plugins",component:N.jsx(P7,{characterValue:R.agent,setCharacterValue:R,initialPlugins:t.plugins})},{name:"Secret",component:N.jsx(cv,{characterValue:R.agent,ref:y,onChange:n(Z=>{w(Z),R.updateSettings({secrets:Z})},"onChange")})},{name:"Avatar",component:N.jsx(I7,{characterValue:R.agent,setCharacterValue:R})}]}),N.jsx(Cs,{open:v,onOpenChange:g,title:d?.title||"",description:d?.description||"",confirmText:d?.confirmText,cancelText:d?.cancelText,variant:d?.variant,onConfirm:h})]})}n(q9,"AgentSettings");const x4="eliza-agent-tab-states";function H$(t){const[e,r]=K.useState("details"),i=K.useCallback(()=>{try{const a=localStorage.getItem(x4);return a?JSON.parse(a):{}}catch(a){return We.error("Error reading agent tab states from localStorage:",a),{}}},[]),s=K.useCallback(a=>{try{localStorage.setItem(x4,JSON.stringify(a))}catch(v){We.error("Error saving agent tab states to localStorage:",v)}},[]);K.useEffect(()=>{if(!t){r("details");return}const v=i()[t]||"details";r(v)},[t,i]);const l=K.useCallback(a=>{if(r(a),t){const g={...i(),[t]:a};s(g)}},[t,i,s]);return{currentTab:e,setTab:l}}n(H$,"useAgentTabState");function _4({agentId:t,agentName:e,channelId:r}){const{currentTab:i,setTab:s}=H$(t),{data:l,isLoading:a}=DB(t,{enabled:!!t}),{data:v,isLoading:g,error:h}=hl(t,{enabled:!!t&&i==="details"}),d=v?.data,c=K.useMemo(()=>l?.data||[],[l]),y=K.useMemo(()=>{const b=[{value:"details",label:"Details",icon:N.jsx(ix,{className:"h-4 w-4"})},{value:"actions",label:"Model Calls",icon:N.jsx(Ri,{className:"h-4 w-4"})},{value:"memories",label:"Memories",icon:N.jsx(Rn,{className:"h-4 w-4"})},{value:"logs",label:"Logs",icon:N.jsx(xS,{className:"h-4 w-4"})}],w=c.map(S=>({value:S.name,label:S.name,icon:N.jsx(wS,{className:"h-4 w-4"})}));return[...b,...w]},[c]);return N.jsxs(gg,{defaultValue:"details",value:i,onValueChange:s,className:"flex flex-col h-screen w-full max-w-full",children:[N.jsxs(uf,{className:"flex w-full max-w-full overflow-x-auto flex-shrink-0",children:[y.map(b=>N.jsxs(fo,{value:b.value,className:"flex items-center gap-1.5 flex-shrink-0",children:[b.icon,N.jsx("span",{className:"truncate",children:b.label})]},b.value)),a&&N.jsx(N.Fragment,{children:[...Array(2)].map((b,w)=>N.jsx(uo,{className:"h-9 w-full rounded-md flex-shrink-0"},`skel-tab-${w}`))})]}),N.jsxs(Ii,{value:"details",className:"overflow-y-auto overflow-x-hidden flex-1 p-4 w-full max-w-full min-h-0",children:[i==="details"&&t&&N.jsxs(N.Fragment,{children:[g&&N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx(Nr,{className:"h-6 w-6 animate-spin text-primary"})}),h&&N.jsxs("div",{className:"text-red-500 break-words",children:["Error loading agent details: ",h.message]}),!g&&!h&&d&&N.jsx("div",{className:"w-full max-w-full",children:N.jsx(q9,{agent:d,agentId:t,onSaveComplete:n(()=>{},"onSaveComplete")})}),!g&&!h&&!d&&!a&&N.jsx("div",{className:"text-muted-foreground",children:"Agent details not found."})]}),i==="details"&&!t&&N.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their details."})]}),N.jsxs(Ii,{value:"actions",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[i==="actions"&&t&&N.jsx("div",{className:"w-full max-w-full",children:N.jsx(U$,{agentId:t})}),i==="actions"&&!t&&N.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their actions."})]}),N.jsxs(Ii,{value:"logs",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[i==="logs"&&t&&N.jsx("div",{className:"w-full max-w-full",children:N.jsx(u9,{agentName:e,level:"all"})}),i==="logs"&&!t&&N.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their logs."})]}),N.jsxs(Ii,{value:"memories",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[i==="memories"&&t&&N.jsx("div",{className:"w-full max-w-full",children:N.jsx($$,{agentId:t,agentName:e,channelId:r})}),i==="memories"&&!t&&N.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their memories."})]}),c.map(b=>N.jsx(Ii,{value:b.name,className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:i===b.name&&t&&N.jsx("iframe",{src:b.url,title:b.name,className:"w-full h-full border-0 flex-1 max-w-full"})},b.name))]})}n(_4,"AgentSidebar");const Z$=160,eM=K.forwardRef(({className:t,...e},r)=>{const i=K.useRef(null),s=n(a=>{typeof r=="function"?r(a):r&&(r.current=a),i.current=a},"combinedRef"),l=n(()=>{const a=i.current;a&&(a.style.height="auto",a.style.height=Math.min(a.scrollHeight,Z$)+"px")},"resizeTextarea");return K.useEffect(()=>{l()},[e.value]),N.jsx(Qo,{autoComplete:"off",ref:s,name:"message",className:Ve("px-4 py-3 bg-background text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-md flex items-center h-16 resize-none",t),...e})});eM.displayName="ChatInput";let Ka,Ya=[],ru;const M4=n((t,e)=>String(t).padStart(e,"0"),"padWithLeadingZeros"),V$=n(({className:t,timerClassName:e,agentId:r,onChange:i})=>{const{toast:s}=er(),[l,a]=K.useState(!1),[v,g]=K.useState(!1),[h,d]=K.useState(0),[c,y]=K.useState({id:-1,name:"",file:null}),b=Math.floor(h%3600/60),w=h%60,[S,C]=K.useMemo(()=>M4(b,2).split(""),[b]),[R,T]=K.useMemo(()=>M4(w,2).split(""),[w]),P=K.useRef({stream:null,analyser:null,mediaRecorder:null,audioContext:null}),O=qt(),j=Zr({mutationKey:["whisper"],mutationFn:n($=>O.audio.transcribe(r,{audio:$}),"mutationFn"),onSuccess:n($=>{$?.text&&i($.text)},"onSuccess"),onError:n($=>{s({variant:"destructive",title:"Unable to start recording",description:$.message}),console.log($)},"onError")});function B(){navigator.mediaDevices?.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then($=>{a(!0);const U=window.AudioContext,u=new U,m=u.createAnalyser();u.createMediaStreamSource($).connect(m),P.current={stream:$,analyser:m,mediaRecorder:null,audioContext:u};const x={mimeType:MediaRecorder.isTypeSupported("audio/mpeg")?"audio/mpeg":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/wav"};P.current.mediaRecorder=new MediaRecorder($,x),P.current.mediaRecorder.start(),Ya=[],Ka=new MediaRecorder($),Ka.start(),Ka.ondataavailable=A=>{Ya.push(A.data)}}).catch($=>{s({variant:"destructive",title:"Unable to start recording",description:$.message}),console.log($)})}n(B,"startRecording");function Z(){Ka.onstop=()=>{const $=new Blob(Ya,{type:"audio/wav"});j.mutate($),y({...c,file:window.URL.createObjectURL($)}),Ya=[]},Ka.stop(),a(!1),g(!0),d(0),clearTimeout(ru)}n(Z,"stopRecording");function W(){const{mediaRecorder:$,stream:U,analyser:u,audioContext:m}=P.current;if($&&($.onstop=()=>{Ya=[]},$.stop()),u&&u.disconnect(),U)for(const o of U.getTracks())o.stop();m&&m.close(),a(!1),g(!0),d(0),clearTimeout(ru)}n(W,"resetRecording");const ee=n(()=>{Z()},"handleSubmit");return K.useEffect(()=>(l&&(ru=setTimeout(()=>{d(h+1)},1e3)),()=>clearTimeout(ru)),[l,h]),j?.isPending?N.jsx(qe,{variant:"ghost",disabled:!0,size:"icon",children:N.jsx(vx,{className:"size-4"})}):N.jsxs("div",{className:Ve("flex items-center justify-center gap-2 border-l border-l-transparent border-opacity-0 transition-all duration-300",{"border-opacity-100 border-l-border pl-2":l},t),children:[l?N.jsxs("div",{className:"flex gap-1 items-center",children:[N.jsx("div",{className:"bg-red-500 rounded-full h-2.5 w-2.5 animate-pulse"}),N.jsx(tM,{minuteLeft:S,minuteRight:C,secondLeft:R,secondRight:T,timerClassName:e})]}):null,N.jsxs("div",{className:"flex items-center gap-2",children:[l?N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{onClick:W,size:"icon",variant:"ghost",children:N.jsx(Yo,{className:"size-4"})})}),N.jsx(or,{className:"m-2",children:N.jsx("span",{children:" Reset recording"})})]}):null,N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:l?N.jsx(qe,{onClick:ee,variant:"ghost",size:"icon",children:N.jsx(_x,{className:"size-4"})}):N.jsxs(qe,{variant:"ghost",size:"icon",onClick:n(()=>B(),"onClick"),children:[N.jsx(_S,{className:"size-4"}),N.jsx("span",{className:"sr-only",children:"Use Microphone"})]})}),N.jsx(or,{side:"right",children:N.jsxs("span",{children:[l?"Send":"Start"," "]})})]})]})]})},"AudioRecorder"),tM=nf.memo(({minuteLeft:t,minuteRight:e,secondLeft:r,secondRight:i,timerClassName:s})=>N.jsx("div",{className:Ve("text-sm animate-in duration-1000 fade-in-0 select-none",s),children:N.jsxs("p",{children:[t,e,":",r,i]})}));tM.displayName="Timer";const S4=n(({input:t,setInput:e,inputDisabled:r,selectedFiles:i,removeFile:s,handleFileChange:l,handleSendMessage:a,handleKeyDown:v,chatType:g,targetAgentData:h,formRef:d,inputRef:c,fileInputRef:y})=>N.jsxs("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 mt-auto flex-shrink-0","data-testid":"chat-container",children:[r&&N.jsxs("div",{className:"px-2 pb-2 text-sm text-muted-foreground flex items-center gap-2",children:[N.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[N.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0s]"}),N.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.2s]"}),N.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.4s]"})]}),N.jsx("span",{className:"text-xs sm:text-sm",children:g===vt.DM&&h?`${h.name} is thinking`:"Agent is thinking"}),N.jsxs("div",{className:"flex",children:[N.jsx("span",{className:"animate-pulse [animation-delay:0ms]",children:"."}),N.jsx("span",{className:"animate-pulse [animation-delay:200ms]",children:"."}),N.jsx("span",{className:"animate-pulse [animation-delay:400ms]",children:"."})]})]}),N.jsxs("form",{ref:d,onSubmit:a,className:"relative rounded-md border bg-card p-2 sm:p-3",children:[i.length>0&&N.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 p-2 sm:p-3 pb-0 max-h-32 sm:max-h-40 overflow-y-auto",children:i.map(b=>{const w=b.blobUrl||URL.createObjectURL(b.file);return N.jsxs("div",{className:"relative p-1 sm:p-2",children:[N.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border bg-muted",children:[b.isUploading&&N.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:N.jsx(Nr,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-white"})}),b.file.type.startsWith("image/")?N.jsx("img",{alt:"Selected file",src:w,className:"w-full h-full object-cover"}):b.file.type.startsWith("video/")?N.jsx("video",{src:w,className:"w-full h-full object-cover",muted:!0}):N.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:N.jsx(ls,{className:"h-4 w-4 sm:h-8 sm:w-8 text-muted-foreground"})}),b.error&&N.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center",children:"Error"})]}),N.jsx(qe,{onClick:n(()=>s(b.id),"onClick"),className:"absolute -right-1 -top-1 size-[16px] sm:size-[20px] ring-2 ring-background z-20",variant:"outline",size:"icon",disabled:b.isUploading,children:N.jsx(Wr,{className:"h-2 w-2 sm:h-3 sm:w-3"})}),N.jsx("div",{className:"text-xs text-center mt-1 truncate w-12 sm:w-16",children:b.file.name})]},b.id)})}),N.jsx(eM,{ref:c,onKeyDown:v,value:t,onChange:n(({target:b})=>e(b.value),"onChange"),placeholder:r?g===vt.DM&&h?`${h.name} is thinking...`:"Agent is processing...":g===vt.DM?"Type your message here...":"Message group...",className:"min-h-12 resize-none rounded-none bg-card border-0 px-0 py-0 shadow-none focus-visible:ring-0 text-sm sm:text-base",disabled:r||g===vt.DM&&h?.status==="inactive","data-testid":"chat-input"}),N.jsxs("div",{className:"flex items-center pt-0 gap-1",children:[N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsxs("div",{children:[N.jsxs(qe,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",onClick:n(()=>{y.current&&y.current.click()},"onClick"),children:[N.jsx(MS,{className:"size-3 sm:size-4"}),N.jsx("span",{className:"sr-only",children:"Attach file"})]}),N.jsx("input",{type:"file",ref:y,onChange:l,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.rtf,...",multiple:!0,className:"hidden"})]})}),N.jsx(or,{side:"left",children:N.jsx("p",{children:"Attach files"})})]}),g===vt.DM&&h?.id&&N.jsx(V$,{agentId:h.id,onChange:n(b=>e(b),"onChange")}),N.jsx(qe,{disabled:r||g===vt.DM&&h?.status==="inactive"||i.some(b=>b.isUploading),type:"submit",size:"sm",className:"ml-auto gap-1.5 h-[26px] sm:h-[30px] px-2 sm:px-3","data-testid":"send-button",children:r||i.some(b=>b.isUploading)?N.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[N.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0s]"}),N.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),N.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}):N.jsx(_x,{className:"size-3 sm:size-3.5"})})]})]})]}),"ChatInputArea"),rM=K.forwardRef(({className:t,children:e,scrollRef:r,contentRef:i,isAtBottom:s,scrollToBottom:l,disableAutoScroll:a,...v},g)=>N.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[N.jsx("div",{className:`flex flex-col w-full h-full p-2 overflow-y-auto ${t}`,ref:r,onWheel:a,onTouchMove:a,...v,children:N.jsx("div",{className:"flex flex-col gap-10",ref:i,children:e})}),!s&&N.jsx(qe,{onClick:n(()=>{l()},"onClick"),size:"icon",variant:"outline",className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 inline-flex rounded-full shadow-md",children:N.jsx(SS,{className:"h-4 w-4"})})]}));rM.displayName="ChatMessageList";const E4=n(({messages:t,isLoadingMessages:e,chatType:r,currentClientEntityId:i,targetAgentData:s,allAgents:l,animatedMessageId:a,scrollRef:v,contentRef:g,isAtBottom:h,scrollToBottom:d,disableAutoScroll:c,finalChannelId:y,getAgentInMessage:b,agentAvatarMap:w,onDeleteMessage:S,onRetryMessage:C,selectedGroupAgentId:R})=>{const T=nf.useMemo(()=>r===vt.GROUP&&R?t.filter(P=>{const O=P.senderId===i,j=P.senderId===R;return O||j}):t,[t,r,R,i]);return N.jsxs(rM,{scrollRef:v,contentRef:g,isAtBottom:h,scrollToBottom:d,disableAutoScroll:c,className:"h-full w-full","data-testid":"chat-messages",children:[e&&T.length===0&&N.jsx("div",{className:"flex flex-1 justify-center items-center",children:N.jsx("p",{children:"Loading messages..."})}),!e&&T.length===0&&N.jsx("div",{className:"flex flex-1 justify-center items-center",children:N.jsx("p",{children:"No messages yet. Start the conversation!"})}),T.map((P,O)=>{const j=P.senderId===i,B=O===T.length-1&&P.isAgent&&P.id===a,Z=!j&&b?b(P.senderId):void 0;return N.jsx("div",{className:Ve("flex gap-1",j?"justify-end":"justify-start"),children:N.jsxs(x9,{variant:j?"sent":"received",className:`flex flex-col gap-1 ${j?"flex-row-reverse":""}`,children:[!j&&r===vt.GROUP&&N.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[N.jsx(Fn,{className:"size-5 border rounded-full select-none",children:N.jsx(Ns,{src:lo(Z||(w&&P.senderId&&l?l.find(W=>W.id===P.senderId):void 0))})}),N.jsx("div",{children:Z?.name})]}),N.jsx(sH,{message:P,agentForTts:r===vt.DM?s:Z,shouldAnimate:B,onDelete:S,onRetry:C,isUser:j,getAgentInMessage:r===vt.GROUP?b:void 0,agentAvatarMap:r===vt.GROUP?w:void 0,chatType:r})]})},`${P.id}-${P.createdAt}`)})]},y||"no-channel")},"ChatMessageListComponent");function G$({options:t=[],className:e="",onSelect:r,initialSelected:i=[]}){const[s,l]=K.useState(i),[a,v]=K.useState(!1),g=K.useRef(null);K.useEffect(()=>{l(i)},[i]),K.useEffect(()=>{const b=n(w=>{g.current&&!g.current.contains(w.target)&&v(!1)},"handleClickOutside");return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const h=n(b=>s.some(w=>b.id&&w.id?w.id===b.id:w.label===b.label),"isOptionSelected"),d=n(b=>{console.log("[MultiSelectCombobox] toggleSelection called with:",b),l(w=>{const S=h(b);let C;return S?C=w.filter(R=>b.id&&R.id?R.id!==b.id:R.label!==b.label):C=[...w,b],console.log("[MultiSelectCombobox] New selection:",C),r&&r(C),C})},"toggleSelection"),c=n(b=>{l(w=>{const S=w.filter(C=>b.id&&C.id?C.id!==b.id:C.label!==b.label);return r&&r(S),S})},"removeSelection"),y=n(()=>{l(b=>{const w=b.slice(0,3);return r&&r(w),w})},"removeExtraSelections");return N.jsxs("div",{className:`relative w-80 ${e}`,ref:g,children:[N.jsxs("div",{className:`flex items-center gap-2 border p-2 bg-background rounded cursor-pointer ${a?"border-primary":"border-input"}`,onClick:n(()=>v(!a),"onClick"),children:[N.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:s.length>0?N.jsxs(N.Fragment,{children:[s.slice(0,3).map((b,w)=>N.jsxs(di,{className:"flex items-center gap-1 px-2",children:[b.label,N.jsx(Wr,{size:12,className:"cursor-pointer",onClick:n(S=>{S.stopPropagation(),c(b)},"onClick")})]},b.id||b.label||w)),s.length>3&&N.jsxs(di,{className:"px-2 cursor-pointer",onClick:n(b=>{b.stopPropagation(),y()},"onClick"),children:["+",s.length-3," more"]})]}):N.jsx("span",{className:"text-muted-foreground",children:"Select agents..."})}),N.jsx(Cn,{size:16})]}),a&&N.jsx($i,{className:"absolute left-0 mt-2 w-full shadow-md border border-border rounded z-40 max-h-60 overflow-y-auto",children:t.length===0?N.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"No agents available"}):t.map((b,w)=>N.jsxs("div",{className:`flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-muted ${h(b)?"bg-muted":"bg-card"}`,onClick:n(()=>d(b),"onClick"),children:[N.jsx("div",{className:"bg-gray-500 rounded-full w-4 h-4 flex justify-center items-center overflow-hidden text-xs",children:b.icon?N.jsx("img",{src:b.icon,alt:b.label,className:"w-full h-full object-cover"}):bs(b.label)}),b.label]},b.id||b.label||w))})]})}n(G$,"MultiSelectCombobox");const W$="00000000-0000-0000-0000-000000000000";function K$(t){return!!t.id&&!!Vo(t.id)&&typeof t.name=="string"&&t.name.trim()!==""}n(K$,"isAgentSelectable");function ec({onClose:t,channelId:e}){const[r,i]=K.useState(""),[s,l]=K.useState([]),[a,v]=K.useState(""),[g,h]=K.useState([]),d=W$,c=K.useRef(!1),y=K.useRef(e),b=K.useRef(!1),{data:w}=Mv(e?d:void 0,{enabled:!!e}),{data:S,isLoading:C,isError:R}=ba(),T=K.useMemo(()=>(S?.agents||[]).filter(K$),[S]),P=vr(),O=xr(),{toast:j}=er(),{confirm:B,isOpen:Z,onOpenChange:W,onConfirm:ee,options:$}=Rs();K.useEffect(()=>{e&&(P.invalidateQueries({queryKey:["channelParticipants",e]}),P.refetchQueries({queryKey:["channelParticipants",e]}))},[e,P]);const U=Zr({mutationFn:n(async({name:F,participantIds:z})=>await qt().messaging.createGroupChannel({name:F,participantIds:z,metadata:{type:vt.GROUP,server_id:d,source:Ja}}),"mutationFn"),onSuccess:n(F=>{F&&(j({title:"Success",description:"Group created successfully."}),P.invalidateQueries({queryKey:["channels",d]}),P.invalidateQueries({queryKey:["channels"]}),t(),setTimeout(()=>{O(`/group/${F.id}?serverId=${d}`)},100))},"onSuccess"),onError:n(F=>{We.error("Failed to create group",F);const z=F instanceof Error?F.message:"Failed to create group.";j({title:"Error",description:z,variant:"destructive"})},"onError")}),u=Zr({mutationFn:n(async({name:F,participantIds:z})=>{if(!e)throw new Error("Channel ID is required for update");return await qt().messaging.updateChannel(e,{name:F,participantCentralUserIds:z})},"mutationFn"),onSuccess:n(()=>{j({title:"Group Updated",description:"Group details updated successfully."}),P.invalidateQueries({queryKey:["channels",d]}),P.invalidateQueries({queryKey:["channels"]}),t(),setTimeout(()=>{O(`/group/${e}?serverId=${d}`)},100)},"onSuccess"),onError:n(F=>{We.error("Failed to update group",F),console.error("Group update error details:",F);const z=F instanceof Error?F.message:"Failed to update group.";j({title:"Error",description:z,variant:"destructive"})},"onError")}),m=Zr({mutationFn:n(async()=>{if(!e)throw new Error("Channel ID is required for delete");return await qt().messaging.deleteChannel(e)},"mutationFn"),onSuccess:n(()=>{j({title:"Group Deleted",description:"The group has been successfully deleted."}),P.invalidateQueries({queryKey:["channels",d]}),P.invalidateQueries({queryKey:["channels"]}),O("/"),t()},"onSuccess"),onError:n(F=>{We.error("Failed to delete channel",F);const z=F instanceof Error?F.message:"Could not delete group.";typeof F=="object"&&F!==null&&F.statusCode===404?j({title:"Error Deleting Group",description:"Delete operation not found on server.",variant:"destructive"}):j({title:"Error Deleting Group",description:z,variant:"destructive"})},"onError")}),{data:o,isLoading:p,isError:x,error:A}=Ar({queryKey:["channelParticipants",e],queryFn:n(async()=>{if(!e)return{success:!0,data:[]};try{const z=await qt().messaging.getChannelParticipants(e);let H=[];return z&&Array.isArray(z.participants)?H=z.participants.map(V=>V.userId):z&&Array.isArray(z)&&(H=z.map(V=>V.userId||V.id||V)),{success:!0,data:H}}catch(F){return console.error("[GroupPanel] Error fetching channel participants:",F),{success:!1,error:{message:F instanceof Error?F.message:"Unknown error"}}}},"queryFn"),enabled:!!e,retry:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});K.useEffect(()=>{if(e&&w?.data?.channels){const F=w.data.channels.find(z=>z.id===e);if(!c.current||y.current!==e){const z=F?.name||"";i(z),v(z),c.current=!0,y.current=e,b.current=!1}}else e||(c.current=!1,i(""),l([]),v(""),h([]))},[e,w]),K.useEffect(()=>{if(!C&&!(e&&p)){if(!e){b.current=!1;return}if(!(b.current&&y.current===e)){if(x){j({title:"Error",description:`Could not load group participants: ${A?.message||"Unknown error"}`,variant:"destructive"}),l([]),h([]),b.current=!0;return}if(o?.success&&o.data){const F=o.data,z=T.filter(H=>F.includes(H.id));l(z),h(z.map(H=>H.id)),b.current=!0}else o&&!o.success?(j({title:"Error",description:`Could not load group participants: ${o.error?.message||"Server error"}`,variant:"destructive"}),l([]),h([]),b.current=!0):(l([]),h([]),b.current=!0)}}},[e,C,p,o,T,x,A,j]);const k=K.useMemo(()=>C||R?[]:T.map(F=>({id:F.id,label:`${F.name}${F.status===hr.INACTIVE?" (Inactive)":""}`,icon:typeof F.settings?.avatar=="string"?F.settings.avatar:""})),[T,C,R]),M=K.useMemo(()=>[],[]),f=K.useMemo(()=>C||!e||e&&!b.current?M:s.map(z=>({id:z.id,label:`${z.name}${z.status===hr.INACTIVE?" (Inactive)":""}`,icon:typeof z.settings?.avatar=="string"?z.settings.avatar:""})),[e,s,C,M]),_=K.useCallback(F=>{const z=T.filter(H=>F.some(V=>V.id===H.id));l(z)},[T]),E=K.useCallback(async()=>{if(!e)return;const F=w?.data?.channels.find(z=>z.id===e);B({title:"Delete Group",description:`Are you sure you want to permanently delete the group chat "${F?.name||r||"this group"}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},()=>{m.mutate()})},[e,r,w,m]),I=K.useMemo(()=>{if(!e)return!0;const F=r.trim()!==a.trim(),z=s.map(Y=>Y.id).sort(),H=g.sort(),V=JSON.stringify(z)!==JSON.stringify(H);return F||V},[e,r,a,s,g]),L=K.useCallback(async()=>{if(!e&&s.length===0){j({title:"Validation Error",description:"Please select at least one agent for the group.",variant:"destructive"});return}const F=n(()=>{const z=s.map(V=>V.id),H=r.trim()||(s.length>0?s.map(V=>V.name).join(", "):"Empty Group");e?u.mutate({name:H,participantIds:z}):U.mutate({name:H,participantIds:z})},"proceed");if(e&&s.length===0){B({title:"Remove All Agents?",description:"Are you sure you want to remove all agents from this group? This will leave the group with no participants.",confirmText:"Remove All",variant:"destructive"},()=>{F()});return}F()},[e,r,s,U,u,j]),D=e?!I||U.isPending||u.isPending||m.isPending:s.length===0||U.isPending||u.isPending||m.isPending;return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:t,children:N.jsxs($i,{className:"w-[80%] max-w-2xl",onClick:n(F=>F.stopPropagation(),"onClick"),children:[N.jsxs(Gf,{className:"flex flex-row items-center justify-between space-y-0",children:[N.jsx(Av,{className:"text-xl font-semibold",children:e?"Edit Group Chat":"Create Group Chat"}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:t,children:N.jsx(Wr,{className:"h-4 w-4"})})]}),N.jsx(Yr,{}),N.jsx(Is,{className:"pt-4",children:N.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[N.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[N.jsx("label",{htmlFor:"chat-name",className:"text-sm font-medium",children:"Chat Name (Optional)"}),N.jsx(cr,{id:"chat-name",value:r,onChange:n(F=>i(F.target.value),"onChange"),className:"w-full bg-background text-foreground",placeholder:"Leave blank to auto-generate from participants",disabled:U.isPending||u.isPending||m.isPending})]}),N.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[N.jsxs("label",{htmlFor:"invite-agents",className:"text-sm font-medium",children:["Select Agents"," ",!e&&N.jsx("span",{className:"text-muted-foreground",children:"(Required)"})]}),C?N.jsxs("div",{className:"flex items-center justify-center p-4",children:[N.jsx(Nr,{className:"h-6 w-6 animate-spin text-muted-foreground"}),N.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading agents..."})]}):R?N.jsx("div",{className:"flex items-center justify-center p-4 text-red-500",children:"Error loading agents. Please try again later."}):N.jsx(G$,{options:k,onSelect:_,className:"w-full",initialSelected:f},`group-panel-combobox-${e||"create"}-${T.length}`),s.length>0&&N.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," agent",s.length>1?"s":""," selected"]}),e&&I&&N.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"You have unsaved changes"})]})]})}),N.jsxs(Wf,{className:"flex justify-between pt-4",children:[e&&N.jsxs(qe,{variant:"destructive",onClick:E,disabled:m.isPending||U.isPending||u.isPending||C,children:[m.isPending?N.jsx(Nr,{className:"mr-2 h-4 w-4 animate-spin"}):N.jsx(Yo,{className:"mr-2 h-4 w-4"}),"Delete Group"]}),N.jsxs(qe,{variant:"default",className:e?"":"w-full",onClick:L,disabled:D,children:[(U.isPending||u.isPending)&&N.jsx(Nr,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Update Group":"Create Group"]})]})]})}),N.jsx(Cs,{open:Z,onOpenChange:W,title:$?.title||"",description:$?.description||"",confirmText:$?.confirmText,cancelText:$?.cancelText,variant:$?.variant,onConfirm:ee})]})}n(ec,"GroupPanel");qt();function Y$(t,e="00000000-0000-0000-0000-000000000000"){const r=ys();return Ar({queryKey:["dmChannels",t,r],queryFn:n(async()=>{if(!t)return[];We.info("[useDmChannelsForAgent] Fetching distinct DM channels for agent:",t);const v=((await qt().messaging.getServerChannels(e)).channels||[]).map(xv).filter(g=>{const h=g.metadata||{},d=g.type===vt.DM,c=h.isDm===!0,y=h.forAgent===t,b=h.user1===r&&h.user2===t||h.user1===t&&h.user2===r;if(d&&c&&y&&b)return!0;if(g.type===vt.DM&&!h.isDm&&!h.forAgent){const w=g.name.toLowerCase(),S=`dm-${r}-${t}`.toLowerCase(),C=`dm-${t}-${r}`.toLowerCase();if(w===S||w===C)return We.warn("[useDmChannelsForAgent] Matched a canonical DM channel by name convention:",g.id,g.name),!0}return!1});return We.info("[useDmChannelsForAgent] Found distinct DM channels:",v.length,v.map(g=>({id:g.id,name:g.name,metadata:g.metadata}))),v.sort((g,h)=>{const d=new Date(g.updatedAt||g.createdAt).getTime();return new Date(h.updatedAt||h.createdAt).getTime()-d})},"queryFn"),enabled:!!t,staleTime:rr.FREQUENT,refetchInterval:rr.STANDARD})}n(Y$,"useDmChannelsForAgent");function X$(){const t=vr(),{toast:e}=er(),r=ys();return xr(),Zr({mutationFn:n(async({agentId:i,channelName:s})=>{if(We.info("[useCreateDmChannel] Creating new distinct DM channel with agent:",{agentId:i,channelName:s}),!s||!s.trim())throw new Error("Channel name cannot be empty for a new DM conversation.");return await qt().messaging.createGroupChannel({name:s.trim(),participantIds:[r,i],metadata:{type:vt.DM,server_id:"00000000-0000-0000-0000-000000000000",isDm:!0,user1:r,user2:i,forAgent:i,createdAt:new Date().toISOString()}})},"mutationFn"),onSuccess:n((i,s)=>{We.info("[useCreateDmChannel] Distinct DM channel created successfully:",i),e({title:"New Chat Started",description:`Conversation "${i.name}" created.`}),t.invalidateQueries({queryKey:["dmChannels",s.agentId,r]}),t.invalidateQueries({queryKey:["channels"]})},"onSuccess"),onError:n(i=>{We.error("[useCreateDmChannel] Error creating distinct DM channel:",i),e({title:"Error Creating Chat",description:i instanceof Error?i.message:"Could not start new chat.",variant:"destructive"})},"onError")})}n(X$,"useCreateDmChannel");const A4="eliza-agent-sidebar-visible";function Q$(){const[t,e]=K.useState(!1);K.useEffect(()=>{try{const s=localStorage.getItem(A4);if(s!==null){const l=JSON.parse(s);e(l)}}catch(s){We.error("Error reading sidebar state from localStorage:",s),e(!1)}},[]);const r=K.useCallback(s=>{e(s);try{localStorage.setItem(A4,JSON.stringify(s))}catch(l){We.error("Error saving sidebar state to localStorage:",l)}},[]),i=K.useCallback(()=>{r(!t)},[t,r]);return{isVisible:t,setSidebarVisible:r,toggleSidebar:i}}n(Q$,"useSidebarState");const qp="eliza-main-panel-width",em="eliza-sidebar-panel-width",tm="eliza-floating-threshold",rm=70,im=30,nm=1400;function J$(){const[t,e]=K.useState(rm),[r,i]=K.useState(im),[s,l]=K.useState(!1),[a,v]=K.useState(nm);K.useEffect(()=>{try{const b=localStorage.getItem(qp),w=localStorage.getItem(em),S=localStorage.getItem(tm);if(b!==null){const C=parseFloat(b);!isNaN(C)&&C>0&&C<=100&&e(C)}if(w!==null){const C=parseFloat(w);!isNaN(C)&&C>0&&C<=100&&i(C)}if(S!==null){const C=parseFloat(S);!isNaN(C)&&C>0&&v(C)}}catch(b){We.error("Error reading panel sizes from localStorage:",b),e(rm),i(im),v(nm)}},[]),K.useEffect(()=>{const b=n(()=>{const w=window.innerWidth<a;l(w)},"checkFloatingMode");return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[a]);const g=K.useCallback(b=>{const w=Math.max(20,Math.min(80,b));e(w);try{localStorage.setItem(qp,w.toString())}catch(S){We.error("Error saving main panel size to localStorage:",S)}},[]),h=K.useCallback(b=>{const w=Math.max(20,Math.min(80,b));i(w);try{localStorage.setItem(em,w.toString())}catch(S){We.error("Error saving sidebar panel size to localStorage:",S)}},[]),d=K.useCallback(b=>{const w=Math.max(320,Math.min(2560,b));v(w);try{localStorage.setItem(tm,w.toString())}catch(S){We.error("Error saving floating threshold to localStorage:",S)}},[]),c=K.useCallback(()=>{l(b=>!b)},[]),y=K.useCallback(()=>{e(rm),i(im),v(nm);try{localStorage.removeItem(qp),localStorage.removeItem(em),localStorage.removeItem(tm)}catch(b){We.error("Error clearing panel sizes from localStorage:",b)}},[]);return{mainPanelSize:t,sidebarPanelSize:r,isFloatingMode:s,floatingThreshold:a,setMainPanelSize:g,setSidebarPanelSize:h,setFloatingThreshold:d,toggleFloatingMode:c,resetPanelSizes:y}}n(J$,"usePanelWidthState");var wu={exports:{}},q$=wu.exports,k4;function eH(){return k4||(k4=1,(function(t,e){(function(r,i){t.exports=i()})(q$,(function(){return function(r,i,s){r=r||{};var l=i.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(h,d,c,y){return l.fromToBase(h,d,c,y)}n(v,"i"),s.en.relativeTime=a,l.fromToBase=function(h,d,c,y,b){for(var w,S,C,R=c.$locale().relativeTime||a,T=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],P=T.length,O=0;O<P;O+=1){var j=T[O];j.d&&(w=y?s(h).diff(c,j.d,!0):c.diff(h,j.d,!0));var B=(r.rounding||Math.round)(Math.abs(w));if(C=w>0,B<=j.r||!j.r){B<=1&&O>0&&(j=T[O-1]);var Z=R[j.l];b&&(B=b(""+B)),S=typeof Z=="string"?Z.replace("%d",B):Z(B,d,j.l,C);break}}if(d)return S;var W=C?R.future:R.past;return typeof W=="function"?W(S):W.replace("%s",S)},l.to=function(h,d){return v(h,d,this,!0)},l.from=function(h,d){return v(h,d,this)};var g=n(function(h){return h.$u?s.utc():s()},"d");l.toNow=function(h){return this.to(g(this),h)},l.fromNow=function(h){return this.from(g(this),h)}}}))})(wu)),wu.exports}n(eH,"requireRelativeTime");var tH=eH();const rH=Ko(tH);us.extend(rH);const iH="00000000-0000-0000-0000-000000000000",nH=n(t=>{const e=t.rawMessage,r=n(d=>{switch(d){case"pending":case"executing":case"running":return"input-streaming";case"completed":case"success":return"output-available";case"failed":case"error":return"output-error";default:return"input-available"}},"mapActionStatusToState"),i=e.actions?.[0]||e.action||"ACTION",s=e.actionStatus||"completed",l=e.actionId,a={};e.actions&&(a.actions=e.actions),e.action&&(a.action=e.action),e.thought&&(a.thought=e.thought);const v={};e.text&&(v.result=e.text),v.status=s,e.thought&&(v.thought=e.thought),e.actionResult&&(v.actionResult=e.actionResult);const h=s==="failed"||s==="error"?e.text||"Action failed":void 0;return{type:i,state:r(s),toolCallId:l,input:Object.keys(a).length>0?a:void 0,output:Object.keys(v).length>0?v:void 0,errorText:h}},"convertActionMessageToToolPart"),sH=nf.memo(aH,(t,e)=>t.message.id===e.message.id&&t.message.text===e.message.text&&t.message.isLoading===e.message.isLoading&&t.shouldAnimate===e.shouldAnimate&&t.isUser===e.isUser);function aH({message:t,agentForTts:e,shouldAnimate:r,onDelete:i,onRetry:s,isUser:l,getAgentInMessage:a,agentAvatarMap:v,chatType:g}){const h=t.type==="agent_action"||t.source==="agent_action";return N.jsxs("div",{className:"flex flex-col w-full",children:[N.jsxs(_9,{isLoading:t.isLoading,...l?{variant:"sent"}:{},...!t.text&&!t.attachments?.length?{className:"bg-transparent"}:{},children:[h?N.jsx(S$,{toolPart:nH(t),defaultOpen:!1,className:"max-w-none"}):N.jsx("div",{children:(()=>{if(!t.text)return null;const d=X9(t.text),c=new Set(t.attachments?.map(w=>w.url).filter(Boolean)||[]),y=d.filter(w=>!c.has(w.url)),b=T$(t.text,d);return N.jsxs("div",{className:"space-y-3",children:[b.trim()&&N.jsx("div",{children:l?N.jsx(Lv,{className:"prose-sm max-w-none",variant:"user",children:b}):N.jsx(h$,{className:"prose-sm max-w-none",variant:"agent",shouldAnimate:r,messageId:t.id,children:b})}),y.length>0&&N.jsx("div",{className:"space-y-2",children:y.map((w,S)=>N.jsx("div",{children:N.jsx(f4,{url:w.url,title:"Shared media"})},`${w.url}-${S}`))})]})})()}),t.attachments?.filter(d=>d.url&&d.url.trim()!=="").map(d=>N.jsx(f4,{url:d.url,title:d.title||"Attachment"},`${d.url}-${d.title}`))]}),N.jsxs("div",{className:"flex items-center justify-between w-full py-1",children:[N.jsx("div",{children:!l&&(t.text||t.attachments?.length)&&t.createdAt&&N.jsx(JF,{className:"text-muted-foreground",timestamp:us(t.createdAt).format("LT")})}),N.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[!l&&t.text&&!t.isLoading&&e?.id&&N.jsxs(N.Fragment,{children:[N.jsx(BF,{text:t.text}),N.jsx(eU,{agentId:e.id,text:t.text})]}),l&&t.text&&!t.isLoading&&s&&N.jsx(UF,{onClick:n(()=>s(t.text||""),"onClick")}),N.jsx(FF,{onClick:n(()=>i(t.id),"onClick")})]})]})]})}n(aH,"MessageContent");function iM({chatType:t,contextId:e,serverId:r,initialDmChannelId:i}){const{toast:s}=er(),l=vr(),{isVisible:a,setSidebarVisible:v,toggleSidebar:g}=Q$(),{mainPanelSize:h,sidebarPanelSize:d,isFloatingMode:c,setMainPanelSize:y,setSidebarPanelSize:b}=J$(),[w,S]=K.useState({showGroupEditPanel:!1,showProfileOverlay:!1,input:"",inputDisabled:!1,selectedGroupAgentId:null,currentDmChannelId:null,isCreatingDM:!1,isMobile:!1}),T=ef().state?.forceNew||!1;xr();const[P,O]=K.useState(T),j=c||w.isMobile,{confirm:B,isOpen:Z,onOpenChange:W,onConfirm:ee,options:$}=Rs(),{stopAgent:U,isAgentStopping:u}=wa(),m=K.useCallback(Re=>{S(Ue=>({...Ue,...Re}))},[]),o=ys(),p=K.useRef(null),x=K.useRef(null),A=K.useRef(null),k=K.useRef(!1),M=K.useRef(!1),f=K.useRef(""),{data:_,isLoading:E}=hl(t===vt.DM?e:void 0,{enabled:t===vt.DM}),I=_?.data?{..._.data,createdAt:_.data.createdAt||Date.now(),updatedAt:_.data.updatedAt||Date.now()}:void 0,{handleDelete:L,isDeleting:D}=J9(I||{}),{data:F=[],isLoading:z}=Y$(t===vt.DM?e:void 0),H=X$(),{data:V}=BB(t===vt.GROUP?e:void 0),{data:Y}=Sv(t===vt.GROUP?e:void 0),Me=Y?.data,{data:se}=ba(),ae=se?.agents||[],ye=F[0],G=t===vt.DM?w.currentDmChannelId||void 0:e||void 0,re=K.useMemo(()=>t===vt.DM?iH:r||void 0,[t,r]),{data:X=[],isLoading:Q}=p3(ye?.id,re),{data:le=[],isLoading:Ae,addMessage:pe,updateMessage:fe,removeMessage:J,clearMessages:q}=p3(G,re),te=K.useMemo(()=>t!==vt.GROUP||!Me?[]:Me.map(Re=>ae.find(Ue=>Ue.id===Re)).filter(Boolean),[t,Me,ae]),de=K.useMemo(()=>ae.reduce((Re,Ue)=>(Ue.id&&typeof Ue.settings?.avatar=="string"&&(Re[Ue.id]=Ue.settings.avatar),Re),{}),[ae]),oe=K.useCallback(Re=>ae.find(Ue=>Ue.id===Re),[ae]),{scrollRef:ue,contentRef:Be,isAtBottom:we,scrollToBottom:De,disableAutoScroll:Xe,autoScrollEnabled:ve}=b$({smooth:!0}),Fe=K.useRef(0),ce=K.useCallback(()=>{ue.current&&setTimeout(()=>De(),0)},[De,ue]),be=K.useRef(!1),Oe=K.useRef(null),Te=K.useCallback(async Re=>{if(!Re||t!=="DM")return;if(ye)try{const bt=await qt().messaging.getChannelMessages(ye.id,{limit:30}),ht=je(ye.name),St=(bt?.messages?.length??0)===0;if(ht&&St){w.currentDmChannelId===ye.id?s({title:"Already in a fresh chat",description:`You're already in a new chat with ${I?.name||"the agent"}.`}):(m({currentDmChannelId:ye.id}),s({title:"Chat opened",description:`You can now start chatting with ${I?.name||"the agent"}.`})),m({currentDmChannelId:ye.id});return}else We.info("[Chat] Latest DM channel has messages or customized name, proceeding to create a new one.")}catch(at){We.error("[Chat] Failed to fetch latest DM channel messages:",at)}const Ue=`Chat - ${us().format("MMM D, HH:mm:ss")}`;We.info(`[Chat] Creating new distinct DM channel with agent ${Re}, name: "${Ue}"`),m({isCreatingDM:!0});try{be.current=!0,await H.mutateAsync({agentId:Re,channelName:Ue}),m({input:""}),setTimeout(()=>ce(),150)}catch(at){We.error("[Chat] Error creating new distinct DM channel:",at),m({currentDmChannelId:null,input:""})}finally{m({isCreatingDM:!1}),s({title:"Chat opened",description:`You can now start chatting with ${I?.name||"the agent"}.`})}},[t,H,m,ce,ye]),ke=K.useCallback(Re=>{const Ue=F.find(at=>at.id===Re);Ue&&(We.info(`[Chat] DM Channel selected: ${Ue.name} (Channel ID: ${Ue.id})`),m({currentDmChannelId:Ue.id,input:""}),setTimeout(()=>ce(),150))},[F,m,ce]),ze=K.useCallback(()=>{if(t!==vt.DM||!w.currentDmChannelId||!I?.id)return;const Re=F.find(Ue=>Ue.id===w.currentDmChannelId);Re&&B({title:"Delete Chat",description:`Are you sure you want to delete the chat "${Re.name}" with ${I.name}? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},async()=>{We.info(`[Chat] Deleting DM channel ${Re.id}`);try{await qt().messaging.deleteChannel(Re.id),l.setQueryData(["dmChannels",I.id,o],bt=>bt?.filter(ht=>ht.id!==Re.id)),l.invalidateQueries({queryKey:["dmChannels",I.id,o]}),l.invalidateQueries({queryKey:["channels"]}),s({title:"Chat Deleted",description:`"${Re.name}" was deleted.`});const at=l.getQueryData(["dmChannels",I.id,o])||[];at.length>0?(m({currentDmChannelId:at[0].id}),We.info("[Chat] Switched to DM channel:",at[0].id)):(We.info("[Chat] No DM channels left after deletion. Will create a fresh chat once."),m({currentDmChannelId:null}),be.current=!1,await Te(I.id))}catch(Ue){We.error("[Chat] Error deleting DM channel:",Ue),s({title:"Error",description:"Could not delete chat. The server might not support this action yet.",variant:"destructive"})}})},[t,w.currentDmChannelId,I,F,B,s,m,Te,l,o]);K.useEffect(()=>{ye&&!Q&&X&&I?.id&&P&&(Te(I.id),O(!1))},[P,O,Te,I?.id,ye,X,Q]),K.useEffect(()=>{k.current=w.inputDisabled},[w.inputDisabled]),K.useEffect(()=>{const Re=F.find(Ue=>Ue.id===w.currentDmChannelId);Re?.name&&(f.current=Re.name)},[F,w.currentDmChannelId]),K.useEffect(()=>{!z&&F.length>0&&(We.info("[Chat] Selecting first available DM channel:",F[0].id),m({currentDmChannelId:F[0].id}))},[F,z,m]);const Je=K.useCallback(Re=>{if(t===vt.DM&&e&&Re&&typeof window<"u"){const Ue=`/chat/${e}/${Re}`;window.location.pathname!==Ue&&window.history&&window.history.replaceState(null,"",Ue)}},[t,e]);K.useEffect(()=>{w.currentDmChannelId&&Je(w.currentDmChannelId)},[w.currentDmChannelId,Je]),K.useEffect(()=>{if(We.info("[Chat] URL navigation effect triggered",{initialDmChannelId:i,agentDmChannelsLength:F.length,isLoadingAgentDmChannels:z,currentDmChannelId:w.currentDmChannelId}),i&&F.length>0&&!z&&!M.current){if(!Vo(i)){We.warn("[Chat] Invalid channel ID format from URL:",i),M.current=!0;return}F.some(at=>at.id===i)?(We.info("[Chat] Switching to channel from URL:",i),m({currentDmChannelId:i}),M.current=!0):(We.warn("[Chat] Channel from URL not found, staying with current channel",{initialDmChannelId:i,availableChannels:F.map(at=>at.id)}),M.current=!0)}},[i,F,z,m]),K.useEffect(()=>{if(t===vt.DM&&I?.id){if(!(!w.currentDmChannelId||F.some(Ue=>Ue.id===w.currentDmChannelId))&&!z){We.info(`[Chat] Current DM channel ${w.currentDmChannelId} doesn't belong to agent ${I.id}, clearing it`),m({currentDmChannelId:null});return}!z&&F.length===0&&!i&&!be.current&&!w.isCreatingDM&&!H.isPending&&(We.info("[Chat] No existing DM channels found; auto-creating a fresh one."),be.current=!0,Te(I.id))}else t!==vt.DM&&w.currentDmChannelId!==null&&m({currentDmChannelId:null})},[t,I?.id,F,z,H.isPending,w.isCreatingDM,w.currentDmChannelId,i,m,Te]),K.useEffect(()=>(F.length>0&&Oe.current&&(clearTimeout(Oe.current),Oe.current=null),()=>{Oe.current&&(clearTimeout(Oe.current),Oe.current=null)}),[F]),K.useEffect(()=>{t===vt.GROUP&&te.length===1&&!w.selectedGroupAgentId&&(m({selectedGroupAgentId:te[0].id}),a||v(!0))},[t,te,w.selectedGroupAgentId,m,a,v]);const{mutate:Ce}=FB(),{mutate:Ee}=UB();K.useEffect(()=>{const Re=Fe.current===0&&le.length>0,Ue=le.length!==Fe.current&&Fe.current!==0;Re?(We.debug("[chat] Initial messages loaded, scrolling to bottom.",{count:le.length}),ce()):Ue&&(ve?(We.debug("[chat] New messages and autoScroll enabled, scrolling."),ce()):We.debug("[chat] New messages, but autoScroll is disabled (user scrolled up).")),Fe.current=le.length},[le,ve,ce,G]);function je(Re){return!!Re?.match(/^Chat - [A-Z][a-z]{2} \d{1,2}, \d{2}:\d{2}(:\d{2})?$/)}n(je,"isAutoGeneratedChatName");const _e=n(async()=>{if(!(!!f.current&&je(f.current)&&t===vt.DM))return;if(!G||!w.currentDmChannelId){We.warn("Cannot update chat title: missing channel ID");return}const Ue=qt(),bt=(await Ue.messaging.generateChannelTitle(G,e))?.title,ht=await Ue.messaging.getChannelParticipants(w.currentDmChannelId);if(bt&&ht){let St=[];ht&&Array.isArray(ht.participants)?St=ht.participants.map(Et=>Et.userId):ht&&Array.isArray(ht)&&(St=ht.map(Et=>Et.userId||Et.id||Et)),await Ue.messaging.updateChannel(G,{name:bt,participantCentralUserIds:St});const Bt=ys();l.invalidateQueries({queryKey:["dmChannels",e,Bt]})}},"updateChatTitle"),{sendMessage:He,animatedMessageId:Ke}=A$({channelId:G,currentUserId:o,contextId:e,chatType:t,allAgents:ae,messages:le,onAddMessage:n(Re=>{pe(Re),_e(),Re.isAgent&&ce()},"onAddMessage"),onUpdateMessage:n((Re,Ue)=>{fe(Re,Ue),!Ue.isLoading&&Ue.isLoading!==void 0&&ce()},"onUpdateMessage"),onDeleteMessage:n(Re=>{J(Re)},"onDeleteMessage"),onClearMessages:n(()=>{q()},"onClearMessages"),onInputDisabledChange:n(Re=>m({inputDisabled:Re}),"onInputDisabledChange")}),{selectedFiles:ie,handleFileChange:me,removeFile:Ie,createBlobUrls:xe,uploadFiles:Pe,cleanupBlobUrls:Ze,clearFiles:ne}=E$({agentId:I?.id,channelId:G,chatType:t}),Ne=n(Re=>{Re.key==="Enter"&&!Re.shiftKey&&!Re.nativeEvent.isComposing&&(Re.preventDefault(),$e(Re))},"handleKeyDown"),$e=n(async Re=>{Re.preventDefault();let Ue=G;if(t===vt.DM&&!Ue&&I?.id){if(w.isCreatingDM||H.isPending){We.info("[Chat] DM channel creation already in progress; will wait for it to finish instead of creating another.");return}We.info("[Chat] No DM channel selected, creating one before sending message");try{be.current=!0;const Mt=await H.mutateAsync({agentId:I.id,channelName:`Chat - ${us().format("MMM D, HH:mm")}`});m({currentDmChannelId:Mt.id}),Ue=Mt.id,await new Promise(zt=>setTimeout(zt,100))}catch(Mt){We.error("[Chat] Failed to create DM channel before sending message:",Mt),s({title:"Error",description:"Failed to create chat channel. Please try again.",variant:"destructive"}),m({inputDisabled:!1});return}}if(!w.input.trim()&&ie.length===0||k.current||!Ue||!re||!o||t===vt.DM&&!I?.id)return;const at=cn();let bt=w.input.trim();const ht=w.input;m({input:"",inputDisabled:!0});const St=[...ie];ne(),A.current?.reset();const Bt=xe(St),Et={id:at,text:bt,name:$s,createdAt:Date.now(),senderId:o,isAgent:!1,isLoading:!0,channelId:Ue,serverId:re,source:t===vt.DM?pl:Ja,attachments:Bt};(bt||St.length>0)&&pe(Et),ce();try{let Mt=[];if(St.length>0){const{uploaded:Nt,failed:Dt,blobUrls:Ut}=await Pe(St);Mt=Nt,Dt.length>0&&fe(at,{attachments:Et.attachments?.filter(Zt=>!Dt.some(Vt=>Vt.file.id===Zt.id))}),Ze(Ut),!bt.trim()&&Mt.length>0&&(bt=`Shared ${Mt.length} file(s).`)}const Ht=X9(ht).map((Nt,Dt)=>({id:`textmedia-${at}-${Dt}`,url:Nt.url,title:Nt.type==="image"?"Image":Nt.type==="video"?"Video":"Media Link",source:"user_input_url",contentType:Nt.type==="image"?Nm.IMAGE:Nt.type==="video"?Nm.VIDEO:void 0})),Lt=[...Mt,...Ht],Ft=bt||(Lt.length>0?"Shared content.":"");if(!Ft.trim()&&Lt.length===0){m({inputDisabled:!1}),J(at);return}await He(Ft,re,t===vt.DM?pl:Ja,Lt.length>0?Lt:void 0,at,void 0,Ue)}catch(Mt){We.error("Error sending message or uploading files:",Mt),s({title:"Error Sending Message",description:Mt instanceof Error?Mt.message:"Could not send message.",variant:"destructive"}),fe(at,{isLoading:!1,text:`${Et.text||"Attachment(s)"} (Failed to send)`}),m({inputDisabled:!1})}finally{p.current?.focus()}},"handleSendMessage"),ge=n(Re=>{if(!G||!Re)return;const Ue=Vo(Re);Ue&&(J(Re),Ce({channelId:G,messageId:Ue}))},"handleDeleteMessage"),Ge=n(async Re=>{if(k.current||!Re.text?.trim()&&Re.attachments?.length===0)return;m({inputDisabled:!0});const Ue=cn(),at=Re.text?.trim()||`Shared ${Re.attachments?.length} file(s).`,bt={id:Ue,text:Re.text,name:$s,createdAt:Date.now(),senderId:o,isAgent:!1,isLoading:!0,channelId:Re.channelId,serverId:re,source:t===vt.DM?pl:Ja,attachments:Re.attachments};if(pe(bt),ce(),!re||!G){We.error("Cannot retry message: missing server or channel ID"),s({title:"Error Sending Message",description:"Missing required channel information.",variant:"destructive"}),m({inputDisabled:!1}),J(Ue);return}try{await He(at,re,t===vt.DM?pl:Ja,Re.attachments,Ue,void 0,G)}catch(ht){We.error("Error sending message or uploading files:",ht),s({title:"Error Sending Message",description:ht instanceof Error?ht.message:"Could not send message.",variant:"destructive"}),fe(Ue,{isLoading:!1,text:`${bt.text||"Attachment(s)"} (Failed to send)`}),m({inputDisabled:!1})}},"handleRetryMessage"),et=n(()=>{if(!G)return;const Re=t===vt.DM?`Clear all messages in this chat with ${I?.name}?`:"Clear all messages in this group chat?";B({title:"Clear Chat",description:`${Re} This action cannot be undone.`,confirmText:"Clear",variant:"destructive"},()=>{Ee(G)})},"handleClearChat");if(K.useEffect(()=>{const Re=n(()=>{const Ue=window.innerWidth<768;m({isMobile:Ue})},"checkMobile");return Re(),window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)},[m]),t===vt.DM&&(E||!I&&e||z))return N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx(Nr,{className:"h-8 w-8 animate-spin text-primary"})});if(!G||!re||t===vt.DM&&!I)return N.jsx("div",{className:"flex flex-1 justify-center items-center",children:N.jsx("p",{children:"Loading chat context..."})});const Le=n(()=>{D||B({title:"Delete Agent",description:`Are you sure you want to delete the agent "${I?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},L)},"onDeleteAgent"),Qe=n(()=>{if(t===vt.DM&&I)return N.jsxs("div",{className:"flex items-center justify-between mb-4 p-3",children:[N.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:N.jsxs(co,{children:[N.jsx(ho,{asChild:!0,children:N.jsxs(qe,{variant:"ghost",size:"sm",className:"py-6 px-2 flex-shrink-0",children:[N.jsxs("div",{className:"relative flex-shrink-0",children:[N.jsx(Fn,{className:"size-4 sm:size-10 border rounded-full",children:N.jsx(Ns,{src:lo(I)})}),I?.status===hr.ACTIVE?N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-green-500"})}),N.jsx(or,{side:"right",children:N.jsx("p",{children:"Agent is active"})})]}):N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-muted-foreground"})}),N.jsx(or,{side:"right",children:N.jsx("p",{children:"Agent is inactive"})})]})]}),N.jsx("div",{children:N.jsx("h2",{className:"font-semibold text-lg truncate max-w-[80px] sm:max-w-none",children:I?.name||"Agent"})}),N.jsx(Cn,{className:"size-4"})]})}),N.jsxs(po,{align:"start",side:"bottom",className:"min-w-36 w-[var(--radix-dropdown-menu-trigger-width)]",children:[N.jsxs(Ti,{onClick:n(()=>{vg(I,s)},"onClick"),children:[N.jsx(ex,{className:"h-4 w-4 mr-2"}),"Export"]}),N.jsx(Mu,{}),N.jsxs(Ti,{onClick:n(()=>{I&&!u(I.id)&&U(I)},"onClick"),children:[N.jsx(ng,{className:"h-4 w-4 mr-2"}),"Stop Agent"]}),N.jsxs(Ti,{onClick:n(()=>{I&&!D&&Le()},"onClick"),className:"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50",children:[N.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})]})]})}),N.jsx("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:t===vt.DM&&N.jsxs("div",{className:"flex items-center gap-2",children:[F.length>0&&N.jsxs(co,{children:[N.jsx(ho,{asChild:!0,children:N.jsxs(qe,{variant:"outline",size:"sm",className:"w-8 h-9 sm:max-w-[300px] sm:w-auto rounded-[12px]",children:[N.jsx(rf,{className:"size-4 flex-shrink-0 text-muted-foreground"}),N.jsx("span",{className:"hidden md:inline truncate text-xs sm:text-sm",children:F.find(Re=>Re.id===w.currentDmChannelId)?.name||"Select Chat"}),N.jsx(Cn,{className:"hidden md:inline-flex size-4 text-muted-foreground"})]})}),N.jsxs(po,{align:"end",className:"w-[280px] sm:w-[320px]",children:[N.jsxs(cA,{className:"font-medium",children:["Chat History with ",I.name]}),N.jsx(Mu,{}),N.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:F.map(Re=>N.jsx(Ti,{onClick:n(()=>ke(Re.id),"onClick"),className:Ve("cursor-pointer",Re.id===w.currentDmChannelId&&"bg-muted"),children:N.jsxs("div",{className:"flex items-center justify-between w-full",children:[N.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[N.jsx("span",{className:Ve("text-sm truncate",Re.id===w.currentDmChannelId&&"font-medium"),children:Re.name}),N.jsx("span",{className:"text-xs text-muted-foreground",children:us((typeof Re.metadata?.createdAt=="string"||typeof Re.metadata?.createdAt=="number"?Re.metadata.createdAt:null)||Re.updatedAt||Re.createdAt).fromNow()})]}),Re.id===w.currentDmChannelId&&N.jsx(di,{variant:"default",className:"text-xs flex-shrink-0 ml-2",children:"Current"})]})},Re.id))})]})]}),N.jsx(rg,{mainAction:{label:w.isCreatingDM?"Creating...":N.jsxs(N.Fragment,{children:[N.jsx("span",{className:"sm:hidden",children:"New"}),N.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]}),onClick:n(()=>Te(I?.id),"onClick"),icon:w.isCreatingDM?N.jsx(Nr,{className:"size-4 animate-spin"}):N.jsx(sg,{className:"size-4"}),disabled:w.isCreatingDM||z},actions:[{label:"Clear Chat",onClick:et,icon:N.jsx(Zv,{className:"size-4"}),disabled:!le||le.length===0},{label:"Delete Chat",onClick:ze,icon:N.jsx(gs,{className:"size-4"}),disabled:!w.currentDmChannelId,variant:"destructive"}],variant:"outline",size:"sm",mainButtonClassName:"rounded-l-[12px] h-9",dropdownButtonClassName:"rounded-r-[12px] h-9"}),N.jsxs(ur,{children:[N.jsx(fr,{asChild:!0,children:N.jsx(qe,{className:"w-9 h-9 rounded-[12px]",variant:"outline",onClick:g,children:a?N.jsx(ac,{className:"size-4"}):N.jsx(Vv,{className:"size-4"})})}),N.jsx(or,{side:"bottom",children:N.jsx("p",{children:a?"Close SidePanel":"Open SidePanel"})})]})]})})]});if(t===vt.GROUP){const Re=dg(V?.data||void 0,te,o);return N.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[N.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[N.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:N.jsx("h2",{className:"font-semibold text-lg truncate",title:Re,children:Re})}),N.jsxs("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:[N.jsx(rg,{mainAction:{label:"Edit Group",onClick:n(()=>m({showGroupEditPanel:!0}),"onClick"),icon:N.jsx(ES,{className:"size-4"})},actions:[{label:"Clear Messages",onClick:et,icon:N.jsx(Zv,{className:"size-4"}),disabled:!le||le.length===0},{label:"Delete Group",onClick:n(()=>{if(!G||!re)return;const Ue=G;B({title:"Delete Group",description:"Are you sure you want to delete this group? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{await qt().messaging.deleteChannel(Ue),s({title:"Group Deleted",description:"The group has been successfully deleted."}),window.location.href="/"}catch(at){We.error("[Chat] Error deleting group:",at),s({title:"Error",description:"Could not delete group.",variant:"destructive"})}})},"onClick"),icon:N.jsx(gs,{className:"size-4"}),disabled:!G||!re,variant:"destructive"}],variant:"outline",size:"sm",className:"px-2 sm:px-3"}),N.jsx(qe,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 h-8 w-8 sm:w-auto",onClick:g,children:a?N.jsx(ac,{className:"h-4 w-4"}):N.jsx(Vv,{className:"h-4 w-4"})})]})]}),te.length>0&&N.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card rounded-lg border overflow-x-auto",children:[N.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Agents:"}),N.jsxs("div",{className:"flex gap-2 min-w-0",children:[N.jsx(qe,{variant:w.selectedGroupAgentId?"ghost":"default",size:"sm",onClick:n(()=>m({selectedGroupAgentId:null}),"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:N.jsx("span",{children:"All"})}),te.map(Ue=>N.jsxs(qe,{variant:w.selectedGroupAgentId===Ue?.id?"default":"ghost",size:"sm",onClick:n(()=>{m({selectedGroupAgentId:Ue?.id||null}),Ue?.id&&!a&&v(!0)},"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:[N.jsx(Fn,{className:"size-5",children:N.jsx(Ns,{src:lo(Ue)})}),N.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:Ue?.name})]},Ue?.id))]})]})]})}return null},"renderChatHeader");return N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[j?N.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[N.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qe()}),N.jsxs("div",{className:Ve("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[N.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:N.jsx(E4,{messages:le,isLoadingMessages:Ae,chatType:t,currentClientEntityId:o,targetAgentData:I,allAgents:ae,animatedMessageId:Ke,scrollRef:ue,contentRef:Be,isAtBottom:we,scrollToBottom:De,disableAutoScroll:Xe,finalChannelId:G,getAgentInMessage:oe,agentAvatarMap:de,onDeleteMessage:ge,onRetryMessage:n(Re=>{if(!G){s({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const Ue={id:cn(),text:Re,name:$s,senderId:o,isAgent:!1,createdAt:Date.now(),channelId:G,serverId:re};Ge(Ue)},"onRetryMessage"),selectedGroupAgentId:w.selectedGroupAgentId})}),N.jsx("div",{className:"flex-shrink-0",children:N.jsx(S4,{input:w.input,setInput:n(Re=>m({input:Re}),"setInput"),inputDisabled:w.inputDisabled,selectedFiles:ie,removeFile:Ie,handleFileChange:me,handleSendMessage:$e,handleKeyDown:Ne,chatType:t,targetAgentData:I,formRef:A,inputRef:p,fileInputRef:x})})]})]}):N.jsxs(y$,{direction:"horizontal",className:"h-full flex-1 overflow-hidden",onLayout:n(Re=>{Re.length>=2&&a&&!w.isMobile&&(y(Re[0]),b(Re[1]))},"onLayout"),children:[N.jsx(y4,{defaultSize:a&&!w.isMobile?h:100,minSize:w.isMobile?100:50,children:N.jsx("div",{className:"relative h-full overflow-hidden",children:N.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[N.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qe()}),N.jsxs("div",{className:Ve("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[N.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:N.jsx(E4,{messages:le,isLoadingMessages:Ae,chatType:t,currentClientEntityId:o,targetAgentData:I,allAgents:ae,animatedMessageId:Ke,scrollRef:ue,contentRef:Be,isAtBottom:we,scrollToBottom:De,disableAutoScroll:Xe,finalChannelId:G,getAgentInMessage:oe,agentAvatarMap:de,onDeleteMessage:ge,onRetryMessage:n(Re=>{if(!G){s({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const Ue={id:cn(),text:Re,name:$s,senderId:o,isAgent:!1,createdAt:Date.now(),channelId:G,serverId:re};Ge(Ue)},"onRetryMessage"),selectedGroupAgentId:w.selectedGroupAgentId})}),N.jsx("div",{className:"flex-shrink-0",children:N.jsx(S4,{input:w.input,setInput:n(Re=>m({input:Re}),"setInput"),inputDisabled:w.inputDisabled,selectedFiles:ie,removeFile:Ie,handleFileChange:me,handleSendMessage:$e,handleKeyDown:Ne,chatType:t,targetAgentData:I,formRef:A,inputRef:p,fileInputRef:x})})]})]})})}),(()=>{let Re,Ue="Agent",at;return t===vt.DM?(Re=e,Ue=I?.name||"Agent",at=w.currentDmChannelId||void 0):t===vt.GROUP&&w.selectedGroupAgentId?(Re=w.selectedGroupAgentId,Ue=ae.find(ht=>ht.id===w.selectedGroupAgentId)?.name||"Group Member",at=e):t===vt.GROUP&&!w.selectedGroupAgentId&&(Ue="Group",at=e),a&&!w.isMobile&&N.jsxs(N.Fragment,{children:[N.jsx(w$,{withHandle:!0}),N.jsx(y4,{defaultSize:d,minSize:20,maxSize:50,children:N.jsx(_4,{agentId:Re,agentName:Ue,channelId:at})})]})})()]}),(()=>{let Re,Ue="Agent",at;return t===vt.DM?(Re=e,Ue=I?.name||"Agent",at=w.currentDmChannelId||void 0):t===vt.GROUP&&w.selectedGroupAgentId?(Re=w.selectedGroupAgentId,Ue=ae.find(ht=>ht.id===w.selectedGroupAgentId)?.name||"Group Member",at=e):t===vt.GROUP&&!w.selectedGroupAgentId&&(Ue="Group",at=e),a&&j&&N.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm",children:N.jsx("div",{className:"absolute inset-0 bg-background shadow-lg",children:N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[N.jsx("h3",{className:"font-semibold text-lg",children:Ue}),N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(()=>v(!1),"onClick"),className:"h-8 w-8 p-0",children:N.jsx(ac,{className:"h-4 w-4"})})]}),N.jsx("div",{className:"flex-1 overflow-hidden",children:N.jsx(_4,{agentId:Re,agentName:Ue,channelId:at})})]})})})})()]}),w.showGroupEditPanel&&t===vt.GROUP&&N.jsx(ec,{onClose:n(()=>m({showGroupEditPanel:!1}),"onClose"),channelId:e}),w.showProfileOverlay&&t===vt.DM&&I?.id&&N.jsx(w9,{isOpen:w.showProfileOverlay,onClose:n(()=>m({showProfileOverlay:!1}),"onClose"),agentId:I.id}),N.jsx(Cs,{open:Z,onOpenChange:W,title:$?.title||"",description:$?.description||"",confirmText:$?.confirmText,cancelText:$?.cancelText,variant:$?.variant,onConfirm:ee})]})}n(iM,"Chat");function N4(){const{agentId:t,channelId:e}=fg(),r=xr();K.useEffect(()=>(We.info("[AgentRoute] Component mounted/updated",{agentId:t,channelId:e}),()=>{We.info("[AgentRoute] Component unmounted",{agentId:t,channelId:e})}),[t,e]);const{data:i,isLoading:s}=hl(t),{startAgent:l,isAgentStarting:a}=wa(),v=i?.data?{...i.data,status:i.data.status==="active"?hr.ACTIVE:(i.data.status==="inactive",hr.INACTIVE),username:i.data.username||i.data.name||"Unknown",bio:i.data.bio||"",messageExamples:i.data.messageExamples||[],postExamples:i.data.postExamples||[],topics:i.data.topics||[],adjectives:i.data.adjectives||[],knowledge:i.data.knowledge||[],plugins:i.data.plugins||[],settings:i.data.settings||{},secrets:i.data.secrets||{},style:i.data.style||{},templates:i.data.templates||{},enabled:typeof i.data.enabled=="boolean"?i.data.enabled:!0,createdAt:typeof i.data.createdAt=="number"?i.data.createdAt:Date.now(),updatedAt:typeof i.data.updatedAt=="number"?i.data.updatedAt:Date.now()}:void 0;if(!t)return N.jsx("div",{className:"p-4",children:"Agent ID not provided."});if(s||!v)return N.jsx("div",{className:"p-4 flex items-center justify-center h-full",children:N.jsx(Nr,{className:"h-8 w-8 animate-spin text-primary"})});const g=v.status===hr.ACTIVE,h=a(v.id),d=n(()=>{v&&l(v)},"handleStartAgent");return g?(We.info("[AgentRoute] Agent is active, rendering chat for DM",{agentName:v?.name,dmChannelIdFromRoute:e}),N.jsx(iM,{chatType:vt.DM,contextId:t,initialDmChannelId:e},`${t}-${e||"no-dm-channel"}`)):(We.info("[AgentRoute] Agent is not active, rendering inactive state UI",{agentName:v?.name}),N.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 text-center",children:[N.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[v.name," is not active."]}),N.jsx("p",{className:"text-muted-foreground mb-6",children:"Press the button below to start this agent."}),N.jsxs("div",{className:"flex gap-3",children:[N.jsx(qe,{onClick:n(()=>r(`/settings/${t}`),"onClick"),variant:"outline",size:"lg",children:N.jsx(vs,{className:"h-5 w-5"})}),N.jsxs(qe,{onClick:d,disabled:h,size:"lg",children:[h?N.jsx(Nr,{className:"mr-2 h-5 w-5 animate-spin"}):N.jsx(og,{className:"mr-2 h-5 w-5"}),h?"Starting Agent...":"Start Agent"]})]})]}))}n(N4,"AgentRoute");function oH(){return N.jsx("div",{className:"h-full w-full overflow-y-auto",children:N.jsx("div",{className:"min-h-full flex w-full justify-center px-4 sm:px-6 py-4",children:N.jsx("div",{className:"w-full max-w-4xl min-w-0",children:N.jsx(D7,{})})})})}n(oH,"AgentCreatorRoute");function lH({className:t,...e}){return N.jsx(AS,{"data-slot":"switch",className:Ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-4 w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t),...e,children:N.jsx(kS,{"data-slot":"switch-thumb",className:Ve("bg-background dark:data-[state=unchecked]:bg-primary-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block h-2.5 w-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+10px)] data-[state=unchecked]:translate-x-0")})})}n(lH,"Switch");const uH=n(({agent:t,onChat:e})=>{const r=xr(),{startAgent:i,stopAgent:s,isAgentStarting:l,isAgentStopping:a}=wa();if(!t||!t.id)return We.error("[AgentCard] Agent data or ID is missing",{agent:t}),N.jsx($i,{className:"p-4 min-h-[100px] flex items-center justify-center text-muted-foreground",children:"Agent data not available."});const v=t.id,g=t.name||"Unnamed Agent",h=Array.isArray(t.bio)?t.bio.filter(Boolean).join(" ").trim():typeof t.bio=="string"&&t.bio.trim()||"Engages with all types of questions and conversations",d=t.status===hr.ACTIVE,c=l(t.id),y=a(t.id),b={id:t.id,name:g,username:t.username||g,bio:t.bio||"",messageExamples:t.messageExamples||[],postExamples:t.postExamples||[],topics:t.topics||[],adjectives:t.adjectives||[],knowledge:t.knowledge||[],plugins:t.plugins||[],settings:t.settings||{},secrets:t.secrets||{},style:t.style||{},system:t.system||void 0,templates:t.templates||{},enabled:typeof t.enabled=="boolean"?t.enabled:!0,status:t.status||hr.INACTIVE,createdAt:typeof t.createdAt=="number"?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"?t.updatedAt:Date.now()},w=n(()=>{i(b)},"handleStart"),S=n(()=>{s(b)},"handleStop"),C=n((P=!1)=>{e(P)},"handleNewChat"),R=n(()=>{r(`/settings/${v}`)},"handleSettings"),T=n(()=>{d?S():w()},"handleToggle");return N.jsx($i,{className:Ve("w-full transition-all bg-card border border-border/50 rounded-sm hover:bg-card/50 cursor-pointer",d?"":"opacity-75"),"data-testid":"agent-card",onClick:n(P=>{P.stopPropagation(),C()},"onClick"),children:N.jsxs(Is,{className:"p-0 relative h-full",children:[N.jsx("div",{className:"absolute top-3 right-3",children:N.jsx(lH,{checked:d,onCheckedChange:n(P=>{P!==d&&T()},"onCheckedChange"),onClick:n(P=>P.stopPropagation(),"onClick"),"aria-label":`Toggle ${g}`,disabled:c||y,className:Ve(d?"data-[state=checked]:!bg-green-600":"data-[state=unchecked]:!bg-gray-500/80")})}),N.jsxs("div",{className:"flex flex-col justify-between h-full",children:[N.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[N.jsxs(Fn,{className:"h-16 w-16 flex-shrink-0 rounded-sm",children:[N.jsx(Ns,{src:lo(t),alt:g}),N.jsx(Vf,{className:"text-lg font-medium rounded-sm",children:bs(g)})]}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:g,children:g}),N.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:h})]})]}),N.jsx("div",{className:"border-t border-muted"}),N.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(P=>{P.stopPropagation(),R()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:N.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})}),N.jsx(qe,{variant:"outline",size:"sm",onClick:n(P=>{P.stopPropagation(),C(!0)},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"New Chat"})]})]})]})})},"AgentCard"),fH=n(({group:t})=>{const e=xr(),r=ys(),[i,s]=K.useState(!1);if(!t||!t.id)return N.jsx($i,{className:"p-4 min-h-[180px] flex items-center justify-center text-muted-foreground",children:"Group data not available."});const l=dg(t,t.participants||[],r),a=n(()=>{e(`/group/${t.id}?serverId=${t.server_id}`)},"handleChatClick"),{data:v}=ba(),g=v?.agents||[],{data:h}=Sv(t.id),d=h?.data,c=d&&Array.isArray(d)?d:[],y=c?g.filter(S=>S.id&&c.includes(S.id)):[],b=n(()=>{s(!0)},"handleSettings"),w=y.map(S=>S.name).filter(Boolean).join(", ")||"No members";return N.jsxs(N.Fragment,{children:[N.jsx($i,{className:"w-full transition-all bg-card border border-border/50 rounded-sm","data-testid":"agent-card",children:N.jsx(Is,{className:"p-0 relative h-full",children:N.jsxs("div",{className:"flex flex-col justify-between h-full",children:[N.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[N.jsx(Fn,{className:"bg-[#282829] h-16 w-16 flex-shrink-0 rounded-[3px] relative overflow-hidden",children:y&&y.length>0?N.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 w-full h-full p-1",children:[y.slice(0,3).map(S=>{const C=typeof S.settings?.avatar=="string"?S.settings.avatar:null;return C?N.jsx("img",{src:C,alt:S.name,className:"object-cover w-full h-full rounded-[3px]"},S.id):N.jsx("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:bs(S.name)},S.id)}),y.length>3?N.jsxs("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:["+",y.length-3]}):Array.from({length:4-y.slice(0,3).length}).map((S,C)=>N.jsx("div",{className:"flex items-center justify-center bg-[#2D2D2D] text-xs font-medium w-full h-full rounded-[3px]"},`empty-${C}`))]}):N.jsx("div",{className:"flex items-center justify-center bg-muted text-lg font-medium w-full h-full",children:bs(l)})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:l,children:l}),N.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:w})]})]}),N.jsx("div",{className:"border-t border-muted"}),N.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[N.jsx(qe,{variant:"ghost",size:"sm",onClick:n(S=>{S.stopPropagation(),b()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:N.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})}),N.jsx(qe,{variant:"outline",size:"sm",onClick:n(S=>{S.stopPropagation(),a()},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"Chat"})]})]})})}),i&&N.jsx(ec,{onClose:n(()=>s(!1),"onClose"),channelId:t.id})]})},"GroupCard");function cH(){const{data:t,isLoading:e,isError:r,error:i}=ba(),s=xr(),l=K.useMemo(()=>t?.agents||[],[t]),a=l.filter(B=>B.status===hr.ACTIVE).length,{data:v}=o9(),g=v?.data?.servers||[],[h,d]=K.useState(!1),[c,y]=K.useState(!1),[b,w]=K.useState(null),[S,C]=K.useState(null),[R,T]=K.useState("agents"),P=n(()=>{w(null),d(!1)},"closeOverlay"),O=n(async(B,Z)=>{B.id&&s(`/chat/${B.id}`,{state:{forceNew:Z}})},"handleNavigateToDm"),j=n(()=>{s("/group/new")},"handleCreateGroup");return K.useEffect(()=>{We.info("[Home] Component mounted/re-rendered. Key might have changed.")},[]),N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"flex-1 w-full overflow-y-auto bg-background",children:N.jsx("div",{className:"flex flex-col w-full h-full",children:N.jsxs(gg,{value:R,onValueChange:T,className:"w-full h-full flex flex-col",children:[N.jsx("div",{className:"w-full",children:N.jsxs("div",{className:"w-full md:max-w-4xl mx-auto px-6 pt-6 pb-2",children:[N.jsxs("div",{className:"flex justify-between items-center mb-3",children:[N.jsxs(uf,{className:"h-auto p-0 bg-transparent border-0 border-b-0 gap-2 w-auto",children:[N.jsxs(fo,{value:"agents",className:"relative rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:["Agents",N.jsx("span",{className:`
                          absolute -top-2.5 right-0 inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-white text-[8px] font-semibold border border-black
                          transition-all duration-300 ease-in-out
                          ${R==="agents"&&a>0?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none"}
                        `,children:a})]}),N.jsx(fo,{value:"groups",className:"rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:"Groups"})]}),N.jsxs(qe,{variant:"ghost",onClick:n(()=>{R==="agents"?s("/create"):j()},"onClick"),className:"create-agent-button cursor-pointer gap-1",children:[N.jsx(sg,{className:"w-4 h-4"}),R==="agents"?"Create New Agent":"Create New Group"]})]}),N.jsx(Yr,{})]})}),N.jsx(Ii,{value:"agents",className:"flex-1 mt-0 bg-background",children:N.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:[e&&N.jsx("div",{className:"text-center py-8",children:"Loading agents..."}),r&&N.jsxs("div",{className:"text-center py-8",children:["Error loading agents: ",i instanceof Error?i.message:"Unknown error"]}),l.length===0&&!e&&N.jsx("div",{className:"text-center py-8 flex flex-col items-center gap-4",children:N.jsx("p",{className:"text-muted-foreground",children:"No agents currently running. Start a character to begin."})}),!e&&!r&&N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 agents-section",children:l.sort((B,Z)=>{const W=B.status===hr.ACTIVE?1:0;return(Z.status===hr.ACTIVE?1:0)-W}).map(B=>N.jsx(uH,{agent:B,onChat:n(Z=>O(B,Z),"onChat")},B.id))})]})}),N.jsx(Ii,{value:"groups",className:"flex-1 mt-0 bg-background",children:N.jsx("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:!e&&!r&&N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 groups-section",children:g.map(B=>N.jsx(nM,{serverId:B.id},B.id))})})})]})})}),b?.id&&N.jsx(w9,{isOpen:h,onClose:P,agentId:b.id}),c&&N.jsx(ec,{onClose:n(()=>{C(null),y(!1)},"onClose"),channelId:S??void 0})]})}n(cH,"Home");const nM=nf.memo(({serverId:t})=>{const{data:e,isLoading:r}=Mv(t),i=K.useMemo(()=>e?.data?.channels?.filter(s=>s.type===vt.GROUP)||[],[e]);return r?N.jsx("p",{children:"Loading channels for server..."}):!i||i.length===0?N.jsx("p",{className:"text-sm text-muted-foreground",children:"No group channels in this server."}):N.jsx(N.Fragment,{children:i.map(s=>N.jsx(fH,{group:{...s,server_id:t}},s.id))})});nM.displayName="ServerChannels";function hH(){const e=ef().pathname,r=e.startsWith("/api/")||e.includes("/agents/")||e.includes("/memory/")||e.includes("/speech/");return N.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[N.jsx("div",{className:"flex items-center justify-center mb-8",children:N.jsx("div",{className:"bg-red-900/20 h-24 w-24 rounded-full flex items-center justify-center",children:N.jsx(ii,{className:"h-14 w-14 text-red-500"})})}),N.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),N.jsxs("div",{className:"max-w-lg",children:[r?N.jsxs(N.Fragment,{children:[N.jsxs("p",{className:"text-lg mb-6 text-muted-foreground",children:["The endpoint ",N.jsx("span",{className:"font-mono text-red-400",children:e})," does not exist."]}),N.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-8 text-left",children:[N.jsxs("h3",{className:"text-red-400 font-medium mb-2 flex items-center",children:[N.jsx(ii,{className:"h-4 w-4 mr-2"}),"Endpoint Not Found"]}),N.jsx("p",{className:"text-sm text-red-300/80 mb-2",children:"The requested API endpoint does not exist on this server. Please check that:"}),N.jsxs("ul",{className:"text-sm text-red-300/80 list-disc pl-5 space-y-1",children:[N.jsx("li",{children:"The URL is spelled correctly"}),N.jsx("li",{children:"You're using the correct version of the API"}),N.jsx("li",{children:"The endpoint is available in this version of Eliza"})]})]})]}):N.jsx("p",{className:"text-lg mb-6 text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[N.jsx(qe,{asChild:!0,variant:"default",children:N.jsxs(NS,{to:"/",children:[N.jsx(CS,{className:"h-4 w-4 mr-2"}),"Go to Home"]})}),N.jsx(qe,{asChild:!0,variant:"outline",children:N.jsxs("a",{onClick:n(()=>window.history.back(),"onClick"),children:[N.jsx(RS,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})]})]})}n(hH,"NotFound");function dH(){const{channelId:t}=fg(),[e]=IS(),r=e.get("serverId"),i=Vo(t),s=Vo(r||"");return!i||!s?N.jsx("div",{className:"flex flex-1 justify-center items-center",children:N.jsx("p",{children:"Missing channel or server information."})}):N.jsx(iM,{chatType:vt.GROUP,contextId:i,serverId:s},i)}n(dH,"GroupRoute");function pH(){const t=xr();return N.jsx("div",{className:"pt-4 md:pt-8",children:N.jsx(ec,{onClose:n(()=>t(-1),"onClose")})})}n(pH,"GroupNew");function mH(){const{agentId:t}=fg(),e=xr(),{data:r,isLoading:i}=hl(t);if(i)return N.jsx("div",{className:"flex items-center justify-center h-full",children:N.jsx(Nr,{className:"h-8 w-8 animate-spin"})});if(!r?.data)return N.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[N.jsx("p",{className:"text-muted-foreground",children:"Agent not found"}),N.jsx(qe,{onClick:n(()=>e("/"),"onClick"),children:"Back to Home"})]});const s={...r.data,createdAt:r.data.createdAt??Date.now(),bio:r.data.bio??[],topics:r.data.topics??[],adjectives:r.data.adjectives??[],style:r.data.style??{all:[],chat:[],post:[]},settings:r.data.settings??{secrets:{}}};return N.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:N.jsx("div",{className:"w-full md:max-w-4xl py-6",children:N.jsx(q9,{agent:s,agentId:t,onSaveComplete:n(()=>{},"onSaveComplete")})})})}n(mH,"AgentSettingsRoute");const sM=new PS({defaultOptions:{queries:{staleTime:rr.STANDARD,refetchInterval:!1,retry:3,retryDelay:n(t=>Math.min(1e3*2**t,3e4),"retryDelay"),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:3,retryDelay:n(t=>Math.min(1e3*2**t,3e4),"retryDelay")}}}),aM=n(async()=>{try{await sM.prefetchQuery({queryKey:["agents"],queryFn:n(async()=>({data:await qt().agents.listAgents()}),"queryFn"),staleTime:rr.FREQUENT})}catch(t){console.error("Error prefetching initial data:",t)}},"prefetchInitialData");aM();function gH(){DF();const{status:t}=wv(),[e,r]=K.useState(!1),[i,s]=K.useState(Date.now()),l=vr();K.useEffect(()=>{We.info("[AppContent] Mounted/Updated"),aM()},[]);const a=n(()=>{We.info("[AppContent] refreshHomePage called. Current homeKey:",i);const v=Date.now();s(v),We.info("[AppContent] New homeKey set to:",v),We.info("[AppContent] Invalidating queries for Home page refresh."),l.invalidateQueries({queryKey:["agents"]}),l.invalidateQueries({queryKey:["servers"]})},"refreshHomePage");return N.jsxs(Ks,{delayDuration:0,children:[N.jsxs(Ox,{children:[N.jsx(g3,{refreshHomePage:a}),N.jsxs(Lx,{className:"h-screen flex flex-col md:ml-72 overflow-hidden",children:[N.jsx("div",{className:"md:hidden absolute top-4 left-4 z-50",children:N.jsxs(Ix,{open:e,onOpenChange:r,children:[N.jsx(ME,{asChild:!0,children:N.jsxs(qe,{variant:"ghost",size:"icon","data-testid":"mobile-menu-button",children:[N.jsx(jS,{className:"h-5 w-5"}),N.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),N.jsx(mg,{side:"left",className:"w-80 p-0 z-50",children:N.jsx(g3,{isMobile:!0,refreshHomePage:a})})]})}),N.jsx("div",{className:"flex w-full justify-center pt-16 md:pt-0 flex-shrink-0",children:N.jsx("div",{className:"w-full md:max-w-4xl",children:N.jsx(YB,{})})}),N.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:N.jsxs(LS,{children:[N.jsx(oi,{path:"/",element:N.jsx(cH,{},i)}),N.jsx(oi,{path:"chat/:agentId/:channelId",element:N.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:N.jsx(N4,{})})}),N.jsx(oi,{path:"chat/:agentId",element:N.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:N.jsx(N4,{})})}),N.jsx(oi,{path:"settings/:agentId",element:N.jsx(mH,{})}),N.jsx(oi,{path:"group/new",element:N.jsx(pH,{})}),N.jsx(oi,{path:"agents/new",element:N.jsx(oH,{})}),N.jsx(oi,{path:"/create",element:N.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:N.jsx("div",{className:"w-full md:max-w-4xl",children:N.jsx(D7,{})})})}),N.jsx(oi,{path:"/logs",element:N.jsx("div",{className:"flex w-full justify-center",children:N.jsxs("div",{className:"w-full md:max-w-4xl",children:[N.jsx("div",{className:"flex items-center justify-between mb-4",children:N.jsx("h2",{className:"text-2xl p-4 font-bold",children:"System Logs"})}),N.jsx(u9,{})]})})}),N.jsx(oi,{path:"group/:channelId",element:N.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:N.jsx(dH,{})})}),N.jsx(oi,{path:"settings/",element:N.jsx("div",{className:"flex w-full justify-center overflow-y-auto",children:N.jsx("div",{className:"w-full md:max-w-4xl",children:N.jsx(QB,{})})})}),N.jsx(oi,{path:"*",element:N.jsx(hH,{})})]})})]})]}),N.jsx(uF,{}),t!=="unauthorized"&&N.jsx(aF,{})]})}n(gH,"AppContent");function vH(){return N.jsx(TS,{client:sM,children:N.jsx("div",{className:"dark antialiased font-sans",style:{colorScheme:"dark"},children:N.jsx(OS,{children:N.jsx(YL,{children:N.jsx(_B,{children:N.jsx(gH,{})})})})})})}n(vH,"App");const oM=document.getElementById("root");if(!oM)throw new Error("Root element not found");DS.createRoot(oM).render(N.jsx(K.StrictMode,{children:N.jsx(vH,{})}))});export default bH();
//# sourceMappingURL=main-Dbnvjs-Q.js.map
